/*!
 * =============================================================================
 *   Copyright (c) 2010-2019, xymatic GmbH Berlin
 * 
 *   These coded instructions, statements, and computer programs contain
 *   unpublished proprietary information of xymatic GmbH Berlin, and
 *   are copy protected by law. They may not be disclosed to third parties
 *   or copied or duplicated in any form, in whole or in part, without the
 *   specific, prior written permission of xymatic GmbH Berlin.
 *   =============================================================================
 */
webpackJsonpDelightVR([1],[,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAACDCAMAAAAKy+32AAAAbFBMVEVHcExPUFItLS1nZ2ri4uTz8/SRkpaAgYJoaGomJiiEhIbBwsVTU1Z6e360tbgAAABdXV1jY2OIiIgqKipOTk9mZmZpaWlubm51dXV8fHxZWVlHR0dUVFSDg4M4ODkxMTFAQEAJCQkUFRUgICAzVvsyAAAAD3RSTlMAhBnhURvrT69KZ6y20aTIvmEUAAAEZUlEQVRo3s2a65ajKhCFEzM9J1nTfcRoEPGCyPu/4+GmXBQFnR9nU6LpZn+pMsnqaPXt9rf09fUrRV+e/fWsQVfFqyse95exZz8FyxM1Dc19efq+zHOaJws85+dndDrhpzlWOdxbyvIzohSJ85A9ppLm5wiDSOFVMbZmx53I6SEqGMhqeVmKmZWMBx9TKIMJZ7fbk5B8G0D5uaVyCgKqf7YB0W+GlgO+SXkeMIoMBnYtg0uA6v8BIFM+tvEibBaVgK/fHAAg/EQOOJZa3LcA8KeI1AeXi84BKhtAJaBMAgwrwE9KBnYFRAHkqxANgG3pZ5AGsCs4A7ArOAewKzh1DoZrGbgVmPcBjQa0K8C/SQC3AnkO/qQAvArKdEB7EeBWkA7wK0g+B34FSwZMAiLGcC0DWQGxQ70Pbs8yLgP9STb++bNwl4AIDcJHvAw44IcDADy0Q+zZBSCXnwUWB2h50oTbTKQBeAUyAyI5ck4CQECMFMMH2H9/Fps5qkriywEcalj5hwWQRwAA2QUUR/664gY33AzqI8JIfMKgAbcfltOihrujBny98FgxZ3B7SoBYtbNVxLMLMRsAaxXb+3ocPAmEm4EtWHsqjIsYCAsCVqqGLSUAxi3/aAPQnh3JCkYR85CTBfigOjxq1FlWa7iAWi7djnYYR27w/KOfQSjQR3rVZssB8HXB6BynQVkAiFDYj9pxU60PCOkzXgRgsdjYlgfRAGmRQ4ZCiGMb0IT9tVwsLggUoV0eW4C6QSFEg9Vqx672LoAv3RyoavX6lTyAXu9HHbx0qRxAo5/RjwbEAsRiKW1E+phXYIe98zJYrBap4RVIhxrLgTpcAbYEWnnTRdn0gTxqqy4K0BlvZSBqbwP6bXtf790KsgCIA7aiL+IBa7OY1M2p7VtUXekB3CEnJMydmviwg08hgNr1qoLZ6ID0gQNQFhH97OYz5maFkJvJQGzYBShH72CQXm3sjjzAhj6+xRFeAZpl0jvcRQPeWwkgvmhvzIAyAHh/xCqlTocZGAMXsBrvHnR4NplQk/iZAVCZgUrivWxvNDvmHIxbygNIhJl4BhDvywY0b5Gzlj7qwYHfzeDtVC8mJFeFQ2RArQxWgnwV2EMUa0Cvp15VAPZlAfLGtis1wo9F4GU/D7Ur9kuARwmAAwAA1wANvgio4wBdEADANUBEBfsAeBUAUkrg13/NiQp2AfAqAFwsAeFIwBQA1BcBPQDXAFGvwR4AXgWAiyXEvQY7gPoqACSXwHLzV+X9uwexN6mJAXSWKXCJtXnNtABOdzguAqgCHPRY9vpukRlMwd+war/TRedMgwDZ6TpulQX7oWy/WUePAJSJc3AfQg1PRg8AEwPZ7fbqGAs1NGdSqALyvd9z1SmwKdivlG3fe0cZDaygMtGQnz0y2Td+DuHTREMtbTpNE9Td8+zZpna+RS+WwaV3nt3hMCV+Csru8bK7/98P8dWt875M6qurjW+Zxfc9c/+BIHulKftb//jwH9Saf8v9g313AAAAAElFTkSuQmCC"},,,function(e,t,n){(function(i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var a=n(1),o=r(a),s=n(2),l=r(s),u=n(209),c=n(127),d=n(106),h=n(55),f=n(141),_=n(140),p=n(142),m=n(225),A=n(203),g=n(36),v=n(211),y=n(39),b=n(62),E=n(107),w=n(215),S=n(208),T=n(210),x=n(7),C=null,M=!1,P=!1,I="undefined"!=typeof e&&e.exports&&"undefined"!=typeof i&&i.version,R=20,k=!1,D=function(){return"undefined"==typeof navigator?I?"node":"unknown":navigator.appVersion.indexOf("Win")!==-1?"windows":navigator.appVersion.indexOf("Mac")!==-1?"mac":navigator.appVersion.indexOf("X11")!==-1?"unix":navigator.appVersion.indexOf("Linux")!==-1?"linux":void 0}();window.performance||(window.performance=Date);var V=null,B=null,O="anonymous",N=performance.now(),L=null,F=60,U=null,H=null,G=null,z=null,Q=null,W=null,j=null,X=null,Y=null,q=null,Z=null,K=null,J=null,$=null,ee=null,te=!1,ne=0,ie=null,re="./",ae=window.devicePixelRatio||1,oe=!1,se="Your browser does not support WebGL or it is currently disabled.";t.Context=function(){function e(){(0,o.default)(this,e)}return(0,l.default)(e,null,[{key:"makeResourcePath",value:function(e){return re+e}},{key:"getError",value:function(e){return M||e?V.getError():-1}},{key:"initGL",value:function(e,t,n,i){var r=["webgl","moz-webgl","webkit-webgl","webkit-3d","experimental-webgl"],a=null;try{for(var o=0;o<r.length&&!(a=e.getContext(r[o],{antialias:n,alpha:t,preserveDrawingBuffer:!1,ovr_samples:i}));++o);}catch(e){throw new Error(se)}if(!a)throw new Error(se);V=a}},{key:"initEngine",value:function(t,n,i,r,a,o,s,l,C,M,P){B=n,B.width=o,B.height=s,F=l,ie=new T.Logger,"function"==typeof P&&!function(){var e=document.createElement("canvas");e.setAttribute("id","renderingPerformanceCanvas"),e.setAttribute("style","position: absolute; width: "+o+"px; height: "+s+"px"),e.width=256,e.height=256;var t=document.querySelector("body");if(t){t.appendChild(e);var n=e.getContext("webgl")||e.getContext("experimental-webgl");if(!n)throw new Error(se);P(n),e.parentNode.removeChild(e)}}(),e.initGL(n,i,r,a),L=new u.Catalog({name:"Catalog",class:u.Catalog}),L.insert({name:"ShaderProgram",class:f.ShaderProgram}),L.insert({name:"VertexShader",class:p.VertexShader}),L.insert({name:"FragmentShader",class:_.FragmentShader}),q=new v.EventEmitter,Z=new y.DOMEventDispatcher({domTarget:document}),K=new y.DOMEventDispatcher({domTarget:B}),J=new y.DOMEventDispatcher({domTarget:window}),U=new m.GLExtensionManager,H=new A.AnimationManager,G=new h.LoadingManager,z=new c.DegradationManager({targetFramerate:R}),x.Util.isMobileBrowser()&&(W=new E.PhoneManager),Q=new b.VRDeviceManager,ee=new S.Async,void 0!==M&&"function"==typeof M&&M(),$=new g.Renderer({width:o,height:s,canvas:B}),$.init(),X=new d.QualityManager({performanceTiming:t.performanceTiming,performance:t.performance}),Y=new w.FusionPoseSensor;var I=e.requestAnimationFrame();I&&!k?I(e.requestFrameUpdate,n):e.doLoop(),window.onresize=e.onResize,e.initComplete=!0}},{key:"doLoop",value:function(){e.updateEngine(1/F),setTimeout(e.doLoop,1e3/F)}},{key:"requestAnimationFrame",value:function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame}},{key:"pauseEngine",value:function(){te=!0}},{key:"resumeEngine",value:function(){if(e.engineStopped){te=!1,N=performance.now();var t=e.requestAnimationFrame();t&&!k?t(e.requestFrameUpdate,B):e.doLoop()}}},{key:"requestFrameUpdate",value:function(){if(!e.engineStopped){var t=performance.now(),n=Math.min((t-N)/1e3,1);N=t,ne=n,e.updateEngine(n),e.vrDeviceManager.state===b.VRDeviceManager.STATE_ACTIVE||P&&e.vrDeviceManager.hmd?C=e.vrDeviceManager.hmd.requestAnimationFrame(e.requestFrameUpdate):(e.requestAnimationFrame()(e.requestFrameUpdate,B),C&&(e.vrDeviceManager.hmd.cancelAnimationFrame(C),C=null))}}},{key:"updateEngine",value:function(t){try{q.syncEvents(),H.update(t),z.update(t),Q.update(t),e.onFrame(t)}catch(t){throw ie&&ie.error(e,t.message,t.stack),"function"==typeof e.onNoWebGL&&e.onNoWebGL(t),t}}},{key:"onResize",value:function(){}},{key:"onInit",value:function(){}},{key:"onFrame",value:function(){}},{key:"NO_WEBGL_ERROR_MESSAGE",get:function(){return se}},{key:"debug",get:function(){return M}},{key:"logger",get:function(){return ie}},{key:"dt",get:function(){return ne}},{key:"gl",get:function(){return V}},{key:"canvas",get:function(){return B}},{key:"crossOrigin",get:function(){return O},set:function(e){O=e}},{key:"isNode",get:function(){return I}},{key:"curTime",get:function(){return N}},{key:"catalog",get:function(){return L}},{key:"targetFramerate",get:function(){return R}},{key:"fixedTimesteps",get:function(){return k}},{key:"fixedTimestepsHz",get:function(){return F}},{key:"glExtensionManager",get:function(){return U}},{key:"animationManager",get:function(){return H}},{key:"loadingManager",get:function(){return G}},{key:"degradationManager",get:function(){return z}},{key:"arManager",get:function(){return j}},{key:"vrDeviceManager",get:function(){return Q}},{key:"phoneManager",get:function(){return W}},{key:"qualityManager",get:function(){return X}},{key:"poseSensor",get:function(){return Y}},{key:"deviceOrientation",get:function(){return e.forceVrRaf?e.vrDeviceManager.sensorOrientation:e.poseSensor.getOrientation(!0)}},{key:"eventEmitter",get:function(){return q}},{key:"documentEventDispatcher",get:function(){return Z}},{key:"canvasEventDispatcher",get:function(){return K}},{key:"windowEventDispatcher",get:function(){return J}},{key:"renderer",get:function(){return $}},{key:"async",get:function(){return ee}},{key:"engineStopped",get:function(){return te}},{key:"system",get:function(){return D}},{key:"resourceBasePath",get:function(){return re},set:function(e){re=e}},{key:"devicePixelRatio",get:function(){return ae},set:function(e){ae=e}},{key:"forceVrRaf",get:function(){return P},set:function(e){P=e}},{key:"useShaderResourceHack",set:function(e){oe=e},get:function(){return oe}}]),e}()}).call(t,n(160))},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Vector3=void 0;var r=n(15),a=i(r),o=n(114),s=i(o),l=n(31),u=i(l),c=n(3),d=i(c),h=n(1),f=i(h),_=n(5),p=i(_),m=n(2),A=i(m),g=n(4),v=i(g),y=n(14),b=n(13),E=t.Vector3=function(e){function t(){(0,f.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,d.default)(t)).call(this));return 1===arguments.length?"object"===(0,u.default)(arguments[0])?e.load(arguments[0]):"number"==typeof arguments[0]&&(e.x=e.y=e.z=arguments[0]):3===arguments.length?(e.x=arguments[0],e.y=arguments[1],e.z=arguments[2]):e.zero(),e}return(0,v.default)(t,e),(0,A.default)(t,[{key:"$serialize",value:function(){return{name:"Vector3",params:[this.x,this.y,this.z]}}}],[{key:"tmp",value:function(e){var n=void 0;return(n=t._pool.get(e))||t._pool.set(e,n=new t),n}},{key:"slerp",value:function(e,n,i,r){var a=e.dot(n),o=Math.acos(a)*i,s=t.tmp(t.INTERNAL_TEMP_VEC_SYMBOL0).copyFrom(e).mult(a).neg().add(n).normalize().mult(Math.sin(o));return s.add(t.tmp(t.INTERNAL_TEMP_VEC_SYMBOL1).copyFrom(e).mult(Math.cos(o))),r.copyFrom(s)}},{key:"add",value:function(e,n){var i=new t;return i.copyFrom(e),i.add(n),i}},{key:"addOut",value:function(e,t,n){return n.copyFrom(e),n.add(t),n}},{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}},{key:"cross",value:function(e,n){var i=new t;return i.copyFrom(e),i.cross(n),i}},{key:"crossOut",value:function(e,t,n){return n.copyFrom(e),n.cross(t),n}},{key:"sub",value:function(e,n){var i=new t;return i.copyFrom(e),i.sub(n),i}},{key:"subOut",value:function(e,t,n){return n.copyFrom(e),n.sub(t),n}},{key:"mult",value:function(e,n){var i=new t;return i.copyFrom(e),i.mult(n),i}},{key:"multOut",value:function(e,t,n){return n.copyFrom(e),n.mult(t),n}},{key:"div",value:function(e,n){var i=new t;return i.copyFrom(e),i.div(n),i}},{key:"divOut",value:function(e,t,n){return n.copyFrom(e),n.div(t),n}},{key:"reflect",value:function(e,n){return t.sub(e,t.mult(n,2*e.dot(n)))}},{key:"project",value:function(e,t,n){return n.copyFrom(n.copyFrom(t).mult(e.dot(n.copyFrom(t).normalize())))}},{key:"lerp",value:function(e,n,i,r){return r=r||new t,i=y.MathUtil.clamp(i,0,1),r.x=e.x+(n.x-e.x)*i,r.y=e.y+(n.y-e.y)*i,r.z=e.z+(n.z-e.z)*i,r}},{key:"toLinearSpace",value:function(e,n){return n=n||new t,n.x=Math.pow(e.x,2.2),n.y=Math.pow(e.y,2.2),n.z=Math.pow(e.z,2.2),n}},{key:"fromLinearSpace",value:function(e,n){n=n||new t;var i=1/2.2;return n.x=Math.pow(e.x,i),n.y=Math.pow(e.y,i),n.z=Math.pow(e.z,i),n}},{key:"toLookRotationWithHint",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.Y_AXIS,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{forward:new t,right:new t,up:new t};for(i.forward.copyFrom(e).normalize(),t.crossOut(i.forward,n,i.right).normalize();0===i.right.magnitude();)i.forward.x+=1e-4,t.crossOut(i.forward,n,i.right).normalize();return t.crossOut(i.right,i.forward,i.up).normalize(),i}}]),(0,A.default)(t,[{key:"load",value:function(){if(1!==arguments.length||"object"!==(0,u.default)(arguments[0]))throw Error("trying to instanciate Vector3 with incompatible type");var e=arguments[0];return"length"in e&&3===e.length?(this.x=e[0],this.y=e[1],this.z=e[2]):arguments[0]instanceof t&&(this.x=e.x,this.y=e.y,this.z=e.z),this}},{key:"copyFrom",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"copyFromArray",value:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}},{key:"zero",value:function(){return this.x=0,this.y=0,this.z=0,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"mult",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multVector",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"div",value:function(e){return this.x/=e,this.y/=e,this.z/=e,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"normalize",value:function(){var e=this.magnitude(),t=void 0;return t=0===e?0:1/e,this.x*=t,this.y*=t,this.z*=t,this}},{key:"neg",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"cross",value:function(e){var t=this.y*e.z-this.z*e.y,n=this.z*e.x-this.x*e.z,i=this.x*e.y-this.y*e.x;return this.x=t,this.y=n,this.z=i,this}},{key:"transformForwardUpper3x3",value:function(e){var t=e._storage[0]*this.x+e._storage[4]*this.y+e._storage[8]*this.z,n=e._storage[1]*this.x+e._storage[5]*this.y+e._storage[9]*this.z,i=e._storage[2]*this.x+e._storage[6]*this.y+e._storage[10]*this.z;return this.x=t,this.y=n,this.z=i,this}},{key:"mult4x4",value:function(e){var t=e._storage[0]*this.x+e._storage[4]*this.y+e._storage[8]*this.z+e._storage[12],n=e._storage[1]*this.x+e._storage[5]*this.y+e._storage[9]*this.z+e._storage[13],i=e._storage[2]*this.x+e._storage[6]*this.y+e._storage[10]*this.z+e._storage[14],r=e._storage[3]*this.x+e._storage[7]*this.y+e._storage[11]*this.z+e._storage[15];return this.x=t/r,this.y=n/r,this.z=i/r,this}},{key:"transformForward",value:function(e){var t=e._storage[0]*this.x+e._storage[4]*this.y+e._storage[8]*this.z,n=e._storage[1]*this.x+e._storage[5]*this.y+e._storage[9]*this.z,i=e._storage[2]*this.x+e._storage[6]*this.y+e._storage[10]*this.z;return t+=e._storage[12],n+=e._storage[13],i+=e._storage[14],this.x=t,this.y=n,this.z=i,this}},{key:"set",value:function(e,t,n){return this.x=e,this.y=t,this.z=n,this}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z}},{key:"almostEquals",value:function(e,t){return y.MathUtil.almostEquals(this.x,e.x,t)&&y.MathUtil.almostEquals(this.y,e.y,t)&&y.MathUtil.almostEquals(this.z,e.z,t)}},{key:"reflect",value:function(e){return this.sub(t.mult(e,2*this.dot(e)))}},{key:"project",value:function(e){return this.copyFrom(e.mult(this.dot(e.normalize())))}},{key:"magnitudeSquared",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"magnitude",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"setMagnitude",value:function(e){var t=this.magnitude();return 0!==t&&e!==t&&this.mult(e/t),this}},{key:"distanceSquared",value:function(e){return(e.x-this.x)*(e.x-this.x)+(e.y-this.y)*(e.y-this.y)+(e.z-this.z)*(e.z-this.z)}},{key:"distance",value:function(e){return Math.sqrt((e.x-this.x)*(e.x-this.x)+(e.y-this.y)*(e.y-this.y)+(e.z-this.z)*(e.z-this.z))}},{key:"multQuaternion",value:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*i-o*n,u=s*n+o*t-r*i,c=s*i+r*n-a*t,d=-r*t-a*n-o*i;return this.x=l*s+d*-r+u*-o-c*-a,this.y=u*s+d*-a+c*-r-l*-o,this.z=c*s+d*-o+l*-a-u*-r,this}},{key:"clamp",value:function(e,t){return this.x=y.MathUtil.clamp(this.x,e.x,t.x),this.y=y.MathUtil.clamp(this.y,e.y,t.y),this.z=y.MathUtil.clamp(this.z,e.z,t.z),this}},{key:"get",value:function(e){return 0===e?this.x:1===e?this.y:this.z}},{key:"getAsArray",value:function(){return[this.x,this.y,this.z]}},{key:"getAsFloat32Array",value:function(){return new Float32Array(this.getAsArray())}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.z+")"}}]),t}(b.Serializable);E.ZERO=new E(0,0,0),E.ONE=new E(1,1,1),E.NEGATIVE_INFINITY=new E(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),E.POSITIVE_INFINITY=new E(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),E.X_AXIS=new E(1,0,0),E.Y_AXIS=new E(0,1,0),E.Z_AXIS=new E(0,0,1),E.NEG_X_AXIS=new E(-1,0,0),E.NEG_Y_AXIS=new E(0,-1,0),E.NEG_Z_AXIS=new E(0,0,-1),E.INTERNAL_TEMP_VEC_SYMBOL0=(0,s.default)("INTERNAL_TEMP_VEC_SYMBOL0"),E.INTERNAL_TEMP_VEC_SYMBOL1=(0,s.default)("INTERNAL_TEMP_VEC_SYMBOL1"),E._pool=new a.default},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Serializable=void 0;var r=n(31),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(2),d=i(c),h=n(236),f=i(h),_=n(7),p=new f.default;t.Serializable=function(){function e(){(0,u.default)(this,e)}return(0,d.default)(e,[{key:"_serialize",value:function(){var t=this.$serialize(),n=t.name,i=t.params,r=t.aux,a=e._serializeImpl(!1,this,n,i,r);if(a.__t){var o=(0,s.default)((0,s.default)(this));if(o instanceof e){if(o.$serialize===this.$serialize)return{};var l=o.$serialize.call(this),u=l.name,c=l.params,d=l.aux,h=e._serializeImpl(!0,this,u,c,d);return _.Util.mergeRecursive(h,a)}}return a}},{key:"$serialize",value:function(){throw new Error("must implement $serialize.")}},{key:"$deserialize",value:function(){}},{key:"toJSON",value:function(){return this._serialize()}},{key:"$version",get:function(){return 0}}],[{key:"clearCache",value:function(){p=new f.default}},{key:"serialize",value:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e._serializeImpl.apply(e,[!1].concat(n))}},{key:"_serializeImpl",value:function(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(r=n instanceof e?{v:r,r:n.$version}:{v:r},t)return{__v:r,__a:o};var s=null;return"object"===("undefined"==typeof n?"undefined":(0,a.default)(n))||"function"==typeof n?void 0===(s=p.get(n))?(s="dl8://i/"+_.Util.getGUID(),p.set(n,s),{__t:i,__v:r,__a:o,__i:s}):{__i:s}:{__t:i,__v:r}}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MathUtil=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(7),u=n(11),c=n(65),d=1e-6,h=1-d;t.MathUtil=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,null,[{key:"randRange",value:function(e,t){var n=Math.random();return(1-n)*e+n*t}},{key:"degToRad",value:function(e){return e*Math.PI/180}},{key:"radToDeg",value:function(e){return 180*e/Math.PI}},{key:"wrapRad",value:function(e){var t=e%(2*Math.PI);return t<0?2*Math.PI-t:t}},{key:"interpolate",value:function(e,t,n,i){var r=t(e,0,1,1);return(1-r)*n+r*i}},{key:"interpolateLinear",value:function(e,t,n){return(1-e)*t+e*n}},{key:"sigmoid",value:function(e){return 1/(1+Math.exp(-e))}},{key:"clamp",value:function(e,t,n){return Math.min(Math.max(e,t),n)}},{key:"saturate",value:function(e){return Math.min(Math.max(e,0),1)}},{key:"getReflectanceAtNormalIncidence",value:function(e){var t=(1-e)/(1+e);return t*t}},{key:"getRefractiveIndexFromReflectanceAtNormalIncidence",value:function(e){var t=Math.sqrt(e);return(t+1)/(1-t)}},{key:"almostEquals",value:function(e,t,n){return e>=t-(n||d)&&e<=t+(n||d)}},{key:"radicalInverse",value:function(e,t){for(var n=0,i=1/t,r=i;e>0;){var a=e%t;n+=a*r,e=Math.floor(e/t),r*=i}return n}},{key:"genHalton2DUnitSquare",value:function(t){for(var n=[],i=0;i<t;i++){var r=e.radicalInverse(i,2);r<e.ZERO_TOLERANCE&&(r=e.ZERO_TOLERANCE),r>e.ONE_MINUS_ZERO_TOLERANCE&&(r=e.ONE_MINUS_ZERO_TOLERANCE);var a=e.radicalInverse(i,3);a<e.ZERO_TOLERANCE&&(a=e.ZERO_TOLERANCE),a>e.ONE_MINUS_ZERO_TOLERANCE&&(a=e.ONE_MINUS_ZERO_TOLERANCE),n.push({x:r,y:a})}return n}},{key:"genHaltonSequence",value:function(t){for(var n=[],i=[],r=[],a=[],o=0;o<t;++o){n[o]=e.radicalInverse(o,2),n[o]<e.ZERO_TOLERANCE&&(n[o]=e.ZERO_TOLERANCE),n[o]>e.ONE_MINUS_ZERO_TOLERANCE&&(n[o]=e.ONE_MINUS_ZERO_TOLERANCE),i[o]=Math.log(n[o]);var s=2*Math.PI*e.radicalInverse(o,3);r[o]=Math.cos(s),a[o]=Math.sin(s)}return{rnum:n,rlog:i,rcos:r,rsin:a}}},{key:"genHammersleySequence",value:function(t){for(var n=[],i=[],r=[],a=[],o=0;o<t;o++){n[o]=o/t,n[o]<e.ZERO_TOLERANCE&&(n[o]=e.ZERO_TOLERANCE),n[o]>e.ONE_MINUS_ZERO_TOLERANCE&&(n[o]=e.ONE_MINUS_ZERO_TOLERANCE),i[o]=Math.log(n[o]);var s=2*Math.PI*e.radicalInverse(o,2);r[o]=Math.cos(s),a[o]=Math.sin(s)}return{rnum:n,rlog:i,rcos:r,rsin:a}}},{key:"genHammersleySequence2D",value:function(t){for(var n=[],i=[],r=0;r<t;r++){n[r]=r/t,n[r]<e.ZERO_TOLERANCE&&(n[r]=e.ZERO_TOLERANCE),n[r]>e.ONE_MINUS_ZERO_TOLERANCE&&(n[r]=e.ONE_MINUS_ZERO_TOLERANCE);var a=2*Math.PI*e.radicalInverse(r,2);i[r]=[Math.cos(a),Math.sin(a)]}return i}},{key:"genWardSamples",value:function(t,n,i){for(var r=e.genHammersleySequence(t),a=[],o=[],s=[],l=0;l<t;l++){var c=r.rcos[l]*n,d=r.rsin[l]*i,h=1/Math.sqrt(c*c+d*d);c*=h,d*=h,h=-r.rlog[l]/(c*c/n/n+d*d/i/i);var f=Math.sqrt(1/(h+1)),_=Math.sqrt(h)*f;a[l]=new u.Vector3(_*c,_*d,f);var p=a[l].x*a[l].x/n/n+a[l].y*a[l].y/i/i;p/=f*f;var m=1/(4*Math.PI*n*i),A=m/(f*f*f)*Math.exp(-p);o[l]=A,s[l]=f*f*f}return{randSamples:a,randPdfs:o,randScales:s}}},{key:"generatePoissonDiscSamples",value:function(){return[[.2069841,.2245269],[.525808,-.2310817],[.1383943,.9056122],[.6633009,.5129843],[-.4002792,.3727058],[.07912822,-.6512921],[-.7726067,-.5151217],[-.3843193,-.1494132],[-.9107782,.2500633],[.6940153,-.7098927],[-.1964669,-.379389],[-.4769286,.1840863],[-.247328,-.8798459],[.4206541,-.714772],[.5829348,-.09794202],[.3691838,.4140642]]}},{key:"generatePointsOnADisc",value:function(t,n){for(var i=[],r=0;r<t;++r){var a=n*Math.sqrt(e.randRange(0,1)),o=2*Math.PI*e.randRange(0,1);i[r]=[a*Math.cos(o),a*Math.sin(o)]}return i}},{key:"isPowerOfTwo",value:function(e){return 0!==e&&0===(e&e-1)}},{key:"getPreviousPowerOfTwo",value:function(e){return e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e-(e>>1)}},{key:"getNextPowerOfTwo",value:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e}},{key:"fract",value:function(e){return e%1}},{key:"modf",value:function(e,t){l.Util.assert(0!==t);var n=e/t;return n=Math.floor(n),n*=t,e-n}},{key:"sign",value:function(e){return 0===e?1:Math.abs(e)/e}},{key:"fromOrbitEllipse",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new u.Vector3;return n.x=t.x*Math.sin(e.x)*Math.sin(e.y),n.y=t.y*Math.cos(e.y),n.z=t.z*Math.sin(e.y)*Math.cos(e.x),n}},{key:"fromOrbit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.Vector3;return t.x=e.z*Math.sin(e.x)*Math.sin(e.y),t.y=e.z*Math.cos(e.y),t.z=e.z*Math.sin(e.y)*Math.cos(e.x),t}},{key:"toOrbit",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.Vector3,i=t.magnitude();return i<=e.ZERO_TOLERANCE?(n.x=0,n.y=0,n.z=0):(n.x=Math.atan2(t.x,t.z),n.y=Math.atan2(Math.sqrt(t.x*t.x+t.z*t.z),t.y),n.z=i),n}},{key:"wrap",value:function(e,t,n){var i=n-t;if(i<=0)return 0;var r=(e-t)%i;return r<0&&(r+=i),r+t}},{key:"projectionMatrixToVector",value:function(e,t){var n=t||{},i=n.xScale||1,r=n.yScale||1,a=n.xTrans||0,o=n.yTrans||0,s=e._storage;return new c.Vector4(s[0]*i,s[5]*r,s[8]-1-a,s[9]-1-o).div(2)}},{key:"ZERO_TOLERANCE",get:function(){return d}},{key:"ONE_MINUS_ZERO_TOLERANCE",get:function(){return h}}]),e}()},,function(e,t,n){"use strict";e.exports=n(656)},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorRGBA=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(131),p=n(11),m=n(65),A=t.ColorRGBA=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments));return e._hsl=new p.Vector3,e._hsv=new p.Vector3,1===arguments.length&&"string"==typeof arguments[0]&&(e.hexString=arguments[0],e.w=1),e}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"ColorRGBA",params:[this.r,this.g,this.b,this.a]}}}]),(0,d.default)(t,[{key:"blend",value:function(e){this.r=this.r*(1-e.a)+e.r*e.a,this.g=this.g*(1-e.a)+e.g*e.a,this.b=this.b*(1-e.a)+e.b*e.a,this.a=Math.min(this.a+e.a,1)}},{key:"r",get:function(){return this.x},set:function(e){this.x=e}},{key:"g",get:function(){return this.y},set:function(e){this.y=e}},{key:"b",get:function(){return this.z},set:function(e){this.z=e}},{key:"a",get:function(){return this.w},set:function(e){this.w=e}},{key:"hex",get:function(){return _.ColorUtil.rgb2hex(this)},set:function(e){_.ColorUtil.hex2rgb(e,this)}},{key:"hexString",get:function(){return _.ColorUtil.rgb2hexString(this)},set:function(e){_.ColorUtil.hexString2rgb(e,this)}},{key:"hsv",get:function(){return _.ColorUtil.rgb2hsv(this,this._hsv)},set:function(e){_.ColorUtil.hsv2rgb(e,this),this.a=1}},{key:"hsl",get:function(){return _.ColorUtil.rgb2hsl(this,this._hsl)},set:function(e){_.ColorUtil.hsl2rgb(e,this),this.a=1}},{key:"style",get:function(){return _.ColorUtil.rgba2Style(this)},set:function(e){_.ColorUtil.style2rgba(e,this)}}]),t}(m.Vector4);A.BLACK=new A(0,0,0,1),A.BLACK_TRANSPARENT=new A(0,0,0,0),A.WHITE=new A(1,1,1,1),A.WHITE_TRANSPARENT=new A(1,1,1,0)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Scene=void 0;var r=n(15),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(5),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(13),A=n(9),g=n(26),v=n(24),y=n(62),b=n(110),E=n(111),w=n(32),S=n(25),T=n(54),x=n(224),C=n(55),M=n(7),P=n(69),I="nopPass",R="ssrPrePass",k="forwardPass",D="forwardRefractivePass",V="forwardTranslucentPass",B="ui1Pass",O="forwardDepthPass",N="shadowMapPass",L="debugOverdrawPass",F="motionBlurPass",U=[I,R,k,D,V,B,O,N,L,F],H="eventScenelistNeedsUpdate",G=void 0,z=void 0;t.Scene=function(e){function t(e){(0,u.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n._nodes=[],n._outputLightInfos=[],n._cachedCollectedLight=void 0,n._cachedLightInfos=void 0,n._cachedCollectedIblNodes=[],n._cachedRendererViewMatrix=void 0,n._cachedRendererProjectionMatrix=void 0,n._culler=new x.Culler,n._cachedCamerasToRenderableNodesByPass=new a.default,n._allRenderableNodesByPass=new a.default,n._sortFunctionsByPass=new a.default,n._initSortFunctionsByPass(),n._initRenderableNodeCache(n._allRenderableNodesByPass),n._vrPasses=new a.default,n._vrActivated=!1,n._initVrPasses(),A.Context.eventEmitter.on(t.EVENT_SCENELIST_NEEDS_UPDATE,n._updateNodes.bind(n)),A.Context.eventEmitter.on(y.VRDeviceManager.EVENT_VR_DEVICE_ACTIVATED,function(){n._vrActivated=!0}),A.Context.eventEmitter.on(y.VRDeviceManager.EVENT_VR_DEVICE_DEACTIVATED,function(){n._vrActivated=!1}),n._renderAll=!0,A.Context.eventEmitter.on(C.LoadingManager.EVENT_LOADING_FINISHED,function(){n._renderAll=!1,n._updateNodes()}),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"Scene",aux:{nodes:this._nodes}}}},{key:"$deserialize",value:function(e){var t=this;e.nodes.forEach(function(e){return t.add(e)})}}],[{key:"makeSortSeries",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=[].concat(t);return function(e,t,n){for(var r=0;r<i.length;++r){var a=i[r](e,t,n);if(0!==a)return a}return 0}}},{key:"_sortByZFrontToBack",value:function(e,t,n){return G&&z||(G=new P.AxisAlignedBoundingBox,z=new P.AxisAlignedBoundingBox),G.copyFrom(t._boundingVolume),z.copyFrom(n._boundingVolume),G.min.mult4x4(e),G.max.mult4x4(e),z.min.mult4x4(e),z.max.mult4x4(e),G.center.z-z.center.z}},{key:"_sortByZBackToFront",value:function(e,t,n){return G&&z||(G=new P.AxisAlignedBoundingBox,z=new P.AxisAlignedBoundingBox),G.copyFrom(t._boundingVolume),z.copyFrom(n._boundingVolume),G.min.mult4x4(e),G.max.mult4x4(e),z.min.mult4x4(e),z.max.mult4x4(e),z.center.z-G.center.z}},{key:"_injectLightShaderParams",value:function(e,t,n){for(var i=0;i<n.length;++i){var r=n[i];r.viewMatrix=t.camera.viewMatrix;var a=r.getShaderParams();for(var o in a)a[o]instanceof v.Texture?(0===i&&(e.textures[o]=[]),e.textures[o].push(a[o])):(0===i&&(e.params[o]=[]),e.params[o].push(a[o]))}}},{key:"_injectLightShaderParamsIfNeeded",value:function(e,n,i){if(void 0!==i)for(var r=0;r<i.length;++r){var a=i[r];if(!a.cached&&e.materialByPass){var o=e.materialByPass;for(var s in o){var l=o[s].effect;l&&l.hasOwnProperty(a.setter)&&(l[a.setter](a.lights.length),t._injectLightShaderParams(l,n,a.lights))}}}}},{key:"nameGlobPred",value:function(e){return function(t){return M.Util.simpleGlobMatch(e,t.name)}}},{key:"RENDERPASSES",get:function(){return U}},{key:"RENDERPASS_NOP",get:function(){return I}},{key:"RENDERPASS_SSR_PRE",get:function(){return R}},{key:"RENDERPASS_FORWARD",get:function(){return k}},{key:"RENDERPASS_FORWARD_REFRACTIVE",get:function(){return D}},{key:"RENDERPASS_FORWARD_TRANSLUCENT",get:function(){return V}},{key:"RENDERPASS_UI_1",get:function(){return B}},{key:"RENDERPASS_FORWARD_DEPTH",get:function(){return O}},{key:"RENDERPASS_SHADOW_MAP",get:function(){return N}},{key:"RENDERPASS_DEBUG_OVERDRAW",get:function(){return L}},{key:"RENDERPASS_MOTION_BLUR",get:function(){return F}},{key:"EVENT_SCENELIST_NEEDS_UPDATE",get:function(){return H}}]),(0,f.default)(t,[{key:"dtor",value:function(){this._nodes.forEach(function(e){return e.dtor()})}},{key:"add",value:function(e){if(!(e instanceof S.SpatialNode))throw new Error("cannot add non Scene Node to Scene");if(!this.contains(e))return this._nodes.push(e),e.$onAddedToScene(this),this._updateNodes(),e}},{key:"remove",value:function(e){if(!(e instanceof S.SpatialNode))throw new Error("cannot remove a non Scene Node from Scene");if(this.contains(e)){var t=this._nodes.indexOf(e);return t!==-1&&(this._nodes.splice(t,1),e.$onRemovedFromScene(this)),this._updateNodes(),e}}},{key:"render",value:function(e,n,i){var r=this._cachedLightInfos,a=this._renderAll?this._allRenderableNodesByPass.get(n):this._updateRenderableNodeCache(e.camera,n),o=this._vrActivated&&this._vrPasses.get(n);if(void 0!==a){for(var s=0,l=a.length;s<l;++s){var u=a[s];i&&i.call(this,u,n),t._injectLightShaderParamsIfNeeded(u,e,r),u.render(e,n,o)}if(r)for(var c=0;c<r.length;++c){var d=r[c];0===d.lights.length&&(d.cached=!0)}}}},{key:"update",value:function(e){for(var t=!1,n=0;n<this._nodes.length;++n)t||this._nodes[n]instanceof T.PhysicalCamera||(t=this._nodes[n]._transformIsDirty),this._nodes[n].updateTransform();for(var i=0;i<this._nodes.length;++i)this._nodes[i].update(e),this._nodes[i].updateControllers(e);for(var r=0;r<this._nodes.length;++r)this._nodes[r].updateTransform();t&&this._cachedCamerasToRenderableNodesByPass.clear()}},{key:"collectLight",value:function(){return this._cachedCollectedLight}},{key:"contains",value:function(e){return this._nodes.indexOf(e)!==-1}},{key:"setPassSortFunction",value:function(e,t){if(U.indexOf(e)===-1)throw new Error("invalid pass "+e+" to set sort function");this._sortFunctionsByPass.set(e,t)}},{key:"getPassSortFunction",value:function(e){return this._sortFunctionsByPass.get(e)}},{key:"findByName",value:function(e){return this.findBy("name",e)}},{key:"findAllByName",value:function(e){return this.findAllBy("name",e)}},{key:"findById",value:function(e){return this.findBy("id",e)}},{key:"findAllById",value:function(e){return this.findAllBy("id",e)}},{key:"findBy",value:function(e,t){for(var n=void 0,i=0,r=this._nodes.length;void 0===n&&i<r;++i)n=this._nodes[i].findBy(e,t);return n}},{key:"findAllBy",value:function(e,t){for(var n=[],i=0,r=this._nodes.length;i<r;++i)n=n.concat(this._nodes[i].findAllBy(e,t));return n}},{key:"findByPred",value:function(e){for(var t=void 0,n=0,i=this._nodes.length;void 0===t&&n<i;++n)t=this._nodes[n].findByPred(e);return t}},{key:"findAllByPred",value:function(e){for(var t=[],n=0,i=this._nodes.length;n<i;++n)t=t.concat(this._nodes[n].findAllByPred(e));return t}},{key:"intersectWithRay",value:function(e,t){for(var n=[],i=this._nodes.slice();i.length>0;){var r=i.pop();if(r.visible)if(r.boundingVolumeValid){if(r.intersectWithRay(e)&&((t&&t(r)||!t)&&n.push(r),r.children))for(var a=0,o=r.childCount;a<o;++a)i.push(r.childAt(a))}else if(r.children)for(var s=0,l=r.childCount;s<l;++s)i.push(r.childAt(s))}return n}},{key:"_updateNodes",value:function(){this._collectLightNodes(),this._collectIblNodes(),this._collectRenderableNodes(),this._injectIblNodes(),this._cachedCamerasToRenderableNodesByPass.clear()}},{key:"_injectIblNodes",value:function(){if(0!==this._cachedCollectedIblNodes.length){for(var e=this._cachedCollectedIblNodes[0],n=this._allRenderableNodesByPass.get(t.RENDERPASS_FORWARD),i=n.length-1;i>=0;--i)n[i].materialByPass[t.RENDERPASS_FORWARD].iblNode=e;for(var r=this._allRenderableNodesByPass.get(t.RENDERPASS_FORWARD_TRANSLUCENT),a=r.length-1;a>=0;--a)r[a].materialByPass[t.RENDERPASS_FORWARD_TRANSLUCENT].iblNode=e;
for(var o=this._allRenderableNodesByPass.get(t.RENDERPASS_FORWARD_REFRACTIVE),s=o.length-1;s>=0;--s)o[s].materialByPass[t.RENDERPASS_FORWARD_REFRACTIVE].iblNode=e}}},{key:"_sortTransparentRenderableNodes",value:function(e){}},{key:"_initVrPasses",value:function(){this._vrPasses.set(t.RENDERPASS_FORWARD_DEPTH,!0),this._vrPasses.set(t.RENDERPASS_FORWARD,!0),this._vrPasses.set(t.RENDERPASS_FORWARD_TRANSLUCENT,!0),this._vrPasses.set(t.RENDERPASS_FORWARD_REFRACTIVE,!0),this._vrPasses.set(t.RENDERPASS_MOTION_BLUR,!0),this._vrPasses.set(t.RENDERPASS_UI_1,!0)}},{key:"_initSortFunctionsByPass",value:function(){this._sortFunctionsByPass.set(V,t._sortByZBackToFront)}},{key:"_initRenderableNodeCache",value:function(e){for(var t=U.length-1;t>=0;--t)e.set(U[t],[])}},{key:"_quickInitRenderableNodeCache",value:function(e){for(var t=U.length-1;t>=0;--t)e.get(U[t]).length=0}},{key:"_updateRenderableNodeCache",value:function(e,t){var n=this,i=null,r=void 0,o=!1;if((i=this._cachedCamerasToRenderableNodesByPass.get(e))?(i.viewMatrix.equals(e.viewMatrix)&&i.projectionMatrix.equals(e.projectionMatrix)||(i.viewMatrix.copyFrom(e.viewMatrix),i.projectionMatrix.copyFrom(e.projectionMatrix),this._quickInitRenderableNodeCache(i.renderableNodesByPass),o=!0),r=i.renderableNodesByPass):(r=new a.default,this._initRenderableNodeCache(r),this._cachedCamerasToRenderableNodesByPass.set(e,{viewMatrix:(new g.Matrix4).copyFrom(e.viewMatrix),projectionMatrix:(new g.Matrix4).copyFrom(e.projectionMatrix),renderableNodesByPass:r}),o=!0),o){this._culler.onUpdatePlanesFromCamera(e),this._collectNodes(S.SpatialNode,function(e){return!(n._renderAll||e.forceVisible||n._culler.isVisible(e._boundingVolume))||(e instanceof w.RenderableNode&&n._cacheRenderableNode(r,e),!1)});for(var s=0;s<U.length;++s){var l=U[s],u=this._sortFunctionsByPass.get(l);u&&r.get(l).sort(u.bind(this,A.Context.renderer.camera.viewMatrix))}}return r.get(t)}},{key:"_cacheRenderableNode",value:function(e,t){for(var n=U.length-1;n>=0;--n){var i=U[n];t.supportsPass(i)&&e.get(i).push(t)}}},{key:"_collectNodes",value:function(e,t){for(var n=this._nodes.slice();n.length>0;){var i=n.pop();if((i.visible||this._renderAll)&&!(i instanceof e&&t(i))&&i.children)for(var r=0,a=i.childCount;r<a;++r)n.push(i.childAt(r))}}},{key:"_collectLightNodes",value:function(){var e=this;this._cachedCollectedLight={PointLight:{castsShadow:[],castsNoShadow:[]},DirectionalLight:{castsShadow:[],castsNoShadow:[]},SpotLight:{castsShadow:[],castsNoShadow:[]}},this._collectNodes(E.Light,function(t){e._cachedCollectedLight[t.lightName]||(e._cachedCollectedLight[t.lightName]={castsShadow:[],castsNoShadow:[]}),e._cachedCollectedLight[t.lightName][t.castsShadow?"castsShadow":"castsNoShadow"].push(t)}),this._cachedLightInfos=this._getLightInfos()}},{key:"_collectIblNodes",value:function(){var e=this;this._cachedCollectedIblNodes.length=0,this._collectNodes(b.IBLNode,function(t){e._cachedCollectedIblNodes.push(t)})}},{key:"_collectRenderableNodes",value:function(){var e=this;this._quickInitRenderableNodeCache(this._allRenderableNodesByPass),this._collectNodes(w.RenderableNode,function(t){e._cacheRenderableNode(e._allRenderableNodesByPass,t)})}},{key:"_getLightInfos",value:function(){var e=this._cachedCollectedLight;this._outputLightInfos.length=0;for(var t in e){var n=e[t];switch(t){case"PointLight":this._outputLightInfos.push({setter:"setPointLightCount",lights:n.castsNoShadow,cached:!1}),this._outputLightInfos.push({setter:"setShadowedPointLightCount",lights:n.castsShadow,cached:!1});break;case"DirectionalLight":this._outputLightInfos.push({setter:"setDirectionalLightCount",lights:n.castsNoShadow,cached:!1}),this._outputLightInfos.push({setter:"setShadowedDirectionalLightCount",lights:n.castsShadow,cached:!1});break;case"SpotLight":this._outputLightInfos.push({setter:"setSpotLightCount",lights:n.castsNoShadow,cached:!1}),this._outputLightInfos.push({setter:"setShadowedSpotLightCount",lights:n.castsShadow,cached:!1})}}return this._outputLightInfos}},{key:"cullingEnabled",set:function(e){this._culler.enabled=e},get:function(){return this._culler.enabled}}]),t}(m.Serializable)},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Texture=void 0;var r=n(31),a=i(r),o=n(15),s=i(o),l=n(3),u=i(l),c=n(1),d=i(c),h=n(5),f=i(h),_=n(8),p=i(_),m=n(115),A=i(m),g=n(2),v=i(g),y=n(4),b=i(y),E=n(13),w=n(43),S=n(7),T=n(9),x=n(14),C=n(36),M=n(29),P=n(18),I=i(P),R="image",k="compressedImageS3TC",D="compressedImagePVRTC",V="video",B="videoStream",O="hdrImage",N="cubemapRawImage",L="sliceImage",F="canvas",U="empty",H="data",G="2d",z="cubeMap",Q="unsignedByte",W="floatingPoint",j="halfFloatingPoint",X="depth16",Y="depth32",q="depth24_8",Z="stencil16",K="stencil32",J="stencil24_8",$="nearest",ee="nearestMipmapNearest",te="nearestMipmapLinear",ne="linear",ie="linearMipmapLinear",re="linearMipmapNearest",ae="nicest",oe="fastest",se="dontcare",le=45e3,ue="textureEventTextureLoaded",ce="textureEventDebugDisplay",de="textureEventMaxTextureSizeTooLow",he="textureEventVideoStreamExceptionCaught",fe=0;t.Texture=function(e){function t(e){(0,d.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));if(n._isIOS10OrHigher=S.Util.isIOS10OrHigher(),n._stichSliceBufferAsync=T.Context.async.makeAsync(n._stitchSliceBuffer),n._uploadVideoOnPaused=S.Util.getParam(e,"uploadVideoOnPaused",!1),n._explicitPackedSliceParams=S.Util.getParam(e,"explicitPackedSliceParams"),n._packedSliceCubemapOrder=S.Util.getParam(e,"packedSliceCubemapOrder",[0,1,2,3,4,5]),n._useVideoCanvasFallbackRendering=S.Util.getParam(e,"useVideoCanvasFallbackRendering"),n._deleted=!1,n._videoEventListeners=new s.default,n._flipY=S.Util.getParam(e,"flipY",!1),n._texture=null,n._width=void 0,n._height=void 0,n._filterType={min:T.Context.gl.LINEAR_MIPMAP_LINEAR,mag:T.Context.gl.LINEAR},n._wrapMode=S.Util.getParam(e,"wrapMode",[T.Context.gl.CLAMP_TO_EDGE,T.Context.gl.CLAMP_TO_EDGE]),n.loaded=!1,n._onLoaded=S.Util.getParam(e,"onLoaded"),n._generateMipmaps=!0,n._mipmapHint=T.Context.gl.DONT_CARE,n._arrayBuffer=null,n._cubeMapInfo=null,n._hasNewArrayBuffer=!1,n._hasNewCanvasContent=!1,n._immediateLoad=!0,n._textureTarget=T.Context.gl.TEXTURE_2D,n._type=null,n._data=null,n._texFormat=t.UNSIGNED_BYTE,n._target=t.TWOD,n._internalFormat=T.Context.gl.RGBA,n._format=T.Context.gl.RGBA,n._dataType=T.Context.gl.UNSIGNED_BYTE,n._anisotropyInfo={isEnabled:!0,value:1},n._offscreenInfo={isOffscreen:!1,width:0,height:0},n._isIE=S.Util.isIE(),n._gzipRegex=/\.([0-9a-z]+).gz$/i,n._rgbmRegex=/.*?_rgbm-([0-9]+?)-([0-9]+)_.*/g,n._packedDdsRegex=/.*?_dl8PackedPngDds_.*/g,n._packedDepthRegex=/.*?_dl8PackedDepth(24|32)_.*/g,n._packedSliceRegex=/.*?_dl8PS-([ci])-([0-1])-([0-9]+)-([0-9]+)-([0-9]+)_.*/g,n._packedSliceMipmaps=!1,n._packedSliceChannelCount=0,n._packedSliceChannelSizeBytes=0,n._packedSliceCount=0,n._packedDepth24=!1,n._packedDepth32=!1,n._videoInfo=[],n._imageInfo={images:[],loadCounter:0,loadStartTime:0,eventListeners:[]},n._rgbmFactor=void 0,n._maxAniso=C.Renderer.MAX_TEXTURE_MAX_ANISOTROPY_EXT,n._videoTextureLoop=S.Util.getParam(e,"videoTextureLoop",!0),n._useVideoTextureTimeout=!1,n._videoTextrueAutoplay=S.Util.getParam(e,"videoTextureAutoplay",!0),n._videoTexuresFallbackEnabled=!0,n._videoDefaultFps=8,n._videoMinRefresh=1e3/n._videoDefaultFps,n._lastVideoRefresh=0,n._videoLoadGraceTimeOver=!1,n._videoReplaceExt=".png",n._videoLastCurrentTime=void 0,n._videoStreamException=void 0,n._packedPngDds=!1,n._isGzipped=!1,e.hasOwnProperty("immediateLoad")&&(n._immediateLoad=e.immediateLoad),!e.hasOwnProperty("type"))throw new Error("invalid param object supplied. no type specified");if(!e.hasOwnProperty("data"))throw new Error("invalid param object supplied. no data supplied for type: "+e.type);if(n._type=e.type,n._target=t.TWOD,n._texFormat=t.UNSIGNED_BYTE,e.hasOwnProperty("target")&&(n._target=e.target,S.Util.assert(n._target===t.TWOD||n._target===t.CUBE_MAP),n._target===t.TWOD?n._textureTarget=T.Context.gl.TEXTURE_2D:n._target===t.CUBE_MAP&&(n._textureTarget=T.Context.gl.TEXTURE_CUBE_MAP)),e.hasOwnProperty("filterType")&&n._setFilterTypeObject(e.filterType),e.hasOwnProperty("mipmapHint")&&n._setMipmapHint(e.mipmapHint),n._data=e.data,n._type===t.EMPTY){if(!e.data.hasOwnProperty("width")||!e.data.hasOwnProperty("height"))throw new Error("empty texture missing width or height");n._offscreenInfo.width=e.data.width,n._offscreenInfo.height=e.data.height,n._offscreenInfo.isOffscreen=!0}else if(n._type===t.DATA){if(n._data=e.data,!e.data.hasOwnProperty("arrayBuffer"))throw new Error("data texture without arraybuffer specified");if(n._arrayBuffer=e.data.arrayBuffer,n.isCubeMap){if(!e.data.hasOwnProperty("cubeMapInfo"))throw new Error("cubemap data texture without cubeMapInfo specified");n._cubeMapInfo=e.data.cubeMapInfo}else if(!e.data.hasOwnProperty("width")||!e.data.hasOwnProperty("height"))throw n._width=e.data.width,n._height=e.data.height,new Error("data texture missing width or height.")}else if(n._type===t.IMAGE){n._data=e.data;var i=void 0;if(n.isCubeMap){for(var r=0,a=n._data.length;r<a;++r){var o=n._getTextureTypeFromPath(n._data[r]);if(void 0!==i&&i!==o)throw new Error("cannot accept cube map texture with differing image types");i=o}n._type=i}else n._type=n._getTextureTypeFromPath(n._data[0]);n._type!==t.HDR_IMAGE&&n._type!==t.VIDEO&&(n._setRgbmParamsIfNeeded(n._data[0]),n._setPackedDdsParamsIfNeeded(n._data[0]),n._setPackedDepthParamsIfNeeded(n._data[0]),n._explicitPackedSliceParams?n._setPackedSliceParamsIfNeeded("_dl8PS-"+n._explicitPackedSliceParams+"_"):n._setPackedSliceParamsIfNeeded(n._data[0])),n._type===t.HDR_IMAGE&&(e.format=t.FLOATING_POINT),n._type===t.CUBEMAP_RAW_IMAGE&&(n._target=t.CUBE_MAP,n._textureTarget=T.Context.gl.TEXTURE_CUBE_MAP),n._type===t.VIDEO&&(n.fps=e.fps||n._videoDefaultFps)}else{if(n._type!==t.CANVAS&&n._type!==t.VIDEO_STREAM)throw n._type===t.VIDEO?new Error("video textures should be defined using the IMAGE type"):new Error("invalid texture type specified");n.fps=e.fps||n._videoDefaultFps,n._data=e.data}if(e.hasOwnProperty("generateMipmaps")&&(n._generateMipmaps=e.generateMipmaps),e.hasOwnProperty("generateFallbackVideos")&&(n._videoTexuresFallbackEnabled=e.generateFallbackVideos),e.hasOwnProperty("videoReplaceExt")&&(n._videoReplaceExt=e.videoReplaceExt),e.hasOwnProperty("format"))if(n._texFormat=e.format,S.Util.assert(n._texFormat===t.UNSIGNED_BYTE||n._texFormat===t.FLOATING_POINT||n._texFormat===t.HALF_FLOATING_POINT||n._texFormat===t.DEPTH_16||n._texFormat===t.DEPTH_32||n._texFormat===t.DEPTH_24_8||n._texFormat===t.STENCIL_16||n._texFormat===t.STENCIL_32||n._texFormat===t.STENCIL_24_8),n._texFormat===t.FLOATING_POINT)T.Context.glExtensionManager.has.textureFloat?n._dataType=T.Context.gl.FLOAT:n._texFormat=t.UNSIGNED_BYTE;else if(n._texFormat===t.HALF_FLOATING_POINT)T.Context.glExtensionManager.has.textureHalfFloat?n._dataType=T.Context.glExtensionManager.get.textureHalfFloat.HALF_FLOAT_OES:T.Context.glExtensionManager.has.textureFloat?n._texFormat=t.FLOATING_POINT:n._texFormat=t.UNSIGNED_BYTE;else if(n._texFormat===t.DEPTH_16||n._texFormat===t.DEPTH_32||n._texFormat===t.DEPTH_24_8||n._texFormat===t.STENCIL_16||n._texFormat===t.STENCIL_32||n._texFormat===t.STENCIL_24_8){if(!T.Context.glExtensionManager.has.depthTexture)throw new Error("error: no defaulting for depth textures, check availability of depth extension");switch(n._texFormat){case t.DEPTH_16:n._format=T.Context.gl.DEPTH_COMPONENT,n._internalFormat=T.Context.gl.DEPTH_COMPONENT,n._dataType=T.Context.gl.UNSIGNED_SHORT;break;case t.DEPTH_32:n._format=T.Context.gl.DEPTH_COMPONENT,n._internalFormat=T.Context.gl.DEPTH_COMPONENT,n._dataType=T.Context.gl.UNSIGNED_INT;break;case t.DEPTH_24_8:n._format=T.Context.gl.DEPTH_COMPONENT,n._internalFormat=T.Context.gl.DEPTH_COMPONENT,n._dataType=T.Context.glExtensionManager.get.depthTexture.UNSIGNED_INT_24_8_WEBGL;break;case t.STENCIL_16:n._format=T.Context.gl.DEPTH_STENCIL,n._internalFormat=T.Context.gl.DEPTH_STENCIL,n._dataType=T.Context.gl.UNSIGNED_SHORT;break;case t.STENCIL_32:n._format=T.Context.gl.DEPTH_STENCIL,n._internalFormat=T.Context.gl.DEPTH_STENCIL,n._dataType=T.Context.gl.UNSIGNED_INT;break;case t.STENCIL_24_8:n._format=T.Context.gl.DEPTH_STENCIL,n._internalFormat=T.Context.gl.DEPTH_STENCIL,n._dataType=T.Context.glExtensionManager.get.depthTexture.UNSIGNED_INT_24_8_WEBGL;break;default:throw new Error("failed to select depth format. something is broken.")}}if(e.hasOwnProperty("anisotropy")&&void 0!==e.anisotropy&&(n._ansiotropy=e.anisotropy,n._anisotropyInfo.isEnabled=T.Context.glExtensionManager.has.textureFilterAnisotropic,n._anisotropyInfo.value=e.anisotropy.value),n._type!==t.VIDEO&&n._type!==t.VIDEO_STREAM||!n._isFilterTypeMipmapCompatible(n._filterType)||(n._filterType.min=n._filterType.mag),n._immediateLoad)try{n.preload()}catch(e){throw n.dtor(),e}return n}return(0,b.default)(t,e),(0,v.default)(t,[{key:"$serialize",value:function(){return{name:"Texture",params:{flipY:this._flipY,wrapMode:this._wrapMode,immediateLoad:this._immediateLoad,type:this._type,target:this._target,texFormat:this._texFormat,filterType:this._origFilterType,mipmapHint:this._origMipmapHint,data:this._data,generateMipmaps:this._generateMipmaps,generateFallbackVideos:this._videoTexuresFallbackEnabled,videoTextureLoop:this._videoTextureLoop,videoTextrueAutoplay:this._videoTextrueAutoplay,videoReplaceExt:this._videoReplaceExt,format:this._texFormat,anisotropy:this._ansiotropy}}}}],[{key:"isPackedSliceImage",value:function(e){return/.*?_dl8PS-([ci])-([0-1])-([0-9]+)-([0-9]+)-([0-9]+)_.*/g.test(e)}},{key:"IMAGE",get:function(){return R}},{key:"COMPRESSED_IMAGE_S3TC",get:function(){return k}},{key:"COMPRESSED_IMAGE_PVRTC",get:function(){return D}},{key:"VIDEO",get:function(){return V}},{key:"VIDEO_STREAM",get:function(){return B}},{key:"HDR_IMAGE",get:function(){return O}},{key:"CUBEMAP_RAW_IMAGE",get:function(){return N}},{key:"SLICE_IMAGE",get:function(){return L}},{key:"CANVAS",get:function(){return F}},{key:"EMPTY",get:function(){return U}},{key:"DATA",get:function(){return H}},{key:"TWOD",get:function(){return G}},{key:"CUBE_MAP",get:function(){return z}},{key:"UNSIGNED_BYTE",get:function(){return Q}},{key:"FLOATING_POINT",get:function(){return W}},{key:"HALF_FLOATING_POINT",get:function(){return j}},{key:"DEPTH_16",get:function(){return X}},{key:"DEPTH_32",get:function(){return Y}},{key:"DEPTH_24_8",get:function(){return q}},{key:"STENCIL_16",get:function(){return Z}},{key:"STENCIL_32",get:function(){return K}},{key:"STENCIL_24_8",get:function(){return J}},{key:"NEAREST",get:function(){return $}},{key:"NEAREST_MIPMAP_NEAREST",get:function(){return ee}},{key:"NEAREST_MIPMAP_LINEAR",get:function(){return te}},{key:"LINEAR",get:function(){return ne}},{key:"LINEAR_MIPMAP_LINEAR",get:function(){return ie}},{key:"LINEAR_MIPMAP_NEAREST",get:function(){return re}},{key:"NICEST",get:function(){return ae}},{key:"FASTEST",get:function(){return oe}},{key:"DONT_CARE",get:function(){return se}},{key:"VIDEO_LOAD_GRACE_TIME_MS",get:function(){return le}},{key:"EVENT_TEXTURE_LOADED",get:function(){return ue}},{key:"EVENT_DEBUG_DISPLAY",get:function(){return ce}},{key:"EVENT_MAX_TEXTURE_SIZE_TOO_LOW",get:function(){return de}},{key:"EVENT_VIDEO_STREAM_EXCEPTION_CAUGHT",get:function(){return he}},{key:"allocatedTextureBytes",get:function(){return fe},set:function(e){fe=e}}]),(0,v.default)(t,[{key:"_setCrossOrigin",value:function(e,t){void 0!==T.Context.crossOrigin&&!t.startsWith("data:")&&(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//"))?e.crossOrigin=T.Context.crossOrigin:e.crossOrigin=null}},{key:"_setMipmapHint",value:function(e){if(void 0!==e){this._origMipmapHint=e;var n=function(e){switch(e){case t.NICEST:return T.Context.gl.NICEST;case t.FASTEST:return T.Context.gl.FASTEST;case t.DONT_CARE:return T.Context.gl.DONT_CARE;default:throw new Error("invalid mipmap hint type in texture arguments: "+e)}},i=this._mipmapHint;this._mipmapHint=n(e),i!==this._mipmapHint&&this.updateMipmaps()}}},{key:"_setFilterTypeObject",value:function(e){if(void 0!==e){this._origFilterType=e;var n=function(e){switch(e){case t.NEAREST:return T.Context.gl.NEAREST;case t.LINEAR:return T.Context.gl.LINEAR;default:throw new Error("invalid mag filter type in texture argument: "+e)}},i=function(e){switch(e){case t.NEAREST:return T.Context.gl.NEAREST;case t.NEAREST_MIPMAP_NEAREST:return T.Context.gl.NEAREST_MIPMAP_NEAREST;case t.NEAREST_MIPMAP_LINEAR:return T.Context.gl.NEAREST_MIPMAP_LINEAR;case t.LINEAR:return T.Context.gl.LINEAR;case t.LINEAR_MIPMAP_LINEAR:return T.Context.gl.LINEAR_MIPMAP_LINEAR;case t.LINEAR_MIPMAP_NEAREST:return T.Context.gl.LINEAR_MIPMAP_NEAREST;default:throw new Error("invalid min filter type in texture argument: "+e)}},r=null,a=null;e.hasOwnProperty("min")&&(r=i(e.min),this._filterType.min=r),e.hasOwnProperty("mag")&&(a=n(e.mag),this._filterType.mag=a)}}},{key:"_getVideoMimetypeFromExtension",value:function(e){var t=S.Util.getExtensionFromPath(e);if(null===t)return null;switch(t){case"mp4":return"video/mp4";case"webm":return"video/webm";default:T.Context.logger.error(this,"unsupported video format: "+t)}return null}},{key:"_appendVideoSourcesFromPath",value:function(e,t){var n=S.Util.getExtensionFromPath(e),i=S.Util.getVideoSupport(),r=void 0,a=void 0,o=void 0,s=!1;return"mp4"===n?("probably"===i.h264&&(r=document.createElement("source"),r.src=e,r.type=this._getVideoMimetypeFromExtension(e),t.appendChild(r),s=!0),"probably"===i.webm&&(a=document.createElement("source"),o=e.replace(".mp4",".webm"),a.src=o,a.type=this._getVideoMimetypeFromExtension(o),t.appendChild(a),s=!0),s):"webm"===n&&("probably"===i.webm&&(r=document.createElement("source"),r.src=e,r.type=this._getVideoMimetypeFromExtension(e),t.appendChild(r),s=!0),"probably"===i.h264&&(a=document.createElement("source"),o=e.replace(".webm",".mp4"),a.src=o,a.type=this._getVideoMimetypeFromExtension(o),t.appendChild(a),s=!0),s)}},{key:"_getGzipExt",value:function(e,t){var n=e.match(this._gzipRegex);return null!==n?t===!0?"."+n[1].toLowerCase():n[1].toLowerCase():null}},{key:"_getTextureTypeFromPath",value:function(e){var n=S.Util.getExtensionFromPath(e);switch("gz"===n&&(this._isGzipped=!0,n=this._getGzipExt(e)),n){case"raw":return t.HDR_IMAGE;case"dds":return t.COMPRESSED_IMAGE_S3TC;case"pvr":return t.COMPRESSED_IMAGE_PVRTC;case"dl8c":return t.CUBEMAP_RAW_IMAGE;case"mp4":case"webm":return t.VIDEO}if(this._isGzipped)throw new Error("cannot load gzipped image files");return t.IMAGE}},{key:"_isFilterTypeMipmapCompatible",value:function(e){var t=T.Context.gl,n=e.min;return!(n!==t.NEAREST_MIPMAP_NEAREST&&n!==t.NEAREST_MIPMAP_LINEAR&&n!==t.LINEAR_MIPMAP_LINEAR&&n!==t.LINEAR_MIPMAP_NEAREST)}},{key:"_adjustWrapModeIfNPOT",value:function(e,t){var n=parseInt(e),i=parseInt(t);this._wrapMode[0]!==T.Context.gl.REPEAT&&this._wrapMode[1]!==T.Context.gl.REPEAT||x.MathUtil.isPowerOfTwo(i)&&x.MathUtil.isPowerOfTwo(n)||(this._wrapMode[0]=T.Context.gl.CLAMP_TO_EDGE,this._wrapMode[1]=T.Context.gl.CLAMP_TO_EDGE)}},{key:"_getRawCubemapInfo",value:function(e){var t=16,n=new Uint32Array(e,0,4);if(3514880384!==n[0])throw new Error("cubemap texture does not have delight header");var i=n[1],r=n[3];if(4===r)this._format=T.Context.gl.RGBA,this._internalFormat=T.Context.gl.RGBA;else{if(3!==r)throw new Error('invalid channel count for cubemap raw image. should be 4 (rgba) was "'+r+'"');this._format=T.Context.gl.RGB,this._internalFormat=T.Context.gl.RGB}var a=this._isFloatTexture?4:1,o=Uint8Array;4===a&&(this._dataType=T.Context.gl.FLOAT,o=Float32Array);var s=[];!function(e,t,n){for(var i=e,r=0,o=0,l=0;(l=i>>r)>0;)o+=l*l*n*a,s[r++]=o;return 6*o+t}(i,t,r);for(var l=[],u=i,c=0;c<6;++c)for(var d=0,h=0,f=void 0;(f=u>>d)>0;){void 0===l[c]&&(l[c]=[]);var _=f*f*r*a,p=t+c*s[s.length-1]+h,m=p+_,A=new o(e,p,(m-p)/a);l[c][d]={mipLevel:d,width:f,height:f,data:A},h+=_,++d}return l}},{key:"_getPVRTCInfo",value:function(e){var t=52,n=new Uint32Array(e,0,t);if(55727696!==n[0])throw new Error("not a pvrtc file!");var i={},r=n[1];i.isPreMultipliedAlpha=2===r;var a=n[2],o=void 0,s=void 0,l=void 0;switch(a){case 0:i.internalFormat=T.Context.glExtensionManager.get.compressedTexturePVRTC.COMPRESSED_RGB_PVRTC_2BPPV1_IMG,l=.25,o=16,s=8;break;case 1:i.internalFormat=T.Context.glExtensionManager.get.compressedTexturePVRTC.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,l=.25,o=16,s=8;break;case 2:i.internalFormat=T.Context.glExtensionManager.get.compressedTexturePVRTC.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,l=.5,o=8,s=8;break;case 3:i.internalFormat=T.Context.glExtensionManager.get.compressedTexturePVRTC.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,l=.5,o=8,s=8;break;default:throw new Error("unsupported pixel format in pvrtc")}var u=n[4];i.isLinear=0===u;var c=n[5];if(0!==c)throw new Error("unsupported channel type in pvrtc");i.height=n[6],i.width=n[7];var d=n[8];if(1!==d)throw new Error("no 3d texture support in webgl");i.depth=d;var h=n[9];if(h>1)throw new Error("no texture arrays supported, yet.");i.faces=n[10],i.isCubeMap=i.faces>1,i.mipCount=n[11];var f=n[12];i.data=[];for(var _=i.width,p=i.height,m=void 0,A=t+f,g=0;g<i.mipCount;++g){m=i.isCubeMap?T.Context.gl.TEXTURE_CUBE_MAP_POSITIVE_X:T.Context.gl.TEXTURE_2D;for(var v=0;v<i.faces;++v){var y=Math.max(_,o)*Math.max(p,s)*l|0;i.data.push({target:m+v,data:new Uint8Array(e,A,y),mipLevel:g,width:_,height:p}),A+=y}_=Math.max(1,_>>1),p=Math.max(1,p>>1)}return i}},{key:"_getDDSInfo",value:function(e){var t=31,n=function(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)},i=new Int32Array(e,0,t);if(542327876!==i[0])throw new Error("no dds magic found");if(4&!i[20])throw new Error("no fourcc found");var r=i[21];if(r!==n("DXT5"))throw new Error("unsupported dds format");var a=1;131072&i[2]&&(a=Math.max(1,i[7]));for(var o=[],s=0,l=i[4],u=i[3],c=i[1]+4;s<a;++s,l*=.5,u*=.5){var d=Math.floor((l+3)/4)*Math.floor((u+3)/4)*16;o.push({width:l,height:u,length:d,data:new Uint8Array(e,c,d)}),c+=d}return o}},{key:"_generateMipmapsIfEnabled",value:function(e,t,n){if(this._generateMipmaps||n){this._isFilterTypeMipmapCompatible(this._filterType)||T.Context.logger.error(this,"min filterType is not compatible to mipmapping, but mipmapping was requested. mipmapping will not work correctly.");var i=parseInt(e),r=parseInt(t);x.MathUtil.isPowerOfTwo(r)&&x.MathUtil.isPowerOfTwo(i)?n||(this._registerTextureDimensions(i,r,!0),T.Context.gl.hint(T.Context.gl.GENERATE_MIPMAP_HINT,this._mipmapHint),T.Context.gl.generateMipmap(this._textureTarget)):(this._isFilterTypeMipmapCompatible(this._filterType)&&(this._filterType.min=this._filterType.mag),this._generateMipmaps=!1)}else this._isFilterTypeMipmapCompatible(this._filterType)&&(this._filterType.min=this._filterType.mag)}},{key:"_haveEnoughVideoData",value:function(){for(var e=0;e<this._data.length;++e)if(this._imageInfo.images[e].readyState!==this._imageInfo.images[e].HAVE_ENOUGH_DATA)return!1;return!0}},{key:"updateCanvas",value:function(){this._hasNewCanvasContent=!0}},{key:"setWrapMode",value:function(e,t){if(e>this._wrapMode.length-1)throw new Error("invalid dimension ("+e+") for "+this._wrapMode);this._wrapMode[e]=t,this._loaded&&this._texture&&(T.Context.gl.bindTexture(this._textureTarget,this._texture),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_S,this._wrapMode[0]),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_T,this._wrapMode[1]),T.Context.gl.bindTexture(this._textureTarget,null))}},{key:"updateMipmaps",value:function(){this._loaded&&this._texture&&this._generateMipmaps&&(T.Context.gl.bindTexture(this._textureTarget,this._texture),T.Context.gl.hint(T.Context.gl.GENERATE_MIPMAP_HINT,this._mipmapHint),T.Context.gl.generateMipmap(this._textureTarget),T.Context.gl.bindTexture(this._textureTarget,null))}},{key:"_enableAnisotropy",value:function(){if(this._anisotropyInfo.isEnabled){var e=this._anisotropyInfo.value;e>this._maxAniso&&(e=this._maxAniso),T.Context.glExtensionManager.has.textureFilterAnisotropic&&T.Context.gl.texParameterf(this._textureTarget,T.Context.glExtensionManager.get.textureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e)}}},{key:"_bytesForFormat",value:function(){switch(this._texFormat){case t.UNSIGNED_BYTE:return 4;case t.HALF_FLOATING_POINT:return 8;case t.STENCIL_16:return 2;case t.STENCIL_24_8:return 4;case t.STENCIL_32:return 4;case t.DEPTH_16:return 2;case t.DEPTH_32:return 4;case t.FLOATING_POINT:return 16}return 0}},{key:"_bytesForTexture",value:function(e,t){return e*t*this._bytesForFormat()}},{key:"_registerBytes",value:function(e,t,n){var i=this._bytesForTexture(e,t);n&&(i*=1/3),fe+=i}},{key:"_registerTextureDimensions",value:function(e,n,i){var r=C.Renderer.MAX_TEXTURE_SIZE;if(this.isCubeMap&&(r=C.Renderer.MAX_CUBE_MAP_TEXTURE_SIZE),e>r||n>r)throw T.Context.eventEmitter.emitOnce(this,t.EVENT_MAX_TEXTURE_SIZE_TOO_LOW,!1),this.dtor(),new Error("The requested texture size of ("+e+", "+n+") is not supported on this hardware.");this._registerBytes(e,n)}},{key:"_setRgbmParamsIfNeeded",value:function(e){if(!e.startsWith("data:")){var t=null;null!==(t=this._rgbmRegex.exec(e))&&(this._rgbmFactor=parseInt(t[1],10)/parseInt(t[2],10))}}},{key:"_setPackedDdsParamsIfNeeded",value:function(e){e.startsWith("data:")||null!==this._packedDdsRegex.exec(e)&&(this._packedPngDds=!0)}},{key:"_setPackedDepthParamsIfNeeded",value:function(e){if(!e.startsWith("data:")){var t=null;if(null!==(t=this._packedDepthRegex.exec(e))){var n=parseInt(t[1],10);if(24===n)this._packedDepth24=!0;else{if(32!==n)throw new Error("unsupported pack depth bits count: "+n);this._packedDepth32=!0}}}}},{key:"_setPackedSliceParamsIfNeeded",value:function(e){if(!e.startsWith("data:")){var n=null;if(null!==(n=this._packedSliceRegex.exec(e))){if(this._type=t.SLICE_IMAGE,this._target="c"===n[1]?t.CUBE_MAP:t.TWOD,this._target===t.CUBE_MAP&&(this._textureTarget=T.Context.gl.TEXTURE_CUBE_MAP),this._packedSliceMipmaps=!!parseInt(n[2],10),this._packedSliceChannelCount=parseInt(n[3],10),this._packedSliceChannelSizeBytes=parseInt(n[4],10),this._packedSliceCount=parseInt(n[5],10),1===this._packedSliceChannelSizeBytes)this._dataType=T.Context.gl.UNSIGNED_BYTE;else if(2===this._packedSliceChannelSizeBytes){if(!T.Context.glExtensionManager.has.textureHalfFloat)throw new Error("no support for half float.");this._dataType=T.Context.glExtensionManager.get.textureHalfFloat.HALF_FLOAT_OES}else{if(4!==this._packedSliceChannelSizeBytes)throw new Error("invalid byte count in channels.");this._dataType=T.Context.gl.FLOAT}if(3===this._packedSliceChannelCount)this._format=T.Context.gl.RGB,this._internalFormat=T.Context.gl.RGB;else{if(4!==this._packedSliceChannelCount)throw new Error("invalid channel count.");this._format=T.Context.gl.RGBA,this._internalFormat=T.Context.gl.RGBA}}}}},{key:"_removeVideoEventListener",value:function(e,t,n){var i=void 0;(i=this._videoEventListeners.get(e))&&(i.delete(n),0===i.size&&this._videoEventListeners.delete(i),e.removeEventListener(t,n))}},{key:"_addVideoEventListener",value:function(e,t,n){var i=void 0;(i=this._videoEventListeners.get(e))||(i=new s.default,this._videoEventListeners.set(e,i)),i.set(n,t),e.addEventListener(t,n)}},{key:"_removeAllVideoEventListeners",value:function(){this._videoEventListeners.forEach(function(e,t){e.forEach(function(e,n){t.removeEventListener(e,n)}),e.clear()}),this._videoEventListeners.clear()}},{key:"allocate",value:function(){if(this._texture)return!1;if(this._texture=T.Context.gl.createTexture(),T.Context.gl.bindTexture(this._textureTarget,this._texture),this._width=this._offscreenInfo.width,this._height=this._offscreenInfo.height,this.isCubeMap)for(var e=0;e<6;++e)this._registerTextureDimensions(this._offscreenInfo.width,this._offscreenInfo.height),T.Context.gl.texImage2D(T.Context.gl.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,this._internalFormat,this._offscreenInfo.width,this._offscreenInfo.height,0,this._format,this._dataType,null);else this._registerTextureDimensions(this._offscreenInfo.width,this._offscreenInfo.height),this._enableFlipY(),T.Context.gl.texImage2D(this._textureTarget,0,this._internalFormat,this._offscreenInfo.width,this._offscreenInfo.height,0,this._format,this._dataType,null),this._disableFlipY();this._enableAnisotropy(),this._generateMipmapsIfEnabled(this._offscreenInfo.width,this._offscreenInfo.height),this._adjustWrapModeIfNPOT(this._offscreenInfo.width,this._offscreenInfo.height),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,this._filterType.mag),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,this._filterType.min),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_S,this._wrapMode[0]),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_T,this._wrapMode[1]),T.Context.gl.bindTexture(this._textureTarget,null),this.loaded=!0}},{key:"copyFromFramebuffer",value:function(e,t,n,i,r,a,o,s){this._texture&&(T.Context.gl.bindTexture(this._textureTarget,this._texture),s?T.Context.gl.copyTexSubImage2D(s,e,t,n,i,r,0|a,0|o):T.Context.gl.copyTexSubImage2D(this._textureTarget,e,t,n,i,r,0|a,0|o),T.Context.gl.bindTexture(this._textureTarget,null))}},{key:"dtor",value:function(){if(null!==this._texture&&(T.Context.gl.bindTexture(this._textureTarget,this._texture),T.Context.gl.deleteTexture(this._texture),T.Context.gl.bindTexture(this._textureTarget,null),this._texture=null,this.loaded=!1),this._type===t.VIDEO)for(var e=0;e<this._imageInfo.images.length;++e)this._imageInfo.images[e].removeEventListener("playing",this._imageInfo.eventListeners[e]);this._imageInfo={images:[],loadCounter:0,loadStartTime:0,eventListeners:[]},this._ieVideoCanvas=null,this._ieVideoCanvasCtx=null,this._deleted=!0,this._removeAllVideoEventListeners(),(0,p.default)(t.prototype.__proto__||(0,u.default)(t.prototype),"dtor",this).call(this)}},{key:"preload",value:function(){var e=this;if(!this._texture&&!this._deleted&&!this._loaded)if(this.markLoading(),this._type===t.VIDEO_STREAM){if(this._texture=T.Context.gl.createTexture(),!this._texture)return!1;this._isIOS10OrHigher?(this._internalFormat=T.Context.gl.RGBA,this._format=T.Context.gl.RGBA):(this._internalFormat=T.Context.gl.RGB,this._format=T.Context.gl.RGB);var n=this._data[0],i=function i(){try{e._useVideoCanvasFallbackRendering?(e._width=n.videoWidth||n.width||Math.min(2048,C.Renderer.MAX_TEXTURE_SIZE),e._height=n.videoHeight||n.height||Math.min(2048,C.Renderer.MAX_TEXTURE_SIZE)):(e._width=n.videoWidth||n.width,e._height=n.videoHeight||n.height),e._registerTextureDimensions(e._width,e._height),T.Context.gl.bindTexture(e._textureTarget,e._texture),e._enableFlipY(),e._useVideoCanvasFallbackRendering?(e._ieVideoCanvas=document.createElement("canvas"),e._ieVideoCanvas.width=e._width,e._ieVideoCanvas.height=e._height,e._ieVideoCanvasCtx=e._ieVideoCanvas.getContext("2d"),e._ieVideoCanvasCtx.drawImage(n,0,0,e._width,e._height),T.Context.gl.texImage2D(e._textureTarget,0,e._internalFormat,e._format,e._dataType,e._ieVideoCanvas)):T.Context.gl.texImage2D(e._textureTarget,0,e._internalFormat,e._format,e._dataType,n),e._disableFlipY(),e._enableAnisotropy(),e._generateMipmapsIfEnabled(e._width,e._height),e._adjustWrapModeIfNPOT(e._width,e._height),T.Context.gl.texParameteri(e._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,e.filterType.mag),T.Context.gl.texParameteri(e._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,e.filterType.min),T.Context.gl.texParameteri(e._textureTarget,T.Context.gl.TEXTURE_WRAP_S,e.wrapMode[0]),T.Context.gl.texParameteri(e._textureTarget,T.Context.gl.TEXTURE_WRAP_T,e.wrapMode[1]),T.Context.gl.bindTexture(e._textureTarget,null),e._removeVideoEventListener(n,"canplay",i),e.loaded=!0}catch(n){if(e.dtor(),!n.name.startsWith("SecurityError")&&!n.message.startsWith("SecurityError"))throw n;e._videoStreamException=n,T.Context.eventEmitter.emitOnce(e,t.EVENT_VIDEO_STREAM_EXCEPTION_CAUGHT,!1);
}};if(n.readyState<2)return this._addVideoEventListener(n,"canplay",i),!1;i(n)}else if(this._type===t.VIDEO){var r=function(){var n=void 0;if(e._texture=T.Context.gl.createTexture(),e.isCubeMap)for(var i=0;i<6;++i){var r=e._data[x.MathUtil.clamp(i,0,e._data.length-1)];if(n=document.createElement("video"),n.setAttribute("webkit-playsinline",!0),!e._appendVideoSourcesFromPath(r,n)||e._videoLoadGraceTimeOver){if(e._videoTexuresFallbackEnabled||e._videoLoadGraceTimeOver){e._type=t.IMAGE;for(var a=0;a<6;++a){var o=e._data[x.MathUtil.clamp(a,0,e._data.length-1)];e._data[x.MathUtil.clamp(a,0,e._data.length-1)]=o.replace(S.Util.getExtensionFromPath(r,!0),e._videoReplaceExt)}return e._setPackedDdsParamsIfNeeded(e._data[0]),T.Context.gl.deleteTexture(e._texture),e._texture=null,e.preload(),{v:!1}}throw new Error("selected texture video format is not supported by this browser.")}n.autoplay=e._videoTextrueAutoplay,n.loop=e._videoTextureLoop,e._setCrossOrigin(n,e._data[0]),e._imageInfo.images.push(n),e._imageInfo.loadStartTime=S.Util.performanceNow();var s=function(e){return!!this._texture&&(this._width=n.videoWidth||n.width,this._height=n.videoHeight||n.height,this._registerTextureDimensions(n.width,n.height),T.Context.gl.bindTexture(this._textureTarget,this._texture),T.Context.gl.texImage2D(T.Context.gl.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,this._internalFormat,this._format,this._dataType,this._imageInfo.images[e]),this._generateMipmapsIfEnabled(n.width,n.height),this._adjustWrapModeIfNPOT(n.width,n.height),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,this.filterType.mag),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,this.filterType.min),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_S,this.wrapMode[0]),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_T,this.wrapMode[1]),T.Context.gl.bindTexture(this._textureTarget,null),this._imageInfo.loadCounter++,void(6===this._imageInfo.loadCounter&&(this.loaded=!0,T.Context.logger.debug(this,"async load of cubemap videos complete."))))}.bind(e,i);e._imageInfo.eventListeners.push(s),e._addVideoEventListener(n,"playing",s),T.Context.logger.debug(e,"loading cubemap video face "+i+" with url = "+r)}else{var l=e._data[0];if(n=document.createElement("video"),n.setAttribute("webkit-playsinline",!0),!e._appendVideoSourcesFromPath(l,n)||e._videoLoadGraceTimeOver){if(e._videoTexuresFallbackEnabled||e._videoLoadGraceTimeOver)return e._type=t.IMAGE,e._data[0]=e._data[0].replace(S.Util.getExtensionFromPath(l,!0),e._videoReplaceExt),e._setPackedDdsParamsIfNeeded(e._data[0]),T.Context.gl.deleteTexture(e._texture),e._texture=null,e.preload(),{v:!1};throw new Error("selected texture video format is not supported by this browser.")}n.loop=e._videoTextureLoop,n.autoplay=e._videoTextrueAutoplay,e._imageInfo.images.push(n),e._imageInfo.loadStartTime=S.Util.performanceNow();var u=function(){return!!e._texture&&(e._width=n.videoWidth||n.width,e._height=n.videoHeight||n.height,e._registerTextureDimensions(n.width,n.height),T.Context.gl.bindTexture(e._textureTarget,e._texture),T.Context.gl.texImage2D(e._textureTarget,0,e._internalFormat,e._format,e._dataType,n),e._enableAnisotropy(),e._generateMipmapsIfEnabled(n.width,n.height),e._adjustWrapModeIfNPOT(n.width,n.height),T.Context.gl.texParameteri(e._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,e.filterType.mag),T.Context.gl.texParameteri(e._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,e.filterType.min),T.Context.gl.texParameteri(e._textureTarget,T.Context.gl.TEXTURE_WRAP_S,e.wrapMode[0]),T.Context.gl.texParameteri(e._textureTarget,T.Context.gl.TEXTURE_WRAP_T,e.wrapMode[1]),T.Context.gl.bindTexture(e._textureTarget,null),e._imageInfo.loadCounter++,void(e.loaded=!0))};e._imageInfo.eventListeners.push(u),e._addVideoEventListener(n,"playing",u),e._setCrossOrigin(n,l)}}();if("object"===("undefined"==typeof r?"undefined":(0,a.default)(r)))return r.v}else if(this._type===t.IMAGE){var o=function(){if(e._packedPngDds)return e._type=t.COMPRESSED_IMAGE_S3TC,e.preload(),{v:!1};var n=void 0;if(e._texture=T.Context.gl.createTexture(),e.isCubeMap)for(var i=function(t){var i=e._data[x.MathUtil.clamp(t,0,e._data.length-1)];n=new Image,e._setCrossOrigin(n,i),e._imageInfo.images.push(n),n.onload=function(e){this._deleted||(this._width=n.width,this._height=n.height,this._registerTextureDimensions(n.width,n.height),T.Context.gl.bindTexture(this._textureTarget,this._texture),this._enableFlipY(),T.Context.gl.texImage2D(T.Context.gl.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,this._internalFormat,this._format,this._dataType,this._imageInfo.images[e]),this._disableFlipY(),this._generateMipmapsIfEnabled(n.width,n.height),this._adjustWrapModeIfNPOT(n.width,n.height),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,this.filterType.mag),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,this.filterType.min),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_S,this.wrapMode[0]),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_T,this.wrapMode[1]),T.Context.gl.bindTexture(this._textureTarget,null),this._imageInfo.loadCounter++,T.Context.logger.debug(this,"loaded image "+i+" ("+T.Context.getError()+")"),6===this._imageInfo.loadCounter&&(this.loaded=!0,T.Context.logger.debug(this,"async load of cubemap images complete.")))}.bind(e,t),n.src=i,T.Context.logger.debug(e,"loading cubemap image face "+t+" with url "+i)},r=0;r<6;++r)i(r);else{var a=e._data[0];n=new Image,e._imageInfo.images.push(n),n.onload=function(){try{if(this._deleted)return;this._width=n.width,this._height=n.height,this._registerTextureDimensions(n.width,n.height),T.Context.gl.bindTexture(this._textureTarget,this._texture),this._enableFlipY(),T.Context.gl.texImage2D(this._textureTarget,0,this._internalFormat,this._format,this._dataType,n),this._disableFlipY(),this._enableAnisotropy(),this._generateMipmapsIfEnabled(n.width,n.height),this._adjustWrapModeIfNPOT(n.width,n.height),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,this.filterType.mag),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,this.filterType.min),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_S,this.wrapMode[0]),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_T,this.wrapMode[1]),T.Context.gl.bindTexture(this._textureTarget,null),this.loaded=!0}catch(e){T.Context.logger.debug(this,"error uploading texture with url "+a),this.dtor()}}.bind(e),e._setCrossOrigin(n,a),n.src=a,n.onerror=function(t){e.dtor()}}}();if("object"===("undefined"==typeof o?"undefined":(0,a.default)(o)))return o.v}else if(this._type===t.HDR_IMAGE)if(this._texture=T.Context.gl.createTexture(),this.isCubeMap){if(!this._data)throw new Error("hdr cubemap texture without images specified");for(var s=function(e,t,n){if(!this._deleted){var i=n.response,r=new Uint32Array(n.response,0,4);if(3514880384!==r[0])throw new Error("hdr texture does not have delight header");var a=r[1],o=r[2],s=r[3];if(3===s)this._format=T.Context.gl.RGB,this._internalFormat=T.Context.gl.RGB;else{if(4!==s)throw new Error('invalid channel count for hdr image. should be 3 (rgb) or 4 (rgba) was "'+s+'"');this._format=T.Context.gl.RGBA,this._internalFormat=T.Context.gl.RGBA}T.Context.gl.bindTexture(this._textureTarget,this._texture),T.Context.gl.texImage2D(T.Context.gl.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,this._internalFormat,a,o,0,this._format,this._dataType,new Float32Array(i,16)),6===++this._imageInfo.loadCounter&&this._generateMipmapsIfEnabled(a,o),this._adjustWrapModeIfNPOT(a,o),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,this.filterType.mag),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,this.filterType.min),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_S,this.wrapMode[0]),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_T,this.wrapMode[1]),T.Context.gl.bindTexture(this._textureTarget,null),T.Context.logger.debug("loaded hdr image "+t+" ("+T.Context.getError()+")"),6===this._imageInfo.loadCounter&&(this.loaded=!0,T.Context.logger.debug("async load of hdr cubemap images complete."))}},l=0;l<6;++l){var u=this._data[x.MathUtil.clamp(l,0,this._data.length-1)];w.XHRRequest.request({gzipRequest:this._isGzipped,uri:u,noCache:!1,onLoad:s.bind(this,l,u),responseType:"arraybuffer"})}}else{var c=this._data[0];w.XHRRequest.request({gzipRequest:this._isGzipped,uri:c,noCache:!1,onLoad:function(e){if(!this._deleted){var t=e.response,n=new Uint32Array(e.response,0,4);if(3514880384!==n[0])throw new Error("hdr texture does not have delight header");this._width=n[1],this._height=n[2],this._registerTextureDimensions(this._width,this._height);var i=n[3];if(3===i)this._format=T.Context.gl.RGB,this._internalFormat=T.Context.gl.RGB;else{if(4!==i)throw new Error("invalid channel count for hdr image. should be 3 (rgb) or 4 (rgba) was "+i);this._format=T.Context.gl.RGBA,this._internalFormat=T.Context.gl.RGBA}T.Context.gl.bindTexture(this._textureTarget,this._texture),T.Context.gl.texImage2D(this._textureTarget,0,this._internalFormat,this._width,this._height,0,this._format,this._dataType,new Float32Array(t,16)),this._generateMipmapsIfEnabled(this._width,this._height),this._adjustWrapModeIfNPOT(this._width,this._height),this._enableAnisotropy(),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,this.filterType.mag),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,this.filterType.min),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_S,this.wrapMode[0]),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_T,this.wrapMode[1]),T.Context.gl.bindTexture(this._textureTarget,null),this.loaded=!0}}.bind(this),responseType:"arraybuffer"}),T.Context.logger.debug("starting load of hdr image with url = "+c)}else if(this._type===t.COMPRESSED_IMAGE_S3TC){if(!T.Context.glExtensionManager.has.compressedTextureS3TC)throw new Error("compressed s3tc image texture requested, but no suitable extension found");if(this._internalFormat=T.Context.glExtensionManager.get.compressedTextureS3TC.COMPRESSED_RGBA_S3TC_DXT5_EXT,this._texture=T.Context.gl.createTexture(),this.isCubeMap)for(var d=function(t){var n=e._data[x.MathUtil.clamp(t,0,e._data.length-1)],i=function(e,t){if(!this._deleted){var i=t.response,r=this._getDDSInfo(i);this._width=r[0].width,this._height=r[0].height,T.Context.gl.bindTexture(this._textureTarget,this._texture);for(var a=0;a<r.length;++a)this._registerTextureDimensions(r[a].width,r[a].height),T.Context.gl.compressedTexImage2D(T.Context.gl.TEXTURE_CUBE_MAP_POSITIVE_X+e,a,this._internalFormat,r[a].width,r[a].height,0,r[a].data);this._generateMipmapsIfEnabled(r[0].width,r[0].height,!0),this._adjustWrapModeIfNPOT(r[0].width,r[0].height),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,this.filterType.mag),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,this.filterType.min),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_S,this.wrapMode[0]),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_T,this.wrapMode[1]),T.Context.gl.bindTexture(this._textureTarget,null),this._imageInfo.loadCounter++,T.Context.logger.debug(this,"loaded compressed image "+n+" ("+T.Context.getError()+")"),6===this._imageInfo.loadCounter&&(this.loaded=!0,T.Context.logger.debug(this,"async load of compressed cubemap images complete."))}}.bind(e,t);w.XHRRequest.request({gzipRequest:e._isGzipped,uri:n,noCache:!1,onLoad:i,packedPngRequest:e._packedPngDds,responseType:"arraybuffer"})},h=0;h<6;++h)d(h);else{var f=this._data[0],_=function(e){if(!this._deleted){var t=e.response,n=this._getDDSInfo(t);this._width=n[0].width,this._height=n[0].height,T.Context.gl.bindTexture(this._textureTarget,this._texture);for(var i=0;i<n.length;++i)this._registerTextureDimensions(n[i].width,n[i].height),T.Context.gl.compressedTexImage2D(this._textureTarget,i,this._internalFormat,n[i].width,n[i].height,0,n[i].data);this._generateMipmapsIfEnabled(n[0].width,n[0].height,!0),this._enableAnisotropy(),this._adjustWrapModeIfNPOT(n[0].width,n[0].height),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,this.filterType.mag),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,this.filterType.min),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_S,this.wrapMode[0]),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_T,this.wrapMode[1]),T.Context.gl.bindTexture(this._textureTarget,null),this.loaded=!0}}.bind(this);w.XHRRequest.request({gzipRequest:this._isGzipped,uri:f,noCache:!1,onLoad:_,packedPngRequest:this._packedPngDds,responseType:"arraybuffer"})}}else if(this._type===t.CUBEMAP_RAW_IMAGE){if(!this.isCubeMap)throw new Error("CUBEMAP_RAW_IMAGE specified, but texture is not a CUBEMAP.");this._texture=T.Context.gl.createTexture();var p=this._data[0];w.XHRRequest.request({gzipRequest:this._isGzipped,uri:p,noCache:!1,onLoad:function(e){if(!this._deleted){var t=e.response,n=this._getRawCubemapInfo(t);this._width=n[0][0].width,this._height=n[0][0].height,T.Context.gl.bindTexture(this._textureTarget,this._texture);for(var i=0;i<n.length;++i)for(var r=0;r<n[i].length;++r){var a=n[i][r];this._registerTextureDimensions(a.width,a.height),this._enableFlipY(),T.Context.gl.texImage2D(T.Context.gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,r,this._internalFormat,a.width,a.height,0,this._format,this._dataType,a.data),this._disableFlipY()}this._generateMipmapsIfEnabled(n[0][0].width,n[0][0].height,!0),this._enableAnisotropy(),this._adjustWrapModeIfNPOT(n[0][0].width,n[0][0].height),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,this.filterType.mag),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,this.filterType.min),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_S,this.wrapMode[0]),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_T,this.wrapMode[1]),T.Context.gl.bindTexture(this._textureTarget,null),this.loaded=!0}}.bind(this),responseType:"arraybuffer"})}else if(this._type===t.COMPRESSED_IMAGE_PVRTC){if(!T.Context.glExtensionManager.has.compressedTexturePVRTC)throw new Error("compressed pvrtc image texture requested, but no suitable extension found");this._texture=T.Context.gl.createTexture();var m=this._data[0];w.XHRRequest.request({gzipRequest:this._isGzipped,uri:m,noCache:!1,onLoad:function(e){if(!this._deleted){var t=e.response,n=this._getPVRTCInfo(t);T.Context.gl.bindTexture(this._textureTarget,this._texture);for(var i=void 0,r=0,a=n.data.length;r<a;++r)i=n.data[r],this._width=i.width,this._height=i.height,this._registerTextureDimensions(i.width,i.height),T.Context.gl.compressedTexImage2D(i.target,i.mipLevel,n.internalFormat,i.width,i.height,0,i.data);this._width=i.width,this._height=i.height,this._generateMipmapsIfEnabled(n.width,n.height,!0),this._enableAnisotropy(),this._adjustWrapModeIfNPOT(n.width,n.height),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,this.filterType.mag),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,this.filterType.min),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_S,this.wrapMode[0]),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_T,this.wrapMode[1]),T.Context.gl.bindTexture(this._textureTarget,null),this.loaded=!0}}.bind(this),responseType:"arraybuffer"})}else if(this._type===t.DATA){if(this._texture=T.Context.gl.createTexture(),this.isCubeMap){var A=this._cubeMapInfo.size,g=this._format===T.Context.gl.RGBA?4:3,v=this._texFormat===t.UNSIGNED_BYTE?1:4,y=[],b=S.Util.mipOffsetPerFace(A,g,v,y);this._width=A,this._height=A,T.Context.gl.bindTexture(this._textureTarget,this._texture);for(var E=0;E<6;++E)for(var M=0;M<y.length;++M){var P=(E*b+y[M].offset)/v;this._registerTextureDimensions(y[M].size,y[M].size),T.Context.gl.texImage2D(T.Context.gl.TEXTURE_CUBE_MAP_POSITIVE_X+E,M,this._internalFormat,y[M].size,y[M].size,0,this._format,this._dataType,this._arrayBuffer.subarray(P,P+y[M].faceSize/v))}T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,this.filterType.mag),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,this.filterType.min),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_S,this.wrapMode[0]),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_T,this.wrapMode[1]),this._enableAnisotropy(),this._generateMipmapsIfEnabled(this._width,this._height),this._adjustWrapModeIfNPOT(this._width,this._height)}else this._width=this._data.width,this._height=this._data.height,this._registerTextureDimensions(this._data.width,this._data.height),T.Context.gl.bindTexture(this._textureTarget,this._texture),T.Context.gl.texImage2D(this._textureTarget,0,this._internalFormat,this._data.width,this._data.height,0,this._format,this._dataType,this._arrayBuffer),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,this.filterType.mag),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,this.filterType.min),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_S,this.wrapMode[0]),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_T,this.wrapMode[1]),this._enableAnisotropy(),this._generateMipmapsIfEnabled(this._data.width,this._data.height),this._adjustWrapModeIfNPOT(this._data.width,this._data.height);T.Context.gl.bindTexture(this._textureTarget,null),T.Context.logger.debug(this,"loaded data texture"),this.loaded=!0}else if(this._type===t.EMPTY)this.allocate();else if(this._type===t.CANVAS){if(this._texture=T.Context.gl.createTexture(),T.Context.gl.bindTexture(this._textureTarget,this._texture),this.isCubeMap)for(var I=0;I<6;++I)this._registerTextureDimensions(this._data[I].width,this._data[I].height),this._enableFlipY(),T.Context.gl.texImage2D(T.Context.gl.TEXTURE_CUBE_MAP_POSITIVE_X+I,0,this._internalFormat,this._format,this._dataType,this._data[Math.clamp(I,0,this._data.length-1)]),this._disableFlipY();else this._registerTextureDimensions(this._data[0].width,this._data[0].height),this._enableFlipY(),T.Context.gl.texImage2D(this._textureTarget,0,this._internalFormat,this._format,this._dataType,this._data[0]),this._disableFlipY();this._width=this._data[0].width,this._height=this._data[0].height,this._enableAnisotropy(),this._generateMipmapsIfEnabled(this._data[0].width,this._data[0].height),this._adjustWrapModeIfNPOT(this._data[0].width,this._data[0].height),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,this.filterType.mag),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,this.filterType.min),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_S,this.wrapMode[0]),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_T,this.wrapMode[1]),T.Context.gl.bindTexture(this._textureTarget,null),this.loaded=!0}else if(this._type===t.SLICE_IMAGE){this._texture=T.Context.gl.createTexture();var R=new Image;R.onload=this._unpackSliceImage.bind(this,R),this._setCrossOrigin(R,this._data[0]),R.src=this._data[0]}else if(!this._loaded&&this._texture&&this._type===t.VIDEO&&this._useVideoTextureTimeout&&S.Util.performanceNow()-this._imageInfo.loadStartTime>t.VIDEO_LOAD_GRACE_TIME_MS){this._texture=null,this._videoLoadGraceTimeOver=!0;for(var k=0;k<this._imageInfo.images.length;++k)this._imageInfo.images[k].removeEventListener("playing",this._imageInfo.eventListeners[k]);return this._imageInfo={images:[],loadCounter:0,loadStartTime:0,eventListeners:[]},T.Context.logger.error(this,"video took too long to load, using fallback version"),this.preload()}return this._loaded}},{key:"_stitchSliceBuffer",value:function(e,t,n){for(var i=t*n,r=new Uint8Array(i*e[0].length/4),a=0,o=0;a<r.length;a+=i,o+=4)for(var s=0,l=0;s<e.length;++s)for(var u=0;u<3&&l<i;++u,++l)r[a+l]=e[s][o+u];switch(n){case 4:return new Float32Array(r.buffer);case 2:return new Uint16Array(r.buffer)}return new Uint8Array(r.buffer)}},{key:"_unpackSliceImage",value:function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),i=this.isCubeMap?6:1,r=this.isCubeMap?C.Renderer.MAX_CUBE_MAP_TEXTURE_SIZE:C.Renderer.MAX_TEXTURE_SIZE,a=e.width/i,o=e.height/this._packedSliceCount,s=Math.round(Math.min(a,r)),l=Math.round(Math.min(o,r));t.width=s,t.height=l,t.style.width=s+"px",t.style.height=l+"px",t.style.imageRenderering="pixelated",n.webkitImageSmoothingEnabled=!1,n.imageSmoothingEnabled=!1,n.mozImageSmoothingEnabled=!1,n.msImageSmoothingEnabled=!1;for(var u=[],c=this._packedSliceCubemapOrder,d=c,h=[],f=0,_=0;_<i;++_){var p=d[_];h[_]=[];for(var m=0;m<this._packedSliceCount;++m)n.drawImage(e,p*a,m*o,a,o,0,0,s,l),h[_].push(n.getImageData(0,0,s,l).data);if(1===this._packedSliceCount){if(this._packedSliceChannelSizeBytes>1)throw new Error("Invalid channel size bytes "+this._packedSliceChannelSizeBytes+" for one slice image.");var A=new Uint8Array(h[_][0]);u[_]={mipCount:1,mips:[{width:s,height:l,data:A}]},_===i-1&&(this._format=T.Context.gl.RGBA,this._internalFormat=T.Context.gl.RGBA,this._uploadSliceImage(u))}else this._stichSliceBufferAsync(h[_],this._packedSliceChannelCount,this._packedSliceChannelSizeBytes).then(function(e,t){u[e]={mipCount:1,mips:[{width:s,height:l,data:t}]},++f===i&&this._uploadSliceImage(u)}.bind(this,_)).catch(function(e){throw e})}}},{key:"_enableFlipY",value:function(){this._flipY&&T.Context.gl.pixelStorei(T.Context.gl.UNPACK_FLIP_Y_WEBGL,!0)}},{key:"_disableFlipY",value:function(){(this._flipY||this._isIE)&&T.Context.gl.pixelStorei(T.Context.gl.UNPACK_FLIP_Y_WEBGL,!1)}},{key:"_uploadSliceImage",value:function(e){if(!this._deleted){if(this._width=e[0].mips[0].width,this._height=e[0].mips[0].height,this.isCubeMap)for(var t=0;t<6;++t){var n=e[t];T.Context.gl.bindTexture(this._textureTarget,this._texture),this._enableFlipY();for(var i=0;i<n.mipCount;++i)this._registerTextureDimensions(n.width,n.height),T.Context.gl.texImage2D(T.Context.gl.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,this._internalFormat,n.mips[i].width,n.mips[i].height,0,this._format,this._dataType,n.mips[i].data);this._disableFlipY()}else{var r=e[0];this._registerTextureDimensions(r.width,r.height),T.Context.gl.bindTexture(this._textureTarget,this._texture),this._enableFlipY();for(var a=0;a<r.mipCount;++a)T.Context.gl.texImage2D(T.Context.gl.TEXTURE_2D,a,this._internalFormat,r.mips[a].width,r.mips[a].height,0,this._format,this._dataType,r.mips[a].data);this._disableFlipY()}this._generateMipmapsIfEnabled(this._width,this._height),this._adjustWrapModeIfNPOT(this._width,this._height),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,this.filterType.mag),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,this.filterType.min),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_S,this.wrapMode[0]),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_WRAP_T,this.wrapMode[1]),T.Context.gl.bindTexture(this._textureTarget,null),this.loaded=!0}}},{key:"_shouldRefresh",value:function(e){var t=S.Util.performanceNow();return t-this._lastVideoRefresh>.333*this._videoMinRefresh&&e.currentTime!==this._videoLastCurrentTime&&(this._videoLastCurrentTime=e.currentTime,this._lastVideoRefresh=t,!0)}},{key:"update",value:function(e){if(this._loaded)if(this._type===t.VIDEO){if(this._haveEnoughVideoData()&&this._shouldRefresh(this._imageInfo.images[0]))if(this._target===t.CUBE_MAP)for(var n=0;n<6;++n)T.Context.gl.texImage2D(T.Context.gl.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,this._internalFormat,this._format,this._dataType,this._imageInfo.images[x.MathUtil.clamp(n,0,this._data.length-1)]);else T.Context.gl.texImage2D(this._textureTarget,0,this._internalFormat,this._format,this._dataType,this._imageInfo.images[0])}else if(this._type===t.VIDEO_STREAM){if(this._data[0].readyState>1&&this._shouldRefresh(this._data[0])&&(this._uploadVideoOnPaused||!this._data[0].paused)||e){if(this._enableFlipY(),this._useVideoCanvasFallbackRendering){if(this._ieVideoCanvasCtx){var i=this._data[0];i.videoWidth===this._width&&i.videoHeight===this._height||(this._width=i.videoWidth||i.width||Math.min(2048,C.Renderer.MAX_TEXTURE_SIZE),this._height=i.videoHeight||i.height||Math.min(2048,C.Renderer.MAX_TEXTURE_SIZE),this._ieVideoCanvas.width=this._width,this._ieVideoCanvas.height=this._height),this._ieVideoCanvasCtx.drawImage(this._data[0],0,0,this._width,this._height),T.Context.gl.texImage2D(this._textureTarget,0,this._internalFormat,this._format,this._dataType,this._ieVideoCanvas)}}else T.Context.gl.texImage2D(this._textureTarget,0,this._internalFormat,this._format,this._dataType,this._data[0]);this._disableFlipY()}}else this._type===t.DATA&&this._arrayBuffer&&this._hasNewArrayBuffer?(T.Context.gl.texSubImage2D(this._textureTarget,0,0,0,this._data.width,this._data.height,this._format,this._dataType,this._arrayBuffer),this._hasNewArrayBuffer=!1):this._type===t.CANVAS&&this._hasNewCanvasContent&&(this._enableFlipY(),T.Context.gl.texImage2D(this._textureTarget,0,this._internalFormat,this._format,this._dataType,this._data[0]),this._generateMipmaps&&T.Context.gl.generateMipmap(this._textureTarget),this._disableFlipY(),this._hasNewCanvasContent=!1)}},{key:"enable",value:function(e){this.preload(),this._loaded&&(T.Context.gl.bindTexture(this._textureTarget,this._texture),this.update(e))}},{key:"disable",value:function(){T.Context.gl.bindTexture(this._textureTarget,null)}},{key:"debugDisplay",value:function(){T.Context.eventEmitter.emit(this,t.EVENT_DEBUG_DISPLAY)}},{key:"videoStreamException",get:function(){return this._videoStreamException}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"isRgbm",get:function(){return void 0!==this._rgbmFactor}},{key:"isPackedDepth24",get:function(){return this._packedDepth24}},{key:"isPackedDepth32",get:function(){return this._packedDepth32}},{key:"_isFloatTexture",get:function(){return!this.isRgbm&&!this.isPackedDepth32}},{key:"rgbmFactor",set:function(e){this._rgbmFactor=e},get:function(){return this._rgbmFactor}},{key:"filterType",get:function(){return this._filterType},set:function(e){this._setFilterTypeObject(e),this._loaded&&this._texture&&(T.Context.gl.bindTexture(this._textureTarget,this._texture),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MAG_FILTER,this._filterType.mag),T.Context.gl.texParameteri(this._textureTarget,T.Context.gl.TEXTURE_MIN_FILTER,this._filterType.min),T.Context.gl.bindTexture(this._textureTarget,null))}},{key:"wrapMode",get:function(){return this._wrapMode}},{key:"isCubeMap",get:function(){return this._target===t.CUBE_MAP}},{key:"loaded",set:function(e){(0,A.default)(t.prototype.__proto__||(0,u.default)(t.prototype),"loaded",e,this),this._loaded&&(T.Context.eventEmitter.emit(this,t.EVENT_TEXTURE_LOADED),this._onLoaded&&this._onLoaded())},get:function(){return this._loaded}},{key:"texture",get:function(){return this._texture}},{key:"generateMipmaps",get:function(){return this._generateMipmaps},set:function(e){this._generateMipmaps=e}},{key:"mipmapHint",set:function(e){this._setMipmapHint(e)}},{key:"arrayBuffer",set:function(e){this._arrayBuffer=e,this._hasNewArrayBuffer=!0}},{key:"fps",set:function(e){this._videoMinRefresh=1e3/e}}]),t}((0,I.default)(M.Resource,E.Serializable))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SpatialNode=void 0;var r=n(45),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(5),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(126),A=n(13),g=n(7),v=n(9),y=n(27),b=n(21),E=n(69),w=n(57);t.SpatialNode=function(e){function t(e){(0,u.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n._name=g.Util.getParam(e,"name",""),n._id=g.Util.getGUID(),n._visible=g.Util.getParam(e,"visible",!0),n._controllers=[],n._auxData=g.Util.getParam(e,"auxData",{}),n._transform=g.Util.getParam(e,"transform",new y.Transform),n._worldTransform=new y.Transform,n._transformIsDirty=!0,n._children=[],n._parent=g.Util.getParam(e,"parent"),n._boundingVolume=new E.AxisAlignedBoundingBox,n._forceVisible=g.Util.getParam(e,"forceVisible",!1),n._scene=null,n._tags=new a.default,g.Util.getParam(e,"controllers",[]).forEach(function(e){return n.addController(e)}),g.Util.getParam(e,"children",[]).forEach(function(e){n.addChild(e)}),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"SpatialNode",params:{name:this._name,visible:this._visible,transform:this._transform,parent:this._parent,forceVisible:this._forceVisible,controllers:this._controllers},aux:{children:this._children}}}},{key:"$deserialize",value:function(e){var t=this;e.children.map(function(e){return t.addChild(e)})}}]),(0,f.default)(t,[{key:"addTag",value:function(e){this._tags.add(e)}},{key:"removeTag",value:function(e){return this._tags.delete(e)}},{key:"hasTag",value:function(e){return this._tags.has(e)}},{key:"dtor",value:function(){this._children.forEach(function(e){return e.dtor()})}},{key:"addChild",value:function(e){return e instanceof t&&this._children.indexOf(e)===-1&&(this._children.push(e),e._parent=this,this._propagateDirty(),v.Context.eventEmitter.emit(this,b.Scene.EVENT_SCENELIST_NEEDS_UPDATE)),e}},{key:"removeChild",value:function(e){var n=0;return e instanceof t&&(n=this._children.indexOf(e))!==-1&&(this._children.splice(n,1),e._parent=void 0,this._propagateDirty(),v.Context.eventEmitter.emit(this,b.Scene.EVENT_SCENELIST_NEEDS_UPDATE)),e}},{key:"removeAllChildren",value:function(){this._children.length=0,this._propagateDirty(),v.Context.eventEmitter.emit(this,b.Scene.EVENT_SCENELIST_NEEDS_UPDATE)}},{key:"addController",value:function(e){if(!(e instanceof w.Controller))throw new Error("failed to add controller");this._controllers.indexOf(e)===-1&&(this._controllers.push(e),e.onAddedToScene(this))}},{key:"removeController",value:function(e){var t=0;(t=this._controllers.indexOf(e))!==-1&&(this._controllers.splice(t,1),e.onRemovedFromScene(this))}},{key:"removeAllControllers",value:function(){var e=this;this._controllers.forEach(function(t){t.onRemovedFromScene(e)}),this._controllers.length=0}},{key:"hasController",value:function(e){return this._controllers.indexOf(e)!==-1}},{key:"findByName",value:function(e){return this.findBy("name",e)}},{key:"findAllByName",value:function(e){return this.findAllBy("name",e)}},{key:"findById",value:function(e){return this.findBy("id",e)}},{key:"findAllById",value:function(e){return this.findAllBy("id",e)}},{key:"findByPred",value:function(e){var t=void 0;e(this)&&(t=this);for(var n=0,i=this._children.length;void 0===t&&n<i;++n)t=this._children[n].findByPred(e);return t}},{key:"findAllByTags",value:function(e){return this.findAllByPred(function(t){return e.reduce(function(e,n){return e&&t.hasTag(n)},!0)})}},{key:"findAllByTag",value:function(e){return this.findAllByPred(function(t){return t.hasTag(e)})}},{key:"findAllByPred",value:function(e){var t=[];e(this)&&t.push(this);for(var n=0,i=this._children.length;n<i;++n)t=t.concat(this._children[n].findAllByPred(e));return t}},{key:"findBy",value:function(e,t){var n=void 0;t===this[e]&&(n=this);for(var i=0,r=this._children.length;void 0===n&&i<r;++i)n=this._children[i].findBy(e,t);return n}},{key:"findAllBy",value:function(e,t){var n=[];t===this[e]&&n.push(this);for(var i=0,r=this._children.length;i<r;++i)n=n.concat(this._children[i].findAllBy(e,t));return n}},{key:"childAt",value:function(e){if(e<0||e>=this._children.length)throw new Error("Index of requested child out of range!");
return this._children[e]}},{key:"update",value:function(e){for(var t=0,n=this._children.length;t<n;++t)this._children[t].update(e)}},{key:"updateControllers",value:function(e){for(var t=0,n=this._controllers.length;t<n;++t)this._controllers[t].update(e,this);for(var i=0,r=this._children.length;i<r;++i)this._children[i].updateControllers(e)}},{key:"updateTransform",value:function(){return this._transformIsDirty&&(this._transform._updateMatrix(),this._worldTransform.copyFrom(this._transform),void 0!==this._parent&&this._worldTransform.transformBy(this._parent._worldTransform),this.$updateBoundingVolume(),this.$onTransformUpdated(),this._transformIsDirty=!1),this._boundingVolume}},{key:"intersectWithRay",value:function(e){return m.Intersection.rayWithAABB(e,this._boundingVolume)}},{key:"$updateBoundingVolume",value:function(){this._boundingVolume.reset();for(var e=!1,t=0,n=this._children.length;t<n;++t){var i=this._children[t].updateTransform();i.valid?this._boundingVolume.merge(i):e=!0}e&&this._boundingVolume.reset()}},{key:"$onTransformUpdated",value:function(){}},{key:"$onAddedToScene",value:function(e){this._scene=e,this._children.forEach(function(t){return t.$onAddedToScene(e)})}},{key:"$onRemovedFromScene",value:function(){this._scene=null}},{key:"_propagateDirty",value:function(){this._propagateDirtyDown(),this._propagateDirtyUp()}},{key:"_propagateDirtyDown",value:function(){this._transformIsDirty=!0;for(var e=0,t=this._children.length;e<t;++e)this._children[e]._propagateDirtyDown()}},{key:"_propagateDirtyUp",value:function(){this._transformIsDirty=!0,void 0!==this._parent&&this._parent._propagateDirtyUp()}},{key:"auxData",get:function(){return this._auxData},set:function(e){this._auxData=e}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"visible",get:function(){return this._visible},set:function(e){this._visible!==e&&(this._visible=e,v.Context.eventEmitter.emit(this,b.Scene.EVENT_SCENELIST_NEEDS_UPDATE))}},{key:"forceVisible",get:function(){var e=this._forceVisible;return void 0!==this._parent&&(e=e||this._parent.forceVisible),e},set:function(e){this._forceVisible!==e&&(this._forceVisible=e,v.Context.eventEmitter.emit(this,b.Scene.EVENT_SCENELIST_NEEDS_UPDATE))}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e}},{key:"id",get:function(){return this._id}},{key:"class",get:function(){return(0,s.default)(this).constructor}},{key:"boundingVolume",get:function(){return this._boundingVolume}},{key:"transform",get:function(){return this._propagateDirty(),this._transform},set:function(e){this._transform.copyFrom(e),this._propagateDirty()}},{key:"constTransform",get:function(){return this._transform}},{key:"worldTransform",get:function(){return this._worldTransform}},{key:"childCount",get:function(){return this._children.length}},{key:"children",get:function(){return this._children}},{key:"firstChild",get:function(){return this._children[0]}},{key:"lastChild",get:function(){return this._children[this._children.length-1]}},{key:"boundingVolumeValid",get:function(){return this._boundingVolume.valid}},{key:"$scene",get:function(){return this._scene}}]),t}(A.Serializable)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Matrix4=void 0;var r=n(15),a=i(r),o=n(31),s=i(o),l=n(3),u=i(l),c=n(72),d=i(c),h=n(1),f=i(h),_=n(5),p=i(_),m=n(2),A=i(m),g=n(4),v=i(g),y=n(13),b=void 0,E=t.Matrix4=function(e){function t(e){(0,f.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));if(n._storage=new Float32Array(16),"object"===("undefined"==typeof e?"undefined":(0,s.default)(e))){if("length"in e&&e.length>=16)return n.load(e),(0,p.default)(n);if(e instanceof t)return n.load(e),(0,p.default)(n)}return n.makeIdentity(),n}return(0,v.default)(t,e),(0,A.default)(t,[{key:"$serialize",value:function(){return{name:"Matrix4",params:[].concat((0,d.default)(this._storage))}}}],[{key:"tmp",value:function(e){var n=void 0;return(n=t._pool.get(e))||t._pool.set(e,n=new t),n}}]),(0,A.default)(t,[{key:"load",value:function(){if(1===arguments.length&&"object"===(0,s.default)(arguments[0])){var e=arguments[0];if("length"in e&&16===e.length)return this._storage[0]=e[0],this._storage[1]=e[1],this._storage[2]=e[2],this._storage[3]=e[3],this._storage[4]=e[4],this._storage[5]=e[5],this._storage[6]=e[6],this._storage[7]=e[7],this._storage[8]=e[8],this._storage[9]=e[9],this._storage[10]=e[10],this._storage[11]=e[11],this._storage[12]=e[12],this._storage[13]=e[13],this._storage[14]=e[14],this._storage[15]=e[15],this;if(arguments[0]instanceof t)return this._storage[0]=e._storage[0],this._storage[1]=e._storage[1],this._storage[2]=e._storage[2],this._storage[3]=e._storage[3],this._storage[4]=e._storage[4],this._storage[5]=e._storage[5],this._storage[6]=e._storage[6],this._storage[7]=e._storage[7],this._storage[8]=e._storage[8],this._storage[9]=e._storage[9],this._storage[10]=e._storage[10],this._storage[11]=e._storage[11],this._storage[12]=e._storage[12],this._storage[13]=e._storage[13],this._storage[14]=e._storage[14],this._storage[15]=e._storage[15],this}return this.makeIdentity(),this}},{key:"copyFrom",value:function(e){return this._storage[0]=e._storage[0],this._storage[1]=e._storage[1],this._storage[2]=e._storage[2],this._storage[3]=e._storage[3],this._storage[4]=e._storage[4],this._storage[5]=e._storage[5],this._storage[6]=e._storage[6],this._storage[7]=e._storage[7],this._storage[8]=e._storage[8],this._storage[9]=e._storage[9],this._storage[10]=e._storage[10],this._storage[11]=e._storage[11],this._storage[12]=e._storage[12],this._storage[13]=e._storage[13],this._storage[14]=e._storage[14],this._storage[15]=e._storage[15],this}},{key:"getAsArray",value:function(){return this._storage}},{key:"getAs2DArray",value:function(){return[[this._storage[0],this._storage[1],this._storage[2],this._storage[3]],[this._storage[4],this._storage[5],this._storage[6],this._storage[7]],[this._storage[8],this._storage[9],this._storage[10],this._storage[11]],[this._storage[12],this._storage[13],this._storage[14],this._storage[15]]]}},{key:"copyFromArray",value:function(e){return this._storage[0]=e[0],this._storage[1]=e[1],this._storage[2]=e[2],this._storage[3]=e[3],this._storage[4]=e[4],this._storage[5]=e[5],this._storage[6]=e[6],this._storage[7]=e[7],this._storage[8]=e[8],this._storage[9]=e[9],this._storage[10]=e[10],this._storage[11]=e[11],this._storage[12]=e[12],this._storage[13]=e[13],this._storage[14]=e[14],this._storage[15]=e[15],this}},{key:"copyRotationMatrixToArray",value:function(e){return e[0]=this._storage[0],e[1]=this._storage[1],e[2]=this._storage[2],e[3]=this._storage[4],e[4]=this._storage[5],e[5]=this._storage[6],e[6]=this._storage[8],e[7]=this._storage[9],e[8]=this._storage[10],e}},{key:"copyToArray",value:function(e){return e[0]=this._storage[0],e[1]=this._storage[1],e[2]=this._storage[2],e[3]=this._storage[3],e[4]=this._storage[4],e[5]=this._storage[5],e[6]=this._storage[6],e[7]=this._storage[7],e[8]=this._storage[8],e[9]=this._storage[9],e[10]=this._storage[10],e[11]=this._storage[11],e[12]=this._storage[12],e[13]=this._storage[13],e[14]=this._storage[14],e[15]=this._storage[15],e}},{key:"cloneAsFloat32Array",value:function(){return new Float32Array(this._storage)}},{key:"getAsFloat32Array",value:function(){return this._storage}},{key:"set",value:function(e,t,n){this._storage[t-1+4*(e-1)]=n}},{key:"setAll",value:function(e,t,n,i,r,a,o,s,l,u,c,d,h,f,_,p){var m=this._storage;return m[0]=e,m[1]=t,m[2]=n,m[3]=i,m[4]=r,m[5]=a,m[6]=o,m[7]=s,m[8]=l,m[9]=u,m[10]=c,m[11]=d,m[12]=h,m[13]=f,m[14]=_,m[15]=p,this}},{key:"get",value:function(e,t){return this._storage[t-1+4*(e-1)]}},{key:"makeIdentity",value:function(){return this._storage[0]=1,this._storage[1]=0,this._storage[2]=0,this._storage[3]=0,this._storage[4]=0,this._storage[5]=1,this._storage[6]=0,this._storage[7]=0,this._storage[8]=0,this._storage[9]=0,this._storage[10]=1,this._storage[11]=0,this._storage[12]=0,this._storage[13]=0,this._storage[14]=0,this._storage[15]=1,this}},{key:"transpose",value:function(){var e=this._storage[1];return this._storage[1]=this._storage[4],this._storage[4]=e,e=this._storage[2],this._storage[2]=this._storage[8],this._storage[8]=e,e=this._storage[3],this._storage[3]=this._storage[12],this._storage[12]=e,e=this._storage[6],this._storage[6]=this._storage[9],this._storage[9]=e,e=this._storage[7],this._storage[7]=this._storage[13],this._storage[13]=e,e=this._storage[11],this._storage[11]=this._storage[14],this._storage[14]=e,this}},{key:"equals",value:function(e){return this._storage[0]===e._storage[0]&&this._storage[1]===e._storage[1]&&this._storage[2]===e._storage[2]&&this._storage[3]===e._storage[3]&&this._storage[4]===e._storage[4]&&this._storage[5]===e._storage[5]&&this._storage[6]===e._storage[6]&&this._storage[7]===e._storage[7]&&this._storage[8]===e._storage[8]&&this._storage[9]===e._storage[9]&&this._storage[10]===e._storage[10]&&this._storage[11]===e._storage[11]&&this._storage[12]===e._storage[12]&&this._storage[13]===e._storage[13]&&this._storage[14]===e._storage[14]&&this._storage[15]===e._storage[15]}},{key:"invert",value:function(){var e=this._storage[0],t=this._storage[1],n=this._storage[2],i=this._storage[3],r=this._storage[4],a=this._storage[5],o=this._storage[6],s=this._storage[7],l=this._storage[8],u=this._storage[9],c=this._storage[10],d=this._storage[11],h=this._storage[12],f=this._storage[13],_=this._storage[14],p=this._storage[15],m=e*a-t*r,A=e*o-n*r,g=e*s-i*r,v=t*o-n*a,y=t*s-i*a,b=n*s-i*o,E=l*f-u*h,w=l*_-c*h,S=l*p-d*h,T=u*_-c*f,x=u*p-d*f,C=c*p-d*_,M=m*C-A*x+g*T+v*S-y*w+b*E;return M?(M=1/M,this._storage[0]=(a*C-o*x+s*T)*M,this._storage[1]=(n*x-t*C-i*T)*M,this._storage[2]=(f*b-_*y+p*v)*M,this._storage[3]=(c*y-u*b-d*v)*M,this._storage[4]=(o*S-r*C-s*w)*M,this._storage[5]=(e*C-n*S+i*w)*M,this._storage[6]=(_*g-h*b-p*A)*M,this._storage[7]=(l*b-c*g+d*A)*M,this._storage[8]=(r*x-a*S+s*E)*M,this._storage[9]=(t*S-e*x-i*E)*M,this._storage[10]=(h*y-f*g+p*m)*M,this._storage[11]=(u*g-l*y-d*m)*M,this._storage[12]=(a*w-r*T-o*E)*M,this._storage[13]=(e*T-t*w+n*E)*M,this._storage[14]=(f*A-h*v-_*m)*M,this._storage[15]=(l*v-u*A+c*m)*M,this):null}},{key:"translateVector",value:function(e){var t=this._storage,n=e.x,i=e.y,r=e.z;t[12]=t[0]*n+t[4]*i+t[8]*r+t[12],t[13]=t[1]*n+t[5]*i+t[9]*r+t[13],t[14]=t[2]*n+t[6]*i+t[10]*r+t[14],t[15]=t[3]*n+t[7]*i+t[11]*r+t[15]}},{key:"translate",value:function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);var i=b;return i.makeIdentity(),i._storage[12]=e,i._storage[13]=t,i._storage[14]=n,this.multRight(i),this}},{key:"scale",value:function(e,t,n){void 0===e&&(e=1),void 0===n?void 0===t?(t=e,n=e):n=1:void 0===t&&(t=e);var i=b;return i.makeIdentity(),i._storage[0]=e,i._storage[5]=t,i._storage[10]=n,this.multRight(i),this}},{key:"rotate",value:function(e,t,n,i){e/=2;var r=Math.sin(e),a=Math.cos(e),o=r*r,s=Math.sqrt(t*t+n*n+i*i);0===s?(t=0,n=0,i=1):1!==s&&(t/=s,n/=s,i/=s);var l=b;if(l.makeIdentity(),1===t&&0===n&&0===i)l._storage[0]=1,l._storage[1]=0,l._storage[2]=0,l._storage[4]=0,l._storage[5]=1-2*o,l._storage[6]=2*r*a,l._storage[8]=0,l._storage[9]=-2*r*a,l._storage[10]=1-2*o,l._storage[3]=l._storage[7]=l._storage[11]=0,l._storage[12]=l._storage[13]=l._storage[14]=0,l._storage[15]=1;else if(0===t&&1===n&&0===i)l._storage[0]=1-2*o,l._storage[1]=0,l._storage[2]=-2*r*a,l._storage[4]=0,l._storage[5]=1,l._storage[6]=0,l._storage[8]=2*r*a,l._storage[9]=0,l._storage[10]=1-2*o,l._storage[3]=l._storage[7]=l._storage[11]=0,l._storage[12]=l._storage[13]=l._storage[14]=0,l._storage[15]=1;else if(0===t&&0===n&&1===i)l._storage[0]=1-2*o,l._storage[1]=2*r*a,l._storage[2]=0,l._storage[4]=-2*r*a,l._storage[5]=1-2*o,l._storage[6]=0,l._storage[8]=0,l._storage[9]=0,l._storage[10]=1,l._storage[3]=l._storage[7]=l._storage[11]=0,l._storage[12]=l._storage[13]=l._storage[14]=0,l._storage[15]=1;else{var u=t*t,c=n*n,d=i*i;l._storage[0]=1-2*(c+d)*o,l._storage[1]=2*(t*n*o+i*r*a),l._storage[2]=2*(t*i*o-n*r*a),l._storage[4]=2*(n*t*o-i*r*a),l._storage[5]=1-2*(d+u)*o,l._storage[6]=2*(n*i*o+t*r*a),l._storage[8]=2*(i*t*o+n*r*a),l._storage[9]=2*(i*n*o-t*r*a),l._storage[10]=1-2*(u+c)*o,l._storage[3]=l._storage[7]=l._storage[11]=0,l._storage[12]=l._storage[13]=l._storage[14]=0,l._storage[15]=1}return this.multRight(l),this}},{key:"multRight",value:function(e){var t=this._storage[0]*e._storage[0]+this._storage[1]*e._storage[4]+this._storage[2]*e._storage[8]+this._storage[3]*e._storage[12],n=this._storage[0]*e._storage[1]+this._storage[1]*e._storage[5]+this._storage[2]*e._storage[9]+this._storage[3]*e._storage[13],i=this._storage[0]*e._storage[2]+this._storage[1]*e._storage[6]+this._storage[2]*e._storage[10]+this._storage[3]*e._storage[14],r=this._storage[0]*e._storage[3]+this._storage[1]*e._storage[7]+this._storage[2]*e._storage[11]+this._storage[3]*e._storage[15],a=this._storage[4]*e._storage[0]+this._storage[5]*e._storage[4]+this._storage[6]*e._storage[8]+this._storage[7]*e._storage[12],o=this._storage[4]*e._storage[1]+this._storage[5]*e._storage[5]+this._storage[6]*e._storage[9]+this._storage[7]*e._storage[13],s=this._storage[4]*e._storage[2]+this._storage[5]*e._storage[6]+this._storage[6]*e._storage[10]+this._storage[7]*e._storage[14],l=this._storage[4]*e._storage[3]+this._storage[5]*e._storage[7]+this._storage[6]*e._storage[11]+this._storage[7]*e._storage[15],u=this._storage[8]*e._storage[0]+this._storage[9]*e._storage[4]+this._storage[10]*e._storage[8]+this._storage[11]*e._storage[12],c=this._storage[8]*e._storage[1]+this._storage[9]*e._storage[5]+this._storage[10]*e._storage[9]+this._storage[11]*e._storage[13],d=this._storage[8]*e._storage[2]+this._storage[9]*e._storage[6]+this._storage[10]*e._storage[10]+this._storage[11]*e._storage[14],h=this._storage[8]*e._storage[3]+this._storage[9]*e._storage[7]+this._storage[10]*e._storage[11]+this._storage[11]*e._storage[15],f=this._storage[12]*e._storage[0]+this._storage[13]*e._storage[4]+this._storage[14]*e._storage[8]+this._storage[15]*e._storage[12],_=this._storage[12]*e._storage[1]+this._storage[13]*e._storage[5]+this._storage[14]*e._storage[9]+this._storage[15]*e._storage[13],p=this._storage[12]*e._storage[2]+this._storage[13]*e._storage[6]+this._storage[14]*e._storage[10]+this._storage[15]*e._storage[14],m=this._storage[12]*e._storage[3]+this._storage[13]*e._storage[7]+this._storage[14]*e._storage[11]+this._storage[15]*e._storage[15];return this._storage[0]=t,this._storage[1]=n,this._storage[2]=i,this._storage[3]=r,this._storage[4]=a,this._storage[5]=o,this._storage[6]=s,this._storage[7]=l,this._storage[8]=u,this._storage[9]=c,this._storage[10]=d,this._storage[11]=h,this._storage[12]=f,this._storage[13]=_,this._storage[14]=p,this._storage[15]=m,this}},{key:"multLeft",value:function(e){var t=e._storage[0]*this._storage[0]+e._storage[1]*this._storage[4]+e._storage[2]*this._storage[8]+e._storage[3]*this._storage[12],n=e._storage[0]*this._storage[1]+e._storage[1]*this._storage[5]+e._storage[2]*this._storage[9]+e._storage[3]*this._storage[13],i=e._storage[0]*this._storage[2]+e._storage[1]*this._storage[6]+e._storage[2]*this._storage[10]+e._storage[3]*this._storage[14],r=e._storage[0]*this._storage[3]+e._storage[1]*this._storage[7]+e._storage[2]*this._storage[11]+e._storage[3]*this._storage[15],a=e._storage[4]*this._storage[0]+e._storage[5]*this._storage[4]+e._storage[6]*this._storage[8]+e._storage[7]*this._storage[12],o=e._storage[4]*this._storage[1]+e._storage[5]*this._storage[5]+e._storage[6]*this._storage[9]+e._storage[7]*this._storage[13],s=e._storage[4]*this._storage[2]+e._storage[5]*this._storage[6]+e._storage[6]*this._storage[10]+e._storage[7]*this._storage[14],l=e._storage[4]*this._storage[3]+e._storage[5]*this._storage[7]+e._storage[6]*this._storage[11]+e._storage[7]*this._storage[15],u=e._storage[8]*this._storage[0]+e._storage[9]*this._storage[4]+e._storage[10]*this._storage[8]+e._storage[11]*this._storage[12],c=e._storage[8]*this._storage[1]+e._storage[9]*this._storage[5]+e._storage[10]*this._storage[9]+e._storage[11]*this._storage[13],d=e._storage[8]*this._storage[2]+e._storage[9]*this._storage[6]+e._storage[10]*this._storage[10]+e._storage[11]*this._storage[14],h=e._storage[8]*this._storage[3]+e._storage[9]*this._storage[7]+e._storage[10]*this._storage[11]+e._storage[11]*this._storage[15],f=e._storage[12]*this._storage[0]+e._storage[13]*this._storage[4]+e._storage[14]*this._storage[8]+e._storage[15]*this._storage[12],_=e._storage[12]*this._storage[1]+e._storage[13]*this._storage[5]+e._storage[14]*this._storage[9]+e._storage[15]*this._storage[13],p=e._storage[12]*this._storage[2]+e._storage[13]*this._storage[6]+e._storage[14]*this._storage[10]+e._storage[15]*this._storage[14],m=e._storage[12]*this._storage[3]+e._storage[13]*this._storage[7]+e._storage[14]*this._storage[11]+e._storage[15]*this._storage[15];return this._storage[0]=t,this._storage[1]=n,this._storage[2]=i,this._storage[3]=r,this._storage[4]=a,this._storage[5]=o,this._storage[6]=s,this._storage[7]=l,this._storage[8]=u,this._storage[9]=c,this._storage[10]=d,this._storage[11]=h,this._storage[12]=f,this._storage[13]=_,this._storage[14]=p,this._storage[15]=m,this}},{key:"ortho",value:function(e,t,n,i,r,a){var o=(e+t)/(e-t),s=(i+n)/(i-n),l=(a+r)/(a-r);return this._storage[0]=2/(e-t),this._storage[1]=0,this._storage[2]=0,this._storage[3]=0,this._storage[4]=0,this._storage[5]=2/(i-n),this._storage[6]=0,this._storage[7]=0,this._storage[8]=0,this._storage[9]=0,this._storage[10]=-2/(a-r),this._storage[11]=0,this._storage[12]=o,this._storage[13]=s,this._storage[14]=l,this._storage[15]=1,this}},{key:"frustum",value:function(e,t,n,i,r,a){var o=(t+e)/(t-e),s=(i+n)/(i-n),l=-(a+r)/(a-r),u=-(2*a*r)/(a-r);return this._storage[0]=2*r/(t-e),this._storage[1]=0,this._storage[2]=0,this._storage[3]=0,this._storage[4]=0,this._storage[5]=2*r/(i-n),this._storage[6]=0,this._storage[7]=0,this._storage[8]=o,this._storage[9]=s,this._storage[10]=l,this._storage[11]=-1,this._storage[12]=0,this._storage[13]=0,this._storage[14]=u,this._storage[15]=0,this}},{key:"perspective",value:function(e,t,n,i){var r=Math.tan(e*Math.PI/360)*n,a=-r,o=t*a,s=t*r;return this.frustum(o,s,a,r,n,i),this}},{key:"lookat",value:function(e,t,n,i,r,a,o,s,l){var u=b;u.makeIdentity();var c=e-i,d=t-r,h=n-a,f=Math.sqrt(c*c+d*d+h*h);f&&(c/=f,d/=f,h/=f);var _=o,p=s,m=l,A=p*h-m*d,g=-_*h+m*c,v=_*d-p*c;return _=d*v-h*g,p=-c*v+h*A,_=c*g-d*A,f=Math.sqrt(A*A+g*g+v*v),f&&(A/=f,g/=f,v/=f),f=Math.sqrt(_*_+p*p+m*m),f&&(_/=f,p/=f,m/=f),u._storage[0]=A,u._storage[1]=g,u._storage[2]=v,u._storage[3]=0,u._storage[4]=_,u._storage[5]=p,u._storage[6]=m,u._storage[7]=0,u._storage[8]=c,u._storage[9]=d,u._storage[10]=h,u._storage[11]=0,u._storage[12]=0,u._storage[13]=0,u._storage[14]=0,u._storage[15]=1,u.translate(-e,-t,-n),this.multRight(u),this}},{key:"_determinant2x2",value:function(e,t,n,i){return e*i-t*n}},{key:"determinant3x3",value:function(){return this._determinant3x3(this._storage[0],this._storage[4],this._storage[8],this._storage[1],this._storage[5],this._storage[9],this._storage[2],this._storage[6],this._storage[10])}},{key:"_determinant3x3",value:function(e,t,n,i,r,a,o,s,l){return e*this._determinant2x2(r,a,s,l)-i*this._determinant2x2(t,n,s,l)+o*this._determinant2x2(t,n,r,a)}},{key:"_determinant4x4",value:function(){var e=this._storage[0],t=this._storage[1],n=this._storage[2],i=this._storage[3],r=this._storage[4],a=this._storage[5],o=this._storage[6],s=this._storage[7],l=this._storage[8],u=this._storage[9],c=this._storage[10],d=this._storage[11],h=this._storage[12],f=this._storage[13],_=this._storage[14],p=this._storage[15];return e*this._determinant3x3(a,u,f,o,c,_,s,d,p)-t*this._determinant3x3(r,l,h,o,c,_,s,d,p)+n*this._determinant3x3(r,l,h,a,u,f,s,d,p)-i*this._determinant3x3(r,l,h,a,u,f,o,c,_)}},{key:"_makeAdjoint",value:function(){var e=this._storage[0],t=this._storage[1],n=this._storage[2],i=this._storage[3],r=this._storage[4],a=this._storage[5],o=this._storage[6],s=this._storage[7],l=this._storage[8],u=this._storage[9],c=this._storage[10],d=this._storage[11],h=this._storage[12],f=this._storage[13],_=this._storage[14],p=this._storage[15];this._storage[0]=this._determinant3x3(a,u,f,o,c,_,s,d,p),this._storage[4]=-this._determinant3x3(r,l,h,o,c,_,s,d,p),this._storage[8]=this._determinant3x3(r,l,h,a,u,f,s,d,p),this._storage[12]=-this._determinant3x3(r,l,h,a,u,f,o,c,_),this._storage[1]=-this._determinant3x3(t,u,f,n,c,_,i,d,p),this._storage[5]=this._determinant3x3(e,l,h,n,c,_,i,d,p),this._storage[9]=-this._determinant3x3(e,l,h,t,u,f,i,d,p),this._storage[13]=this._determinant3x3(e,l,h,t,u,f,n,c,_),this._storage[2]=this._determinant3x3(t,a,f,n,o,_,i,s,p),this._storage[6]=-this._determinant3x3(e,r,h,n,o,_,i,s,p),this._storage[10]=this._determinant3x3(e,r,h,t,a,f,i,s,p),this._storage[14]=-this._determinant3x3(e,r,h,t,a,f,n,o,_),this._storage[3]=-this._determinant3x3(t,a,u,n,o,c,i,s,d),this._storage[7]=this._determinant3x3(e,r,l,n,o,c,i,s,d),this._storage[11]=-this._determinant3x3(e,r,l,t,a,u,i,s,d),this._storage[15]=this._determinant3x3(e,r,l,t,a,u,n,o,c)}},{key:"fromTRS",value:function(e,t,n){var i=this._storage,r=t,a=e,o=n,s=r.x,l=r.y,u=r.z,c=r.w,d=s+s,h=l+l,f=u+u,_=s*d,p=s*h,m=s*f,A=l*h,g=l*f,v=u*f,y=c*d,b=c*h,E=c*f,w=o.x,S=o.y,T=o.z;return i[0]=w*(1-(A+v)),i[1]=w*(p-E),i[2]=w*(m+b),i[3]=0,i[4]=S*(p+E),i[5]=S*(1-(_+v)),i[6]=S*(g-y),i[7]=0,i[8]=T*(m-b),i[9]=T*(g+y),i[10]=T*(1-(_+A)),i[11]=0,i[12]=a.x,i[13]=a.y,i[14]=a.z,i[15]=1,this}},{key:"toTRS",value:function(e,t,n){return this.toTranslation(e),this.toRotation(t),this.toScale(n),this}},{key:"fromTranslation",value:function(e){return this.setAll(1,0,0,0,0,1,0,0,0,0,1,0,e.x,e.y,e.z,1),this}},{key:"toTranslation",value:function(e){var t=this._storage;return e.x=t[12],e.y=t[13],e.z=t[14],e}},{key:"fromScale",value:function(e){return this.setAll(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1),this}},{key:"toScale",value:function(e){var t=this._storage,n=t[0],i=t[1],r=t[2];e.x=Math.sqrt(n*n+i*i+r*r);var a=t[4],o=t[5],s=t[6];e.y=Math.sqrt(a*a+o*o+s*s);var l=t[8],u=t[9],c=t[10];return e.z=Math.sqrt(l*l+u*u+c*c),e}},{key:"toRotation",value:function(e){var t=this._storage,n=t[0],i=t[1],r=t[2],a=1/Math.sqrt(n*n+i*i+r*r),o=t[4],s=t[5],l=t[6],u=1/Math.sqrt(o*o+s*s+l*l),c=t[8],d=t[9],h=t[10],f=1/Math.sqrt(c*c+d*d+h*h);n*=a,i*=a,r*=a,o*=u,s*=u,l*=u,c*=f,d*=f,h*=f;var _=n+s+h,p=void 0;return _>0?(p=.5/Math.sqrt(_+1),e.x=(d-l)*p,e.y=(r-c)*p,e.z=(o-i)*p,e.w=.25/p):n>s&&n>h?(p=2*Math.sqrt(1+n-s-h),e.x=.25*p,e.y=(i+o)/p,e.z=(r+c)/p,e.w=(d-l)/p):s>h?(p=2*Math.sqrt(1+s-n-h),e.x=(i+o)/p,e.y=.25*p,e.z=(l+d)/p,e.w=(r-c)/p):(p=2*Math.sqrt(1+h-n-s),e.x=(r+c)/p,e.y=(l+d)/p,e.z=.25*p,e.w=(o-i)/p),e}},{key:"fromRotation",value:function(e){var t=e.x,n=e.y,i=e.z,r=e.w,a=t+t,o=n+n,s=i+i,l=t*a,u=t*o,c=t*s,d=n*o,h=n*s,f=i*s,_=r*a,p=r*o,m=r*s,A=this._storage;return A[0]=1-(d+f),A[1]=u-m,A[2]=c+p,A[3]=0,A[4]=u+m,A[5]=1-(l+f),A[6]=h-_,A[7]=0,A[8]=c-p,A[9]=h+_,A[10]=1-(l+d),A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,this}}]),t}(y.Serializable);E._pool=new a.default,b=new E},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Transform=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(13),p=n(7),m=n(26),A=n(11),g=n(30);t.Transform=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));n._inverseMatrix=new m.Matrix4,n._position=p.Util.getParam(e,"position",new A.Vector3),n._rotation=p.Util.getParam(e,"rotation",new g.Quaternion),n._scale=p.Util.getParam(e,"scale",(new A.Vector3).copyFrom(A.Vector3.ONE)),n._nonTRS=p.Util.getParam(e,"nonTRS",!1);var i=p.Util.getParam(e,"matrix");return i?n.matrix=i:(n._matrix=new m.Matrix4,n._updateMatrix()),n._tmpVec=new A.Vector3,n._tmpQuat=new g.Quaternion,n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"Transform",params:{position:this._position,rotation:this._rotation,scale:this._scale,nonTRS:this._nonTRS,matrix:this._matrix}}}}]),(0,d.default)(t,[{key:"copyFrom",value:function(e){return this._nonTRS=e.nonTRS,this._matrix.copyFrom(e.matrix),this._inverseMatrix.copyFrom(e.inverseMatrix),e.nonTRS||(this._position.copyFrom(e.position),this._rotation.copyFrom(e.rotation),this._scale.copyFrom(e.scale)),this}},{key:"isMirrored",value:function(){return this._matrix.determinant3x3()<0}},{key:"reset",value:function(){return this._matrix.makeIdentity(),this._matrix.toTRS(this._position,this._rotation,this._scale),this}},{key:"lookDirectionFromRotation",value:function(e){return e.x=this._matrix._storage[2],e.y=this._matrix._storage[6],e.z=this._matrix._storage[10],e}},{key:"lookUpFromRotation",value:function(e){return e.x=this._matrix._storage[1],e.y=this._matrix._storage[5],e.z=this._matrix._storage[9],e}},{key:"lookRightFromRotation",value:function(e){return e.x=this._matrix._storage[0],e.y=this._matrix._storage[4],e.z=this._matrix._storage[8],e}},{key:"rotationFromAngleAxis",value:function(e,t){return this._rotation.fromAxisAngle(t,e),this._updateMatrix(),this}},{key:"rotationFromAngleX",value:function(e){return this._rotation.fromAxisAngle(A.Vector3.X_AXIS,e),this._updateMatrix(),this}},{key:"rotationFromAngleY",value:function(e){return this._rotation.fromAxisAngle(A.Vector3.Y_AXIS,e),this._updateMatrix(),this}},{key:"rotationFromAngleZ",value:function(e){return this._rotation.fromAxisAngle(A.Vector3.Z_AXIS,e),this._updateMatrix(),this}},{key:"rotateAround",value:function(e,t){return this._tmpQuat.fromAxisAngle(e,t),this._rotation.mult(this._tmpQuat),this._updateMatrix(),this}},{key:"rotateAroundX",value:function(e){return this.rotateAround(A.Vector3.X_AXIS,e)}},{key:"rotateAroundY",value:function(e){return this.rotateAround(A.Vector3.Y_AXIS,e)}},{key:"rotateAroundZ",value:function(e){return this.rotateAround(A.Vector3.Z_AXIS,e)}},{key:"scaleUniformBy",value:function(e){return this._scale.x*=e,this._scale.y*=e,this._scale.z*=e,this._updateMatrix(),this}},{key:"scaleBy",value:function(e){return this._scale.x*=e.x,this._scale.y*=e.y,this._scale.z*=e.z,this._updateMatrix(),this}},{key:"translateBy",value:function(e){return this._position.x+=e.x,this._position.y+=e.y,this._position.z+=e.z,this._updateMatrix(),this}},{key:"applyMatrix",value:function(e){this.matrix=this._matrix.multRight(e)}},{key:"applyMatrixLeft",value:function(e){this.matrix=this._matrix.multLeft(e)}},{key:"getNorm",value:function(){if(this._nonTRS)throw new Error("non TRS norm cannot be computed. sorry.");return Math.max(Math.abs(this._scale.x),Math.max(Math.abs(this._scale.y),Math.abs(this._scale.z)))}},{key:"transformBy",value:function(e){this.matrix=this._matrix.multRight(e.matrix)}},{key:"transformPoint",value:function(e){return this._nonTRS?e.mult4x4(this._matrix):e.transformForward(this._matrix)}},{key:"transformDirection",value:function(e){return e.transformForwardUpper3x3(this._matrix)}},{key:"inverseTransformPoint",value:function(e){return this._nonTRS?e.mult4x4(this._inverseMatrix):e.transformForward(this._inverseMatrix)}},{key:"inverseTransformDirection",value:function(e){return e.transformForwardUpper3x3(this._inverseMatrix)}},{key:"_updateInverseMatrix",value:function(){this._inverseMatrix.copyFrom(this._matrix).invert()}},{key:"_updateMatrix",value:function(){this._matrix.fromTRS(this._position,this._rotation,this._scale),this._updateInverseMatrix()}},{key:"nonTRS",set:function(e){this._nonTRS=e},get:function(){return this._nonTRS}},{key:"scale",get:function(){return this._scale},set:function(e){this._scale.copyFrom(e),this._updateMatrix()}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation.copyFrom(e),this._updateMatrix()}},{key:"position",set:function(e){this._position.copyFrom(e),this._updateMatrix()},get:function(){return this._position}},{key:"matrix",get:function(){return this._matrix},set:function(e){this._nonTRS?(this._matrix.copyFrom(e),this._updateInverseMatrix()):(e.toTRS(this._position,this._rotation,this._scale),this._updateMatrix())}},{key:"inverseMatrix",get:function(){return this._inverseMatrix}},{key:"uniformScale",set:function(e){this._scale.x=e,this._scale.y=e,this._scale.z=e,this._updateMatrix()}}]),t}(_.Serializable)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(484),a=i(r),o=n(114),s=i(o);t.default=function(){var e="function"==typeof s.default&&a.default&&(0,a.default)("react.element")||60103;return function(t,n,i,r){var a=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===o)n.children=r;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===i?null:""+i,ref:null,props:n,_owner:null}}}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(8),p=i(_),m=n(9),A=n(55),g=n(128),v=t.Resource=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e._catalogId=null,e._dependencies=[],e._dependees=[],e._loaded=!1,e}return(0,f.default)(t,e),(0,d.default)(t,[{key:"initializer",value:function(){(0,p.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"initializer",this).call(this),this._catalogId=null,this._dependencies=[],this._dependees=[],this._loaded=!1}}]),(0,d.default)(t,[{key:"dtor",value:function(){var e=this;this._dependees.forEach(function(t){return t.removeResourceDependency(e)}),this._dependencies.length=0,this._dependees.length=0,this._loaded=!1,this._resourceLoading&&(m.Context.eventEmitter.emit(this,A.LoadingManager.EVENT_LOADING_END),this._resourceLoading=!1)}},{key:"addResourceDependency",value:function(e){this._dependencies.indexOf(e)===-1&&(this._dependencies.push(e),e._dependees.indexOf(this)===-1&&e._dependees.push(this))}},{key:"removeResourceDependency",value:function(e){var t=0;(t=this._dependencies.indexOf(e))!==-1&&(this._dependencies.splice(t,1),(t=e._dependees.indexOf(this))!==-1&&e._dependees.splice(t,1))}},{key:"markLoading",value:function(){this._resourceLoading||(m.Context.eventEmitter.emit(this,A.LoadingManager.EVENT_LOADING_START),this._resourceLoading=!0)}},{key:"loaded",get:function(){if(!this._loaded)return!1;for(var e=this._dependencies.length-1;e>=0;--e)if(!this._dependencies[e].loaded)return!1;return!0},set:function(e){this._loaded=e,e&&this._resourceLoading&&(m.Context.eventEmitter.emit(this,A.LoadingManager.EVENT_LOADING_END),this.$emitEvent(t.LOADED,this),this._resourceLoading=!1)}},{key:"catalogId",get:function(){return this._catalogId},set:function(e){this._catalogId=e}}]),t}(g.EventListener);v.LOADED="loaded"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Quaternion=void 0;var r=n(15),a=i(r),o=n(31),s=i(o),l=n(3),u=i(l),c=n(1),d=i(c),h=n(5),f=i(h),_=n(2),p=i(_),m=n(4),A=i(m),g=n(9),v=n(11),y=n(14),b=n(26),E=n(13),w=new v.Vector3,S=new v.Vector3,T=new v.Vector3,x=new b.Matrix4,C=t.Quaternion=function(e){function t(){(0,d.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,u.default)(t)).call(this));return 1===arguments.length&&"object"===(0,s.default)(arguments[0])?e.load(arguments[0]):4===arguments.length?(e.x=arguments[0],e.y=arguments[1],e.z=arguments[2],e.w=arguments[3]):e.zero(),e}return(0,A.default)(t,e),(0,p.default)(t,[{key:"$serialize",value:function(){return{name:"Quaternion",params:[this.x,this.y,this.z,this.w]}}}],[{key:"tmp",value:function(e){var n=void 0;return(n=t._pool.get(e))||t._pool.set(e,n=new t),n}},{key:"add",value:function(e,n){var i=new t;return i.copyFrom(e),i.add(n),i}},{key:"addOut",value:function(e,t,n){return n.copyFrom(e),n.add(t),n}},{key:"sub",value:function(e,n){
var i=new t;return i.copyFrom(e),i.sub(n),i}},{key:"subOut",value:function(e,t,n){return n.copyFrom(e),n.sub(t),n}},{key:"mult",value:function(e,n){var i=new t;return i.copyFrom(e),i.mult(n),i}},{key:"multOut",value:function(e,t,n){return n.copyFrom(e),n.mult(t),n}}]),(0,p.default)(t,[{key:"load",value:function(){if(1!==arguments.length||"object"!==(0,s.default)(arguments[0]))throw new Error("trying to instanciate Quaternion with incompatible type");var e=arguments[0];"length"in e&&4===e.length?(this.x=e[0],this.y=e[1],this.z=e[2],this.w=e[3]):arguments[0]instanceof t&&(this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w)}},{key:"copyFromArray",value:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this.w=e[3],this}},{key:"copyFrom",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}},{key:"equal",value:function(e){return this.x===e.x&&this.y===e.y&&this.y===e.z&&this.w===e.w}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"multScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"mult",value:function(e){var t=this.x,n=this.y,i=this.z,r=this.w,a=e.x,o=e.y,s=e.z,l=e.w;return this.x=t*l+r*a+n*s-i*o,this.y=n*l+r*o+i*a-t*s,this.z=i*l+r*s+t*o-n*a,this.w=r*l-t*a-n*o-i*s,this}},{key:"div",value:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t,this.z*=t,this.w*=t}else this.x=Number.POSITIVE_INFINITY,this.y=Number.POSITIVE_INFINITY,this.z=Number.POSITIVE_INFINITY,this.w=Number.POSITIVE_INFINITY;return this}},{key:"neg",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"zero",value:function(){return this.x=0,this.y=0,this.z=0,this.w=1,this}},{key:"fromUnitVectors",value:function(e,t){var n=1e-6,i=e.dot(t)+1;return i<n?(i=0,Math.abs(e.x)>Math.abs(e.z)?w.set(-e.y,e.x,0):w.set(0,-e.z,e.y)):v.Vector3.crossOut(e,t,w),this.x=w.x,this.y=w.y,this.z=w.z,this.w=i,this.normalize(),this}},{key:"fromLookRotation",value:function(e,t,n){return this.fromRotationMatrixSeparate(t.x,t.y,t.z,n.x,n.y,n.z,-e.x,-e.y,-e.z)}},{key:"fromRotationMatrix",value:function(e){return this.fromRotationMatrixSeparate(e._storage[0],e._storage[1],e._storage[2],e._storage[4],e._storage[5],e._storage[6],e._storage[8],e._storage[9],e._storage[10])}},{key:"fromRotationMatrixSeparate",value:function(e,t,n,i,r,a,o,s,l){var u=e+r+l,c=void 0;return u>0?(c=Math.sqrt(u+1),this.w=.5*c,c=.5/c,this.x=(s-a)*c,this.y=(n-o)*c,this.z=(i-t)*c):e>r&&e>l?(c=2*Math.sqrt(1+e-r-l),this.x=.25*c,this.y=(t+i)/c,this.z=(n+o)/c,this.w=(s-a)/c):r>l?(c=2*Math.sqrt(1+r-e-l),this.x=(t+i)/c,this.y=.25*c,this.z=(a+s)/c,this.w=(n-o)/c):(c=2*Math.sqrt(1+l-e-r),this.x=(n+o)/c,this.y=(a+s)/c,this.z=.25*c,this.w=(i-t)/c),this}},{key:"toRotationMatrix",value:function(e){e=e||new b.Matrix4;var t=2*this.x,n=2*this.y,i=2*this.z,r=t*this.w,a=n*this.w,o=i*this.w,s=t*this.x,l=n*this.x,u=i*this.x,c=n*this.y,d=i*this.y,h=i*this.z;return e.set(1,1,1-(c+h)),e.set(1,2,l-o),e.set(1,3,u+a),e.set(2,1,l+o),e.set(2,2,1-(s+h)),e.set(2,3,d-r),e.set(3,1,u-a),e.set(3,2,d+r),e.set(3,3,1-(s+c)),e}},{key:"toEuler",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"XYZ",n=this.x*this.y+this.z*this.w,i=void 0,r=void 0,a=void 0;if(n>.499)r=2*Math.atan2(this.x,this.w),a=Math.PI/2,i=0;else if(n<-.499)r=-2*Math.atan2(this.x,this.w),a=-Math.PI/2,i=0;else{var o=this.x*this.x,s=this.y*this.y,l=this.z*this.z;r=Math.atan2(2*this.y*this.w-2*this.x*this.z,1-2*s-2*l),a=Math.asin(2*n),i=Math.atan2(2*this.x*this.w-2*this.y*this.z,1-2*o-2*l)}return void 0===t||"XYZ"===t?(e.x=i,e.y=r,e.z=a):"YXZ"===t?(e.x=r,e.y=i,e.z=a):"ZXY"===t?(e.x=a,e.y=i,e.z=r):"ZYX"===t?(e.x=a,e.y=r,e.z=i):"YZX"===t?(e.x=r,e.y=a,e.z=i):"XZY"===t&&(e.x=i,e.y=a,e.z=r),e}},{key:"fromEuler",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"XYZ",n=Math.cos(e.x/2),i=Math.cos(e.y/2),r=Math.cos(e.z/2),a=Math.sin(e.x/2),o=Math.sin(e.y/2),s=Math.sin(e.z/2);return"XYZ"===t?(this.x=a*i*r+n*o*s,this.y=n*o*r-a*i*s,this.z=n*i*s+a*o*r,this.w=n*i*r-a*o*s):"YXZ"===t?(this.x=a*i*r+n*o*s,this.y=n*o*r-a*i*s,this.z=n*i*s-a*o*r,this.w=n*i*r+a*o*s):"ZXY"===t?(this.x=a*i*r-n*o*s,this.y=n*o*r+a*i*s,this.z=n*i*s+a*o*r,this.w=n*i*r-a*o*s):"ZYX"===t?(this.x=a*i*r-n*o*s,this.y=n*o*r+a*i*s,this.z=n*i*s-a*o*r,this.w=n*i*r+a*o*s):"YZX"===t?(this.x=a*i*r+n*o*s,this.y=n*o*r+a*i*s,this.z=n*i*s-a*o*r,this.w=n*i*r-a*o*s):"XZY"===t&&(this.x=a*i*r-n*o*s,this.y=n*o*r-a*i*s,this.z=n*i*s+a*o*r,this.w=n*i*r+a*o*s),this}},{key:"fromAxisAngle",value:function(e,t){var n=.5*t,i=Math.sin(n);return this.w=Math.cos(n),this.x=i*e.x,this.y=i*e.y,this.z=i*e.z,this}},{key:"toAxisAngle",value:function(e){e=e||{axis:new v.Vector3,angle:0},e.angle=0;var t=this.x*this.x+this.y*this.y+this.z*this.z;if(t>y.MathUtil.ZERO_TOLERANCE){e.angle=2*Math.acos(this.w);var n=1/Math.sqrt(t);e.axis.x=this.x*n,e.axis.y=this.y*n,e.axis.z=this.z*n}return e}},{key:"length",value:function(){return Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"sqrLength",value:function(){return this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z}},{key:"dot",value:function(e){return this.w*e.w+this.x*e.x+this.y*e.y+this.z*e.z}},{key:"normalize",value:function(){var e=this.length();if(e>y.MathUtil.ZERO_TOLERANCE){var t=1/e;this.x*=t,this.y*=t,this.z*=t,this.w*=t}else this.w=0,this.x=0,this.y=0,this.z=0;return this}},{key:"invert",value:function(){var e=this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z;if(e>0){var t=1/e;this.w=this.w*t,this.x=-this.x*t,this.y=-this.y*t,this.z=-this.z*t}else g.Context.logger.error(this,"Quaternion: cannot invert quaternion");return this}},{key:"rotate",value:function(e){var t=this.toRotationMatrix(x);return e.transformForward(t)}},{key:"slerp",value:function(e,t){var n=this.x,i=this.y,r=this.z,a=this.w,o=e.x,s=e.y,l=e.z,u=e.w,c=void 0;c=n*o+i*s+r*l+a*u,c<0&&(c=-c,o=-o,s=-s,l=-l,u=-u);var d=void 0,h=void 0;if(1-c>y.MathUtil.ZERO_TOLERANCE){var f=Math.acos(c),_=Math.sin(f);d=Math.sin((1-t)*f)/_,h=Math.sin(t*f)/_}else d=1-t,h=t;return this.x=d*n+h*o,this.y=d*i+h*s,this.z=d*r+h*l,this.w=d*a+h*u,this}},{key:"set",value:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}},{key:"toString",value:function(){return"q("+this.w+", "+this.x+", "+this.y+", "+this.z+")"}}],[{key:"fromVectors",value:function(e,t,n){this.zero(),w.copyFrom(e),S.copyFrom(t),w.normalize(),S.normalize();var i=w.dot(S);if(i>=1)return this;if(i<1e-6-1)n?this.fromAxisAngle(n,Math.PI):(T.copyFrom(v.Vector3.X_AXIS),T.cross(e),T.magnitudeSquared()<1e-12&&(T.copyFrom(v.Vector3.Y_AXIS),T.cross(e)),T.normalize(),this.fromAxisAngle(T,Math.PI));else{var r=Math.sqrt(2*(1+i)),a=1/r;w.cross(S),this.x=w.x*a,this.y=w.y*a,this.z=w.z*a,this.w=.5*r,this.normalize()}return this}}]),t}(E.Serializable);C._pool=new a.default},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RenderableNode=void 0;var r=n(145),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(2),p=i(_),m=n(4),A=i(m),g=n(25),v=n(21),y=n(7),b=n(9),E=n(63),w=t.RenderableNode=function(e){function t(e){(0,u.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n._renderPass={},n._renderPass[v.Scene.RENDERPASS_DEBUG_OVERDRAW]=t._defaultRenderPassFunction,n._renderPass[v.Scene.RENDERPASS_SSR_PRE]=t._defaultRenderPassFunction,n._renderPass[v.Scene.RENDERPASS_FORWARD]=t._defaultRenderPassFunction,n._renderPass[v.Scene.RENDERPASS_NOP]=t._defaultRenderPassFunction,n._renderPass[v.Scene.RENDERPASS_FORWARD_DEPTH]=t._defaultRenderPassFunction,n._renderPass[v.Scene.RENDERPASS_FORWARD_REFRACTIVE]=t._refractiveRenderPassFunction,n._renderPass[v.Scene.RENDERPASS_SHADOW_MAP]=t._shadowRenderPassFunction,n._renderPass[v.Scene.RENDERPASS_FORWARD_TRANSLUCENT]=t._translucentRenderPassFunction,n._renderPass[v.Scene.RENDERPASS_MOTION_BLUR]=t._motionBlurRenderPassFunction,n._renderPass[v.Scene.RENDERPASS_UI_1]=t._uiRenderPassFunction,n._geometry=y.Util.getParamRequired(e,"geometry"),n._materialByPass=y.Util.getParamRequired(e,"materialByPass"),n._forceNoCull=y.Util.getParam(e,"forceNoCull",!1),n._sortPassData=y.Util.getParam(e,"sortPassData",{}),n._vrMode=y.Util.getParam(e,"vrMode",t.VR_MODE_BOTH),n}return(0,A.default)(t,e),(0,p.default)(t,[{key:"$serialize",value:function(){return{name:"RenderableNode",params:{geometry:this._geometry,materialbyPass:this._materialByPass,forceNoCull:this._forceNoCull,sortPassData:this._sortPassData}}}}],[{key:"_defaultRenderPassFunction",value:function(e){return!e.refractive&&!e.ui&&(e.opaque||!e.opaque&&e.discard===E.SurfaceMaterial.DISCARD_TRANSPARENT)}},{key:"_refractiveRenderPassFunction",value:function(e){return e.refractive&&b.Context.qualityManager.quality.blurredRefractionsEnabled&&!e.opaque&&!e.ui}},{key:"_translucentRenderPassFunction",value:function(e){return!e.opaque&&!e.ui&&(!e.refractive||e.refractive&&b.Context.qualityManager.quality.blurredRefractionsEnabled)&&e.discard!==E.SurfaceMaterial.DISCARD_TRANSPARENT}},{key:"_shadowRenderPassFunction",value:function(e){return e.opaque&&e.castsShadow}},{key:"_motionBlurRenderPassFunction",value:function(e){return e.motionBlurred&&b.Context.qualityManager.quality.motionBlurEnabled}},{key:"_uiRenderPassFunction",value:function(e){return e.ui}}]),(0,p.default)(t,[{key:"dtor",value:function(){var e=this;this._geometry&&this._geometry.dtor(),this._materialByPass&&(0,a.default)(this._materialByPass).forEach(function(t){return e._materialByPass[t].dtor()}),(0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"dtor",this).call(this)}},{key:"render",value:function(e,n,i){var r=this._materialByPass[n];r&&r.enable()&&r.effect.isConfigurable&&e.draw(this._geometry,r.effect,this._worldTransform,i,this._vrMode===t.VR_MODE_BOTH||this._vrMode===t.VR_MODE_LEFT,this._vrMode===t.VR_MODE_BOTH||this._vrMode===t.VR_MODE_RIGHT)}},{key:"supportsPass",value:function(e){return!(!this._renderPass[e]||!this._materialByPass[e])&&this._renderPass[e](this._materialByPass[e])}},{key:"$updateBoundingVolume",value:function(){this._boundingVolume.copyFrom(this._geometry._boundingVolume),this._boundingVolume.valid&&this._boundingVolume.transform(this.worldTransform)}},{key:"sortPassData",get:function(){return this._sortPassData},set:function(e){this._sortPassData=e}},{key:"materialByPass",get:function(){return this._materialByPass}},{key:"surfaceMaterial",get:function(){return this._materialByPass[v.Scene.RENDERPASS_FORWARD]}},{key:"geometry",get:function(){return this._geometry}},{key:"forceNoCull",get:function(){return this._forceNoCull},set:function(e){this._forceNoCull=e}},{key:"vrMode",get:function(){return this._vrMode},set:function(e){this._vrMode=e}}]),t}(g.SpatialNode);w.VR_MODE_BOTH="VR_MODE_BOTH",w.VR_MODE_LEFT="VR_MODE_LEFT",w.VR_MODE_RIGHT="VR_MODE_RIGHT"},,function(e,t,n){var i,r;/*!
    Copyright (c) 2017 Jed Watson.
    Licensed under the MIT License (MIT), see
    http://jedwatson.github.io/classnames
  */
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(this&&this[i]||i);else if(Array.isArray(i))e.push(n.apply(this,i));else if("object"===r)for(var o in i)a.call(i,o)&&i[o]&&e.push(this&&this[o]||o)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?(n.default=n,e.exports=n):(i=[],r=function(){return n}.apply(t,i),!(void 0!==r&&(e.exports=r)))}()},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(26),u=n(11),c=n(20),d=n(132),h=n(133),f=n(135),_=n(136),p=n(137),m=n(9),A=n(53),g=n(7),v=0,y=0,b=0,E=0,w=0,S=0,T=0,x=0,C=0,M=0,P=0,I=!1;t.Renderer=function(){function e(t){(0,a.default)(this,e),this._defaultShaderParams={u_viewMatrix:void 0,u_inverseViewMatrix:void 0,u_projectionMatrix:void 0,u_inverseProjectionMatrix:void 0,u_worldMatrix:new l.Matrix4,u_inverseWorldMatrix:new l.Matrix4,u_wvpMatrix:new l.Matrix4},this._defaultVectorShaderParams={u_cameraLocation:new u.Vector3},this._defaultFloatShaderParams={u_rightEye:0},this._width=g.Util.getParamRequired(t,"width"),this._height=g.Util.getParamRequired(t,"height"),this._canvas=g.Util.getParamRequired(t,"canvas"),this._viewportX=0,this._viewportY=0,this._viewportW=this._width,this._viewportH=this._height,this._calcWVPMatrix=!1,this._defaultStates={alphaState:new d.AlphaState,cullState:new h.CullState,polygonOffsetState:new f.PolygonOffsetState,stencilState:new _.StencilState,zBufferState:new p.ZBufferState},this._cachedStates={alphaState:{state:new d.AlphaState,enabled:!1},cullState:{state:new h.CullState,enabled:!1,reversed:!1},polygonOffsetState:{state:new f.PolygonOffsetState,enabled:!1},stencilState:{state:new _.StencilState,enabled:!1},zBufferState:{state:new p.ZBufferState,enabled:!1}},this._reverseCullFace=!1,this._clearColor=new c.ColorRGBA(0,0,0,0),this._clearDepth=1,this._camera=new A.Camera,this._camera.renderer=this,this._renderedObjects=0,this._clearMask=m.Context.gl.COLOR_BUFFER_BIT|m.Context.gl.DEPTH_BUFFER_BIT|m.Context.gl.STENCIL_BUFFER_BIT,this._frameGrabber=null}return(0,s.default)(e,null,[{key:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",get:function(){return v}},{key:"MAX_CUBE_MAP_TEXTURE_SIZE",get:function(){return y}},{key:"MAX_FRAGMENT_UNIFORM_VECTORS",get:function(){return b}},{key:"MAX_RENDERBUFFER_SIZE",get:function(){return E}},{key:"MAX_TEXTURE_IMAGE_UNITS",get:function(){return w}},{key:"MAX_TEXTURE_SIZE",get:function(){return S}},{key:"MAX_VARYING_VECTORS",get:function(){return T}},{key:"MAX_VERTEX_ATTRIBS",get:function(){return x}},{key:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",get:function(){return C}},{key:"MAX_VERTEX_UNIFORM_VECTORS",get:function(){return M}},{key:"MAX_TEXTURE_MAX_ANISOTROPY_EXT",get:function(){return P}},{key:"SUPPORTS_HIGHP",get:function(){return I}}]),(0,s.default)(e,[{key:"init",value:function(){this._initWebGLParams(),this.clearColor=this._clearColor,this.clearDepth=this._clearDepth,this.updateViewMatrix(this._camera.viewMatrix,this._camera.inverseViewMatrix,this._camera.location),this.updateProjectionMatrix(this._camera.projectionMatrix,this._camera.inverseProjectionMatrix),this.onViewportChange(),this.onDepthRangeChange(),this._restoreStates()}},{key:"onDepthRangeChange",value:function(){m.Context.gl.depthRange(this._camera.depthRange[0],this._camera.depthRange[1])}},{key:"onViewportChange",value:function(){this._updateViewport(this._camera.viewport)}},{key:"updateViewMatrix",value:function(e,t,n){this._defaultShaderParams.u_viewMatrix=e,this._defaultShaderParams.u_inverseViewMatrix=t,this._defaultVectorShaderParams.u_cameraLocation.copyFrom(n)}},{key:"updateProjectionMatrix",value:function(e,t){this._defaultShaderParams.u_projectionMatrix=e,this._defaultShaderParams.u_inverseProjectionMatrix=t}},{key:"beginScene",value:function(){this._renderedObjects=0,m.Context.gl.clear(this._clearMask)}},{key:"endScene",value:function(){this._frameGrabber&&this._frameGrabber.enabled&&this._frameGrabber.grab(this._canvas),this._restoreStates(!0)}},{key:"draw",value:function(e,t,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!i&&!r)return!0;if(this._setStates(t.states,!0),t.paramAttributes=e.vertexBuffer.attributes,!t.enable())return e.rendered=!1,!1;if(e.rendered=!0,!e.indexBuffer.enable()||!e.vertexBuffer.enable())return!1;if(i){var o=m.Context.vrDeviceManager;r&&(t.enableVrUniforms("left"),this._updateViewport(o.leftViewport),this.updateViewMatrix(o.getLeftViewMatrix(this._defaultShaderParams.u_viewMatrix),o.getLeftInverseViewMatrix(this._defaultShaderParams.u_inverseViewMatrix),o.getLeftEyeOffsetLocation(this._camera.rVector,this._camera.location)),this.updateProjectionMatrix(o.getLeftProjectionMatrix(this._defaultShaderParams.u_projectionMatrix),o.getLeftInverseProjectionMatrix(this._defaultShaderParams.u_inverseProjectionMatrix)),this._updateRendererConstants(n),this._defaultFloatShaderParams.u_rightEye=0,this._applyRendererConstants(t),this._drawElements(e),this.updateViewMatrix(this._camera.viewMatrix,this._camera.inverseViewMatrix,this._camera.location),this.updateProjectionMatrix(this._camera.projectionMatrix,this._camera.inverseProjectionMatrix)),a&&(t.enableVrUniforms("right"),this._updateViewport(o.rightViewport),this.updateViewMatrix(o.getRightViewMatrix(this._defaultShaderParams.u_viewMatrix),o.getRightInverseViewMatrix(this._defaultShaderParams.u_inverseViewMatrix),o.getRightEyeOffsetLocation(this._camera.rVector,this._camera.location)),this.updateProjectionMatrix(o.getRightProjectionMatrix(this._defaultShaderParams.u_projectionMatrix),o.getRightInverseProjectionMatrix(this._defaultShaderParams.u_inverseProjectionMatrix)),this._updateRendererConstants(n),this._defaultFloatShaderParams.u_rightEye=t.vrMonoOverride?0:1,this._applyRendererConstants(t),this._drawElements(e)),this._updateViewport(this._camera.viewport),this.updateViewMatrix(this._camera.viewMatrix,this._camera.inverseViewMatrix,this._camera.location),this.updateProjectionMatrix(this._camera.projectionMatrix,this._camera.inverseProjectionMatrix)}else t.enableVrUniforms("left"),this._defaultFloatShaderParams.u_rightEye=-1,this._updateRendererConstants(n),this._applyRendererConstants(t),this._drawElements(e);return e.vertexBuffer.disable(),e.indexBuffer.disable(),t.disable(),this._renderedObjects++,!0}},{key:"_compareState",value:function(e,t){try{if(Array.isArray(e)&&Array.isArray(t)){if(e.length===t.length){for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}return!1}return e===t}catch(e){return!1}}},{key:"_initWebGLParams",value:function(){v=m.Context.gl.getParameter(m.Context.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),y=m.Context.gl.getParameter(m.Context.gl.MAX_CUBE_MAP_TEXTURE_SIZE),b=m.Context.gl.getParameter(m.Context.gl.MAX_FRAGMENT_UNIFORM_VECTORS),E=m.Context.gl.getParameter(m.Context.gl.MAX_RENDERBUFFER_SIZE),w=m.Context.gl.getParameter(m.Context.gl.MAX_TEXTURE_IMAGE_UNITS),S=m.Context.gl.getParameter(m.Context.gl.MAX_TEXTURE_SIZE),T=m.Context.gl.getParameter(m.Context.gl.MAX_VARYING_VECTORS),x=m.Context.gl.getParameter(m.Context.gl.MAX_VERTEX_ATTRIBS),C=m.Context.gl.getParameter(m.Context.gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),M=m.Context.gl.getParameter(m.Context.gl.MAX_VERTEX_UNIFORM_VECTORS),m.Context.glExtensionManager.has.textureFilterAnisotropic&&(P=m.Context.gl.getParameter(m.Context.glExtensionManager.get.textureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),I=0!==m.Context.gl.getShaderPrecisionFormat(m.Context.gl.FRAGMENT_SHADER,m.Context.gl.HIGH_FLOAT).precision}},{key:"_setupCameraState",value:function(){this.updateViewMatrix(this._camera.viewMatrix,this._camera.inverseViewMatrix,this._camera.location),this.updateProjectionMatrix(this._camera.projectionMatrix,this._camera.inverseProjectionMatrix),this.onViewportChange(),this.onDepthRangeChange()}},{key:"_updateViewport",value:function(e){this._viewportX=e[0]*this._width,this._viewportY=e[3]*this._height,this._viewportW=(e[1]-e[0])*this._width,this._viewportH=(e[2]-e[3])*this._height,m.Context.gl.viewport(this._viewportX,this._viewportY,this._viewportW,this._viewportH)}},{key:"_applyRendererConstants",value:function(e){for(var t in this._defaultShaderParams)e.shaderProgram.hasUniform(t)&&m.Context.gl.uniformMatrix4fv(e.shaderProgram.getUniformLocation(t),!1,this._defaultShaderParams[t]._storage);for(var n in this._defaultVectorShaderParams)if(e.shaderProgram.hasUniform(n)){var i=this._defaultVectorShaderParams[n];m.Context.gl.uniform3f(e.shaderProgram.getUniformLocation(n),i.x,i.y,i.z)}for(var r in this._defaultFloatShaderParams)if(e.shaderProgram.hasUniform(r)){var a=this._defaultFloatShaderParams[r];m.Context.gl.uniform1f(e.shaderProgram.getUniformLocation(r),a)}}},{key:"_updateRendererConstants",value:function(e){var t=this._defaultShaderParams.u_worldMatrix;if(this._defaultShaderParams.u_inverseWorldMatrix.copyFrom(e.inverseMatrix),t.copyFrom(e.matrix),this._calcWVPMatrix){var n=this._defaultShaderParams.u_wvpMatrix;n.makeIdentity(),n.multRight(t),n.multRight(this._defaultShaderParams.u_viewMatrix),n.multRight(this._defaultShaderParams.u_projectionMatrix)}}},{key:"_setStates",value:function(e,t){this._setAlphaState(e.alphaState,t),this._setCullState(e.cullState,t),this._setPolygonOffsetState(e.polygonOffsetState,t),this._setStencilState(e.stencilState,t),this._setZBufferState(e.zBufferState,t)}},{key:"_restoreStates",value:function(e){this._setStates(this._defaultStates,e)}},{key:"_setAlphaState",value:function(e,t){if(e.blendEnabled){if(!t&&this._cachedStates.alphaState.blendEnabled||(m.Context.gl.enable(m.Context.gl.BLEND),this._cachedStates.alphaState.blendEnabled=!0),1===e.blendEquation.length)!t&&this._compareState(this._cachedStates.alphaState.state.blendEquation[0],e.blendEquation[0])||(this._cachedStates.alphaState.state.blendEquation[0]=e.blendEquation[0],m.Context.gl.blendEquation(e.blendEquation[0]));else{if(2!==e.blendEquation.length)throw new Error("unknown number of blendEquation operators!");!t&&this._compareState(this._cachedStates.alphaState.state.blendEquation,e.blendEquation)||(this._cachedStates.alphaState.state.blendEquation[0]=e.blendEquation[0],this._cachedStates.alphaState.state.blendEquation[1]=e.blendEquation[1],m.Context.gl.blendEquationSeparate(e.blendEquation[0],e.blendEquation[1]))}if(2===e.blendFunc.length)!t&&this._compareState(this._cachedStates.alphaState.state.blendFunc,e.blendFunc)||(this._cachedStates.alphaState.state.blendFunc[0]=e.blendFunc[0],this._cachedStates.alphaState.state.blendFunc[1]=e.blendFunc[1],m.Context.gl.blendFunc(e.blendFunc[0],e.blendFunc[1]));else{if(4!==e.blendFunc.length)throw new Error("unknown number of blendFunc operators!");!t&&this._compareState(this._cachedStates.alphaState.state.blendFunc,e.blendFunc)||(this._cachedStates.alphaState.state.blendFunc[0]=e.blendFunc[0],this._cachedStates.alphaState.state.blendFunc[1]=e.blendFunc[1],this._cachedStates.alphaState.state.blendFunc[2]=e.blendFunc[2],this._cachedStates.alphaState.state.blendFunc[3]=e.blendFunc[3],m.Context.gl.blendFuncSeparate(e.blendFunc[0],e.blendFunc[1],e.blendFunc[2],e.blendFunc[3]))}!t&&this._compareState(this._cachedStates.alphaState.state.blendColor,e.blendColor)||(this._cachedStates.alphaState.state.blendColor.r=e.blendColor.r,this._cachedStates.alphaState.state.blendColor.g=e.blendColor.g,this._cachedStates.alphaState.state.blendColor.b=e.blendColor.b,this._cachedStates.alphaState.state.blendColor.a=e.blendColor.a,m.Context.gl.blendColor(e.blendColor.r,e.blendColor.g,e.blendColor.b,e.blendColor.a))}else(t||this._cachedStates.alphaState.blendEnabled)&&(m.Context.gl.disable(m.Context.gl.BLEND),this._cachedStates.alphaState.blendEnabled=!1)}},{key:"_setCullState",value:function(e,t){e.enabled?!t&&this._cachedStates.cullState.enabled||(m.Context.gl.enable(m.Context.gl.CULL_FACE),this._cachedStates.cullState.enabled=!0):(t||this._cachedStates.cullState.enabled)&&(m.Context.gl.disable(m.Context.gl.CULL_FACE),this._cachedStates.cullState.enabled=!1),!t&&this._compareState(this._cachedStates.cullState.state.frontFace,e.frontFace)||(this._cachedStates.cullState.state.frontFace=e.frontFace,m.Context.gl.frontFace(e.frontFace)),this._reverseCullFace?!t&&this._cachedStates.cullState.reversed||(this._cachedStates.cullState.reversed=!0,e.cullFace===m.Context.gl.BACK?m.Context.gl.cullFace(m.Context.gl.FRONT):m.Context.gl.cullFace(m.Context.gl.BACK)):(this._cachedStates.cullState.reversed=!1,!t&&this._compareState(this._cachedStates.cullState.state.cullFace,e.cullFace)||(this._cachedStates.cullState.state.cullFace=e.cullFace,m.Context.gl.cullFace(e.cullFace)))}},{key:"_setPolygonOffsetState",value:function(e,t){e.fillEnabled?!t&&this._cachedStates.polygonOffsetState.enabled||(m.Context.gl.enable(m.Context.gl.POLYGON_OFFSET_FILL),this._cachedStates.polygonOffsetState.enabled=!0):(t||this._cachedStates.polygonOffsetState.enabled)&&(m.Context.gl.disable(m.Context.gl.POLYGON_OFFSET_FILL),this._cachedStates.polygonOffsetState.enabled=!1),!t&&this._compareState(this._cachedStates.polygonOffsetState.state.factor,e.factor)&&this._compareState(this._cachedStates.polygonOffsetState.state.units,e.units)||(this._cachedStates.polygonOffsetState.state.factor=e.factor,this._cachedStates.polygonOffsetState.state.units=e.units,m.Context.gl.polygonOffset(e.factor,e.units))}},{key:"_setStencilState",value:function(e,t){e.enabled?(!t&&this._cachedStates.stencilState.enabled||(m.Context.gl.enable(m.Context.gl.STENCIL_TEST),this._cachedStates.stencilState.enabled=!0),!t&&this._compareState(this._cachedStates.stencilState.state.stencilFace,e.stencilFace)&&this._compareState(this._cachedStates.stencilState.state.compare,e.compare)&&this._compareState(this._cachedStates.stencilState.state.reference,e.reference)&&this._compareState(this._cachedStates.stencilState.state.mask,e.mask)||(this._cachedStates.stencilState.state.stencilFace=e.stencilFace,this._cachedStates.stencilState.state.compare=e.compare,this._cachedStates.stencilState.state.refrence=e.reference,this._cachedStates.stencilState.state.mask=e.mask,m.Context.gl.stencilFuncSeparate(e.stencilFace,e.compare,e.reference,e.mask)),!t&&this._compareState(this._cachedStates.stencilState.state.stencilFace,e.stencilFace)&&this._compareState(this._cachedStates.stencilState.state.writeMask,e.writeMask)||(this._cachedStates.stencilState.state.stencilFace=e.stencilFace,this._cachedStates.stencilState.state.writeMask=e.writeMask,m.Context.gl.stencilMaskSeparate(e.stencilFace,e.writeMask)),!t&&this._compareState(this._cachedStates.stencilState.state.stencilFace,e.stencilFace)&&this._compareState(this._cachedStates.stencilState.state.onFail,e.onFail)&&this._compareState(this._cachedStates.stencilState.state.onZFail,e.onZFail)&&this._compareState(this._cachedStates.stencilState.state.onZPass,e.onZPass)||(this._cachedStates.stencilState.state.stencilFace=e.stencilFace,this._cachedStates.stencilState.state.onFail=e.onFail,this._cachedStates.stencilState.state.onZFail=e.onZFail,this._cachedStates.stencilState.state.onZPass=e.onZPass,m.Context.gl.stencilOpSeparate(e.stencilFace,e.onFail,e.onZFail,e.onZPass))):(t||this._cachedStates.stencilState.enabled)&&(m.Context.gl.disable(m.Context.gl.STENCIL_TEST),this._cachedStates.stencilState.enabled=!1)}},{key:"_setZBufferState",value:function(e,t){e.enabled?(!t&&this._cachedStates.zBufferState.enabled||(m.Context.gl.enable(m.Context.gl.DEPTH_TEST),this._cachedStates.zBufferState.enabled=!0),!t&&this._compareState(this._cachedStates.zBufferState.state.compare,e.compare)||(this._cachedStates.zBufferState.state.compare=e.compare,m.Context.gl.depthFunc(e.compare)),!t&&this._compareState(this._cachedStates.zBufferState.state.writable,e.writable)||(this._cachedStates.zBufferState.state.writable=e.writable,m.Context.gl.depthMask(e.writable))):(t||this._cachedStates.zBufferState.enabled)&&(m.Context.gl.disable(m.Context.gl.DEPTH_TEST),this._cachedStates.zBufferState.state.compare=m.Context.gl.ALWAYS,m.Context.gl.depthFunc(m.Context.gl.ALWAYS),this._cachedStates.zBufferState.state.writable=!0,m.Context.gl.depthMask(!0),this._cachedStates.zBufferState.enabled=!1)}},{key:"_drawArray",value:function(e){m.Context.gl.drawArrays(e.type,0,e.vertexBuffer.size())}},{key:"_drawElements",value:function(e){m.Context.gl.drawElements(e.type,e.indexBuffer.size()-e.offset/e.indexBuffer.indexBytes,e.indexBuffer.internalType,e.offset)}},{key:"reverseCullFace",get:function(){return this._reverseCullFace},set:function(e){this._reverseCullFace=e}},{key:"camera",get:function(){return this._camera},set:function(e){this._camera=e,this._camera.renderer=this,this._setupCameraState()}},{key:"width",get:function(){return this._width},set:function(e){this._width=e,this.onViewportChange()}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this.onViewportChange()}},{key:"canvas",get:function(){return this._canvas}},{key:"clearColor",get:function(){return this._clearColor},set:function(e){if(!(e instanceof c.ColorRGBA))throw new Error("Clear color must be of type ColorRGBA!");this._clearColor=e,m.Context.gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a)}},{key:"clearMask",get:function(){return this._clearMask},set:function(e){this._clearMask=e}},{key:"clearDepth",get:function(){return this._clearDepth},set:function(e){this._clearDepth=e,m.Context.gl.clearDepth(this._clearDepth)}},{key:"frameGrabber",get:function(){return this._frameGrabber},set:function(e){this._frameGrabber=e}}]),e}()},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GeometryUtil=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(61),u=(n(11),n(14)),c=n(70),d=n(90),h=n(89),f=n(88);t.GeometryUtil=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,null,[{key:"makeScaledFullscreenQuadSeperate",value:function(e,t,n){var i=new c.Attributes;i.setPositionChannels(3),i.setTextureChannels(0,2);var r=new d.VertexBuffer({vertexData:[1*e,1*t,1,1,1,-1*e,1*t,1,0,1,-1*e,-1*t,1,0,0,1*e,-1*t,1,1,0],attributes:i}),a=new h.IndexBuffer({data:[0,1,2,0,2,3]});return new f.Geometry({indexBuffer:a,vertexBuffer:r,calculateBoundingVolume:n})}},{key:"makeScaledFullscreenQuad",value:function(e,t){var n=new c.Attributes;n.setPositionChannels(3),n.setTextureChannels(0,2);var i=new d.VertexBuffer({vertexData:[1*e,1*e,1,1,1,-1*e,1*e,1,0,1,-1*e,-1*e,1,0,0,1*e,-1*e,1,1,0],attributes:n}),r=new h.IndexBuffer({data:[0,1,2,0,2,3]});return new f.Geometry({indexBuffer:r,vertexBuffer:i,calculateBoundingVolume:t})}},{key:"makeFullscreenQuad",value:function(e){var t=new c.Attributes;t.setPositionChannels(3),t.setTextureChannels(0,2);var n=new d.VertexBuffer({vertexData:[1,1,1,1,1,-1,1,1,0,1,-1,-1,1,0,0,1,-1,1,1,0],attributes:t}),i=new h.IndexBuffer({data:[0,1,2,0,2,3]});return new f.Geometry({indexBuffer:i,vertexBuffer:n,calculateBoundingVolume:e})}},{key:"makeCenteredUnitQuad",value:function(e){var t=new c.Attributes;t.setPositionChannels(3),t.setTextureChannels(0,2);var n=new d.VertexBuffer({vertexData:[1,1,0,1,1,-1,1,0,0,1,-1,-1,0,0,0,1,-1,0,1,0],attributes:t}),i=new h.IndexBuffer({data:[0,1,2,0,2,3]});return new f.Geometry({indexBuffer:i,vertexBuffer:n,calculateBoundingVolume:e})}},{key:"makeSizedMesh",value:function(e,t,n,i){var r=new c.Attributes;r.setPositionChannels(3),r.setTextureChannels(0,2);for(var a=n+1,o=e/a,s=t/a,l=[],u=0;u<=a;++u)for(var _=0;_<=a;++_){var p=u*o,m=_*s,A=u*o/e,g=1-_*s/t;l.push(p),l.push(m),l.push(0),l.push(A),l.push(g)}for(var v=[],y=0;y<=a*a+n;++y)v.push(y),v.push(y+a+1),v.push(y+a),v.push(y),v.push(y+1),v.push(y+a+1);return new f.Geometry({vertexBuffer:new d.VertexBuffer({vertexData:l,attributes:r}),indexBuffer:new h.IndexBuffer({data:v}),calculateBoundingVolume:i})}},{key:"makeSizedQuad",value:function(e,t,n){var i=new c.Attributes;i.setPositionChannels(3),i.setTextureChannels(0,2);var r=new d.VertexBuffer({vertexData:[e,t,0,1,1,0,t,0,0,1,0,0,0,0,0,e,0,0,1,0],attributes:i}),a=new h.IndexBuffer({data:[0,1,2,0,2,3]});return new f.Geometry({indexBuffer:a,vertexBuffer:r,calculateBoundingVolume:n})}},{key:"makeCenteredSizedQuadMirror",value:function(e,t,n){var i=new c.Attributes;i.setPositionChannels(3),i.setTextureChannels(0,2);var r=new d.VertexBuffer({vertexData:[e/2,t/2,0,0,0,-e/2,t/2,0,1,0,-e/2,-t/2,0,1,1,e/2,-t/2,0,0,1],attributes:i}),a=new h.IndexBuffer({data:[0,1,2,0,2,3]});return new f.Geometry({indexBuffer:a,vertexBuffer:r,calculateBoundingVolume:n})}},{key:"makeCenteredSizedQuadYMirror",value:function(e,t,n){var i=new c.Attributes;i.setPositionChannels(3),i.setTextureChannels(0,2);var r=new d.VertexBuffer({vertexData:[e/2,t/2,0,1,0,-e/2,t/2,0,0,0,-e/2,-t/2,0,0,1,e/2,-t/2,0,1,1],attributes:i}),a=new h.IndexBuffer({data:[0,1,2,0,2,3]});return new f.Geometry({indexBuffer:a,vertexBuffer:r,calculateBoundingVolume:n})}},{key:"makeCenteredSizedQuad",value:function(e,t,n,i){var r=new c.Attributes;r.setPositionChannels(3),r.setTextureChannels(0,2);var a=new d.VertexBuffer({vertexData:[e/2,t/2,0,1,1,-e/2,t/2,0,0,1,-e/2,-t/2,0,0,0,e/2,-t/2,0,1,0],attributes:r}),o=new h.IndexBuffer({data:[0,1,2,0,2,3]});return new f.Geometry({indexBuffer:o,vertexBuffer:a,calculateBoundingVolume:n,boundingVolume:i})}},{key:"makeUnitCubeCW",value:function(e){var t=new c.Attributes;t.setPositionChannels(3),t.setTextureChannels(0,2);var n=.5,i=.5,r=.5,a=new d.VertexBuffer({vertexData:[n,i,r,1,1,-n,i,r,0,1,-n,-i,r,0,0,n,-i,r,1,0,-n,i,-r,1,1,n,i,-r,0,1,n,-i,-r,0,0,-n,-i,-r,1,0,-n,-i,-r,1,0,-n,-i,r,0,0,-n,i,r,0,1,-n,i,-r,1,1,n,-i,r,1,0,n,-i,-r,0,0,n,i,-r,0,1,n,i,r,1,1,n,i,-r,1,0,-n,i,-r,0,0,-n,i,r,0,1,n,i,r,1,1,n,-i,r,1,0,-n,-i,r,0,0,-n,-i,-r,0,1,n,-i,-r,1,1],attributes:t}),o=new h.IndexBuffer({data:[2,1,0,3,2,0,6,5,4,7,6,4,10,9,8,11,10,8,14,13,12,15,14,12,18,17,16,19,18,16,22,21,20,23,22,20]});return new f.Geometry({indexBuffer:o,vertexBuffer:a,calculateBoundingVolume:e})}},{key:"makeNDCCubeCW",value:function(e){var t=new c.Attributes;t.setPositionChannels(3),t.setTextureChannels(0,2);var n=1,i=1,r=1,a=new d.VertexBuffer({vertexData:[n,i,r,1,1,-n,i,r,0,1,-n,-i,r,0,0,n,-i,r,1,0,-n,i,-r,1,1,n,i,-r,0,1,n,-i,-r,0,0,-n,-i,-r,1,0,-n,-i,-r,1,0,-n,-i,r,0,0,-n,i,r,0,1,-n,i,-r,1,1,n,-i,r,1,0,n,-i,-r,0,0,n,i,-r,0,1,n,i,r,1,1,n,i,-r,1,0,-n,i,-r,0,0,-n,i,r,0,1,n,i,r,1,1,n,-i,r,1,0,-n,-i,r,0,0,-n,-i,-r,0,1,n,-i,-r,1,1],attributes:t}),o=new h.IndexBuffer({data:[2,1,0,3,2,0,6,5,4,7,6,4,10,9,8,11,10,8,14,13,12,15,14,12,18,17,16,19,18,16,22,21,20,23,22,20]});return new f.Geometry({indexBuffer:o,vertexBuffer:a,calculateBoundingVolume:e})}},{key:"makeUnitCube",value:function(e){var t=new c.Attributes;t.setPositionChannels(3),t.setTextureChannels(0,2);var n=.5,i=.5,r=.5,a=new d.VertexBuffer({vertexData:[n,i,r,1,1,-n,i,r,0,1,-n,-i,r,0,0,n,-i,r,1,0,-n,i,-r,1,1,n,i,-r,0,1,n,-i,-r,0,0,-n,-i,-r,1,0,-n,-i,-r,1,0,-n,-i,r,0,0,-n,i,r,0,1,-n,i,-r,1,1,n,-i,r,1,0,n,-i,-r,0,0,n,i,-r,0,1,n,i,r,1,1,n,i,-r,1,0,-n,i,-r,0,0,-n,i,r,0,1,n,i,r,1,1,n,-i,r,1,0,-n,-i,r,0,0,-n,-i,-r,0,1,n,-i,-r,1,1],attributes:t}),o=new h.IndexBuffer({data:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]});return new f.Geometry({indexBuffer:o,vertexBuffer:a,calculateBoundingVolume:e})}},{key:"makeBox",value:function(e,t,n,i){var r=new c.Attributes;r.setPositionChannels(3),r.setTextureChannels(0,2);var a=.5*e,o=.5*t,s=.5*n,l=new d.VertexBuffer({vertexData:[a,o,s,1,1,-a,o,s,0,1,-a,-o,s,0,0,a,-o,s,1,0,-a,o,-s,1,1,a,o,-s,0,1,a,-o,-s,0,0,-a,-o,-s,1,0,-a,-o,-s,1,0,-a,-o,s,0,0,-a,o,s,0,1,-a,o,-s,1,1,a,-o,s,1,0,a,-o,-s,0,0,a,o,-s,0,1,a,o,s,1,1,a,o,-s,1,0,-a,o,-s,0,0,-a,o,s,0,1,a,o,s,1,1,a,-o,s,1,0,-a,-o,s,0,0,-a,-o,-s,0,1,a,-o,-s,1,1],attributes:r}),u=new h.IndexBuffer({data:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]});return new f.Geometry({indexBuffer:u,vertexBuffer:l,calculateBoundingVolume:i})}},{key:"makeLines",value:function(e,t){var n=new c.Attributes;n.setPositionChannels(3);for(var i=[],r=[],a=0;a<e.length;++a)i.push(e[a].x),i.push(e[a].y),i.push(e[a].z),r.push(a);return new f.Geometry({type:f.Geometry.LINES,vertexBuffer:new d.VertexBuffer({vertexData:i,attributes:n}),indexBuffer:new h.IndexBuffer({data:r}),calculateBoundingVolume:t})}},{key:"makeVRDistortionMesh",value:function(e,t,n){var i=new c.Attributes;i.setPositionChannels(2),i.setTextureChannels(0,3);for(var r=new Float32Array(2*e*t*5),a=n.getLeftEyeVisibleTanAngles(),o=n.getLeftEyeNoLensTanAngles(),s=n.getLeftEyeVisibleScreenRect(o),_=0,p=0;p<2;p++){for(var m=0;m<t;m++)for(var A=0;A<e;A++,_++){var g=A/(e-1),v=m/(t-1),y=g,b=v,E=u.MathUtil.interpolate(g,l.Easing.linearTween,a[0],a[2]),w=u.MathUtil.interpolate(v,l.Easing.linearTween,a[3],a[1]),S=Math.sqrt(E*E+w*w),T=n._distortion.distortInverse(S),x=0,C=0;0!==S&&(x=E*T/S,C=w*T/S),g=(x-o[0])/(o[2]-o[0]),v=(C-o[3])/(o[1]-o[3]),g=2*(s.x+g*s.width-.5),v=2*(s.y+v*s.height-.5),r[5*_+0]=g,r[5*_+1]=v,r[5*_+2]=y,r[5*_+3]=b,r[5*_+4]=p}var M=a[2]-a[0];a[0]=-(M+a[0]),a[2]=M-a[2],M=o[2]-o[0],o[0]=-(M+o[0]),o[2]=M-o[2],s.x=1-(s.x+s.width)}var P=new Uint16Array(2*(e-1)*(t-1)*6),I=e/2,R=t/2;_=0;for(var k=0,D=0;D<2;D++)for(var V=0;V<t;V++)for(var B=0;B<e;B++,_++)0!==B&&0!==V&&(B<=I==V<=R?(P[k++]=_,P[k++]=_-e-1,P[k++]=_-e,P[k++]=_-e-1,P[k++]=_,P[k++]=_-1):(P[k++]=_-1,P[k++]=_-e,P[k++]=_,P[k++]=_-e,P[k++]=_-1,P[k++]=_-e-1));return new f.Geometry({vertexBuffer:new d.VertexBuffer({vertexData:r,attributes:i}),indexBuffer:new h.IndexBuffer({data:P})})}},{key:"makeCylinder",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:25,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=i-n,l=[],u=0;u<=r;++u)for(var _=0;_<=a;++_){var p=u/r,m=_/a,A=p*s+n,g=Math.sin(A),v=Math.cos(A);l.push(e*g),l.push(-m*t+.5*t),l.push(-e*v),l.push(p),l.push(m)}for(var y=[],b=0;b<r;++b)for(var E=0;E<a;++E){var w=b*(a+1)+E;y.push(w),y.push(w+1),y.push(w+a+1),y.push(w+1),y.push(w+a+2),y.push(w+a+1)}var S=new c.Attributes;return S.setPositionChannels(3),S.setTextureChannels(0,2),new f.Geometry({vertexBuffer:new d.VertexBuffer({vertexData:l,attributes:S}),indexBuffer:new h.IndexBuffer({data:y}),calculateBoundingVolume:o})}},{key:"makeSphere",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=new c.Attributes;l.setPositionChannels(3),l.setTextureChannels(0,2);for(var u=[],_=0,p=[],m=a+o,A=0;A<=n;++A){for(var g=[],v=A/n,y=0;y<=t;++y){var b=y/t;u.push(-e*Math.cos(i+b*r)*Math.sin(a+v*o)),u.push(e*Math.cos(a+v*o)),u.push(e*Math.sin(i+b*r)*Math.sin(a+v*o)),u.push(b),u.push(1-v),g.push(_++)}p.push(g)}for(var E=[],w=0;w<n;++w)for(var S=0;S<t;++S){var T=p[w][S+1],x=p[w][S],C=p[w+1][S],M=p[w+1][S+1];(0!==w||a>0)&&E.push(T,x,M),(w!==n-1||m<Math.PI)&&E.push(x,C,M)}return new f.Geometry({vertexBuffer:new d.VertexBuffer({vertexData:u,attributes:l}),indexBuffer:new h.IndexBuffer({data:E}),calculateBoundingVolume:s})}}]),e}()},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Vector2=void 0;var r=n(15),a=i(r),o=n(31),s=i(o),l=n(3),u=i(l),c=n(1),d=i(c),h=n(5),f=i(h),_=n(2),p=i(_),m=n(4),A=i(m),g=n(14),v=n(13),y=t.Vector2=function(e){function t(){(0,d.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,u.default)(t)).call(this));return 1===arguments.length?"object"===(0,s.default)(arguments[0])?e.load(arguments[0]):"number"==typeof arguments[0]&&(e.x=e.y=arguments[0]):2===arguments.length?(e.x=arguments[0],e.y=arguments[1]):e.zero(),e}return(0,A.default)(t,e),(0,p.default)(t,[{key:"$serialize",value:function(){return{name:"Vector2",params:[this.x,this.y]}}}],[{key:"sub",value:function(e,n){var i=new t;return i.copyFrom(e),i.sub(n),i}},{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}},{key:"tmp",value:function(e){var n=void 0;return(n=t._pool.get(e))||t._pool.set(e,n=new t),n}}]),(0,p.default)(t,[{key:"load",value:function(){if(1!==arguments.length||"object"!==(0,s.default)(arguments[0]))throw Error("trying to instanciate Vector2 with incompatible type");var e=arguments[0];return"length"in e&&2===e.length?(this.x=e[0],this.y=e[1]):arguments[0]instanceof t&&(this.x=e.x,this.y=e.y),this}},{key:"copyFrom",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"zero",value:function(){return this.x=0,this.y=0,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"mult",value:function(e){return this.x*=e,this.y*=e,this}},{key:"div",value:function(e){return this.x/=e,this.y/=e,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"normalize",value:function(){var e=this.magnitude(),t=void 0;return t=0===e?0:1/e,this.x*=t,this.y*=t,this}},{key:"neg",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"almostEquals",value:function(e,t){return g.MathUtil.almostEquals(this.x,e.x,t)&&g.MathUtil.almostEquals(this.y,e.y,t)}},{key:"magnitudeSquared",value:function(){return this.x*this.x+this.y*this.y}},{key:"magnitude",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"setMagnitude",value:function(e){var t=this.magnitude();return 0!==t&&e!==t&&this.mult(e/t),this}},{key:"distanceSquared",value:function(e){return(e.x-this.x)*(e.x-this.x)+(e.y-this.y)*(e.y-this.y)}},{key:"distance",value:function(e){return Math.sqrt((e.x-this.x)*(e.x-this.x)+(e.y-this.y)*(e.y-this.y))}},{key:"get",value:function(e){return 0===e?this.x:this.y}},{key:"getAsArray",value:function(){return[this.x,this.y]}},{key:"getAsFloat32Array",value:function(){return new Float32Array(this.getAsArray())}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}}]),t}(v.Serializable);y.ZERO=new y(0,0),y.ONE=new y(1,1),y.NEGATIVE_INFINITY=new y(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),y.POSITIVE_INFINITY=new y(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),y.X_AXIS=new y(1,0),y.Y_AXIS=new y(0,1),y.NEG_X_AXIS=new y(-1,0),y.NEG_Y_AXIS=new y(0,-1),y._pool=new a.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.XHRRequest=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(129),u=n(9),c=n(7),d="get",h="post",f={},_={};t.XHRRequest=function(){function e(t){(0,a.default)(this,e),this._requestType=c.Util.getParam(t,"requestType",e.GET),this._onAbort=c.Util.getParam(t,"onAbort",function(){}),this._onProgress=c.Util.getParam(t,"onProgress",function(){}),this._onError=c.Util.getParam(t,"onError",function(){}),this._onLoad=c.Util.getParam(t,"onLoad",function(){}),this._onLoad=c.Util.getParam(t,"onLoad",function(){}),this._uri=c.Util.getParamRequired(t,"uri"),this._packedPngRequest=c.Util.getParam(t,"packedPngRequest"),this._gzipRequest=c.Util.getParam(t,"gzipRequest"),this._data=c.Util.getParam(t,"data"),this._cors=c.Util.getParam(t,"cors",!0),this._noCache=c.Util.getParam(t,"noCache"),
this._responseType=c.Util.getParam(t,"responseType"),this._contentType=c.Util.getParam(t,"contentType"),this._loadCallbacks=[this._onLoad],this._errorCallbacks=[this._onError],this._progressCallbacks=[this._onProgress],this._abortCallbacks=[this._onAbort],this._request=null,this._tryCount=0,l.ResourceManager.registerResource(this)}return(0,s.default)(e,null,[{key:"request",value:function(t){return new e(t).send()}},{key:"GET",get:function(){return d}},{key:"POST",get:function(){return h}}]),(0,s.default)(e,[{key:"addLoad",value:function(e){this._loadCallbacks.push(e)}},{key:"addProgress",value:function(e){this._progressCallbacks.push(e)}},{key:"addError",value:function(e){this._errorCallbacks.push(e)}},{key:"addAbort",value:function(e){this._abortCallbacks.push(e)}},{key:"cancel",value:function(){var e=this._deleteFromPool();e&&e.request.abort()}},{key:"deleteFromResourceManager",value:function(){l.ResourceManager.unregisterResource(this)}},{key:"onLowRam",value:function(){var e=0;for(var t in _){var n=_[t];"arraybuffer"===n.responseType&&(e+=n.response.byteLength,delete _[t])}l.ResourceManager.deallocateBytesRam(e)}},{key:"_setCrossOrigin",value:function(e,t){void 0!==u.Context.crossOrigin&&!t.startsWith("data:")&&(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//"))?e.crossOrigin=u.Context.crossOrigin:e.crossOrigin=null}},{key:"_deleteFromPool",value:function(){var e=f[this._uri];if(e)return delete f[this._uri],e}},{key:"_unpackDataFromPng",value:function(e,t,n){var i=new Image;i.onload=function(){var n=document.createElement("canvas"),r=n.getContext("2d"),a=i.width,o=i.height;n.width=n.style.width=a,n.height=n.style.height=o,r.drawImage(i,0,0);for(var s=r.getImageData(0,0,a,o).data,l=new Uint8ClampedArray(s.length/4*3),u=0,c=0;u<s.length;u+=4,c+=3)l[c]=s[u],l[c+1]=s[u+1],l[c+2]=s[u+2];e.response=l.buffer,t()},i.onerror=n,this._setCrossOrigin(i,e.src),i.src=e.src}},{key:"_unpackDataFromGz",value:function(e,t){throw new Error("zlib currently disabled in this build")}},{key:"send",value:function(){if(this._requestType===e.GET){if(void 0!==_[this._uri]&&!this._noCache)return void 0!==this._onLoad&&this._onLoad(_[this._uri]),this;if(void 0!==f[this._uri]){var t=f[this._uri];return t.addLoad(this._onLoad),t.addError(this._onError),t.addProgress(this._onProgress),t.addAbort(this._onAbort),this}}if(this._packedPngRequest)this._request={responseType:"arraybuffer",src:this._uri},this._unpackDataFromPng(this._request,this._handleLoad.bind(this,this._request),this._handleError.bind(this,this._request));else{if(this._cors&&void 0!==u.Context.crossOrigin){if(this._requestType===e.GET)this._request=this._createCORSRequest("GET",this._uri);else{if(this._requestType!==e.POST)throw new Error("invalid request type "+this._requestType);this._request=this._createCORSRequest("POST",this._uri)}if(null===this._request)throw new Error("CORS requested, but not supported")}else{if(window.XMLHttpRequest)this._request=new XMLHttpRequest;else{if(!window.ActiveXObject)throw new Error("XMLHttpRequest is disabled");this._request=new ActiveXObject("MSXML2.XMLHTTP.3.0")}if(this._requestType===e.GET)this._request.open("GET",this._uri,!0);else{if(this._requestType!==e.POST)throw new Error("invalid request type "+this._requestType);this._request.open("POST",this._uri,!0)}}this._noCache&&(this._request.setRequestHeader("Cache-Control","no-cache"),this._request.setRequestHeader("Pragma","no-cache")),this._contentType&&this._request.setRequestHeader("Content-Type",this._contentType),this._responseType&&(this._request.responseType=this._responseType),this._request.addEventListener("load",this._handleLoad.bind(this,this._request),!1),this._request.addEventListener("abort",this._handleAbort.bind(this,this._request),!1),this._request.addEventListener("progress",this._handleProgress.bind(this,this._request),!1),this._request.addEventListener("error",this._handleError.bind(this,this._request),!1),f[this._uri]=this,this._data?this._request.send(this._data):this._request.send()}return this}},{key:"_createCORSRequest",value:function(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e,t)):n=null,n}},{key:"_handleLoad",value:function(e){var t=this;if(this._deleteFromPool(),this._gzipRequest&&"arraybuffer"===this._responseType){var n={};this._unpackDataFromGz(e.response,function(i,r){if(i)throw new Error(i);n.response=r.buffer,n.responseUrl=e.responseUrl,n.responseType=e.responseType,e=n,_[t._uri]=e,"arraybuffer"===t._responseType&&l.ResourceManager.allocateBytesRam(e.response.byteLength);for(var a=0,o=t._loadCallbacks.length;a<o;++a)t._loadCallbacks[a]&&t._loadCallbacks[a](e)})}else{_[this._uri]=e,"arraybuffer"===this._responseType&&l.ResourceManager.allocateBytesRam(e.response.byteLength);for(var i=0,r=this._loadCallbacks.length;i<r;++i)this._loadCallbacks[i]&&this._loadCallbacks[i](e)}}},{key:"_handleAbort",value:function(e){for(var t=0,n=this._abortCallbacks.length;t<n;++t)this._abortCallbacks[t]&&this._abortCallbacks[t](e)}},{key:"_handleError",value:function(e){for(var t=0,n=this._errorCallbacks.length;t<n;++t)this._errorCallbacks[t]&&this._errorCallbacks[t](e)}},{key:"_handleProgress",value:function(e){for(var t=0,n=this._progressCallbacks.length;t<n;++t)this._progressCallbacks[t]&&this._progressCallbacks[t](e)}},{key:"request",get:function(){return this._request}}]),e}()},,,function(e,t,n){e.exports=n(633)()},function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorRGB=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(131),p=n(11),m=t.ColorRGB=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments));return e._hsl=new p.Vector3,e._hsv=new p.Vector3,1===arguments.length&&"string"==typeof arguments[0]&&(e.hexString=arguments[0]),e}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"ColorRGB",params:[this.r,this.g,this.z]}}}]),(0,d.default)(t,[{key:"blend",value:function(e,t){this.r=this.r*(1-t)+e.r*t,this.g=this.g*(1-t)+e.g*t,this.b=this.b*(1-t)+e.b*t}},{key:"r",get:function(){return this.x},set:function(e){this.x=e}},{key:"g",get:function(){return this.y},set:function(e){this.y=e}},{key:"b",get:function(){return this.z},set:function(e){this.z=e}},{key:"hex",get:function(){return _.ColorUtil.rgb2hex(this)},set:function(e){_.ColorUtil.hex2rgb(e,this)}},{key:"hexString",get:function(){return _.ColorUtil.rgb2hexString(this)},set:function(e){_.ColorUtil.hexString2rgb(e,this)}},{key:"hsv",get:function(){return _.ColorUtil.rgb2hsv(this,this._hsv)},set:function(e){_.ColorUtil.hsv2rgb(e,this)}},{key:"hsl",get:function(){return _.ColorUtil.rgb2hsl(this,this._hsl)},set:function(e){_.ColorUtil.hsl2rgb(e,this)}},{key:"style",get:function(){return _.ColorUtil.rgb2Style(this)},set:function(e){_.ColorUtil.style2rgb(e,this)}}]),t}(p.Vector3);m.BLACK=new m(0,0,0),m.WHITE=new m(1,1,1)},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return!!e&&!("prototype"in e)}function o(){return a(navigator.getVRDisplays)||a(navigator.getVRDevices)||a(navigator.mozGetVRDevices)}function s(){return V.Util.isSamsungInternet()||V.Util.isOculusBrowser()||V.Util.isChromeDaydream()||V.Util.isEdgeMr()||V.Util.isFirefoxReality()}function l(e){var t=window.location.origin,n=window.location.protocol;return!(!e||e.startsWith("data:")||!(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//")))&&!e.replace(/http[s]{0,1}:/,"").startsWith(t.replace(n,""))}function u(){var e=V.Util.getIOSVersion();return(!e||!(e.major>11||11===e.major&&e.minor>=1))&&(V.Util.isSafari()||V.Util.isIE())}function c(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=void 0,a=void 0;e.format===U.CONTENT_MODE_MONO_360?r=k.SkyboxMaterial.LATLONG:e.format===U.CONTENT_MODE_MONO_180?r=k.SkyboxMaterial.LATLONG_180:e.format===U.CONTENT_MODE_CARDBOARD_PHOTO?(a=k.SkyboxMaterial.STEREO_FORMAT_360_TB,r=k.SkyboxMaterial.STEREOSCOPIC):(a=e.format,r=k.SkyboxMaterial.STEREOSCOPIC);var o=new L.Transform;return e.rotationY&&o.rotationFromAngleY(B.MathUtil.degToRad(e.rotationY)),new D.Skybox({name:n,gammaSpace:!0,flippedY:!1,formatParams:e.formatParams,textureMode:r,stereoFormat:a,texture:t,transform:o,opaque:i})}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Environment",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new M.default(function(r,a){var o=void 0;if(t.eyesPreSeparated){var s=void 0,l=void 0;t.format===k.SkyboxMaterial.STEREO_FORMAT_CUBEMAP&&(t.packedSliceFormat?s=t.packedSliceFormat:O.Texture.isPackedSliceImage(t.srcLeft)||O.Texture.isPackedSliceImage(t.srcRight)||(s="c-0-3-1-1"),t.packedSliceCubemapOrder&&(l=t.packedSliceCubemapOrder)),o=e(new N.VrUniform({left:new O.Texture({type:O.Texture.IMAGE,data:[t.srcLeft],generateMipmaps:!1,explicitPackedSliceParams:s,packedSliceCubemapOrder:l}),right:new O.Texture({type:O.Texture.IMAGE,data:[t.srcRight],generateMipmaps:!1,explicitPackedSliceParams:s,packedSliceCubemapOrder:l})})),r(c(t,o,n,i))}else if(t.format===U.CONTENT_MODE_CARDBOARD_PHOTO){var u=new R.CardboardCameraPhotoConverter({targetSize:t.type===U.CONTENT_TYPE_TOUR&&V.Util.isIOS()?2048:4096});u.convert(t.src).then(function(a){o=e(new O.Texture({type:O.Texture.CANVAS,data:[a.canvas],generateMipmaps:!1})),r(c(t,o,n,i))})}else o=e(new O.Texture({type:O.Texture.IMAGE,data:[t.src],generateMipmaps:!1})),r(c(t,o,n,i))})}function h(e){var t=e<0;e=Math.abs(e);var n=Math.round(e)%60,i=(Math.round(e)-n)/60,r=Math.floor(i/60);return i-=60*r,r>0?r+":"+(i<10?"0"+i:i)+":"+(n<10?"0"+n:n):""+(t?"-":"")+i+":"+(n<10?"0"+n:n)}function f(){return!!z.tablet()}function _(){if(!document.body.classList.contains("x-dl8-fullscreen")){var e=document.querySelector("#dl8-content-container");e.style.zIndex="9999999",e.style.position="fixed",e.style.display="block",document.body.appendChild(e),document.body.classList.add("x-dl8-fullscreen"),window.scrollTo(0,99999);var t=document.querySelector("#dl8-meta-viewport");if(t||(t=document.createElement("meta"),t.setAttribute("id","dl8-meta-viewport"),t.setAttribute("name","viewport"),t.setAttribute("content","initial-scale = 1.0, maximum-scale = 1.0, user-scalable = no, width = device-width, viewport-fit = cover"),document.head.appendChild(t)),document.addEventListener("touchmove",X,{passive:!1}),H.IFrameManager.instance.connected)H.IFrameManager.instance.enterFullscreen();else{var n=function e(){H.IFrameManager.instance.enterFullscreen(),H.IFrameManager.instance.removeConnectedListener(e)};H.IFrameManager.instance.addConnectedListener(n)}(0,G.isIOS)()&&setTimeout(function(){var e=document.getElementById("dl8-content-container");window.getComputedStyle(e),e.style.position="absolute",setTimeout(function(){e.style.position="fixed"},50);var t=e.innerText;t+="trashing"},100)}}function p(e){if(document.body.classList.contains("x-dl8-fullscreen")){if(H.IFrameManager.instance.connected)H.IFrameManager.instance.exitFullscreen();else{var t=function e(){H.IFrameManager.instance.exitFullscreen(),H.IFrameManager.instance.removeConnectedListener(e)};H.IFrameManager.instance.addConnectedListener(t)}var n=document.querySelector("#dl8-content-container");n.style.position="relative",n.style.display="block",e.appendChild(n),document.body.classList.remove("x-dl8-fullscreen");var i=document.querySelector("#dl8-meta-viewport");i&&document.head.removeChild(i);var r=document.querySelectorAll('meta[name="viewport"]'),a=r[r.length-1];if(a){var o=a.getAttribute("content");o&&o.indexOf("viewport-fit")===-1&&a.setAttribute("content",o+", viewport-fit=contain")}document.removeEventListener("touchmove",X),(0,G.isIOS)()&&setTimeout(function(){var e=document.getElementById("dl8-content-container");window.getComputedStyle(e)},100)}}function m(e,t,n){for(var i=0,r=0,a=0,o=0,s=0,l=0;l<e.length;++l){if(o=e.start(l),s=e.end(l),o<=t&&t<=s){i=o,r=s;break}o>t&&t<=s&&o<=e.start(a)&&(i=o,r=s,a=l)}return n[0]=i,n[1]=r,n}function A(e,t){return(0,x.default)(e.track.cues).find(function(e){return e.startTime<=t&&e.endTime>t})}function g(e,t){return(0,x.default)(e.track.cues).findIndex(function(e){return e.startTime<=t&&e.endTime>t})}function v(e,t){for(var n=e.map(function(e){return e.frames}).reduce(function(e,t){return e+t}),i=Math.min(Math.max(0,Math.floor(t*n)),n-1),r=0,a=0,o=0,s=0;o<e.length;++o){var l=e[o];if(i<s+l.frames){a=(i-s)/(l.rows*l.columns);break}r++,s+=l.frames}return{spriteIdx:r,relativeT:a}}function y(e,t,n){var i=e.tagName;if(t&&!n.has(i))throw new Error("Recommendations can only be dl8-video elements");var r=document.createElement(e.tagName);return(0,S.default)(e).filter(function(e){return"tagName"!==e&&"_children"!==e}).forEach(function(t){r.setAttribute(t.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}),e[t])}),Array.isArray(e._children)&&e._children.forEach(function(e){return r.appendChild(y(e,!1,n))}),r}function b(e,t,n){if(e&&e.length>0){var i=e[0],r=i.dl8AffiliateSpots;if(r&&r.length>0){var a=r.filter(function(e){return e.placing===t})[0];if(a){var o=a.type,s=i.dl8AffiliateItems;if(s&&s.length>0){var l=s.filter(function(e){return e.type===o});if(l.length>0){if(n&&l.length>n){for(var u=[],c=0;c<n;++c){var d=E(l),h=l.indexOf(d);h>-1&&l.splice(h,1),u.push(d)}return{items:u,spot:a}}return{items:l,spot:a}}}}}}return{}}function E(e){function t(e){var t=Math.floor(Math.random()*(e+1));return function(e){return t-=e.weight,t<=0}}var n=e.reduce(function(e,t){return e+t.weight},0);return e.find(t(n))}Object.defineProperty(t,"__esModule",{value:!0}),t.lineClamp=void 0;var w=n(145),S=r(w),T=n(44),x=r(T),C=n(33),M=r(C);t.hasWebVr=o,t.isVrBrowser=s,t.isCors=l,t.hasCorsBug=u,t.createImageSkybox=d,t.convertSecondsToDisplayString=h,t.isTablet=f,t.makeFullscreen=_,t.makeInline=p,t.convertBufferState=m,t.getCurrentTrackThumbnail=A,t.getCurrentTrackThumbnailIdx=g,t.getCurrentImageSprite=v,t.createElementFromDesc=y,t.getRandomAffiliatesForSpot=b,t.getRandomElementFromWeightedList=E;var P=n(631),I=r(P),R=n(456),k=n(218),D=n(302),V=n(7),B=n(14),O=n(24),N=n(143),L=n(27),F=n(19),U=i(F),H=n(81),G=n(59);delete I.default._impl.mobileDetectRules.tablets.GalapadTablet;var z=new I.default(window.navigator.userAgent),Q="...",W=/[ .,;!?'‘’“”\-–—]+$/,j=!1;document.addEventListener("x-dl8-evt-vr-wizard-enabled",function(){j=!0}),document.addEventListener("x-dl8-evt-vr-wizard-disabled",function(){j=!1});var X=function(e){j||e.preventDefault()},Y=void 0,q=void 0;t.lineClamp=function(e,t,n){Y||(Y=document.createElement("canvas"),q=Y.getContext("2d"));var i=n.weight,r=n.size,a=n.fontFamily,o=e.innerText.trim(),s=o.length,l=o.split(" ");q.font=i+" "+r+"px "+a;var u=q.measureText(" "),c=u.width,d=q.measureText(Q),h=d.width,f=function(t,n,i){var r=q.measureText(n),a=r.width;return t.width>e.offsetWidth&&(t.count+=1),t.width+=a,t},_=function(n,i,r){var a=q.measureText(i),o=a.width;if(n.currentLine<t){var s=n.currentLine===t-1?h:0;if(n.offset+o+s+c>e.offsetWidth){if(n.currentLine===t-1)return n;var l=i.split("").reduce(f,{width:0,count:0}),u=l.count;n.currentLine+=1,n.offset=o+c,n.charCount+=i.length+1-u}else n.offset+=o+c,n.charCount+=i.length+1}return n},p=l.reduce(_,{charCount:0,offset:0,currentLine:0}),m=p.charCount;return s>m?o.slice(0,m).split(" ").filter(function(e,t,n){return t!==n.length-1}).join(" ").replace(W,"")+Q:o}},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Camera=void 0;var r=n(3),a=i(r),o=n(10),s=i(o),l=n(1),u=i(l),c=n(5),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(13),A=n(11),g=n(14),v=n(26),y=n(30),b=n(108),E=6,w=0,S=1,T=2,x=3,C=4,M=5;t.Camera=function(e){function t(e){(0,u.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._renderer=null,n._viewMatrix=new v.Matrix4,n._projectionMatrix=new v.Matrix4,n._viewProjectionMatrix=new v.Matrix4,n._inverseViewMatrix=new v.Matrix4,n._inverseProjectionMatrix=new v.Matrix4,n._location=new A.Vector3(0,0,0),n._dVector=new A.Vector3(0,0,-1),n._uVector=new A.Vector3(0,1,0),n._rVector=new A.Vector3(1,0,0),n._frustum=[1,100,-.5,.5,-.5,.5],n._viewport=[0,1,1,0],n._depthRange=[0,1],n._perspective=!0,n._tmpVec=new A.Vector3,n._tmpVec2=new A.Vector3,n._tmpVec3=new A.Vector3,n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"Camera",aux:{_viewMatrix:this._viewMatrix,_projectionMatrix:this._projectionMatrix,_viewProjectionMatrix:this._viewProjectionMatrix,_inverseViewMatrix:this._inverseViewMatrix,_inverseProjectionMatrix:this._inverseProjectionMatrix,_location:this._location,_dVector:this._dVector,_uVector:this._uVector,_rVector:this._rVector,_frustum:this._frustum,_viewport:this._viewport,_depthRange:this._depthRange,_perspective:this._perspective}}}},{key:"$deserialize",value:function(e){(0,s.default)(this,e)}}],[{key:"PLANE_COUNT",get:function(){return E}},{key:"DMIN",get:function(){return w}},{key:"DMAX",get:function(){return S}},{key:"UMIN",get:function(){return T}},{key:"UMAX",get:function(){return x}},{key:"RMIN",get:function(){return C}},{key:"RMAX",get:function(){return M}}]),(0,f.default)(t,[{key:"_updateViewMatrix",value:function(){this._viewMatrix._storage[0]=this._rVector.x,this._viewMatrix._storage[1]=this._uVector.x,this._viewMatrix._storage[2]=this._dVector.x,this._viewMatrix._storage[3]=0,this._viewMatrix._storage[4]=this._rVector.y,this._viewMatrix._storage[5]=this._uVector.y,this._viewMatrix._storage[6]=this._dVector.y,this._viewMatrix._storage[7]=0,this._viewMatrix._storage[8]=this._rVector.z,this._viewMatrix._storage[9]=this._uVector.z,this._viewMatrix._storage[10]=this._dVector.z,this._viewMatrix._storage[11]=0,this._viewMatrix._storage[12]=-this._rVector.dot(this._location),this._viewMatrix._storage[13]=-this._uVector.dot(this._location),this._viewMatrix._storage[14]=-this._dVector.dot(this._location),this._viewMatrix._storage[15]=1,this._inverseViewMatrix.copyFrom(this._viewMatrix),this._inverseViewMatrix.invert(),this._viewProjectionMatrix.copyFrom(this._viewMatrix),this._viewProjectionMatrix.multRight(this._projectionMatrix)}},{key:"_updateProjectionMatrix",value:function(){var e=this._frustum[0],t=this._frustum[1],n=this._frustum[2],i=this._frustum[3],r=this._frustum[4],a=this._frustum[5],o=1/(a-r),s=1/(i-n),l=1/(t-e);this._perspective?(this._projectionMatrix._storage[0]=2*e*o,this._projectionMatrix._storage[1]=0,this._projectionMatrix._storage[2]=0,this._projectionMatrix._storage[3]=0,this._projectionMatrix._storage[4]=0,this._projectionMatrix._storage[5]=2*e*s,this._projectionMatrix._storage[6]=0,this._projectionMatrix._storage[7]=0,this._projectionMatrix._storage[8]=-(r+a)*o,this._projectionMatrix._storage[9]=-(n+i)*s,this._projectionMatrix._storage[10]=t*l,this._projectionMatrix._storage[11]=1,this._projectionMatrix._storage[12]=0,this._projectionMatrix._storage[13]=0,this._projectionMatrix._storage[14]=-t*e*l,this._projectionMatrix._storage[15]=0):(this._projectionMatrix._storage[0]=2*o,this._projectionMatrix._storage[1]=0,this._projectionMatrix._storage[2]=0,this._projectionMatrix._storage[3]=0,this._projectionMatrix._storage[4]=0,this._projectionMatrix._storage[5]=2*s,this._projectionMatrix._storage[6]=0,this._projectionMatrix._storage[7]=0,this._projectionMatrix._storage[8]=0,this._projectionMatrix._storage[9]=0,this._projectionMatrix._storage[10]=l,this._projectionMatrix._storage[11]=0,this._projectionMatrix._storage[12]=-(r+a)*o,this._projectionMatrix._storage[13]=-(n+i)*s,this._projectionMatrix._storage[14]=-e*l,this._projectionMatrix._storage[15]=1),this._inverseProjectionMatrix.copyFrom(this._projectionMatrix),this._inverseProjectionMatrix.invert(),this._viewProjectionMatrix.copyFrom(this._viewMatrix),this._viewProjectionMatrix.multRight(this._projectionMatrix)}},{key:"saveState",value:function(){return{dVector:new A.Vector3(this._dVector),uVector:new A.Vector3(this._uVector),rVector:new A.Vector3(this._rVector),location:new A.Vector3(this._location),frustum:this._frustum.slice(),viewport:this._viewport.slice(),depthRange:this._depthRange.slice(),perspective:this._perspective}}},{key:"equals",value:function(e){var t=this._dVector.equals(e.dVector)&&this._uVector.equals(e.uVector)&&this._rVector.equals(e.rVector)&&this._location.equals(e.location);if(!t)return!1;for(var n=0;n<this._frustum.length;++n)t=t&&e.frustum[n]===this._frustum[n];if(!t)return!1;for(var i=0;i<this._viewport.length;++i)t=t&&e.viewport[i]===this._viewport[i];if(!t)return!1;for(var r=0;r<this._depthRange.length;++r)t=t&&e.depthRange[r]===this._depthRange[r];return t&&e.perspective===this._perspective}},{key:"restoreState",value:function(e){this.perspective=e.perspective,this.setFrame(e.location,e.dVector,e.uVector,e.rVector),this.setFrustumRaw(e.frustum),this.setViewportRaw(e.viewport),this.setDepthRange(e.depthRange[0],e.depthRange[1])}},{key:"setFrame",value:function(e,t,n,i){this._location.copyFrom(e),this._dVector.copyFrom(t).normalize(),this._uVector.copyFrom(n).normalize(),this._rVector.copyFrom(i).normalize(),this._updateViewMatrix(),this._renderer&&this._renderer.updateViewMatrix(this._viewMatrix,this._inverseViewMatrix,this._location)}},{key:"setFrustumOrtho",value:function(e,t,n,i,r,a){this._frustum[4]=e,this._frustum[5]=t,this._frustum[2]=n,this._frustum[3]=i,this._frustum[0]=r,this._frustum[1]=a,this._updateProjectionMatrix(),this._renderer&&this._renderer.updateProjectionMatrix(this._projectionMatrix,this._inverseProjectionMatrix)}},{key:"setFrustum",value:function(e,t,n,i){var r=.5*(e*(Math.PI/180));this._frustum[3]=n*Math.tan(r),this._frustum[5]=t*this._frustum[3],this._frustum[2]=-this._frustum[3],this._frustum[4]=-this._frustum[5],this._frustum[0]=n,this._frustum[1]=i,this._updateProjectionMatrix(),this._renderer&&this._renderer.updateProjectionMatrix(this._projectionMatrix,this._inverseProjectionMatrix)}},{key:"setFrustumRaw",value:function(e){for(var t=0;t<e.length;++t)this._frustum[t]=e[t];this._updateProjectionMatrix(),this._renderer&&this._renderer.updateProjectionMatrix(this._projectionMatrix,this._inverseProjectionMatrix)}},{key:"setViewport",value:function(e,t,n,i){this._viewport[0]=e,this._viewport[1]=t,this._viewport[2]=n,this._viewport[3]=i,this._renderer&&this._renderer.onViewportChange()}},{key:"setViewportRaw",value:function(e){for(var t=0;t<e.length;++t)this._viewport[t]=e[t];this._renderer&&this._renderer.onViewportChange()}},{key:"setDepthRange",value:function(e,t){this._depthRange[0]=e,this._depthRange[1]=t,this._renderer&&this._renderer.onDepthRangeChange()}},{key:"getPickRay",value:function(e,t,n,i,r){return this.getPickRayNorm(e/n,(i-t)/i,r)}},{key:"getPickRayNorm",value:function(e,n,i){i=i||new b.Ray3,e=g.MathUtil.clamp(e,this._viewport[0],this._viewport[1]),n=g.MathUtil.clamp(n,this._viewport[3],this._viewport[2]);var r=(e-this._viewport[0])/(this._viewport[1]-this._viewport[0]),a=(1-r)*this._frustum[t.RMIN]+r*this._frustum[t.RMAX],o=(n-this._viewport[3])/(this._viewport[2]-this._viewport[3]),s=(1-o)*this._frustum[t.UMIN]+o*this._frustum[t.UMAX];return this._tmpVec.copyFrom(this._dVector),this._tmpVec.mult(this._frustum[t.DMIN]),this._tmpVec2.copyFrom(this._rVector),this._tmpVec2.mult(a),this._tmpVec3.copyFrom(this._uVector),this._tmpVec3.mult(s),this._tmpVec.add(this._tmpVec2),this._tmpVec.add(this._tmpVec3),this._tmpVec.normalize(),i.origin=this._location,i.direction=this._tmpVec,i}},{key:"lookDirection",value:function(e,t){this._tmpVec2.copyFrom(e),0===this._tmpVec2.magnitude()&&(this._tmpVec2.z=-1);var n=A.Vector3.Y_AXIS;void 0!==t&&(n=t),this._tmpVec2.cross(n).normalize(),0===this._tmpVec2.magnitude()&&(e.x+=1e-4,this._tmpVec2.copyFrom(e),this._tmpVec2.cross(this._uVector).normalize()),this._tmpVec3.copyFrom(this._tmpVec2),this._tmpVec3.cross(e).normalize(),this.setFrame(this._location,e,this._tmpVec3,this._tmpVec2)}},{key:"lookAt",value:function(e,t){this._tmpVec.copyFrom(e),this._tmpVec.sub(this._location),this.lookDirection(this._tmpVec,t)}},{key:"getQuaternion",value:function(e){return e=e||new y.Quaternion,e.fromLookRotation(this.dVector,this.rVector,this.uVector)}},{key:"perspective",get:function(){return this._perspective},set:function(e){this._perspective=e,this._updateProjectionMatrix(),this._renderer&&this._renderer.updateProjectionMatrix(this._projectionMatrix,this._inverseProjectionMatrix)}},{key:"far",get:function(){return this._frustum[S]}},{key:"near",get:function(){return this._frustum[w]}},{key:"frustum",get:function(){return this._frustum}},{key:"viewport",get:function(){return this._viewport}},{key:"uVector",get:function(){return this._uVector}},{key:"dVector",get:function(){return this._dVector}},{key:"rVector",get:function(){return this._rVector}},{key:"location",get:function(){return this._location},set:function(e){this._location.copyFrom(e),this._updateViewMatrix(),this._renderer&&this._renderer.updateViewMatrix(this._viewMatrix,this._inverseViewMatrix,this._location)}},{key:"depthRange",get:function(){return this._depthRange}},{key:"renderer",get:function(){return this._renderer},set:function(e){this._renderer=e}},{key:"viewMatrix",get:function(){return this._viewMatrix}},{key:"inverseViewMatrix",get:function(){return this._inverseViewMatrix}},{key:"projectionMatrix",get:function(){return this._projectionMatrix}},{key:"viewProjectionMatrix",get:function(){return this._viewProjectionMatrix}},{key:"inverseProjectionMatrix",get:function(){return this._inverseProjectionMatrix}},{key:"transformMatrix",get:function(){var e=new v.Matrix4,t=new A.Vector3(this._dVector).neg();return e._storage[0]=this._rVector.x,e._storage[1]=this._uVector.x,e._storage[2]=t.x,e._storage[3]=0,e._storage[4]=this._rVector.y,e._storage[5]=this._uVector.y,e._storage[6]=t.y,e._storage[7]=0,e._storage[8]=this._rVector.z,e._storage[9]=this._uVector.z,e._storage[10]=t.z,e._storage[11]=0,e._storage[12]=this._rVector.dot(this._location),e._storage[13]=this._uVector.dot(this._location),e._storage[14]=t.dot(this._location),e._storage[15]=1,e}}]),t}(m.Serializable)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhysicalCamera=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(7),p=n(9),m=n(14),A=n(20),g=n(25),v=n(53),y=n(80),b=n(24),E="aperturePriority",w="shutterPriority",S="program",T="tonemapSimple",x="tonemapFilmic",C="physicalCameraEventHdrParamsChanged",M="physicalCameraEventProjectionChanged",P="physicalCameraEventMadeActive",I="physicalCameraEventAspectChanged";t.PhysicalCamera=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._nearPlane=_.Util.getParam(e,"nearPlane",.1),n._farPlane=_.Util.getParam(e,"farPlane",100),n._filmHeight=_.Util.getParam(e,"filmHeight",24),n._filmWidth=p.Context.renderer.width/p.Context.renderer.height*n._filmHeight,n._filmSpeed=_.Util.getParam(e,"filmSpeed",470),n._focalDistance=_.Util.getParam(e,"focalDistance",10),n._focalLength=_.Util.getParam(e,"focalLength",50),n._fStop=_.Util.getParam(e,"fStop",16),n._shutterSpeed=_.Util.getParam(e,"shutterSpeed",.004),n._gradientEnabled=_.Util.getParam(e,"gradientEnabled",!1),n._gradientColorA=_.Util.getParam(e,"gradientColorA",new A.ColorRGBA(A.ColorRGBA.BLACK_TRANSPARENT)),n._gradientColorB=_.Util.getParam(e,"gradientColorB",new A.ColorRGBA(A.ColorRGBA.BLACK_TRANSPARENT)),n._gradientDirection=_.Util.getParam(e,"gradientDirection",[0,1]),n._autoFocus=_.Util.getParam(e,"autoFocus",!0),n._autoFocusSpeed=_.Util.getParam(e,"autoFocusSpeed",.2),n._autoFocusPositionX=_.Util.getParam(e,"autoFocusPositionX",.5),n._autoFocusPositionY=_.Util.getParam(e,"autoFocusPositionY",.5),n._autoFocusRegionSize=_.Util.getParam(e,"autoFocusRegionSize",.02),n._autoExposure=_.Util.getParam(e,"autoExposure",!1),n._autoExposureSpeed=_.Util.getParam(e,"autoExposureSpeed",.1),n._autoExposurePositionX=_.Util.getParam(e,"autoExposurePositionX",.5),n._autoExposurePositionY=_.Util.getParam(e,"autoExposurePositionY",.5),n._autoExposureRegionSize=_.Util.getParam(e,"autoExposureRegionSize",.6),n._optimalEV=_.Util.getParam(e,"optimalEV",.114),n._autoExposureMode=_.Util.getParam(e,"autoExposureMode",t.EXPOSURE_APERTURE_PRIORITY),n._cocThreshold=_.Util.getParam(e,"cocThreshold",2),n._cocThresholdRange=_.Util.getParam(e,"cocThresholdRange",3),n._apertureTextures=[p.Context.makeResourcePath("images/aperture-big-0.png"),p.Context.makeResourcePath("images/aperture-big-1.png"),p.Context.makeResourcePath("images/aperture-big-2.png"),p.Context.makeResourcePath("images/aperture-big-3.png")],n._pupilTexture=p.Context.makeResourcePath("images/aperture-open-big.png"),n._apertureIlluminationCoefficients=[176.23/256,.69359375,178.59/256,171.61/256],n._glareThreshold=_.Util.getParam(e,"glareThreshold",2),n._glareVisibility=_.Util.getParam(e,"glareVisibility",1),n._ghostingThreshold=_.Util.getParam(e,"ghostingThreshold",2),n._ghostingVisibility=_.Util.getParam(e,"ghostingVisibility",.01),n._opticalVignettingStrength=_.Util.getParam(e,"opticalVignettingStrength",1),n._lensDirtAmount=_.Util.getParam(e,"lensDirtAmount",1),n.lensDirtPath=_.Util.getParam(e,"lensDirtPath",p.Context.makeResourcePath("images/lensdirt.jpg")),n._grain=p.Context.makeResourcePath("images/grain.jpg"),n._vignettingIllumFalloff=p.Context.makeResourcePath("images/vignetting_illum_falloff.png"),n.gradingLutPath=_.Util.getParam(e,"gradingLutPath",p.Context.makeResourcePath("images/colorGradingDefaultLUT-16x1.png")),n._gradingHue=_.Util.getParam(e,"gradingHue",1),n._gradingSaturation=_.Util.getParam(e,"gradingSaturation",1),n._gradingValue=_.Util.getParam(e,"gradingValue",1),n._active=_.Util.getParam(e,"active",!1),n._toneMap=_.Util.getParam(e,"toneMap",t.TONEMAP_FILMIC),n._tiltShiftBlurAmount=_.Util.getParam(e,"tiltShiftBlurAmount",0),n._chromaticAbberationAmount=_.Util.getParam(e,"chromaticAbberationAmount",.001),n._sharpenAmount=_.Util.getParam(e,"sharpenAmount",.5),n._keepConstantMagnification=_.Util.getParam(e,"keepConstantMagnification",!1),n._minFStop=1.4,n._maxFStop=22,n._minFocalDistance=.1,n._lensTransmittance=1,n._minShutterSpeed=0,n._maxShutterSpeed=128,n._minFilmSpeed=25,n._maxFilmSpeed=1600,n._kn=1,n._camera=new v.Camera,n._projection=[0,0,0,0],n._updateRenderCamera(),p.Context.eventEmitter.on(y.Application.EVENT_RESIZE,n._updateAspect.bind(n)),p.Context.eventEmitter.on(t.EVENT_MADE_ACTIVE,n._updateActiveState.bind(n)),n._active&&p.Context.eventEmitter.emit(n,t.EVENT_MADE_ACTIVE),p.Context.eventEmitter.emit(n,t.EVENT_HDR_PARAMS_CHANGED),n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"PhysicalCamera",params:{nearPlane:this._nearPlane,farPlane:this._farPlane,filmHeight:this._filmHeight,filmWidth:this._filmWidth,filmSpeed:this._filmSpeed,focalDistance:this._focalDistance,focalLength:this._focalLength,fStop:this._fStop,shutterSpeed:this._shutterSpeed,gradientEnabled:this._gradientEnabled,gradientColorA:this._gradientColorA,gradientColorB:this._gradientColorB,gradientDirection:this._gradientDirection,autoFocus:this._autoFocus,autoFocusSpeed:this._autoFocusSpeed,autoFocusPositionX:this._autoFocusPositionX,autoFocusPositionY:this._autoFocusPositionY,autoFocusRegionSize:this._autoFocusRegionSize,autoExposure:this._autoExposure,autoExposureSpeed:this._autoExposureSpeed,autoExposurePositionX:this._autoExposurePositionX,autoExposurePositionY:this._autoExposurePositionY,autoExposureRegionSize:this._autoExposureRegionSize,optimalEV:this._optimalEV,autoExposureMode:this._autoExposureMode,
cocThreshold:this._cocThreshold,cocThresholdRange:this._cocThresholdRange,apertureTextures:this._apertureTextures,pupilTexture:this._pupilTexture,apertureIlluminationCoefficients:this._apertureIlluminationCoefficients,glareThreshold:this._glareThreshold,glareVisibility:this._glareVisibility,ghostingThreshold:this._ghostingThreshold,ghostingVisibility:this._ghostingVisibility,opticalVignettingStrength:this._opticalVignettingStrength,lensDirtAmount:this._lensDirtAmount,lensDirtPath:this.lensDirtPath,grain:this._grain,vignettingIllumFalloff:this._vignettingIllumFalloff,gradingLutPath:this.gradingLutPath,gradingHue:this._gradingHue,gradingSaturation:this._gradingSaturation,gradingValue:this._gradingValue,active:this._active,toneMap:this._toneMap,tiltShiftBlurAmount:this._tiltShiftBlurAmount,chromaticAbberationAmount:this._chromaticAbberationAmount,sharpenAmount:this._sharpenAmount,keepConstantMagnification:this._keepConstantMagnification}}}}],[{key:"EXPOSURE_APERTURE_PRIORITY",get:function(){return E}},{key:"EXPOSURE_SHUTTER_PRIORITY",get:function(){return w}},{key:"EXPOSURE_PROGRAM",get:function(){return S}},{key:"TONEMAP_SIMPLE",get:function(){return T}},{key:"TONEMAP_FILMIC",get:function(){return x}},{key:"EVENT_HDR_PARAMS_CHANGED",get:function(){return C}},{key:"EVENT_CAMERA_PROJECTION_CHANGED",get:function(){return M}},{key:"EVENT_MADE_ACTIVE",get:function(){return P}},{key:"EVENT_ASPECT_CHANGED",get:function(){return I}}]),(0,d.default)(t,[{key:"makeActive",value:function(){this._active=!0,p.Context.eventEmitter.emit(this,t.EVENT_MADE_ACTIVE)}},{key:"_setFocalDistance",value:function(e){e<this._minFocalDistance?this._focalDistance!==this._minFocalDistance&&(this._focalDistance=this._minFocalDistance,this._updateRenderCamera(),p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED)):this._focalDistance!==e&&(this._focalDistance=e,this._updateRenderCamera(),p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))}},{key:"setLens",value:function(e,t,n){this.focalLength=(e-1)*(1/t-1/n)}},{key:"setLensPower",value:function(e){this.focalLength=1/e}},{key:"openingUpByOneStop",value:function(){var e=this._focalLength/this._fStop;e+=e*Math.sqrt(2);var t=this._focalLength/e;this.fStop=t}},{key:"closingDownByOneStop",value:function(){var e=this._focalLength/this._fStop;e-=e*Math.sqrt(2),this.fStop=this._focalLength/e}},{key:"adjustFocalDistance",value:function(e){this._autoFocus&&this._setFocalDistance(this._focalDistance+this._autoFocusSpeed*(e-this._focalDistance))}},{key:"adjustExposure",value:function(e){this._autoExposure&&(this._autoExposureMode===t.EXPOSURE_SHUTTER_PRIORITY?this.fStop=this._fStop*Math.pow(e/Math.max(this._optimalEV,1e-4),.5*this._autoExposureSpeed):this._autoExposureMode===t.EXPOSURE_APERTURE_PRIORITY&&(this.shutterSpeed=this._shutterSpeed*Math.pow(this._optimalEV/Math.max(e,1e-4),this._autoExposureSpeed)))}},{key:"lookDirection",value:function(e,t){return this.updateTransform(),this._camera.lookDirection(e,t)}},{key:"lookAt",value:function(e,t){return this.updateTransform(),this._camera.lookAt(e,t)}},{key:"getPickRayNorm",value:function(e,t,n){return this.updateTransform(),this._camera.getPickRayNorm(e,t,n)}},{key:"getPickRay",value:function(e,t,n,i,r){return this.updateTransform(),this._camera.getPickRay(e,t,n,i,r)}},{key:"$onTransformUpdated",value:function(){this._camera.location=this.worldTransform.position}},{key:"_updateProjection",value:function(){var e=this._camera.frustum[v.Camera.DMAX]/(this._camera.frustum[v.Camera.DMAX]-this._camera.frustum[v.Camera.DMIN]),n=-this._camera.frustum[v.Camera.DMAX]*this._camera.frustum[v.Camera.DMIN]/(this._camera.frustum[v.Camera.DMAX]-this._camera.frustum[v.Camera.DMIN]),i=this._camera.frustum[v.Camera.DMIN],r=this._camera.frustum[v.Camera.DMAX];e===this._projection[0]&&n===this._projection[1]&&i===this._projection[2]&&r===this._projection[3]||(this._projection[0]=e,this._projection[1]=n,this._projection[2]=i,this._projection[3]=r,p.Context.eventEmitter.emit(this,t.EVENT_CAMERA_PROJECTION_CHANGED))}},{key:"_updateAspect",value:function(e){this._filmWidth=e.width/e.height*this._filmHeight,this._updateRenderCamera(),p.Context.eventEmitter.emit(this,t.EVENT_ASPECT_CHANGED)}},{key:"_updateRenderCamera",value:function(){this._camera.setFrustum(this.fov,this.aspect,this._nearPlane,this._farPlane),this._updateProjection()}},{key:"_updateActiveState",value:function(e){this!==e&&(this._active=!1)}},{key:"active",get:function(){return this._active}},{key:"camera",get:function(){return this._camera}},{key:"filmHeight",set:function(e){this._filmHeight=e,this._filmWidth=p.Context.renderer.width/p.Context.renderer.height*this._filmHeight,this._updateRenderCamera()},get:function(){return this._filmHeight}},{key:"filmWidth",set:function(e){this._filmWidth!==e&&(this._filmWidth=e,this._updateRenderCamera(),p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._filmWidth}},{key:"cocThresholdRange",set:function(e){this._cocThresholdRange!==e&&(this._cocThresholdRange=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._cocThresholdRange}},{key:"cocThreshold",set:function(e){this._cocThreshold!==e&&(this._cocThreshold=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._cocThreshold}},{key:"focalLength",set:function(e){this._focalLength!==e&&(this._focalLength=e,this._updateRenderCamera(),p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._focalLength}},{key:"autoFocus",set:function(e){this._autoFocus=e},get:function(){return this._autoFocus}},{key:"autoFocusSpeed",set:function(e){this._autoFocusSpeed=e},get:function(){return this._autoFocusSpeed}},{key:"autoFocusPositionX",set:function(e){this._autoFocusPositionX!==e&&(this._autoFocusPositionX=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._autoFocusPositionX}},{key:"autoFocusPositionY",set:function(e){this._autoFocusPositionY!==e&&(this._autoFocusPositionY=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._autoFocusPositionY}},{key:"autoFocusRegionSize",set:function(e){this._autoFocusRegionSize!==e&&(this._autoFocusRegionSize=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._autoFocusRegionSize}},{key:"autoExposure",set:function(e){this._autoExposure=e},get:function(){return this._autoExposure}},{key:"autoExposurePositionX",set:function(e){this._autoExposurePositionX!==e&&(this._autoExposurePositionX=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._autoExposurePositionX}},{key:"autoExposurePositionY",set:function(e){this._autoExposurePositionY!==e&&(this._autoExposurePositionY=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._autoExposurePositionY}},{key:"autoExposureRegionSize",set:function(e){this._autoExposureRegionSize!==e&&(this._autoExposureRegionSize=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._autoExposureRegionSize}},{key:"autoExposureMode",set:function(e){this._autoExposureMode=e},get:function(){return this._autoExposureMode}},{key:"autoExposureSpeed",set:function(e){this._autoExposureSpeed=e},get:function(){return this._autoExposureSpeed}},{key:"optimalEV",set:function(e){this._optimalEV=e},get:function(){return this._optimalEV}},{key:"kn",set:function(e){this._kn!==e&&(this._kn=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._kn}},{key:"focalDistance",set:function(e){this._autoFocus||this._setFocalDistance(e)},get:function(){return this._focalDistance}},{key:"minFocalDistance",set:function(e){this._minFocalDistance=e},get:function(){return this._minFocalDistance}},{key:"fStop",set:function(e){var n=m.MathUtil.clamp(e,this._minFStop,this._maxFStop);this._fStop!==n&&(this._fStop=n,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._fStop}},{key:"minFStop",set:function(e){this._minFStop=e},get:function(){return this._minFStop}},{key:"maxFStop",set:function(e){this._maxFStop=e},get:function(){return this._maxFStop}},{key:"shutterSpeed",set:function(e){var n=m.MathUtil.clamp(e,this._minShutterSpeed,this._maxShutterSpeed);this._shutterSpeed!==n&&(this._shutterSpeed=n,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._shutterSpeed}},{key:"minShutterSpeed",set:function(e){this._minShutterSpeed=e},get:function(){return this._minShutterSpeed}},{key:"maxShutterSpeed",set:function(e){this._maxShutterSpeed=e},get:function(){return this._maxShutterSpeed}},{key:"filmSpeed",set:function(e){var n=m.MathUtil.clamp(e,this._minFilmSpeed,this._maxFilmSpeed);n!==this._filmSpeed&&(this._filmSpeed=n,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._filmSpeed}},{key:"minFilmSpeed",set:function(e){this._minFilmSpeed=e},get:function(){return this._minFilmSpeed}},{key:"maxFilmSpeed",set:function(e){this._maxFilmSpeed=e},get:function(){return this._maxFilmSpeed}},{key:"lensTransmittance",set:function(e){this._lensTransmittance!==e&&(this._lensTransmittance=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._lensTransmittance}},{key:"lensDirtAmount",set:function(e){e!==this._lensDirtAmount&&(this._lensDirtAmount=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._lensDirtAmount}},{key:"lensDirt",set:function(e){e!==this._lensDirt&&(this._lensDirt=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._lensDirt}},{key:"lensDirtPath",set:function(e){var n=this;if(this._lensDirtPath!==e){var i=new b.Texture({type:b.Texture.IMAGE,data:[e],generateMipmaps:!1,immediateLoad:!1,onLoaded:function(){n._lensDirtPath=e,p.Context.eventEmitter.emit(n,t.EVENT_HDR_PARAMS_CHANGED)}});this._lensDirt&&this._lensDirt.dtor(),this._lensDirt=i,this._lensDirtPath=e}},get:function(){return this._lensDirtPath}},{key:"ghostingVisibility",set:function(e){e!==this._ghostingVisibility&&(this._ghostingVisibility=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._ghostingVisibility}},{key:"ghostingThreshold",set:function(e){e!==this._ghostingThreshold&&(this._ghostingThreshold=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._ghostingThreshold}},{key:"glareVisibility",set:function(e){e!==this._glareVisibility&&(this._glareVisibility=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._glareVisibility}},{key:"glareThreshold",set:function(e){e!==this._glareThreshold&&(this._glareThreshold=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._glareThreshold}},{key:"opticalVignettingStrength",set:function(e){e!==this._opticalVignettingStrength&&(this._opticalVignettingStrength=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._opticalVignettingStrength}},{key:"grain",set:function(e){e!==this._grain&&(this._grain=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._grain}},{key:"apertureTextures",set:function(e){_.Util.deepEqual(e,this._apertureTextures)||(this._apertureTextures=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._apertureTextures}},{key:"pupilTexture",set:function(e){e!==this._pupilTexture&&(this._pupilTexture=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._pupilTexture}},{key:"apertureIlluminationCoefficients",set:function(e){_.Util.deepEqual(this._apertureIlluminationCoefficients,e)||(this._apertureIlluminationCoefficients=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._apertureIlluminationCoefficients}},{key:"gradientEnabled",set:function(e){e!==this._gradientEnabled&&(this._gradientEnabled=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._gradientEnabled}},{key:"gradientColorA",set:function(e){e.equals(this._gradientColorA)||(this._gradientColorA=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._gradientColorA}},{key:"gradientColorB",set:function(e){e.equals(this._gradientColorB)||(this._gradientColorB=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._gradientColorB}},{key:"gradientDirection",set:function(e){_.Util.deepEqual(e,this._gradientDirection)||(this._gradientDirection=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._gradientDirection}},{key:"projection",get:function(){return this._projection}},{key:"grainAmount",get:function(){return(this._filmSpeed-this._minFilmSpeed)/(this._maxFilmSpeed-this._minFilmSpeed)}},{key:"lensDiameter",get:function(){return this._focalLength/this._fStop}},{key:"exposureValue",get:function(){return Math.log(this._fStop*this._fStop/this._shutterSpeed)/Math.log(2)}},{key:"fov",get:function(){var e=this._focalLength;this._keepConstantMagnification&&(e*=this.aspect);var t=e/(1e3*this._focalDistance-e);return m.MathUtil.radToDeg(2*Math.atan(this.frameSize/(2*e*(t+1))))}},{key:"frameSize",get:function(){return this._keepConstantMagnification?Math.min(this._filmHeight,this._filmWidth):this._filmHeight}},{key:"aspect",get:function(){return this._filmWidth/this._filmHeight}},{key:"lensDistanceToFilm",get:function(){return this._focalLength*this._focalDistance*1e3/(1e3*this._focalDistance-this._focalLength)}},{key:"apertureIdx",get:function(){return Math.round((this._apertureTextures.length-1)*(this._fStop-this._minFStop)/(this._maxFStop-this._minFStop))}},{key:"gradingLutPath",set:function(e){var n=this;if(this._gradingLutPath!==e){var i=new b.Texture({type:b.Texture.IMAGE,data:[e],generateMipmaps:!1,immediateLoad:!1,filterType:{min:b.Texture.NEAREST,mag:b.Texture.NEAREST},onLoaded:function(){n._gradingLutPath=e,p.Context.eventEmitter.emit(n,t.EVENT_HDR_PARAMS_CHANGED)}});this._gradinglut&&this._gradinglut.dtor(),this._gradingLut=i,this._gradingLutPath=e}},get:function(){return this._gradingLutPath}},{key:"gradingLut",set:function(e){this._gradingLut!==e&&(this._gradingLut=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._gradingLut}},{key:"chromaticAbberationAmount",set:function(e){e!==this._chromaticAbberationAmount&&(this._chromaticAbberationAmount=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._chromaticAbberationAmount}},{key:"sharpenAmount",set:function(e){e!==this._sharpenAmount&&(this._sharpenAmount=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))},get:function(){return this._sharpenAmount}},{key:"gradingHue",get:function(){return this._gradingHue},set:function(e){this._gradingHue=e}},{key:"gradingSaturation",get:function(){return this._gradingSaturation},set:function(e){this._gradingSaturation=e}},{key:"gradingValue",get:function(){return this._gradingValue},set:function(e){this._gradingValue=e}},{key:"farPlane",set:function(e){this._farPlane!==e&&(this._farPlane=e,this._updateRenderCamera())},get:function(){return this._farPlane}},{key:"nearPlane",set:function(e){this._nearPlane!==e&&(this._nearPlane=e,this._updateRenderCamera())},get:function(){return this._nearPlane}},{key:"uVector",get:function(){return this._camera.uVector}},{key:"dVector",get:function(){return this._camera.dVector}},{key:"rVector",get:function(){return this._camera.rVector}},{key:"toneMap",get:function(){return this._toneMap},set:function(e){_.Util.deepEqual(e,this._toneMap)||(this._toneMap=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))}},{key:"tiltShiftBlurAmount",get:function(){return this._tiltShiftBlurAmount},set:function(e){_.Util.deepEqual(e,this._tiltShiftBlurAmount)||(this._tiltShiftBlurAmount=e,p.Context.eventEmitter.emit(this,t.EVENT_HDR_PARAMS_CHANGED))}},{key:"keepConstantMagnification",get:function(){return this._keepConstantMagnification},set:function(e){this._keepConstantMagnification=e}}]),t}(g.SpatialNode)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingManager=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(9),u="loadingManagerLoadingStart",c="loadingManagerLoadingEnd",d="loadingManagerLoadingProgress",h="loadingManagerLoadingFinished",f="loadingManagerFirstLoadingFinished",_="loadingManagerIntermediateLoadingStarted",p="loadingManagerIntermediateLoadingProgress",m="loadingManagerIntermediateLoadingFinished";t.LoadingManager=function(){function e(){(0,a.default)(this,e),this._loadingStartCount=0,this._loadingEndCount=0,this._progress=0,this._firstLoad=!0,this._intermediateLoad=!1,l.Context.eventEmitter.onAsync(e.EVENT_LOADING_START,this._incLoadingCount.bind(this)),l.Context.eventEmitter.onAsync(e.EVENT_LOADING_END,this._decLoadingCount.bind(this))}return(0,s.default)(e,null,[{key:"EVENT_LOADING_START",get:function(){return u}},{key:"EVENT_LOADING_END",get:function(){return c}},{key:"EVENT_LOADING_PROGRESS",get:function(){return d}},{key:"EVENT_LOADING_FINISHED",get:function(){return h}},{key:"EVENT_FIRST_LOADING_FINISHED",get:function(){return f}},{key:"EVENT_INTERMEDIATE_LOADING_STARTED",get:function(){return _}},{key:"EVENT_INTERMEDIATE_LOADING_PROGRESS",get:function(){return p}},{key:"EVENT_INTERMEDIATE_LOADING_FINISHED",get:function(){return m}}]),(0,s.default)(e,[{key:"_incLoadingCount",value:function(){++this._loadingStartCount,l.Context.logger.debug(this,this._loadingEndCount+" / "+this._loadingStartCount),this._udpateProgress()}},{key:"_decLoadingCount",value:function(){++this._loadingEndCount,l.Context.logger.debug(this,this._loadingEndCount+" / "+this._loadingStartCount),this._udpateProgress()}},{key:"_udpateProgress",value:function(){this._loadingEndCount>0?this._progress=this._loadingEndCount/this._loadingStartCount:this._progress=0,l.Context.eventEmitter.emitOnce(this,e.EVENT_LOADING_PROGRESS),this._firstLoad?1===this._progress&&(this._firstLoad=!1,l.Context.eventEmitter.emitOnce(this,e.EVENT_FIRST_LOADING_FINISHED)):(this._intermediateLoad||(this._intermediateLoad=!0,l.Context.eventEmitter.emitOnce(this,e.EVENT_INTERMEDIATE_LOADING_STARTED)),l.Context.eventEmitter.emitOnce(this,e.EVENT_INTERMEDIATE_LOADING_PROGRESS),1===this._progress&&(this._intermediateLoad=!1,l.Context.eventEmitter.emitOnce(this,e.EVENT_INTERMEDIATE_LOADING_FINISHED))),1===this._progress&&l.Context.eventEmitter.emitOnce(this,e.EVENT_LOADING_FINISHED)}},{key:"progress",get:function(){return this._progress}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceTracker=void 0;var r=n(45),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(9);t.ResourceTracker=function(){function e(){(0,s.default)(this,e),this._activeResources=new a.default}return(0,u.default)(e,[{key:"initializer",value:function(){this._activeResources=new a.default}}]),(0,u.default)(e,[{key:"_checkType",value:function(e){e&&"function"==typeof e.dtor||c.Context.logger.warn(this,"Cannot add/remove active resource without dtor or undefined. There may be a resource leak")}},{key:"addActiveResource",value:function(e){return this._checkType(e),this._activeResources.add(e),e}},{key:"removeActiveResource",value:function(e){return this._checkType(e),this._activeResources.delete(e),e}},{key:"dtorActiveResources",value:function(){this._activeResources.forEach(function(e){return e.dtor()}),this._activeResources.clear()}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Controller=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(13);t.Controller=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._active=!1,n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"Controller"}}}]),(0,d.default)(t,[{key:"update",value:function(e,t){}},{key:"$onAddedToScene",value:function(){}},{key:"$onRemovedFromScene",value:function(){}},{key:"onAddedToScene",value:function(e){this._active=!0,this.$onAddedToScene(e)}},{key:"onRemovedFromScene",value:function(e){this._active=!1,this.$onRemovedFromScene(e)}},{key:"active",get:function(){return this._active}},{key:"$active",get:function(){return this._active}}]),t}(_.Serializable)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubAction=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(7);t.HubAction=function(){function e(t){(0,a.default)(this,e),this._for=l.Util.getParamRequired(t,"for")}return(0,s.default)(e,[{key:"equals",value:function(e){return e.for===this._for}},{key:"for",get:function(){return this._for}}]),e}()},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Easing=void 0;var r=n(1),a=i(r),o=n(2),s=i(o);t.Easing=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,null,[{key:"linearTween",value:function(e){return e}},{key:"easeInQuad",value:function(e){return Math.pow(e,2)}},{key:"easeOutQuad",value:function(e){return-(Math.pow(e-1,2)-1)}},{key:"easeInOutQuad",value:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)}},{key:"easeInCubic",value:function(e){return Math.pow(e,3)}},{key:"easeOutCubic",value:function(e){return Math.pow(e-1,3)+1}},{key:"easeInOutCubic",value:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}},{key:"easeInQuart",value:function(e){return Math.pow(e,4)}},{key:"easeOutQuart",value:function(e){return-(Math.pow(e-1,4)-1)}},{key:"easeInOutQuart",value:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)}},{key:"easeInQuint",value:function(e){return Math.pow(e,5)}},{key:"easeOutQuint",value:function(e){return Math.pow(e-1,5)+1}},{key:"easeInOutQuint",value:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)}},{key:"easeInSine",value:function(e){return-Math.cos(e*(Math.PI/2))+1}},{key:"easeOutSine",value:function(e){return Math.sin(e*(Math.PI/2))}},{key:"easeInOutSine",value:function(e){return-.5*(Math.cos(Math.PI*e)-1)}},{key:"easeInExpo",value:function(e){return 0===e?0:Math.pow(2,10*(e-1))}},{key:"easeOutExpo",value:function(e){return 1===e?1:-Math.pow(2,-10*e)+1}},{key:"easeInOutExpo",value:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)}},{key:"easeInCirc",value:function(e){return-(Math.sqrt(1-e*e)-1)}},{key:"easeOutCirc",value:function(e){return Math.sqrt(1-Math.pow(e-1,2))}},{key:"easeInOutCirc",value:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},{key:"easeOutBounce",value:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},{key:"easeInBack",value:function(e){var t=1.70158;return e*e*((t+1)*e-t)}},{key:"easeOutBack",value:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1}},{key:"easeInOutBack",value:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)}},{key:"elastic",value:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1}},{key:"swingFromTo",value:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)}},{key:"swingFrom",value:function(e){var t=1.70158;return e*e*((t+1)*e-t)}},{key:"swingTo",value:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1}},{key:"bounce",value:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},{key:"bouncePast",value:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)}},{key:"easeFromTo",value:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)}},{key:"easeFrom",value:function(e){return Math.pow(e,4)}},{key:"easeTo",value:function(e){return Math.pow(e,.25)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.VRDeviceManager=void 0;var r=n(33),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(9),d=n(39),h=n(7),f=n(11),_=n(42),p=n(26),m=n(27),A=n(223),g=n(91),v=1.6,y={LEFT:"left",RIGHT:"right"},b=t.VRDeviceManager=function(){function e(t){var n=this;if((0,s.default)(this,e),this._worldScale=h.Util.getParam(t,"worldScale",1),this._standing=h.Util.getParam(t,"standing",!1),this._fullscreenElement=h.Util.getParam(t,"fullscreenElement",document.body),this._webvrPolyfill=new A.WebVRPolyfill,this._hmd=null,this._hmdStatus=e.NOT_PRESENT,this._frameData=new VRFrameData,this._pose=null,this._hardwareVr=!1,this._isChromeMobile=h.Util.isChrome()&&h.Util.isMobileBrowser(),this._sensorTransform=new m.Transform,this._eyeParams={left:null,right:null},this._eyeOffset={},this._eyeOffset.left=new f.Vector3,this._eyeOffset.right=new f.Vector3,this._eyeOffsetLocation={},this._eyeOffsetLocation.left=new f.Vector3,this._eyeOffsetLocation.right=new f.Vector3,this._viewRect={},this._viewport={left:[],right:[]},this._renderSize=[],this._viewMatrix={left:new p.Matrix4,right:new p.Matrix4},this._inverseViewMatrix={left:new p.Matrix4,right:new p.Matrix4},this._projectionMatrix={left:new p.Matrix4,right:new p.Matrix4},this._inverseProjectionMatrix={left:new p.Matrix4,right:new p.Matrix4},this._state=e.STATE_INACTIVE,this._stageSize=new _.Vector2,this._tmpMatrix=new p.Matrix4,this._tmpMatrix2=new p.Matrix4,this._tmpVec=new f.Vector3,this._hmdMounted=!0,this._updateHmdParams=this._updateHmdParams.bind(this),h.Util.isSamsungInternet()){var i=function(){h.Util.getFullscreenElement()||(n._state=e.STATE_READY,c.Context.eventEmitter.emit(n,e.EVENT_VR_DEVICE_DEACTIVATED),c.Context.eventEmitter.removeListener(g.CardboardVRDisplay.EVENT_HMD_PARAMS_CHANGED,n._updateHmdParams))};c.Context.documentEventDispatcher.addEventListener(d.GlobalEvent.FULLSCREEN_CHANGE,i)}window.addEventListener("vrdisplaypresentchange",function(t){n._hmd.isPresenting?n._hardwareVr&&("mounted"===t.reason?(n._hmdMounted=!0,c.Context.eventEmitter.emit(n,e.EVENT_VR_DEVICE_MOUNTED)):"unmounted"===t.reason&&(n._hmdMounted=!1,c.Context.eventEmitter.emit(n,e.EVENT_VR_DEVICE_UNMOUNTED)),n._updateHmdParams()):(n._state=e.STATE_READY,c.Context.eventEmitter.emit(n,e.EVENT_VR_DEVICE_DEACTIVATED),c.Context.eventEmitter.removeListener(g.CardboardVRDisplay.EVENT_HMD_PARAMS_CHANGED,n._updateHmdParams))}),window.addEventListener("vrdisplayfocus",function(){n._hmdMounted=!0,c.Context.eventEmitter.emit(n,e.EVENT_VR_DEVICE_MOUNTED)}),window.addEventListener("vrdisplayblur",function(){n._hmdMounted=!1,c.Context.eventEmitter.emit(n,e.EVENT_VR_DEVICE_UNMOUNTED)}),this.init()}return(0,u.default)(e,[{key:"update",value:function(t){(this._state===e.STATE_ACTIVE||c.Context.forceVrRaf)&&(this._hmd.getFrameData(this._frameData),this._sensorTransform.reset(),this._pose=this._frameData.pose,this._pose.orientation&&this._sensorTransform.rotation.copyFromArray(this._pose.orientation),this._pose.position&&this._sensorTransform.position.copyFromArray(this._pose.position),this._standing&&(this._hmd.stageParameters?this._sensorTransform.position.y+=v:this._sensorTransform.position.y+=v)),this._state===e.STATE_ACTIVE&&(this._frameData.leftProjectionMatrix&&this._frameData.rightProjectionMatrix&&(this._updateProjectionMatrix(y.LEFT),this._updateProjectionMatrix(y.RIGHT)),this._updateViewMatrix(y.LEFT),this._updateViewMatrix(y.RIGHT))}},{key:"enable",value:function(){var t=this;return new a.default(function(n,i){t._state!==e.STATE_READY&&i(new Error("Cannot enable VR, already enabled")),t._updateEyeParams(),t._initRenderSize(),t._updateViewport(y.LEFT),t._updateViewport(y.RIGHT),t._oldRenderWidth=c.Context.renderer.canvas.width,t._oldRenderHeight=c.Context.renderer.canvas.height,c.Context.renderer.canvas.width=t.renderWidth,c.Context.renderer.canvas.height=t.renderHeight;var r=t._hardwareVr?c.Context.renderer.canvas:t._fullscreenElement;t._hmd.requestPresent([{source:r}]).then(function(){t._state=e.STATE_ACTIVE,t.update(0),c.Context.eventEmitter.emit(t,e.EVENT_VR_DEVICE_ACTIVATED),c.Context.eventEmitter.on(g.CardboardVRDisplay.EVENT_HMD_PARAMS_CHANGED,t._updateHmdParams),n()}).catch(function(e){c.Context.logger.error(t,"request vr mode failed: "+e),i(e)})})}},{key:"disable",value:function(){var t=this;return new a.default(function(n,i){t._state!==e.STATE_ACTIVE&&i(new Error("VR not active, cannot disable VR")),c.Context.renderer.canvas.width=t._oldRenderWidth,c.Context.renderer.canvas.height=t._oldRenderHeight,t._hmd.exitPresent().then(function(){t._state=e.STATE_READY,c.Context.eventEmitter.emit(t,e.EVENT_VR_DEVICE_DEACTIVATED),c.Context.eventEmitter.removeListener(g.CardboardVRDisplay.EVENT_HMD_PARAMS_CHANGED,t._updateHmdParams),n()}).catch(i)})}},{key:"getLeftViewMatrix",value:function(e){return this._tmpMatrix.copyFrom(this._viewMatrix.left).multLeft(e)}},{key:"getRightViewMatrix",value:function(e){return this._tmpMatrix.copyFrom(this._viewMatrix.right).multLeft(e)}},{key:"getLeftInverseViewMatrix",value:function(e){return this._tmpMatrix2.copyFrom(this._inverseViewMatrix.left).multRight(e)}},{key:"getRightInverseViewMatrix",value:function(e){return this._tmpMatrix2.copyFrom(this._inverseViewMatrix.right).multRight(e)}},{key:"getLeftProjectionMatrix",value:function(e){return e&&(this._projectionMatrix.left._storage[10]=e._storage[10],this._projectionMatrix.left._storage[14]=e._storage[14]),this._projectionMatrix.left}},{key:"getRightProjectionMatrix",value:function(e){return e&&(this._projectionMatrix.right._storage[10]=e._storage[10],this._projectionMatrix.right._storage[14]=e._storage[14]),this._projectionMatrix.right}},{key:"getLeftInverseProjectionMatrix",value:function(e){return e&&(this._inverseProjectionMatrix.left._storage[10]=e._storage[10],this._inverseProjectionMatrix.left._storage[14]=e._storage[14]),this._inverseProjectionMatrix.left}},{key:"getRightInverseProjectionMatrix",value:function(e){return e&&(this._inverseProjectionMatrix.right._storage[10]=e._storage[10],this._inverseProjectionMatrix.right._storage[14]=e._storage[14]),this._inverseProjectionMatrix.right}},{key:"getRightEyeOffsetLocation",value:function(e,t){return this._eyeOffsetLocation.right.copyFrom(e).mult(this._eyeOffset.right.magnitude()).add(t)}},{key:"getLeftEyeOffsetLocation",value:function(e,t){return this._eyeOffsetLocation.left.copyFrom(e).neg().mult(this._eyeOffset.left.magnitude()).add(t)}},{key:"_updateViewMatrix",value:function(e){this._viewMatrix[e].makeIdentity(),this._tmpVec.copyFrom(this._eyeOffset[e]),this._tmpVec.mult(-this._worldScale),this._viewMatrix[e].translateVector(this._tmpVec),this._inverseViewMatrix[e].copyFrom(this._viewMatrix[e]).invert()}},{key:"_updateProjectionMatrix",value:function(e){var t=void 0;if(t=e===y.LEFT?this._frameData.leftProjectionMatrix:this._frameData.rightProjectionMatrix)this._projectionMatrix[e].setAll(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],-t[8],-t[9],-t[10],-t[11],t[12],t[13],t[14],t[15]);else{var n=this._eyeParams[e].fieldOfView,i=Math.PI/180,r=Math.tan(n.upDegrees*i),a=-Math.tan(n.downDegrees*i),o=-Math.tan(n.leftDegrees*i),s=Math.tan(n.rightDegrees*i),l=1/(s-o),u=1/(r-a),c=this._projectionMatrix[e]._storage;c[0]=2*l,c[5]=2*u,c[8]=-(o+s)*l,c[9]=-(r+a)*u,c[11]=1,c[15]=0}this._inverseProjectionMatrix[e].copyFrom(this._projectionMatrix[e]).invert();
}},{key:"_updateViewport",value:function(e){var t=this._viewRect[e];this._viewport[e][0]=t.x/this._renderSize[0],this._viewport[e][1]=t.width/this._renderSize[0]+this._viewport[e][0],this._viewport[e][3]=t.y/this._renderSize[1],this._viewport[e][2]=t.height/this._renderSize[1]+this._viewport[e][3]}},{key:"_initRenderSize",value:function(){var e=this._eyeParams[y.LEFT].renderWidth,t=this._eyeParams[y.LEFT].renderHeight,n=this._eyeParams[y.RIGHT].renderWidth,i=this._eyeParams[y.RIGHT].renderHeight,r={x:0,y:0,width:e,height:t},a={x:e,y:0,width:n,height:i};return this._renderSize[0]=e+n,this._renderSize[1]=Math.max(t,i),this._viewRect.left=r,this._viewRect.right=a,this._renderSize}},{key:"_updateEyeOffset",value:function(e){this._eyeOffset[e].copyFromArray(this._eyeParams[e].offset)}},{key:"_updateEyeParams",value:function(){this._eyeParams[y.LEFT]=this._hmd.getEyeParameters(y.LEFT),this._eyeParams[y.RIGHT]=this._hmd.getEyeParameters(y.RIGHT)}},{key:"_updateStage",value:function(){this._hmd.stageParameters&&this._stageSize.set(this._hmd.stageParameters.sizeX,this._hmd.stageParameters.sizeY)}},{key:"init",value:function(){var e=this;this._webvrPolyfill.isWebVRAvailable&&navigator.getVRDisplays().then(function(t){0===t.length&&(e._webvrPolyfill._enablePolyfill(),e._webvrPolyfill._enableOneOneShim(!0),e._frameData=new VRFrameData),navigator.getVRDisplays().then(e._enumerateVRDisplays.bind(e))}).catch(function(t){return c.Context.logger.error(e,"Cannot request vr displays: "+t)})}},{key:"deinit",value:function(){this._hmd=null,this._hmdStatus=e.NOT_PRESENT,this._state=e.STATE_INACTIVE}},{key:"_enumerateVRDisplays",value:function(t){t.length>0&&(t[0].displayName.indexOf("webvr-polyfill")!==-1?(h.Util.isMobileBrowser()||window.CARDBOARD_DEBUG)&&(this._hmd=t[0],this._hardwareVr=!1):(this._hmd=t[0],this._hardwareVr=!0,this._isChromeMobile&&(c.Context.forceVrRaf=!0))),this._hmd?(this._updateHmdParams(),this._hmdStatus=e.SUCCESSFUL,this._state=e.STATE_READY,c.Context.eventEmitter.emit(this,e.EVENT_VR_DEVICE_READY)):this._hmdStatus=e.FAILED}},{key:"_updateHmdParams",value:function(){this._hmd&&(this._updateEyeParams(),this._initRenderSize(),this._updateViewport(y.LEFT),this._updateViewport(y.RIGHT),this._updateProjectionMatrix(y.LEFT),this._updateProjectionMatrix(y.RIGHT),this._updateEyeOffset(y.LEFT),this._updateEyeOffset(y.RIGHT),this._updateViewMatrix(y.LEFT),this._updateViewMatrix(y.RIGHT),this._updateStage())}},{key:"standing",get:function(){return this._standing},set:function(e){this._standing=e}},{key:"renderWidth",get:function(){return this._renderSize[0]}},{key:"renderHeight",get:function(){return this._renderSize[1]}},{key:"hmdStatus",get:function(){return this._hmdStatus}},{key:"state",get:function(){return this._state}},{key:"hmd",get:function(){return this._hmd}},{key:"hmdMounted",get:function(){return this._hmdMounted}},{key:"needsSoftwareDistortion",get:function(){return!this._hardwareVr&&h.Util.isMobileBrowser()}},{key:"hardwareVr",get:function(){return this._hardwareVr}},{key:"leftRect",get:function(){return this._viewRect.left}},{key:"rightRect",get:function(){return this._viewRect.right}},{key:"worldScale",set:function(e){this._worldScale=e,this._updateViewMatrix(y.LEFT),this._updateViewMatrix(y.RIGHT)}},{key:"pose",get:function(){return this._pose}},{key:"hasPosition",get:function(){return this._hmd&&this._hmd.capabilities.hasPosition}},{key:"sensorPosition",get:function(){return this._sensorTransform.position}},{key:"sensorOrientation",get:function(){return this._sensorTransform.rotation}},{key:"stageSize",get:function(){return this._stageSize}},{key:"fullscreenElement",set:function(e){this._fullscreenElement=e}},{key:"timestamp",get:function(){return this._frameData.timestamp}},{key:"leftViewport",get:function(){return this._viewport.left}},{key:"rightViewport",get:function(){return this._viewport.right}}]),e}();b.SUCCESSFUL="vrSuccessful",b.FAILED="vrFailed",b.NOT_PRESENT="vrNotPresent",b.STATE_INACTIVE="vrStateInactive",b.STATE_READY="vrStateReady",b.STATE_ACTIVE="vrStateActive",b.EVENT_VR_DEVICE_READY="vrDeviceManagerEventVrDeviceReady",b.EVENT_VR_DEVICE_ACTIVATED="vrDeviceManagerEventVrDeviceActivated",b.EVENT_VR_DEVICE_DEACTIVATED="vrDeviceManagerEventVrDeviceDeactivated",b.EVENT_VR_DEVICE_MOUNTED="vrDeviceManagerEventVrDeviceMounted",b.EVENT_VR_DEVICE_UNMOUNTED="vrDeviceManagerEventVrDeviceUnmounted"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SurfaceMaterial=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(13),p=n(7),m=n(9),A=n(54),g=n(109),v=n(94),y="blendModeStandard",b="blendModeAdditive",E="discardTransparent",w="discardOpaque",S="discardNone";t.SurfaceMaterial=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._effect=void 0,n._twoSided=p.Util.getParam(e,"twoSided",!1),n._opaque=p.Util.getParam(e,"opaque",!0),n._refractive=p.Util.getParam(e,"refractive",!1),n._motionBlurred=p.Util.getParam(e,"motionBlurred",!1),n._ui=p.Util.getParam(e,"ui",!1),n._fullscreenQuad=p.Util.getParam(e,"fullscreenQuad",!1),n._writeDepth=p.Util.getParam(e,"writeDepth",null),n._readDepth=p.Util.getParam(e,"readDepth",!0),n._blendMode=p.Util.getParam(e,"blendMode",y),n._overwriteSurface=p.Util.getParam(e,"overwriteSurface",!1),n._receivesShadow=p.Util.getParam(e,"receivesShadow",!0),n._castsShadow=p.Util.getParam(e,"castsShadow",!0),n._vrMonoOverride=p.Util.getParam(e,"vrMonoOverride",!1),n._discard=p.Util.getParam(e,"discard",t.DISCARD_NONE),n._name=p.Util.getParam(e,"name"),n._id=p.Util.getGUID(),n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"SurfaceMaterial",params:{twoSided:this._twoSided,opaque:this._opaque,refractive:this._refractive,motionBlurred:this._motionBlurred,ui:this._ui,fullscreenQuad:this._fullscreenQuad,writeDepth:this._writeDepth,readDepth:this._readDepth,blendMode:this._blendMode,overwriteSurface:this._overwriteSurface,receivesShadow:this._receivesShadow,castsShadow:this._castsShadow,vrMonoOverride:this._vrMonoOverride,discard:this._discard,name:this._name}}}}],[{key:"BLEND_MODE_STANDARD",get:function(){return y}},{key:"BLEND_MODE_ADDITIVE",get:function(){return b}},{key:"DISCARD_TRANSPARENT",get:function(){return E}},{key:"DISCARD_OPAQUE",get:function(){return w}},{key:"DISCARD_NONE",get:function(){return S}}]),(0,d.default)(t,[{key:"$getConstructorParams",value:function(){return{twoSided:this._twoSided,opaque:this._opaque,refractive:this._refractive,motionBlurred:this._motionBlurred,ui:this._ui,fullscreenQuad:this._fullscreenQuad,writeDepth:this._writeDepth,readDepth:this._readDepth,blendMode:this._blendMode,overwriteSurface:this._overwriteSurface,receivesShadow:this._receivesShadow,castsShadow:this._castsShadow,vrMonoOverride:this._vrMonoOverride,discard:this._discard,name:this._name}}},{key:"dtor",value:function(){this._effect&&this._effect.dtor()}},{key:"clone",value:function(){return new t(this.$getConstructorParams())}},{key:"enable",value:function(){return this._effect||(this._effect=new v.Effect({shader:this.shaderPath,onConfigure:this._configureEffect.bind(this)})),this._effect.isConfigurable}},{key:"_updateStatesInEffect",value:function(e){if(e&&e.isConfigurable)switch(e.vrMonoOverride=this._vrMonoOverride,e.states.alphaState.blendEnabled=!this._opaque&&(!this._refractive||this._refractive&&!m.Context.qualityManager.quality.blurredRefractionsEnabled)&&this._discard!==t.DISCARD_TRANSPARENT,e.states.zBufferState.writable=null===this._writeDepth?this._opaque:this._writeDepth,e.states.zBufferState.enabled=this._readDepth,e.states.zBufferState.compare=this._overwriteSurface?m.Context.gl.LEQUAL:m.Context.gl.LESS,e.states.cullState.enabled=!this._twoSided,e.setTwoSidedMaterialEnabled(this._twoSided),this._discard===t.DISCARD_OPAQUE?e.setDiscardOpaqueEnabled(!0):this._discard===t.DISCARD_TRANSPARENT?e.setDiscardTransparentEnabled(!0):e.setDiscardNoneEnabled(!0),e.setFullscreenEnabled(this._fullscreenQuad),this._blendMode){case y:e.states.alphaState.blendFunc=[m.Context.gl.SRC_ALPHA,m.Context.gl.ONE_MINUS_SRC_ALPHA,m.Context.gl.ONE,m.Context.gl.ONE];break;case b:e.states.alphaState.blendFunc=[m.Context.gl.SRC_ALPHA,m.Context.gl.ONE,m.Context.gl.ONE,m.Context.gl.ONE]}}},{key:"_updateHdrParamsInEffect",value:function(e,t){var n=m.Context.qualityManager.quality.hdrEnabled;e.isHighPrecisionBufferEnabled()!==n&&e.setHighPrecisionBufferEnabled(n),n||(e.params.fStop=t.fStop,e.params.shutterSpeed=t.shutterSpeed,e.params.lensTransmittance=t.lensTransmittance,e.params.filmSpeed=100*t.filmSpeed,e.isVignettingEnabled()!==m.Context.qualityManager.quality.vignettingEnabled&&e.setVignettingEnabled(m.Context.qualityManager.quality.vignettingEnabled),m.Context.qualityManager.quality.vignettingEnabled&&(e.params.focalLength=t.focalLength,e.params.opticalVignettingStrength=t.opticalVignettingStrength,e.params.distanceToFilm=t.lensDistanceToFilm,e.params.filmSize=t.filmSize),e.isColorGradientEnabled()!==t.gradientEnabled&&e.setColorGradientEnabled(t.gradientEnabled),t.gradientEnabled&&(e.params.gradientColorA=t.gradientColorA,e.params.gradientColorB=t.gradientColorB,e.params.gradientDirection=t.gradientDirection),e.isConfigurable&&(e.isTonemapSimpleEnabled()===!1&&t.toneMap===A.PhysicalCamera.TONEMAP_SIMPLE&&e.setTonemapSimpleEnabled(!0),e.isTonemapFilmicEnabled()===!1&&t.toneMap===A.PhysicalCamera.TONEMAP_FILMIC&&e.setTonemapFilmicEnabled(!0)))}},{key:"_updateRenderSizeParamsInEffect",value:function(e,t){e.params.size=t.renderSize}},{key:"_setupEvents",value:function(e){m.Context.eventEmitter.on(A.PhysicalCamera.EVENT_HDR_PARAMS_CHANGED,this._updateHdrParamsInEffect.bind(this,e)),m.Context.eventEmitter.on(g.RenderSystem.EVENT_RENDER_SIZE_CHANGED,this._updateRenderSizeParamsInEffect.bind(this,e))}},{key:"_configureEffect",value:function(e){this._setupEvents(e),this._updateStatesInEffect(e)}},{key:"id",get:function(){return this._id}},{key:"effect",get:function(){return this._effect}},{key:"opaque",get:function(){return this._opaque},set:function(e){e!==this._opaque&&(this._opaque=e,this._updateStatesInEffect(this._effect))}},{key:"vrMonoOverride",get:function(){return this._vrMonoOverride},set:function(e){e!==this._vrMonoOverride&&(this._vrMonoOverride=e,this._updateStatesInEffect(this._effect))}},{key:"discard",get:function(){return this._discard},set:function(e){e!==this._discard&&(this._discard=e,this._updateStatesInEffect(this._effect))}},{key:"refractive",get:function(){return this._refractive},set:function(e){e!==this._refractive&&(this._refractive=e,this._updateStatesInEffect(this._effect))}},{key:"motionBlurred",get:function(){return this._motionBlurred},set:function(e){e!==this._motionBlurred&&(this._motionBlurred=e,this._updateStatesInEffect(this._effect))}},{key:"fullscreenQuad",get:function(){return this._fullscreenQuad},set:function(e){e!==this._fullscreenQuad&&(this._fullscreenQuad=e,this._updateStatesInEffect(this._effect))}},{key:"ui",get:function(){return this._ui},set:function(e){e!==this._ui&&(this._ui=e,this._updateStatesInEffect(this._effect))}},{key:"writeDepth",get:function(){return this._writeDepth},set:function(e){e!==this._writeDepth&&(this._writeDepth=e,this._updateStatesInEffect(this._effect))}},{key:"readDepth",get:function(){return this._readDepth},set:function(e){e!==this._readDepth&&(this._readDepth=e,this._updateStatesInEffect(this._effect))}},{key:"twoSided",get:function(){return this._twoSided},set:function(e){e!==this._twoSided&&(this._twoSided=e,this._updateStatesInEffect(this._effect))}},{key:"blendMode",get:function(){return this._blendMode},set:function(e){e!==this._blendMode&&(this._blendMode=e,this._updateStatesInEffect(this._effect))}},{key:"overwriteSurface",get:function(){return this._overwriteSurface},set:function(e){e!==this._overwriteSurface&&this._updateStatesInEffect(this._effect),this._overwriteSurface=e}},{key:"receivesShadow",get:function(){return this._receivesShadow},set:function(e){this._receivesShadow=e}},{key:"castsShadow",get:function(){return this._castsShadow},set:function(e){this._castsShadow=e}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"shaderPath",get:function(){return m.Context.makeResourcePath("shader/uberSurface.json")}}]),t}(_.Serializable)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UiMaterial=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(7),A=n(165);t.UiMaterial=function(e){function t(e){(0,s.default)(this,t),e.ui=!0;var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._billboarded=m.Util.getParam(e,"billboarded",!0),n._billboardOffset=m.Util.getParam(e,"billboardOffset",[0,0]),n._animated=m.Util.getParam(e,"animated",!1),n._animationAtlasWidth=m.Util.getParam(e,"animationAtlasWidth",8),n._animationAtlasHeight=m.Util.getParam(e,"animationAtlasHeight",4),n._animationOriginTopLeft=m.Util.getParam(e,"animationOriginTopLeft",!1),n._animationT=0,n._atlassed=m.Util.getParam(e,"atlassed",!1),n._atlasSize=m.Util.getParam(e,"atlasSize",[2,8]),n._atlasIdx=m.Util.getParam(e,"atlasIdx",0),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"UiMaterial",params:{billboarded:this._billboarded,billboardOffset:this._billboardOffset,animated:this._animated,aninmationAtlasWidth:this._animationAtlasWidth,aninmationAtlasHeight:this._animationAtlasHeight,atlassed:this._atlassed,atlasSize:this._atlasSize,atlasIdx:this._atlasIdx}}}}]),(0,f.default)(t,[{key:"_updateBillboardedInEffect",value:function(e){e&&e.isConfigurable&&(e.setBillboardingEnabled(this._billboarded),e.params.billboardOffset=this._billboardOffset)}},{key:"_updateAnimatedInEffect",value:function(e){e&&e.isConfigurable&&(this._animated?(e.setSpriteAnimationEnabled(!0),e.setSpriteAnimationOriginTopLeftEnabled(this._animationOriginTopLeft),e.params.spriteAnimData=[this._animationAtlasWidth,this._animationAtlasHeight,this._animationT]):e.setSpriteAnimationEnabled(!1))}},{key:"_updateAtlasInEffect",value:function(e){e&&e.isConfigurable&&(this._atlassed?(e.setTexCoordOffsetEnabled(!0),e.setTexCoordScaleEnabled(!0),e.params.texCoordOffset=[this._atlasIdx%this._atlasSize[0]/this._atlasSize[0],Math.floor(this._atlasIdx/this._atlasSize[0])/this._atlasSize[1]],e.params.texCoordScale=[1/this._atlasSize[0],1/this._atlasSize[1]]):(e.setTexCoordOffsetEnabled(!1),e.setTexCoordScaleEnabled(!1)))}},{key:"_configureEffect",value:function(e){this._updateAnimatedInEffect(e),this._updateBillboardedInEffect(e),(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"_configureEffect",this).call(this,e)}},{key:"animationAtlasWidth",set:function(e){e!==this._animationAtlasWidth&&(this._animationAtlasWidth=e,this._updateAnimatedInEffect(this._effect))}},{key:"animationAtlasHeight",set:function(e){e!==this._animationAtlasHeight&&(this._animationAtlasHeight=e,this._updateAnimatedInEffect(this._effect))}},{key:"animationOriginTopLeft",set:function(e){e!==this._animationOriginTopLeft&&(this._animationOriginTopLeft=e,this._updateAnimatedInEffect(this._effect))}},{key:"billboarded",get:function(){return this._billboarded},set:function(e){e!==this._billboarded&&(this._billboarded=e,this._updateBillboardedInEffect(this._effect))}},{key:"billboardOffset",get:function(){return this._billboardOffset},set:function(e){this._billboardOffset=e,this._updateBillboardedInEffect(this._effect)}},{key:"animated",get:function(){return this._animated},set:function(e){e!==this.animated&&(this._animated=e,this._updateAnimatedInEffect(this._effect))}},{key:"animationT",get:function(){return this._animationT},set:function(e){e!==this._animationT&&(this._animationT=e,this._updateAnimatedInEffect(this._effect))}},{key:"atlassed",get:function(){return this._atlassed},set:function(e){e!==this._atlassed&&(this._atlassed=e,this._updateAtlasInEffect(this._effect))}},{key:"atlasSize",get:function(){return this._atlasSize},set:function(e){this._atlasSize=e,this._updateAtlasInEffect(this._effect)}},{key:"atlasIdx",get:function(){return this._atlasIdx},set:function(e){e!==this._atlasIdx&&(this._atlasIdx=e,this._updateAtlasInEffect(this._effect))}}]),t}(A.UnlitMaterial)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Vector4=void 0;var r=n(15),a=i(r),o=n(31),s=i(o),l=n(3),u=i(l),c=n(1),d=i(c),h=n(5),f=i(h),_=n(2),p=i(_),m=n(4),A=i(m),g=n(14),v=n(13),y=t.Vector4=function(e){function t(){(0,d.default)(this,t);var e=(0,f.default)(this,(t.__proto__||(0,u.default)(t)).call(this));return 1===arguments.length?"object"===(0,s.default)(arguments[0])?e.load(arguments[0]):"number"==typeof arguments[0]&&(e.x=e.y=e.z=e.w=arguments[0]):4===arguments.length?(e.x=arguments[0],e.y=arguments[1],e.z=arguments[2],e.w=arguments[3]):e.zero(),e}return(0,A.default)(t,e),(0,p.default)(t,[{key:"$serialize",value:function(){return{name:"Vector4",paras:[this.x,this.y,this.z,this.w]}}}],[{key:"sub",value:function(e,n){var i=new t;return i.copyFrom(e),i.sub(n),i}},{key:"add",value:function(e,n){var i=new t;return i.copyFrom(e),i.add(n),i}},{key:"tmp",value:function(e){var n=void 0;return(n=t._pool.get(e))||t._pool.set(e,n=new t),n}}]),(0,p.default)(t,[{key:"load",value:function(){if(1!==arguments.length||"object"!==(0,s.default)(arguments[0]))throw Error("trying to instantiate Vector4 with incompatible type");var e=arguments[0];return"length"in e&&4===e.length?(this.x=e[0],this.y=e[1],this.z=e[2],this.w=e[3]):arguments[0]instanceof t&&(this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w),this}},{key:"copyFrom",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}},{key:"zero",value:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}},{key:"mult",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"div",value:function(e){return this.x/=e,this.y/=e,this.z/=e,this.w/=e,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"normalize",value:function(){var e=this.magnitude(),t=void 0;return t=0===e?0:1/e,this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}},{key:"neg",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"set",value:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z&&this.w===e.w}},{key:"almostEquals",value:function(e,t){return g.MathUtil.almostEquals(this.x,e.x,t)&&g.MathUtil.almostEquals(this.y,e.y,t)&&g.MathUtil.almostEquals(this.z,e.z,t)&&g.MathUtil.almostEquals(this.w,e.w,t)}},{key:"magnitudeSquared",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"magnitude",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"setMagnitude",value:function(e){var t=this.magnitude();return 0!==t&&e!==t&&this.mult(e/t),this}},{key:"distanceSquared",value:function(e){return(e.x-this.x)*(e.x-this.x)+(e.y-this.y)*(e.y-this.y)+(e.z-this.z)*(e.z-this.z)+(e.w-this.w)*(e.w-this.w)}},{key:"distance",value:function(e){return Math.sqrt((e.x-this.x)*(e.x-this.x)+(e.y-this.y)*(e.y-this.y)+(e.z-this.z)*(e.z-this.z)+(e.w-this.w)*(e.w-this.w))}},{key:"get",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w}}},{key:"getAsArray",value:function(){return[this.x,this.y,this.z,this.w]}},{key:"getAsFloat32Array",value:function(){return new Float32Array(this.getAsArray())}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"}}]),t}(v.Serializable);y.ZERO=new y(0,0,0,0),y.ONE=new y(1,1,1,1),y._pool=new a.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UiNode=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(25),A=n(56),g=n(7),v=n(11),y=n(108),b=n(69),E=n(126),w=n(18),S=i(w);t.UiNode=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._onHover=g.Util.getParam(e,"onHover",function(){}),n._onBlur=g.Util.getParam(e,"onBlur",function(){}),n._hovered=!1,n._noHover=g.Util.getParam(e,"noHover",!1),n._zIndex=g.Util.getParam(e,"zIndex",0),n._width=g.Util.getParamRequired(e,"width"),n._height=g.Util.getParamRequired(e,"height"),n._aabb=new b.AxisAlignedBoundingBox({min:new v.Vector3(.5*-n._width,.5*-n._height,-.001),max:new v.Vector3(.5*n._width,.5*n._height,.001)}),n._boundingVolume.copyFrom(n._aabb),n._ray=new y.Ray3,n._hitInfo={pos:new v.Vector3,t:0},n._autoHeightCalculated=n._height,n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"UiNode"}}}]),(0,f.default)(t,[{key:"$onUpdateZIndex",value:function(){}},{key:"intersectWithRay",value:function(e){return this._ray.copyFrom(e),this._ray.inverseTransformBy(this.worldTransform),E.Intersection.rayWithAABB(this._ray,this._aabb,this._hitInfo)}},{key:"$updateBoundingVolume",value:function(){(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"$updateBoundingVolume",this).call(this),this._boundingVolume.copyFrom(this._aabb),this._boundingVolume.valid&&this._boundingVolume.transform(this.worldTransform)}},{key:"dtor",value:function(){this.dtorActiveResources(),(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"dtor",this).call(this)}},{key:"autoHeightCalculated",set:function(e){this._autoHeightCalculated=e},get:function(){return this._autoHeightCalculated}},{key:"zIndex",set:function(e){this._zIndex=e,this.$onUpdateZIndex()},get:function(){return this._zIndex}},{key:"noHover",set:function(e){this._noHover=e},get:function(){return this._noHover}},{key:"hovered",set:function(e){e!==this._hovered&&(this._hovered=e,e?this._onHover(this):this._onBlur(this))},get:function(){return this._hovered}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"boundingVolumeValid",get:function(){return!0}},{key:"hitPos",get:function(){return this._hitInfo.pos}},{key:"hitT",get:function(){return this._hitInfo.t}}]),t}((0,S.default)(m.SpatialNode,A.ResourceTracker))},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AxisAlignedBoundingBox=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(11),p=n(7),m=n(14),A=n(9),g=n(13),v=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._min=p.Util.getParam(e,"min",(new _.Vector3).copyFrom(_.Vector3.POSITIVE_INFINITY)),n._max=p.Util.getParam(e,"max",(new _.Vector3).copyFrom(_.Vector3.NEGATIVE_INFINITY)),n._center=new _.Vector3,n._tmp=new _.Vector3,n._amin=[],n._amax=[],n._minTmp=[],n._maxTmp=[],n._matrixTmp=[],n._p=new _.Vector3,n._n=new _.Vector3,n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"$serialize",value:function(){return{name:"AxisAlignedBoundingBox",params:{min:this._min,max:this._max}}}},{key:"_calcCenter",value:function(e,t){this._center.copyFrom(e).add(t).mult(.5)}},{key:"reset",value:function(){this._min.copyFrom(_.Vector3.POSITIVE_INFINITY),this._max.copyFrom(_.Vector3.NEGATIVE_INFINITY)}},{key:"whichSide",value:function(e){var t=e.normal;this._p.copyFrom(this._min),t.x>=0&&(this._p.x=this._max.x),t.y>=0&&(this._p.y=this._max.y),t.z>=0&&(this._p.z=this._max.z);var n=p.Util.orientationPlanePoint(e,this._p);if(n<0)return-1;this._n.copyFrom(this._max),t.x>=0&&(this._n.x=this._min.x),t.y>=0&&(this._n.y=this._min.y),t.z>=0&&(this._n.z=this._min.z);var i=p.Util.orientationPlanePoint(e,this._n);return i<0&&n<0?-1:i>0&&n>0?1:0}},{key:"transform",value:function(e){this._amin[0]=this._min.x,this._amin[1]=this._min.y,this._amin[2]=this._min.z,this._amax[0]=this._max.x,this._amax[1]=this._max.y,this._amax[2]=this._max.z,this._minTmp[0]=e.matrix._storage[12],this._minTmp[1]=e.matrix._storage[13],this._minTmp[2]=e.matrix._storage[14],this._maxTmp[0]=e.matrix._storage[12],this._maxTmp[1]=e.matrix._storage[13],this._maxTmp[2]=e.matrix._storage[14];var t=0,n=0;e.matrix.copyToArray(this._matrixTmp);for(var i=0;i<3;++i)for(var r=0;r<3;++r)t=this._matrixTmp[i+4*r]*this._amin[r],n=this._matrixTmp[i+4*r]*this._amax[r],t<n?(this._minTmp[i]+=t,this._maxTmp[i]+=n):(this._minTmp[i]+=n,this._maxTmp[i]+=t);return this._min.set(this._minTmp[0],this._minTmp[1],this._minTmp[2]),this._max.set(this._maxTmp[0],this._maxTmp[1],this._maxTmp[2]),this}},{key:"copyFrom",value:function(e){return this._max.x=e.max.x,this._max.y=e.max.y,this._max.z=e.max.z,this._min.x=e.min.x,this._min.y=e.min.y,this._min.z=e.min.z,this}},{key:"merge",value:function(e){return this._max.x=Math.max(e.max.x,this._max.x),this._max.y=Math.max(e.max.y,this._max.y),this._max.z=Math.max(e.max.z,this._max.z),this._min.x=Math.min(e.min.x,this._min.x),this._min.y=Math.min(e.min.y,this._min.y),this._min.z=Math.min(e.min.z,this._min.z),this}},{key:"calculateFromVertexBuffer",value:function(e){var t=e.vertexData,n=e.attributes;if(3!==n.positionChannels)return void A.Context.logger.warn(this,"Could not calculate bounding box for geometry without position channels");this._max.x=this._max.y=this._max.z=Number.NEGATIVE_INFINITY,this._min.x=this._min.y=this._min.z=Number.POSITIVE_INFINITY;for(var i=this._tmp,r=n.positionOffset;r<t.length;r+=n.channelCount)i.x=t[r],i.y=t[r+1],i.z=t[r+2],this._max.x=Math.max(i.x,this._max.x),this._max.y=Math.max(i.y,this._max.y),this._max.z=Math.max(i.z,this._max.z),this._min.x=Math.min(i.x,this._min.x),this._min.y=Math.min(i.y,this._min.y),this._min.z=Math.min(i.z,this._min.z);this._min.x===this._max.x&&(this._min.x-=m.MathUtil.ZERO_TOLERANCE,this._max.x+=m.MathUtil.ZERO_TOLERANCE),this._min.y===this._max.y&&(this._min.y-=m.MathUtil.ZERO_TOLERANCE,this._max.y+=m.MathUtil.ZERO_TOLERANCE),this._min.z===this._max.z&&(this._min.z-=m.MathUtil.ZERO_TOLERANCE,this._max.z+=m.MathUtil.ZERO_TOLERANCE)}},{key:"valid",get:function(){return!(this._min.equals(_.Vector3.POSITIVE_INFINITY)&&this._max.equals(_.Vector3.NEGATIVE_INFINITY))}},{key:"min",get:function(){return this._min},set:function(e){this._min.copyFrom(e)}},{key:"max",get:function(){return this._max},set:function(e){this._max.copyFrom(e)}},{key:"center",get:function(){return this._calcCenter(this._min,this._max),this._center}},{key:"radius",get:function(){return this._tmp.copyFrom(this._max).sub(this._min),.5*this._tmp.magnitude()}}]),t}(g.Serializable);t.AxisAlignedBoundingBox=v},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Attributes=void 0;var r=n(3),a=i(r),o=n(10),s=i(o),l=n(1),u=i(l),c=n(5),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(13),A=n(7);t.Attributes=function(e){function t(e){(0,u.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._positionChannels=0,n._positionOffset=0,n._normalChannels=0,n._normalOffset=0,n._colorChannels=[],n._colorOffsets=[],n._textureCoordChannels=[],n._textureCoordOffset=[],n._channelCount=0,n._semanticsInfo={},n._semanticUpdateNeeded=!0,n._customAttributes={},n._customAttributesOffsets={},n._customAttributeOrder=[],n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"Attributes",aux:{_positionChannels:this._positionChannels,_positionOffset:this._positionOffset,_normalChannels:this._normalChannels,_colorChannels:this._colorChannels,_colorOffsets:this._colorOffsets,_textureCoordChannels:this._textureCoordChannels,_channelCount:this._channelCount,_semanticsInfo:this._semanticsInfo,_semanticUpdateNeeded:this._semanticUpdateNeeded,_customAttributes:this._customAttributes,_customAttributesOffsets:this._customAttributesOffsets,_customAttributeOrder:this._customAttributeOrder}}}},{key:"$deserialize",value:function(e,t){(0,s.default)(this,e)}}],[{key:"_createSemantic",value:function(e,t,n,i){return{name:e,index:t,size:n,offset:i}}}]),(0,f.default)(t,[{key:"getCustomAttributeOffset",value:function(e){if(!(e in this._customAttributesOffsets))throw new Error('unknown custom attribute "'+e+'"');return this._customAttributesOffsets[e]}},{key:"getSemanticsInfo",value:function(){if(this._semanticUpdateNeeded){this._semanticUpdateNeeded=!1,this._semanticsInfo={};var e=0;this.hasPosition()&&(this._semanticsInfo.position=t._createSemantic("position",e++,this._positionChannels,this._positionOffset)),this.hasNormal()&&(this._semanticsInfo.normal=t._createSemantic("normal",e++,this._normalChannels,this._normalOffset));for(var n=0;n<this._textureCoordChannels.length;++n)this._semanticsInfo["texCoord"+n]=t._createSemantic("texCoord"+n,e++,this._textureCoordChannels[n],this._textureCoordOffset[n]);for(var i=0;i<this._colorChannels.length;++i)this._semanticsInfo["color"+i]=t._createSemantic("color"+i,e++,this._colorChannels[i],this._colorOffsets[i]);for(var r=0;r<this._customAttributeOrder.length;++r){var a=this._customAttributeOrder[r];this._semanticsInfo[a]=t._createSemantic(a,e++,this._customAttributes[a],this._customAttributesOffsets[a])}}return this._semanticsInfo}},{key:"hasColor",value:function(e){return e<this._colorChannels.length&&0!==this._colorChannels[e]}},{key:"hasTextureCoord",value:function(e){return e<this._textureCoordChannels.length&&0!==this._textureCoordChannels[e]}},{key:"hasNormal",value:function(){return this._normalChannels>0}},{key:"hasCustomAttribute",value:function(e){return void 0!==this._customAttributes[e]}},{key:"hasPosition",value:function(){return this._positionChannels>0}},{key:"setPositionChannels",value:function(e){this._positionChannels=e,this._updateOffsets()}},{key:"setNormalChannels",value:function(e){this._normalChannels=e,this._updateOffsets()}},{key:"setColorChannels",value:function(e,t){this._colorChannels.length<=e&&(A.Util.resizeArray(this._colorChannels,e+1),A.Util.resizeArray(this._colorOffsets,e+1)),this._colorChannels[e]=t,this._updateOffsets()}},{key:"setTextureChannels",value:function(e,t){this._textureCoordChannels.length<=e&&(A.Util.resizeArray(this._textureCoordChannels,e+1),A.Util.resizeArray(this._textureCoordOffset,e+1)),this._textureCoordChannels[e]=t,this._updateOffsets()}},{key:"setCustomAttribute",value:function(e,t){A.Util.assert(t<=4,'Attributes: tried to set a custom attribute "'+e+'" with size > 4 ('+t+")"),this._customAttributeOrder.indexOf(e)===-1&&this._customAttributeOrder.push(e),this._customAttributes[e]=t,this._updateOffsets()}},{key:"matches",value:function(e){if(this._positionChannels!==e.positionChannels)return!1;if(this._normalChannels!==e.normalChannels)return!1;if(this._colorChannels.length!==e.colorChannels.length)return!1;for(var t=0;t<this._colorChannels.length;++t)if(this._colorChannels[t]!==e.colorChannels[t])return!1;if(this._textureCoordChannels.length!==e.textureCoordChannels.length)return!1;for(var n=0;n<this._textureCoordChannels.length;++n)if(this._textureCoordChannels[n]!==e.textureCoordChannels[n])return!1;return!0}},{key:"_updateOffsets",value:function(){this._channelCount=0,this._positionOffset=this._normalOffset=0,this._positionChannels>0&&(this._positionOffset=this._channelCount,this._channelCount+=this._positionChannels),this._normalChannels>0&&(this._normalOffset=this._channelCount,this._channelCount+=this._normalChannels);for(var e=0;e<this._textureCoordChannels.length;++e)this._textureCoordChannels[e]>0&&(this._textureCoordOffset[e]=this._channelCount,this._channelCount+=this._textureCoordChannels[e]);
for(var t=0;t<this._colorChannels.length;++t)this._colorChannels[t]>0&&(this._colorOffsets[t]=this._channelCount,this._channelCount+=this._colorChannels[t]);for(var n=0;n<this._customAttributeOrder.length;++n){var i=this._customAttributeOrder[n];this._customAttributesOffsets[i]=this._channelCount,this._channelCount+=this._customAttributes[i]}this._semanticUpdateNeeded=!0}},{key:"positionChannels",get:function(){return this._positionChannels}},{key:"positionOffset",get:function(){return this._positionOffset}},{key:"normalChannels",get:function(){return this._normalChannels}},{key:"normalOffset",get:function(){return this._normalOffset}},{key:"colorChannels",get:function(){return this._colorChannels}},{key:"colorOffset",get:function(){return this._colorOffsets}},{key:"textureCoordChannels",get:function(){return this._textureCoordChannels}},{key:"textureCoordOffset",get:function(){return this._textureCoordOffset}},{key:"channelCount",get:function(){return this._channelCount}}]),t}(m.Serializable)},,,,,,,function(e,t,n){var i=n(600);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,i,r,a){if(!Array.isArray(e))throw new Error("Must return an Array of tag descriptors");var o=e.slice(0,i);return o.forEach(function(e){var i=(0,lt.createElementFromDesc)(e,!0,r.SUPPORTED_CONTENT_TAG_NAMES).content;a(A(i,{originatorId:t,hubId:n}))})}function o(e,t,n,i,r){var a=e.slice(0,i);return a.forEach(function(e){r(A(e,{originatorId:t,hubId:n}))})}function s(e,t,n){new it.default(function(i,r){n({type:Pt});try{"dynamic"===e.mode?e.onRequestContent(e.requestId,1,function(r){a(r,e.id,t.parentIds.hubId,e.count,ht.Dl8TourContentPortalElement,n),n({type:It}),i()}):(o(e.domChildren,e.id,t.parentIds.hubId,1,n),n({type:It}),i())}catch(e){r(e)}}).catch(function(e){console.error("error loading portal: "+e)})}function l(e,t){new it.default(function(n,i){t({type:Rt});try{var r=e.dl8Recommendations[0];"dynamic"===r.mode?r.onRequestRecommendation(r.requestId,r.count,function(i){a(i,e.id,e.parentIds.hubId,r.count,dt.Dl8RecommendationElement,t),t({type:kt}),n()}):(o(r.domChildren,e.id,e.parentIds.hubId,r.count,t),t({type:kt}),n())}catch(e){i(e)}}).catch(function(e){console.error("error loading recommendations: "+e)})}function u(e){return e&&e.type===mt.CONTENT_TYPE_VIDEO?e.domElement.deinit():it.default.resolve()}function c(e,t,n){var i=this,r=new at.default,a=new at.default,o=e.id,s=e.element,l=e.domElement,u=!1,c=!1;s.onerror=function(e){if(c){if(l.contentError||0===(0,tt.default)(s.children).filter(function(e){return"SOURCE"===e.tagName}).length)return t(ne(mt.SECURITY_ERROR,o)),void(l.contentError=!0)}else if(u&&(l.contentError||0===(0,tt.default)(s.children).filter(function(e){return"SOURCE"===e.tagName}).length))return t(ne(n("playUtil.ambiUn"),o)),void(l.contentError=!0);t(ne(n("playUtil.noSrc"),o))},(0,tt.default)(s.children).filter(function(e){return"SOURCE"===e.tagName}).forEach(function(d){if(d.hasAttribute("quality")){var h=d.getAttribute("quality"),f=void 0;(f=a.get(h))?a.set(h,++f):a.set(h,1)}r.set(d,!0);var _=mt.SPATIAL_AUDIO_FORMATS.has(d.getAttribute("audio-format"))&&(At.Util.isIE()||At.Util.isIOS()),p=(0,lt.hasCorsBug)(e.corsFallbackUrl)&&(0,lt.isCors)(d.src)&&e.format!==mt.CONTENT_MODE_MONO_FLAT;if(u=u||_,c=c||p,p||_){if(s.removeChild(d),d.hasAttribute("quality")){var m=d.getAttribute("quality");a.set(m,a.get(m)-1)}return void r.delete(d)}var A=function(e,i){if(r.delete(d),0===r.size?t(ne(n("playUtil.noSrc"),o)):At.Util.isIOS()&&(s.removeChild(d),s.load()),d.hasAttribute("quality")){var l=d.getAttribute("quality"),u=a.get(l)-1;a.set(l,u),0===u&&t(ln(o,l,l===e.getAttribute("quality")))}};if(At.Util.isIE()&&!l._isHlsStream&&!l._isDashStream){var g=document.createElement("video");g.setAttribute("style","display: none;"),g.setAttribute("webkit-playsinline",""),g.setAttribute("playsinline","");var v=document.createElement("source");g.onerror=A.bind(i,v),g.crossorigin=s,v.src=d.src,v.type=d.type,g.appendChild(v),v.onerror=A.bind(i,v)}d.onerror=A.bind(i,d)}),l._isHlsStream||l._isDashStream||s.load(),(c||u)&&a.forEach(function(e,n){0===e&&t(ln(o,n))}),c?(l.contentError||0===(0,tt.default)(s.children).filter(function(e){return"SOURCE"===e.tagName}).length)&&(t(ne(mt.SECURITY_ERROR,o)),l.contentError=!0):u&&(l.contentError||0===(0,tt.default)(s.children).filter(function(e){return"SOURCE"===e.tagName}).length)&&(t(ne(n("playUtil.ambiUn"),o)),l.contentError=!0)}function d(e,t,n){return new it.default(function(i){var r=t().data.contents.filter(function(t){return t.parentIds&&t.parentIds.originatorId&&t.id!==e});r&&r.forEach(function(e){n(g(e.id))});var a=t(),o=a.data,u=o.contents,c=o.activeContentIdx,d=a.ui,p=a.customization,m=a.locale,A=(0,vt.getTranslate)(m),v=void 0;c!==-1&&(v=u[c]);var y=u.findIndex(function(t){return t.id===e});y===-1&&(y=c);var E=u[y];if(E){E.dl8Recommendations&&E.dl8Recommendations.length>0&&l(E,n),E.dl8TourImgs&&E.dl8TourImgs.forEach(function(e){e.dl8TourContentPortals&&e.dl8TourContentPortals.length>0&&e.dl8TourContentPortals.forEach(function(e){s(e,E,n)})}),yt.TrackingManager.instance.addEvent(new bt.TrackingEvent({type:bt.TrackingEvent.ACTIVATE_CONTENT,payload:{cid:E.id}}));var w=void 0,S=mt.SIMPLE_TRACKING_CONTEXT_GLOBAL;if(E.type===mt.CONTENT_TYPE_HUB?w=mt.SIMPLE_TRACKING_MODULE_SHOWROOM:E.type===mt.CONTENT_TYPE_VIDEO?w=E.dl8Cinema?mt.SIMPLE_TRACKING_MODULE_CINEMA:E.dl8LiveVideo?mt.SIMPLE_TRACKING_MODULE_LIVE:mt.SIMPLE_TRACKING_MODULE_VIDEO:E.type!==mt.CONTENT_TYPE_TOUR&&E.type!==mt.CONTENT_TYPE_IMAGE||(w=mt.SIMPLE_TRACKING_MODULE_TOUR),v&&v.type===mt.CONTENT_TYPE_HUB&&(S=mt.SIMPLE_TRACKING_CONTEXT_SHOWROOM),w&&yt.TrackingManager.instance.addEvent(new bt.TrackingEvent({simple:!0,module:w,type:bt.TrackingEvent.SIMPLE_VIEW,payload:{cid:E.id,context:S,wizard:d.isWizardDomain}})),E.type!==mt.CONTENT_TYPE_VIDEO)return n(b(y)),i();var T=h(E.element);if(n(P(y,T)),d.tapToUnmute&&(E.element.muted=!0),E.domElement._isHlsStream)ct.Dl8VideoElement.HLS.then(function(e){var t=e.HLS,r=e.AbrController,a=ct.Dl8VideoElement.getOrCreateGlobalHlsStream(t,r);n(R(y,(0,st.default)(f(a.levels,A),"value")));var o=void 0;return p.saveAdaptiveQuality&&(o=At.Util.getLocalStorageItemSafe("x-dl8-settings-preferred-quality")),o&&a.levels[o]||(o=a.currentLevel.toString()),n(I(y,o)),n(b(y)),o&&n(on(o)),i()});else{if(!E.domElement._isDashStream){var x=(0,st.default)(T.filter(function(e){return void 0!==e.quality}),"quality").map(function(e){return{id:e.quality,value:e.quality}});n(R(y,x)),n(I(y,T.length>0?T[0].quality:null)),n(b(y));var C=At.Util.getLocalStorageItemSafe("x-dl8-settings-preferred-quality");return C&&T.find(function(e){return e.quality===C})&&n(on(C)),i()}ct.Dl8VideoElement.DASH.then(function(e){var t=ct.Dl8VideoElement.getOrCreateGlobalDashStream(e),r=(0,st.default)(_(t.getVariantTracks(),A),"value");n(R(y,r));var a=t.getStats().switchHistory.filter(function(e){return"variant"===e.type}),o=void 0;return p.saveAdaptiveQuality&&(o=At.Util.getLocalStorageItemSafe("x-dl8-settings-preferred-quality")),o&&r.find(function(e){return e.id===o})||(o=t.getConfiguration().abr.enabled?"-1":a[a.length-1].id.toString()),n(I(y,o)),n(b(y)),o&&n(on(o)),i()})}}})}function h(e){return(0,tt.default)(e.children).filter(function(e){return"SOURCE"===e.tagName}).map(function(e){return{src:e.getAttribute("src")||void 0,type:e.getAttribute("type")||void 0,quality:e.getAttribute("quality")||void 0,format:e.getAttribute("format")||void 0,audioFormat:e.getAttribute("audio-format")||void 0,fps:e.getAttribute("fps")||void 0,samsungVRIncompatible:e.hasAttribute("samsungvr-incompatible")}})}function f(e,t){return[{id:"-1",value:t("index.auto")}].concat(e.map(function(e,n){return{id:n.toString(),value:e.name||""+e.height+t("index.qualityP1")+(.001*e.bitrate*.001).toFixed(1)+t("index.qualityP2"),bitrate:e.bitrate,disabled:!!At.Util.isIE()&&e.width*e.height>2073600}}).sort(function(e,t){return t.bitrate-e.bitrate}))}function _(e,t){var n=void 0,i=e.filter(function(e){return e.roles.includes("main")}),r=e[0].language,a=e.filter(function(e){return e.language.includes(r)});return n=i.length>0?i:a.length>0?a:e,[{id:"-1",value:t("index.auto")}].concat(n.map(function(e){return{id:e.id.toString(),value:""+e.height+t("index.qualityP1")+(.001*e.videoBandwidth*.001).toFixed(1)+t("index.qualityP2"),bitrate:e.videoBandwidth,disabled:!!At.Util.isIE()&&e.width*e.height>2073600}}).sort(function(e,t){return t.bitrate-e.bitrate}))}function p(e,t,n){var i=_t.default.get(e);if(!i)return void console.error("provided wrong spot name!");var r=n.data,a=r.contents[r.activeContentIdx];if(a&&a.dl8Advertisements&&0!==a.dl8Advertisements.length){t({type:Ht,spot:e});var o={spot:e,types:[].concat((0,$e.default)(i.types))},s=n.ui,l={screen:{width:s.appWidth,height:s.appHeight,fullscreen:s.fullscreen,portrait:s.portrait,vrActive:s.vrActive},device:{mobile:s.mobile,tablet:s.tablet,android:s.android,ios:s.ios,ie:s.ie,vr:s.vr}},u=At.Util.getGUID();wt.set(e,u),a.dl8Advertisements[0].onRequestAdvertisement(o,l,function(n){if(wt.get(e)===u&&m(o,l,n,t)){var i=(0,Ke.default)({},{type:n.type,payload:(0,qe.default)({},n.payload)});t({type:zt,spot:e,advertisement:i})}})}}function m(e,t,n,i){if(!n||0===(0,Xe.default)(n).length&&n.constructor===Object)return!1;var r=[];return n.type&&e.types.find(function(e){return n.type===e})||r.push("Please define a type in your returned advertisement object"),n.payload?(n.payload.uri||r.push("Please provide a a URI for the advertisement"),"image"!==n.type||n.payload.adLink||r.push('Please provide and "adLink" property for the dvertisement image')):r.push("Please provide a payload object for the advertisement"),!(r.length>0)||(r.forEach(function(e){return console.error(e)}),i({type:Gt,spot:e.spot}),!1)}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:Tt,content:e,parentIds:t}}function g(e){return{type:xt,id:e}}function v(e){return{type:Ct}}function y(){return{type:Mt}}function b(e){return{type:Dt,idx:e}}function E(e,t,n,i){var r=i(),a=r.data,o=r.ui,s=r.locale,l=a.activeContentIdx===-1,h=a.contents.findIndex(function(t){return t.id===e}),f=void 0;if(h!==-1&&(f=a.contents[h]),f){var _=(0,vt.getTranslate)(s);if(f.type===mt.CONTENT_TYPE_EXTERNAL){var p=At.Util.parseUrl(f.url),m=p.search.length>1,A=p.host.replace("/",""),g=p.pathname;g.startsWith("/")&&(g=g.substring(1));var v=p.protocol+"//"+A+"/"+g+p.search+(m?"&":"?")+"dl8-autostart-player="+f.autostart+p.hash;return void(f.windowName?gt.IFrameManager.isInIFrame()?window.parent.open(v,f.windowName,f.windowFeatures):window.open(v,f.windowName,f.windowFeatures):gt.IFrameManager.isInIFrame()?window.parent.location=v:window.location=v)}var y=At.Util.isMobileBrowser();if(y){var b=f.preferredControls||At.Util.getLocalStorageItemSafe("x-dl8-settings-preferred-control-mode");b===mt.MAGIC_WINDOW_CONTROLS?n(H()):b===mt.DRAG_CONTROLS&&n(G())}var E=a.contents[a.activeContentIdx];u(E).then(function(){if(f.type===mt.CONTENT_TYPE_VIDEO)n(F(!f.disableTapToUnmute&&o.tapToUnmute&&!f.muted&&(f.autostart||f.parentIds.originatorId)&&!o.vrBrowser&&!f.paused)),f.domElement.attachTracks().then(function(){return f.domElement.attachSources()}).then(function(){return c(f,n,_),d(e,i,n)}).then(function(){f.paused||(y?(!t&&(!At.Util.isOculusBrowser()&&!At.Util.isSamsungInternet()||!l)||f.muted||!f.muted&&o.tapToUnmute&&f.autostart)&&n(Lt(f.dl8LiveVideo)):f.domElement._isHlsStream||At.Util.isFirefox()?n(Lt(f.dl8LiveVideo)):f.element.oncanplaythrough=function(e){n(Lt(f.dl8LiveVideo)),f.element.oncanplaythrough=null})}).catch(function(e){f.domElement.setErrorState(e.message,e),n(Zn())});else if(f.type===mt.CONTENT_TYPE_IMAGE)d(e,i,n),(0,lt.hasCorsBug)(f.corsFallbackUrl)&&((0,lt.isCors)(f.src)||(0,lt.isCors)(f.srcLeft)||(0,lt.isCors)(f.srcRight))&&n(ne(mt.SECURITY_ERROR,e));else if(f.type===mt.CONTENT_TYPE_TOUR){d(e,i,n);var r=!1;(0,lt.hasCorsBug)(f.corsFallbackUrl)&&f.dl8TourImgs.forEach(function(e){((0,lt.isCors)(e.src)||(0,lt.isCors)(e.srcLeft)||(0,lt.isCors)(e.srcRight))&&(r=!0)}),r&&n(ne(mt.SECURITY_ERROR,e))}else if(f.type===mt.CONTENT_TYPE_HUB){d(e,i,n);var a=!1;(0,lt.hasCorsBug)(f.corsFallbackUrl)&&f.dl8HubContents.forEach(function(e){e.mode===mt.HUB_CONTENT_DYNAMIC?f.corsFallbackUrl&&(a=!0):e.domChildren.forEach(function(e){e.type===mt.CONTENT_TYPE_VIDEO&&e.format!==mt.CONTENT_MODE_MONO_FLAT?(0,tt.default)(e.domElement.children).filter(function(e){return"SOURCE"===e.tagName}).forEach(function(e){(0,lt.isCors)(e.src)&&(a=!0)}):e.type===mt.CONTENT_TYPE_IMAGE?((0,lt.isCors)(e.src)||(0,lt.isCors)(e.srcLeft)||(0,lt.isCors)(e.srcRight))&&(a=!0):e.type===mt.CONTENT_TYPE_TOUR&&e.dl8TourImgs.forEach(function(e){((0,lt.isCors)(e.src)||(0,lt.isCors)(e.srcLeft)||(0,lt.isCors)(e.srcRight))&&(a=!0)})})}),a&&n(ne(mt.SECURITY_ERROR,e))}else d(e,i,n)})}}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:Bt,oldContent:e,newContent:t,parentIds:n}}function S(e){return{type:Ot,displayMode:e}}function T(e){return{type:Qt,spot:e}}function x(){return{type:Xt}}function C(e){return{type:Jt,time:e}}function M(){return{type:$t}}function P(e,t){return{type:en,idx:e,sources:t}}function I(e,t){return{type:tn,idx:e,selectedQuality:t}}function R(e,t){return{type:nn,idx:e,qualities:t}}function k(e,t){return{type:rn,idx:e,currentTime:t}}function D(e,t){return{type:an,idx:e,status:t}}function V(){return{type:un}}function B(){return{type:cn}}function O(e){return{type:dn,volume:e}}function N(){return{type:hn}}function L(){return{type:fn}}function F(e){return{type:_n,enabled:e}}function U(){return{type:pn}}function H(){return{type:mn}}function G(){return{type:An}}function z(e){return{type:gn,hmd:e.hmd,hardwareVr:e.hardwareVr,standing:e.standing}}function Q(){return{type:vn}}function W(){return{type:yn}}function j(){return{type:wn}}function X(){return{type:Sn}}function Y(){return{type:Tn}}function q(){return{type:xn}}function Z(e){return{type:Rn,enabled:e}}function K(){return{type:On}}function J(){return{type:Nn}}function $(){return{type:Ln}}function ee(e){return yt.TrackingManager.instance.addEvent(new bt.TrackingEvent({type:bt.TrackingEvent.ERROR,payload:{message:e.message,errorType:e.name}})),{type:Fn,error:e}}function te(e){return yt.TrackingManager.instance.addEvent(new bt.TrackingEvent({type:bt.TrackingEvent.ERROR,payload:{message:e.message,errorType:e.name}})),{type:Un,error:e}}function ne(e,t){return yt.TrackingManager.instance.addEvent(new bt.TrackingEvent({type:bt.TrackingEvent.ERROR,payload:{message:e,errorType:"Content Issue"}})),{type:Hn,contentError:e,id:t}}function ie(e){return{type:Gn,pressed:e}}function re(){return{type:zn}}function ae(){return{type:Qn}}function oe(){return{type:Wn}}function se(e){return{type:jn,hmd:e}}function le(e){return{type:Xn,phone:e}}function ue(e){return{type:Yn,phone:e}}function ce(){return{type:Kn}}function de(){return{type:Jn}}function he(){return{type:$n}}function fe(){return{type:ei}}function _e(){return{type:ti}}function pe(){return document.dispatchEvent(new CustomEvent("x-dl8-evt-vr-wizard-enabled")),{type:ni}}function me(){return document.dispatchEvent(new CustomEvent("x-dl8-evt-vr-wizard-disabled")),{type:ii}}function Ae(){return document.dispatchEvent(new CustomEvent("x-dl8-evt-vr-wizard-disabled")),{type:ri}}function ge(){return{type:ai}}function ve(){return{type:oi}}function ye(e){return{type:si,progress:e}}function be(e,t){return{type:li,primaryColor:e,secondaryColor:t}}function Ee(){return{type:ui}}function we(){return{type:ci}}function Se(){return{type:fi}}function Te(){return{type:mi}}function xe(){return{type:Ai}}function Ce(){return{type:gi}}function Me(){return{type:vi}}function Pe(){return{type:yi}}function Ie(e,t){return{type:bi,width:e,height:t}}function Re(){return{type:Ei}}function ke(){return{type:wi}}function De(){return{type:Si}}function Ve(){return{type:Ti}}function Be(){return{type:xi}}function Oe(){return{type:Ci}}function Ne(e){return{type:Mi,id:e}}function Le(){return{type:Di}}function Fe(){return{type:Vi}}function Ue(){return{type:Bi}}function He(){return{type:Oi}}Object.defineProperty(t,"__esModule",{value:!0}),t.HIDE_QUALITY_SETTINGS_CHOOSER=t.SHOW_QUALITY_SETTINGS_CHOOSER=t.HIDE_CAMERA_SETTINGS_CHOOSER=t.SHOW_CAMERA_SETTINGS_CHOOSER=t.disableNativeVideoFallback=t.DISABLE_NATIVE_VIDEO_FALLBACK=t.enableNativeVideoFallback=t.ENABLE_NATIVE_VIDEO_FALLBACK=t.TOUR_PROBE_CHANGED=t.DISABLE_GAZE_BASED_INTERACTION=t.ENABLE_GAZE_BASED_INTERACTION=t.ACTIVATE_ROOMSCALE_VR=t.ACTIVATE_SEATED_VR=t.END_RESET_RESOLUTION=t.START_RESET_RESOLUTION=t.CHANGE_APP_SIZE=t.MOUSE_LEAVE_APP=t.MOUSE_ENTER_APP=t.CLOSE_SETTINGS=void 0,t.OPEN_SETTINGS=t.CLOSE_IOS_WITHOUT_DEVICEMOTION_VR_OVERLAY=t.openIOSWithoutDeviceMotionVrOverlay=t.OPEN_IOS_WITHOUT_DEVICEMOTION_VR_OVERLAY=t.CLOSE_IOS_WITHOUT_DEVICEMOTION_DIALOG=t.openIOSWithoutDeviceMotionDialog=t.OPEN_IOS_WITHOUT_DEVICEMOTION_DIALOG=t.CLOSE_GET_VR_DIALOG=t.OPEN_GET_VR_DIALOG=t.INIT_CUSTOMIZATION=t.PROGRESS_LOADING_CONTENT=t.FINISHED_LOADING_CONTENT=t.STARTED_LOADING_CONTENT=t.FINISH_VR_WIZARD=t.CANCEL_VR_WIZARD=t.SHOW_VR_WIZARD=t.USER_ACTIVE=t.USER_IDLE=t.RESET_POSE=t.TRY_RESET_POSE=t.START=t.exit=t.EXIT=t.SET_NEW_AUTODETECTED_PHONE=t.SET_NEW_PHONE=t.SET_NEW_HMD=t.HIDE_HUD=t.SHOW_HUD=t.UPDATE_BUFFERING=t.SEEKBAR_WAS_PRESSED=t.SET_CONTENT_ERROR=t.SET_ERROR=t.SET_NO_WEBGL=t.DISABLE_INTERFACE=t.ENABLE_INTERFACE=t.RESET_RENDER_SYSTEM=t.exitFullscreen=t.EXIT_FULLSCREEN=t.enterFullscreen=t.ENTER_FULLSCREEN=t.FULLSCREEN_CHANGED=t.toLandscape=t.TO_LANDSCAPE=t.toPortrait=t.TO_PORTRAIT=t.ABORT_DEACTIVATE_VR=t.DEACTIVATE_VR=t.TRY_DEACTIVATE_VR=t.ABORT_ACTIVATE_VR=t.activateVr=t.ACTIVATE_VR=t.TRY_AUTOSTARTING_VR=t.TRY_ACTIVATE_VR=t.DEVICE_SUPPORTS_VR=t.ACTIVATE_DRAG_CONTROLS=t.ACTIVATE_MAGIC_WINDOW_CONTROLS=t.UPDATE_METADATA=t.SET_TAP_TO_UNMUTE=t.MUTE=t.UNMUTE=t.UPDATE_VOLUME=t.UPDATE_DURATION=t.UPDATE_TIME=t.qualityUnplayable=t.qualityChanged=t.changeQuality=t.SET_QUALITY_CHANGED=t.SET_QUALITY_CHANGE_TIME=t.SET_QUALITIES=t.SET_SELECTED_QUALITY=t.SET_SOURCES=t.SEEKED=t.SEEK=t.end=t.END=t.tourContentPortalClicked=t.TOUR_CONTENT_PORTAL_CLICKED=t.HIDE_VR_HUD=t.showVrHud=t.SHOW_VR_HUD=t.DISMISS_ADVERTISEMENT=t.ADVERTISEMENT_READY=t.ADVERTISEMENT_FAILED_LOADING=t.LOADING_ADVERTISEMENT=t.pause=t.PAUSE=t.play=t.PLAY=t.SET_DISPLAY_MODE=t.REPLACE_CONTENT=t.startContent=t.SET_ACTIVATE_CONTENT=t.RECOMMENDATIONS_FINISHED_LOADING=t.RECOMMENDATIONS_LOADING=t.TOUR_CONTENT_PORTALS_FINISHED_LOADING=t.TOUR_CONTENT_PORTALS_LOADING=t.ACTIVATE_IOS_DEVICEMOTION=t.IOS_DEVICE_MOTION_CHECK=t.REMOVE_CONTENT=t.ADD_CONTENT=void 0;var Ge=n(113),ze=r(Ge),Qe=n(114),We=r(Qe),je=n(145),Xe=r(je),Ye=n(237),qe=r(Ye),Ze=n(10),Ke=r(Ze),Je=n(72),$e=r(Je),et=n(44),tt=r(et),nt=n(33),it=r(nt),rt=n(15),at=r(rt);t.addContent=A,t.removeContent=g,t.IOSWithoutDeviceMotionCheck=v,t.activateIosDevicemotion=y,t.replaceContent=w,t.setDisplayMode=S,t.hideVrHud=x,t.seek=C,t.seeked=M,t.updateTime=V,t.updateDuration=B,t.updateVolume=O,t.unmute=N,t.mute=L,t.setTapToUnmute=F,t.updateMetadata=U,t.activateMagicWindowControls=H,t.activateDragControls=G,t.deviceSupportsVr=z,t.tryActivateVr=Q,t.tryAutostartingVr=W,t.abortActivateVr=j,t.tryDeactivateVr=X,t.deactivateVr=Y,t.abortDeactivateVr=q,t.fullscreenChanged=Z,t.resetRenderSystem=K,t.enableInterface=J,t.disableInterface=$,t.setNoWebGL=ee,t.setError=te,t.setContentError=ne,t.seekbarWasPressed=ie,t.updateBuffering=re,t.showHud=ae,t.hideHud=oe,t.setNewHmd=se,t.setNewPhone=le,t.setNewAutodetectedPhone=ue,t.start=ce,t.tryResetPose=de,t.resetPose=he,t.userIdle=fe,t.userActive=_e,t.showVrWizard=pe,t.cancelVrWizard=me,t.finishVrWizard=Ae,t.startedLoadingContent=ge,t.finishedLoadingContent=ve,t.progressLoadingContent=ye,t.initCustomization=be,t.openGetVRDialog=Ee,t.closeGetVRDialog=we,t.closeIOSWithoutDeviceMotionDialog=Se,t.closeIOSWithoutDeviceMotionVrOverlay=Te,t.openSettings=xe,t.closeSettings=Ce,t.mouseEnterApp=Me,t.mouseLeaveApp=Pe,t.changeAppSize=Ie,t.startResetResolution=Re,t.endResetResolution=ke,t.activateSeatedVr=De,t.activateRoomScaleVr=Ve,t.enableGazeBasedInteraction=Be,t.disableGazeBasedInteraction=Oe,t.tourProbeChanged=Ne,t.showCameraSettingsChooser=Le,t.hideCameraSettingsChooser=Fe,t.showQualitySettingsChooser=Ue,t.hideQualitySettingsChooser=He;var ot=n(629),st=r(ot),lt=n(49),ut=n(59),ct=n(124),dt=n(294),ht=n(295),ft=n(392),_t=r(ft),pt=n(19),mt=i(pt),At=n(7),gt=n(81),vt=n(121),yt=n(79),bt=n(68),Et={},wt=new at.default([]),St=!At.Util.isIOS10OrHigher()&&!At.Util.isIPad()&&At.Util.isIOS(),Tt=t.ADD_CONTENT=(0,We.default)("ADD_CONTENT");Et.addContent=A;var xt=t.REMOVE_CONTENT=(0,We.default)("REMOVE_CONTENT");Et.removeContent=g;var Ct=t.IOS_DEVICE_MOTION_CHECK=(0,We.default)("IOS_DEVICE_MOTION_CHECK");Et.IOSWithoutDeviceMotionCheck=v;var Mt=t.ACTIVATE_IOS_DEVICEMOTION=(0,We.default)("ACTIVATE_IOS_DEVICEMOTION");Et.activateIosDevicemotion=y;var Pt=t.TOUR_CONTENT_PORTALS_LOADING=(0,We.default)("TOUR_CONTENT_PORTALS_LOADING"),It=t.TOUR_CONTENT_PORTALS_FINISHED_LOADING=(0,We.default)("TOUR_CONTENT_PORTALS_FINISHED_LOADING"),Rt=t.RECOMMENDATIONS_LOADING=(0,We.default)("RECOMMENDATIONS_LOADING"),kt=t.RECOMMENDATIONS_FINISHED_LOADING=(0,We.default)("RECOMMENDATIONS_FINISHED_LOADING"),Dt=t.SET_ACTIVATE_CONTENT=(0,We.default)("SET_ACTIVATE_CONTENT"),Vt=t.startContent=function(e,t,n){return function(i,r){var a=r(),o=a.data,s=a.ui;if(o){var l=o.contents.find(function(t){return t.id===e});(l&&l.autostartVr||(0,ut.getUrlVar)("dl8-start-vr"))&&(s.ios?At.Util.isIOSWithoutDeviceMotion().then(function(e){var t=e&&l&&!l.isFlatVideo&&"https:"===location.protocol;t?i(pi()):(i(W()),i(Q()))}):(i(W()),i(Q()))),!s.turnedOff&&n?i(Zn()).then(function(){E(e,t,i,r)}):E(e,t,i,r)}}};Et.startContent=Vt;var Bt=t.REPLACE_CONTENT=(0,We.default)("REPLACE_CONTENT");Et.replaceContent=w;var Ot=t.SET_DISPLAY_MODE=(0,We.default)("SET_DISPLAY_MODE");Et.setDisplayMode=S;var Nt=t.PLAY=(0,We.default)("PLAY"),Lt=t.play=function(e){return function(t,n){var i=n(),r=i.data,a=r.contents,o=r.activeContentIdx,s=i.ui.tapToUnmute,l=a[o];return l&&l.ended&&s&&t(N()),t({type:Nt,seekToEnd:e})}};Et.play=Lt;var Ft=t.PAUSE=(0,We.default)("PAUSE"),Ut=t.pause=function(){return function(e,t){var n=t();return n.ui.mobile?p(mt.MOBILE_PAUSE_CENTRE_RECTANGLE_300X250,e,n):p(mt.DESKTOP_PAUSE_CENTRE_RECTANGLE_300X250,e,n),e({type:Ft})}};Et.pause=Ut;var Ht=t.LOADING_ADVERTISEMENT=(0,We.default)("LOADING_ADVERTISEMENT"),Gt=t.ADVERTISEMENT_FAILED_LOADING=(0,We.default)("ADVERTISEMENT_FAILED_LOADING"),zt=t.ADVERTISEMENT_READY=(0,We.default)("ADVERTISEMENT_READY"),Qt=t.DISMISS_ADVERTISEMENT=(0,We.default)("DISMISS_ADVERTISEMENT");Et.dismissAdvertisement=T;var Wt=t.SHOW_VR_HUD=(0,We.default)("SHOW_VR_HUD"),jt=t.showVrHud=function(){return function(e,t){var n=t(),i=n.data,r=i.contents[i.activeContentIdx];return r&&r.dl8Recommendations&&r.dl8Recommendations.length>0||p(mt.VR_HUD_BOTTOM_BANNER_468X60,e,n),p(mt.VR_HUD_TOP_BANNER_468X60,e,n),p(mt.VR_HUD_LEFT_SKYSCRAPER_160X600,e,n),p(mt.VR_HUD_RIGHT_SKYSCRAPER_160X600,e,n),e({type:Wt})}};Et.showVrHud=jt;var Xt=t.HIDE_VR_HUD=(0,We.default)("HIDE_VR_HUD");Et.hideVrHud=x;var Yt=t.TOUR_CONTENT_PORTAL_CLICKED=(0,We.default)("TOUR_CONTENT_PORTAL_CLICKED"),qt=t.tourContentPortalClicked=function(e){return function(t,n){var i=n().data,r=i.contents,a=r.filter(function(t){return t.parentIds&&t.parentIds.originatorId===e.id}),o=a[0];return o&&t(Vt(o.id)),t({type:Yt})}};Et.tourContentPortalClicked=qt;var Zt=t.END=(0,We.default)("END"),Kt=t.end=function(){return function(e,t){return e({type:Zt})}};Et.end=Kt;var Jt=t.SEEK=(0,We.default)("SEEK");Et.seek=C;var $t=t.SEEKED=(0,We.default)("SEEKED");Et.seeked=M;var en=t.SET_SOURCES=(0,We.default)("SET_SOURCES"),tn=t.SET_SELECTED_QUALITY=(0,We.default)("SET_SELECTED_QUALITY"),nn=t.SET_QUALITIES=(0,We.default)("SET_QUALITIES"),rn=t.SET_QUALITY_CHANGE_TIME=(0,We.default)("SET_QUALITY_CHANGE_TIME"),an=t.SET_QUALITY_CHANGED=(0,We.default)("SET_QUALITY_CHANGED"),on=t.changeQuality=function(e){return function(t,n){var i=n(),r=i.data,a=i.customization,o=r.contents,s=r.activeContentIdx,l=o[s];if(l&&l.type===mt.CONTENT_TYPE_VIDEO){var u=l.element.currentTime;if(t(k(s,u)),yt.TrackingManager.instance.addEvent(new bt.TrackingEvent({type:bt.TrackingEvent.VIDEO_QUALITY_SWITCH,payload:{t:u,cid:l.id,q:e}})),l.domElement._isHlsStream)ct.Dl8VideoElement.HLS.then(function(n){var i=n.HLS,r=n.AbrController,o=ct.Dl8VideoElement.getOrCreateGlobalHlsStream(i,r);return o.nextLevel=parseInt(e),t(I(s,e)),a.saveAdaptiveQuality&&At.Util.setLocalStorageItemSafe("x-dl8-settings-preferred-quality",e),t(D(s,!0))});else{if(!l.domElement._isDashStream){var c=(0,tt.default)(l.element.children).filter(function(e){return"SOURCE"===e.tagName}).filter(function(t){return t.getAttribute("quality")===e});c.forEach(function(e){return l.element.insertBefore(e,l.element.firstChild)}),l.element.load();var d=h(l.element);return t(P(s,d)),l.playing&&!St&&l.element.play(),At.Util.setLocalStorageItemSafe("x-dl8-settings-preferred-quality",e),t(I(s,e)),t(D(s,!0))}ct.Dl8VideoElement.DASH.then(function(n){var i=ct.Dl8VideoElement.getOrCreateGlobalDashStream(n);if("-1"===e)i.configure({abr:{enabled:!0}});else{i.configure({abr:{enabled:!1}});var r=i.getVariantTracks().find(function(t){return t.id===parseInt(e)});i.selectVariantTrack(r,!0)}return t(I(s,e)),a.saveAdaptiveQuality&&At.Util.setLocalStorageItemSafe("x-dl8-settings-preferred-quality",e),t(D(s,!0))})}}}};Et.changeQuality=on;var sn=t.qualityChanged=function(){return function(e,t){var n=t(),i=n.data,r=i.contents,a=i.activeContentIdx,o=r[a];if(o&&o.type===mt.CONTENT_TYPE_VIDEO){try{o.element.currentTime=o.qualityChangeTime}catch(e){var s=o.qualityChangeTime;o.element.onloadedmetadata=function(e){o.element.currentTime=s,o.element.onloadedmetadata=null}}return e(D(a,!1))}}};Et.qualityChanged=sn;var ln=t.qualityUnplayable=function(e,t,n){return function(i,r){var a=r(),o=a.data,s=o.contents,l=o.activeContentIdx,u=s.findIndex(function(t){return t.id===e});u===-1&&(u=l);var c=s[u];if(c&&c.type===mt.CONTENT_TYPE_VIDEO){var d=c.element.currentTime;i(k(u,d));var h=c.sources.filter(function(e){return e.quality!==t});i(P(u,h));var f=c.qualities.filter(function(e){return e.value!==t});i(R(u,f));var _=h.length>0?h[0].quality:null;return i(I(u,_)),i(D(u,!!n))}}};Et.qualityUnplayable=ln;var un=t.UPDATE_TIME=(0,We.default)("UPDATE_TIME");Et.updateTime=V;var cn=t.UPDATE_DURATION=(0,We.default)("UPDATE_DURATION");Et.updateDuration=B;var dn=t.UPDATE_VOLUME=(0,We.default)("UPDATE_VOLUME");Et.updateVolume=O;var hn=t.UNMUTE=(0,We.default)("UNMUTE");Et.unmute=N;var fn=t.MUTE=(0,We.default)("MUTE");Et.mute=L;var _n=t.SET_TAP_TO_UNMUTE=(0,We.default)("SET_TAP_TO_UNMUTE");Et.setTapToUnmute=F;var pn=t.UPDATE_METADATA=(0,We.default)("UPDATE_METADATA");Et.updateMetadata=U;var mn=t.ACTIVATE_MAGIC_WINDOW_CONTROLS=(0,We.default)("ACTIVATE_MAGIC_WINDOW_CONTROLS");Et.activateMagicWindowControls=H;var An=t.ACTIVATE_DRAG_CONTROLS=(0,We.default)("ACTIVATE_DRAG_CONTROLS");Et.activateDragControls=G;var gn=t.DEVICE_SUPPORTS_VR=(0,We.default)("DEVICE_SUPPORTS_VR");Et.deviceSupportsVr=z;var vn=t.TRY_ACTIVATE_VR=(0,We.default)("TRY_ACTIVATE_VR");Et.tryActivateVr=Q;var yn=t.TRY_AUTOSTARTING_VR=(0,We.default)("TRY_AUTOSTARTING_VR");Et.tryAutostartingVr=W;var bn=t.ACTIVATE_VR=(0,We.default)("ACTIVATE_VR"),En=t.activateVr=function(){return function(e,t){var n=t(),i=n.data,r=i.contents,a=i.activeContentIdx,o=r[a];return o&&o.disable3DHud&&e(Lt()),e({type:bn})}};Et.activateVr=En;var wn=t.ABORT_ACTIVATE_VR=(0,We.default)("ABORT_ACTIVATE_VR");Et.abortActivateVr=j;var Sn=t.TRY_DEACTIVATE_VR=(0,We.default)("TRY_DEACTIVATE_VR");Et.tryDeactivateVr=X;var Tn=t.DEACTIVATE_VR=(0,We.default)("DEACTIVATE_VR");Et.deactivateVr=Y;var xn=t.ABORT_DEACTIVATE_VR=(0,We.default)("ABORT_DEACTIVATE_VR");Et.abortDeactivateVr=q;var Cn=t.TO_PORTRAIT=(0,We.default)("TO_PORTRAIT"),Mn=t.toPortrait=function(){return function(e,t){var n=t(),i=n.data,r=i.contents,a=i.activeContentIdx,o=r[a];return o&&o.type===mt.CONTENT_TYPE_VIDEO&&o.rotateToFullscreen&&e(Bn()),e({type:Cn})}};Et.toPortrait=Mn;var Pn=t.TO_LANDSCAPE=(0,We.default)("TO_LANDSCAPE"),In=t.toLandscape=function(){return function(e,t){var n=t(),i=n.data,r=i.contents,a=i.activeContentIdx,o=r[a];return o&&o.type===mt.CONTENT_TYPE_VIDEO&&o.rotateToFullscreen&&e(Dn()),e({type:Pn})}};Et.toLandscape=In;var Rn=t.FULLSCREEN_CHANGED=(0,We.default)("FULLSCREEN_CHANGED");Et.fullscreenChanged=Z;var kn=t.ENTER_FULLSCREEN=(0,We.default)("ENTER_FULLSCREEN"),Dn=t.enterFullscreen=function(){return function(e,t){var n=t(),i=n.data,r=i.contents,a=i.activeContentIdx,o=n.ui,s=o.useNativeVideoFallback,l=o.supportsFullscreen,u=o.displayMode,c=r[a];if(c&&!l)if(c.forceEmulatedFullscreen)"force-inline"===u&&((0,lt.makeFullscreen)(),e({type:kn}),s||e({type:On}));else{var d=function t(){var n=!c.element.paused;setTimeout(function(){e(n?Lt():Ut())},500),c.element.removeEventListener("webkitendfullscreen",t)};c.element.addEventListener("webkitendfullscreen",d),c.element.webkitEnterFullscreen()}else if(At.Util.requestFullscreen(document.querySelector("#dl8-content-container")))return e({type:kn})}};Et.enterFullscreen=Dn;var Vn=t.EXIT_FULLSCREEN=(0,We.default)("EXIT_FULLSCREEN"),Bn=t.exitFullscreen=function(){return function(e,t){var n=t(),i=n.data,r=i.contents,a=i.activeContentIdx,o=n.ui,s=o.useNativeVideoFallback,l=o.supportsFullscreen,u=o.displayMode,c=r[a];if(c)if(c.element&&c.element.webkitDisplayingFullscreen){var d=!c.element.paused;c.element.webkitExitFullscreen(),(0,ze.default)(function(){e(d?Lt():Ut())})}else if(!l&&c.forceEmulatedFullscreen&&"force-inline"===u){var h=c.domElement;if(c.parentIds.originatorId){var f=r.find(function(e){return e.id===c.parentIds.originatorId});f&&(h=f.domElement)}else if(c.parentIds.hubId){var _=r.find(function(e){return e.id===c.parentIds.hubId});_&&(h=_.domElement)}(0,lt.makeInline)(h),e({type:Vn}),s||e({type:On})}if(At.Util.exitFullscreen())return e({type:Vn})}};Et.exitFullscreen=Bn;var On=t.RESET_RENDER_SYSTEM=(0,We.default)("RESET_RENDER_SYSTEM");Et.resetRenderSystem=K;var Nn=t.ENABLE_INTERFACE=(0,We.default)("ENABLE_INTERFACE");Et.enableInterface=J;var Ln=t.DISABLE_INTERFACE=(0,We.default)("DISABLE_INTERFACE");Et.disableInterface=$;var Fn=t.SET_NO_WEBGL=(0,We.default)("SET_NO_WEBGL");Et.setNoWebGL=ee;var Un=t.SET_ERROR=(0,We.default)("SET_ERROR");Et.setError=te;var Hn=t.SET_CONTENT_ERROR=(0,We.default)("SET_CONTENT_ERROR");Et.setContentError=ne;var Gn=t.SEEKBAR_WAS_PRESSED=(0,We.default)("SEEKBAR_WAS_PRESSED");Et.seekbarWasPressed=ie;var zn=t.UPDATE_BUFFERING=(0,We.default)("UPDATE_BUFFERING");Et.updateBuffering=re;var Qn=t.SHOW_HUD=(0,We.default)("SHOW_HUD");Et.showHud=ae;var Wn=t.HIDE_HUD=(0,We.default)("HIDE_HUD");Et.hideHud=oe;var jn=t.SET_NEW_HMD=(0,We.default)("SET_NEW_HMD");Et.setNewHmd=se;var Xn=t.SET_NEW_PHONE=(0,We.default)("SET_NEW_PHONE");Et.setNewPhone=le;var Yn=t.SET_NEW_AUTODETECTED_PHONE=(0,We.default)("SET_NEW_AUTODETECTED_PHONE");Et.setNewAutodetectedPhone=ue;var qn=t.EXIT=(0,We.default)("EXIT"),Zn=t.exit=function(){return function(e,t){return new it.default(function(n,i){var r=t(),a=r.data,o=r.ui,s=a.contents,l=a.activeContentIdx,c=s[l];o.fullscreen&&e(Bn());var d=c.domElement;if(c.parentIds.originatorId){var h=s.find(function(e){return e.id===c.parentIds.originatorId});h&&(d=h.domElement)}else if(c.parentIds.hubId){var f=s.find(function(e){return e.id===c.parentIds.hubId});f&&(d=f.domElement)}(0,lt.makeInline)(d),o.oldViewports.forEach(function(e){return document.head.appendChild(e)});for(var _=document.querySelectorAll(".dl8-active"),p=0;p<_.length;++p)_[p].classList.remove("dl8-active");"true"===(0,ut.getUrlVar)("dl8-start-from-cors-fallback")&&window.history&&window.history.back();var m="force-inline"===o.displayMode||!o.mobile&&"fullscreen"!==o.displayMode;
void 0===o.savedScrollPos||m||window.scrollTo(0,o.savedScrollPos),c?u(c).then(function(){e({type:qn});var t=s.filter(function(e){return e.parentIds&&e.parentIds.originatorId});t&&t.forEach(function(t){e(g(t.id))}),n()}).catch(i):n(e({type:qn}))})}};Et.exit=Zn;var Kn=t.START=(0,We.default)("START");Et.start=ce;var Jn=t.TRY_RESET_POSE=(0,We.default)("TRY_RESET_POSE");Et.tryResetPose=de;var $n=t.RESET_POSE=(0,We.default)("RESET_POSE");Et.resetPose=he;var ei=t.USER_IDLE=(0,We.default)("USER_IDLE");Et.userIdle=fe;var ti=t.USER_ACTIVE=(0,We.default)("USER_ACTIVE");Et.userActive=_e;var ni=t.SHOW_VR_WIZARD=(0,We.default)("SHOW_VR_WIZARD");Et.showVrWizard=pe;var ii=t.CANCEL_VR_WIZARD=(0,We.default)("CANCEL_VR_WIZARD");Et.cancelVrWizard=me;var ri=t.FINISH_VR_WIZARD=(0,We.default)("FINISH_VR_WIZARD");Et.finishVrWizard=Ae;var ai=t.STARTED_LOADING_CONTENT=(0,We.default)("STARTED_LOADING_CONTENT");Et.startedLoadingContent=ge;var oi=t.FINISHED_LOADING_CONTENT=(0,We.default)("FINISHED_LOADING_CONTENT");Et.finishedLoadingContent=ve;var si=t.PROGRESS_LOADING_CONTENT=(0,We.default)("PROGRESS_LOADING_CONTENT");Et.progressLoadingContent=ye;var li=t.INIT_CUSTOMIZATION=(0,We.default)("INIT_CUSTOMIZATION");Et.initCustomization=be;var ui=t.OPEN_GET_VR_DIALOG=(0,We.default)("OPEN_GET_VR_DIALOG");Et.openGetVRDialog=Ee;var ci=t.CLOSE_GET_VR_DIALOG=(0,We.default)("CLOSE_GET_VR_DIALOG");Et.closeGetVRDialog=we;var di=t.OPEN_IOS_WITHOUT_DEVICEMOTION_DIALOG=(0,We.default)("OPEN_IOS_WITHOUT_DEVICEMOTION_DIALOG"),hi=t.openIOSWithoutDeviceMotionDialog=function(){return function(e,t){return e(Ut()),e({type:di})}};Et.openIOSWithoutDeviceMotionDialog=hi;var fi=t.CLOSE_IOS_WITHOUT_DEVICEMOTION_DIALOG=(0,We.default)("CLOSE_IOS_WITHOUT_DEVICEMOTION_DIALOG");Et.closeIOSWithoutDeviceMotionDialog=Se;var _i=t.OPEN_IOS_WITHOUT_DEVICEMOTION_VR_OVERLAY=(0,We.default)("OPEN_IOS_WITHOUT_DEVICEMOTION_VR_OVERLAY"),pi=t.openIOSWithoutDeviceMotionVrOverlay=function(){return function(e,t){return e(Ut()),e({type:_i})}};Et.openIOSWithoutDeviceMotionVrOverlay=pi;var mi=t.CLOSE_IOS_WITHOUT_DEVICEMOTION_VR_OVERLAY=(0,We.default)("CLOSE_IOS_WITHOUT_DEVICEMOTION_VR_OVERLAY");Et.closeIOSWithoutDeviceMotionVrOverlay=Te;var Ai=t.OPEN_SETTINGS=(0,We.default)("OPEN_SETTINGS");Et.openSettings=xe;var gi=t.CLOSE_SETTINGS=(0,We.default)("CLOSE_SETTINGS");Et.closeSettings=Ce;var vi=t.MOUSE_ENTER_APP=(0,We.default)("MOUSE_ENTER_APP");Et.mouseEnterApp=Me;var yi=t.MOUSE_LEAVE_APP=(0,We.default)("MOUSE_LEAVE_APP");Et.mouseLeaveApp=Pe;var bi=t.CHANGE_APP_SIZE=(0,We.default)("CHANGE_APP_SIZE");Et.changeAppSize=Ie;var Ei=t.START_RESET_RESOLUTION=(0,We.default)("START_RESET_RESOLUTION");Et.startResetResolution=Re;var wi=t.END_RESET_RESOLUTION=(0,We.default)("END_RESET_RESOLUTION");Et.endResetResolution=ke;var Si=t.ACTIVATE_SEATED_VR=(0,We.default)("ACTIVATE_SEATED_VR");Et.activateSeatedVr=De;var Ti=t.ACTIVATE_ROOMSCALE_VR=(0,We.default)("ACTIVATE_ROOMSCALE_VR");Et.activateRoomScaleVr=Ve;var xi=t.ENABLE_GAZE_BASED_INTERACTION=(0,We.default)("ENABLE_GAZE_BASED_INTERACTION");Et.enableGazeBasedInteraction=Be;var Ci=t.DISABLE_GAZE_BASED_INTERACTION=(0,We.default)("DISABLE_GAZE_BASED_INTERACTION");Et.disableGazeBasedInteraction=Oe;var Mi=t.TOUR_PROBE_CHANGED=(0,We.default)("TOUR_PROBE_CHANGED");Et.tourProbeChanged=Ne;var Pi=t.ENABLE_NATIVE_VIDEO_FALLBACK=(0,We.default)("ENABLE_NATIVE_VIDEO_FALLBACK"),Ii=t.enableNativeVideoFallback=function(){return function(e,t){if(gt.IFrameManager.instance.connected)gt.IFrameManager.instance.enableDeviceMotionEvents();else{var n=function e(){gt.IFrameManager.instance.enableDeviceMotionEvents(),gt.IFrameManager.instance.removeConnectedListener(e)};gt.IFrameManager.instance.addConnectedListener(n)}return e({type:Pi})}};Et.enableNativeVideoFallback=Ii;var Ri=t.DISABLE_NATIVE_VIDEO_FALLBACK=(0,We.default)("DISABLE_NATIVE_VIDEO_FALLBACK"),ki=t.disableNativeVideoFallback=function(){return function(e,t){if(gt.IFrameManager.instance.connected)gt.IFrameManager.instance.disableDeviceMotionEvents();else{var n=function e(){gt.IFrameManager.instance.disableDeviceMotionEvents(),gt.IFrameManager.instance.removeConnectedListener(e)};gt.IFrameManager.instance.addConnectedListener(n)}return e({type:Ri})}};Et.disableNativeVideoFallback=ki;var Di=t.SHOW_CAMERA_SETTINGS_CHOOSER=(0,We.default)("SHOW_CAMERA_SETTINGS_CHOOSER");Et.showCameraSettingsChooser=Le;var Vi=t.HIDE_CAMERA_SETTINGS_CHOOSER=(0,We.default)("HIDE_CAMERA_SETTINGS_CHOOSER");Et.hideCameraSettingsChooser=Fe;var Bi=t.SHOW_QUALITY_SETTINGS_CHOOSER=(0,We.default)("SHOW_QUALITY_SETTINGS_CHOOSER");Et.showQualitySettingsChooser=Ue;var Oi=t.HIDE_QUALITY_SETTINGS_CHOOSER=(0,We.default)("HIDE_QUALITY_SETTINGS_CHOOSER");Et.hideQualitySettingsChooser=He,t.default=Et},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Application=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(7),u=n(14),c=n(134),d=n(24),h=n(109),f=n(39),_=n(62),p=n(21),m=n(54),A=n(9),g=n(127),v=n(106),y=n(55),b=32,E="performanceUltraLow",w="performanceLow",S="performanceMedium",T="performanceHigh",x="performanceSuperMedium",C="performanceSuper",M="performanceUltra",P="applicationEventResize",I="applicationEventFullscreenEnter",R="applicationEventFullscreenExit",k="dl8.defaultCamera";t.Application=function(){function e(t){var n=this;(0,a.default)(this,e),this._tryDegrade=function(){if(!A.Context.qualityManager.forcedQuality&&n.$qualitySettings){var e=void 0;e=l.Util.isMobileBrowser()?v.QualityManager.ORDER_QUALITY_MOBILE:v.QualityManager.ORDER_QUALITY_DESKTOP;var t=e.indexOf(n._degradedQuality||A.Context.qualityManager.selectedQuality);if(0!==t&&t!==-1){var i=t-1;n._degradedQuality=e[i];for(var r=n.$dynamicQualityParams.length-1;r>=0;--r)n.$qualitySettings[e[t]][n.$dynamicQualityParams[r]]!==n.$qualitySettings[e[i]][n.$dynamicQualityParams[r]]&&n.$changeQualitySetting(n.$dynamicQualityParams[r],n.$qualitySettings[e[i]][n.$dynamicQualityParams[r]])}}},A.Context.resourceBasePath=l.Util.getParam(t,"resourceBasePath","/lib/dl8/dist/resources/"),A.Context.onNoWebGL=l.Util.getParam(t,"onNoWebGL",e._defaultNoWebGL),this._maxDevicePixelRatio=l.Util.getParam(t,"maxDevicePixelRatio",8),A.Context.devicePixelRatio=u.MathUtil.clamp(A.Context.devicePixelRatio,0,this._maxDevicePixelRatio),this._localDataBasePath=l.Util.getParam(t,"localDataBasePath","./"),this._canvas=l.Util.getParamRequired(t,"canvas"),this._enablePerformanceTest=l.Util.getParam(t,"enablePerformanceTest",!0),this._onPerformanceResult=l.Util.getParam(t,"onPerformanceResult",function(){}),this._canvasBlendEnabled=l.Util.getParam(t,"canvasBlendEnabled",!1),this._antialiasEnabled=l.Util.getParam(t,"antialiasEnabled",!1),this._ovrSamples=l.Util.getParam(t,"ovrSamples",-1),this._width=l.Util.getParam(t,"width",this._canvas.offsetWidth*A.Context.devicePixelRatio),this._height=l.Util.getParam(t,"height",this._canvas.offsetHeight*A.Context.devicePixelRatio),this._maxFPS=l.Util.getParam(t,"maxFPS",60),this._maxTiming=l.Util.getParam(t,"maxTiming",120),this._fixedTimesteps=l.Util.getParam(t,"fixedTimesteps",!1),this._requiredExtensions=l.Util.getParam(t,"requiredExtensions",[]),this._requiredCapabilities=l.Util.getParam(t,"requiredCapabilities",[]),this._fullscreenElement=l.Util.getParam(t,"fullscreenElement",document.documentElement),A.Context.useShaderResourceHack=l.Util.getParam(t,"useShaderResourceHack",!1),this._onMissingCapabilities=l.Util.getParam(t,"onMissingCapabilities",e._defaultMissingCapabilities),this._onMissingExtensions=l.Util.getParam(t,"onMissingExtensions",e._defaultMissingExtensions),this._onLoadFinished=l.Util.getParam(t,"onLoadFinished",function(){}),this._onLoadProgress=l.Util.getParam(t,"onLoadProgress",function(){}),this._onLoadIntermediateFinished=l.Util.getParam(t,"onLoadIntermediateFinished",function(){}),this._onLoadIntermediateStarted=l.Util.getParam(t,"onLoadIntermediateStarted",function(){}),this._onLoadIntermediateProgress=l.Util.getParam(t,"onLoadIntermediateProgress",function(){}),this.$onReady=l.Util.getParam(t,"onReady",function(){}),this._onResetStart=l.Util.getParam(t,"onResetStart",function(){}),this._onResetEnd=l.Util.getParam(t,"onResetEnd",function(){}),this._fps=0,this._accumDt=0,this._frameCount=0,this._fpsSampleInterval=t._fpsSampleInterval||10,this._renderSystem=null,this.performanceTiming=void 0,this.performance=void 0,this.$qualitySettings=null,this.$dynamicQualityParams=[],this._degradedQuality=null,this._inited=!1,this._paused=!0}return(0,s.default)(e,null,[{key:"_defaultMissingCapabilities",value:function(e){for(var t="missing extensions: ",n=0;n<e.length;++n)t+=e[n],n<e.length-1&&(t+=", ");throw Error(t)}},{key:"_defaultMissingExtensions",value:function(e){for(var t="missing extensions: ",n=0;n<e.length;++n)t+=e[n],n<e.length-1&&(t+=", ");throw new Error(t)}},{key:"_defaultNoWebGL",value:function(){throw Error("no webgl support")}},{key:"_createTexture",value:function(e,t,n,i){for(var r=t*n*4,a=new Uint8Array(r),o=0;o<r;o+=4)a[o]=i[0],a[o+1]=i[1],a[o+2]=i[2],a[o+3]=i[3];var s=e.createTexture();return e.bindTexture(e.TEXTURE_2D,s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,a),s}},{key:"_measureShaderPerformance",value:function(t,n,i){var r=e.PERFORMANCE_ITER,a=i.createShader(i.VERTEX_SHADER),o="precision highp float;\nattribute vec3 attr;\nvoid main() {\n    gl_Position = vec4(attr, 1.0);\n}\n";if(i.shaderSource(a,o),i.compileShader(a),!i.getShaderParameter(a,i.COMPILE_STATUS))return void t(null,new Error("error compiling shader for performance measurement: ("+i.getShaderInfoLog(a)+")"));var s="#define ANTICACHE "+(255*Math.random()|0)+"\nprecision highp float; uniform sampler2D tex;\nfloat rand(vec2 co) { return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453); } \n void main() { \n float anticache = float(ANTICACHE)/255.0; \n vec4 color = vec4(vec3(1.0), 1.0); \n for(int i = 0; i < 32; ++i) { \n color += texture2D(tex, vec2(rand(gl_FragCoord.xy))); \n color += texture2D(tex, vec2(rand(gl_FragCoord.xy/2.0))); \n color.r *= sin(color.g); \n color.r /= cos(color.b); \n }\n gl_FragColor = vec4(color.rgb * anticache, 1.0);\n }\n",u=i.createShader(i.FRAGMENT_SHADER);if(i.shaderSource(u,s),i.compileShader(u),!i.getShaderParameter(u,i.COMPILE_STATUS))return void t(null,new Error("error compiling shader for performance measurement: ("+i.getShaderInfoLog(u)+")"));var c=i.createProgram();i.attachShader(c,a),i.attachShader(c,u),i.linkProgram(c),i.clearColor(1,0,0,1),i.clearDepth(1),i.clear(i.DEPTH_BUFFER_BIT|i.COLOR_BUFFER_BIT),i.useProgram(c);var d=i.getUniformLocation(c,"tex");i.activeTexture(i.TEXTURE0);var h=e._createTexture(i,64,64,[255,255,0,255]);i.bindTexture(i.TEXTURE_2D,h),i.uniform1i(d,0);var f=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,f),i.bufferData(i.ARRAY_BUFFER,new Float32Array([1,1,1,-1,1,1,-1,-1,1,1,-1,1]),i.STATIC_DRAW);var _=i.getAttribLocation(c,"attr");i.enableVertexAttribArray(_),i.vertexAttribPointer(_,3,i.FLOAT,!1,12,0);var p=i.createBuffer();i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,p),i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),i.STATIC_DRAW);for(var m=new Uint8Array(16384),A=l.Util.performanceNow(),g=0,v=0;v<r&&(i.clear(i.DEPTH_BUFFER_BIT|i.COLOR_BUFFER_BIT),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),!(v%(r/32|0)===0&&(i.readPixels(0,0,64,64,i.RGBA,i.UNSIGNED_BYTE,m),i.flush(),g=(l.Util.performanceNow()-A)/r,g>n)));++v);i.readPixels(0,0,64,64,i.RGBA,i.UNSIGNED_BYTE,m),i.flush();var y=m[64];y=y,g=(l.Util.performanceNow()-A)/r,i.deleteShader(a),i.deleteShader(u),i.deleteProgram(c),i.deleteTexture(h),i.deleteBuffer(f),i.deleteBuffer(p),i.clearColor(0,0,0,1),i.clearDepth(1),i.clear(i.DEPTH_BUFFER_BIT|i.COLOR_BUFFER_BIT),t(g,null)}},{key:"PERFORMANCE_ITER",get:function(){return b}},{key:"PERFORMANCE_ULTRA_LOW",get:function(){return E}},{key:"PERFORMANCE_LOW",get:function(){return w}},{key:"PERFORMANCE_MEDIUM",get:function(){return S}},{key:"PERFORMANCE_HIGH",get:function(){return T}},{key:"PERFORMANCE_SUPER_MEDIUM",get:function(){return x}},{key:"PERFORMANCE_SUPER",get:function(){return C}},{key:"PERFORMANCE_ULTRA",get:function(){return M}},{key:"EVENT_RESIZE",get:function(){return P}},{key:"EVENT_FULLSCREEN_ENTER",get:function(){return I}},{key:"EVENT_FULLSCREEN_EXIT",get:function(){return R}},{key:"DEFAULT_CAMERA_NAME",get:function(){return k}}]),(0,s.default)(e,[{key:"dtor",value:function(){this._inited&&(this._scene.dtor(),this._renderSystem.dtor())}},{key:"$makeLocalPath",value:function(e){return this._localDataBasePath+e}},{key:"run",value:function(){A.Context.onFrame=this.$update.bind(this),A.Context.onResize=this._onResize.bind(this);try{A.Context.initEngine(this,this._canvas,this._canvasBlendEnabled,this._antialiasEnabled,this._ovrSamples,this._width,this._height,this._maxFPS,this._fixedTimesteps,this._checkForMissingCapabilities.bind(this),this._enablePerformanceTest?e._measureShaderPerformance.bind(this,this._onPerformanceResultImpl.bind(this),this._maxTiming):void 0),A.Context.documentEventDispatcher.addEventListener(f.GlobalEvent.FULLSCREEN_CHANGE,this._onFullscreenChanged.bind(this)),A.Context.documentEventDispatcher.addEventListener(f.GlobalEvent.ORIENTATION_CHANGE,this._resetRenderSystem.bind(this)),this._initImpl()}catch(e){return"function"==typeof A.Context.onNoWebGL&&A.Context.onNoWebGL(e),null}return this._paused=!1,this}},{key:"resume",value:function(){this._paused=!1,A.Context.resumeEngine()}},{key:"pause",value:function(){this._paused=!0,A.Context.pauseEngine()}},{key:"_resetRenderSystem",value:function(){this._onResetStart(),A.Context.vrDeviceManager.hardwareVr||!l.Util.isIOS10OrHigher()&&!l.Util.isAndroid()?(this._renderSystem.reset(A.Context.vrDeviceManager.state===_.VRDeviceManager.STATE_ACTIVE,A.Context.vrDeviceManager.state===_.VRDeviceManager.STATE_ACTIVE&&A.Context.vrDeviceManager.needsSoftwareDistortion),this._onResize(),this._onResetEnd()):setTimeout(function(){this._renderSystem.reset(A.Context.vrDeviceManager.state===_.VRDeviceManager.STATE_ACTIVE,A.Context.vrDeviceManager.state===_.VRDeviceManager.STATE_ACTIVE&&A.Context.vrDeviceManager.needsSoftwareDistortion),this._onResize(),this._onResetEnd()}.bind(this),1e3)}},{key:"enableVr",value:function(){return A.Context.vrDeviceManager.enable()}},{key:"disableVr",value:function(){return A.Context.vrDeviceManager.disable()}},{key:"exitFullscreen",value:function(){(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}},{key:"enterFullscreen",value:function(){var e=this._fullscreenElement;document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))}},{key:"lockPointer",value:function(){var e=this.canvas,t=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock;t&&t.call(e)}},{key:"unlockPointer",value:function(){var e=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock;e&&e.call(document)}},{key:"isPointerLocked",value:function(){var e=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement;return e===this.canvas}},{key:"resize",value:function(){this._onResize()}},{key:"$setupRequiredExtensions",value:function(){}},{key:"$initQuality",value:function(){}},{key:"$init",value:function(){}},{key:"_initImpl",value:function(){var t=this;A.Context.eventEmitter.emit(this,y.LoadingManager.EVENT_LOADING_START),A.Context.eventEmitter.on(y.LoadingManager.EVENT_LOADING_PROGRESS,function(e){return t._onLoadProgress(e.progress)}),A.Context.eventEmitter.on(y.LoadingManager.EVENT_FIRST_LOADING_FINISHED,this._onLoadFinished.bind(this,this)),A.Context.eventEmitter.on(y.LoadingManager.EVENT_INTERMEDIATE_LOADING_STARTED,this._onLoadIntermediateStarted.bind(this,this)),A.Context.eventEmitter.on(y.LoadingManager.EVENT_INTERMEDIATE_LOADING_PROGRESS,function(e){return t._onLoadIntermediateProgress(e.progress)}),A.Context.eventEmitter.on(y.LoadingManager.EVENT_INTERMEDIATE_LOADING_FINISHED,this._onLoadIntermediateFinished.bind(this,this)),A.Context.eventEmitter.on(_.VRDeviceManager.EVENT_VR_DEVICE_ACTIVATED,this._resetRenderSystem.bind(this)),A.Context.eventEmitter.on(_.VRDeviceManager.EVENT_VR_DEVICE_DEACTIVATED,this._resetRenderSystem.bind(this)),this.$initQuality(),this._initDegradationEvents(),this._scene=new p.Scene,this._renderSystem=new h.RenderSystem({canvasBlendEnabled:this._canvasBlendEnabled,antialiasEnabled:this._antialiasEnabled}),this._defaultCamera=new m.PhysicalCamera({name:e.DEFAULT_CAMERA_NAME}),this._scene.add(this._defaultCamera),this._defaultCamera.makeActive(),A.Context.vrDeviceManager.fullscreenElement=this._fullscreenElement,this.resize(),this.$init(),this._inited=!0,A.Context.eventEmitter.emit(this,y.LoadingManager.EVENT_LOADING_END)}},{key:"$update",value:function(e){++this._frameCount,this._accumDt+=e,this._accumDt>this._fpsSampleInterval&&(0===this._fps?this._fps=this._frameCount/this._accumDt:this._fps=.5*(this._fps+this._frameCount/this._accumDt),this._frameCount=0,this._accumDt=0,A.Context.logger.info(this,"fps",this._fps)),this._scene.update(e),this._renderSystem.update(e),this._renderSystem.render(this._scene)}},{key:"$floatingpointAttachmentSupport",value:function(){if(!A.Context.glExtensionManager.has.textureFloat)return!1;var e=!0,t=new d.Texture({type:d.Texture.EMPTY,data:{width:1,height:1},format:d.Texture.FLOATING_POINT,generateMipmaps:!1});t.allocate();var n=new c.Framebuffer;n.attachTexture(A.Context.gl.COLOR_ATTACHMENT0,t,A.Context.gl.TEXTURE_2D,0);try{n.enable()}catch(t){e=!1}return n.dtor(),t.dtor(),e}},{key:"$changeQualitySetting",value:function(){}},{key:"_initDegradationEvents",value:function(){A.Context.degradationManager.addEventListener(g.DegradationManager.PERFORMANCE_DEGRADED,this._tryDegrade)}},{key:"_timingToPerformance",value:function(t){return t<9?e.PERFORMANCE_ULTRA:t<11?e.PERFORMANCE_SUPER:t<12?e.PERFORMANCE_SUPER_MEDIUM:t<70?e.PERFORMANCE_HIGH:t<this._maxTiming?e.PERFORMANCE_LOW:e.PERFORMANCE_ULTRA_LOW}},{key:"_getMissingRequiredExtensions",value:function(){for(var e=[],t=0;t<this._requiredExtensions.length;++t)A.Context.glExtensionManager.has[this._requiredExtensions[t]]||e.push(this._requiredExtensions[t]);return e}},{key:"_checkForMissingCapabilities",value:function(){this.$setupRequiredExtensions(this._requiredExtensions);var e=this._getMissingRequiredExtensions();if(e.length>0)throw void 0!==this._onMissingExtensions&&this._onMissingExtensions(e),Error("missing extensions");for(var t=0,n=this._requiredCapabilities.length;t<n;++t)if("floatingPointFramebufferAttachments"===this._requiredCapabilities[t]){var i=new d.Texture({type:d.Texture.EMPTY,data:{width:1,height:1},format:d.Texture.FLOATING_POINT,generateMipmaps:!1});i.allocate();var r=new c.Framebuffer;r.attachTexture(A.Context.gl.COLOR_ATTACHMENT0,i,A.Context.gl.TEXTURE_2D,0);try{r.enable()}catch(e){throw void 0!==this._onMissingCapabilities&&this._onMissingCapabilities(["floating-point texture framebuffer attachments"]),Error("missing capabilities")}r.dtor(),i.dtor()}}},{key:"_onPerformanceResultImpl",value:function(t,n){return null!=n?(A.Context.logger.error(this,n),this.performance=e.PERFORMANCE_ULTRA_LOW,void(this.performanceTiming=this._maxTiming)):(this.performance=this._timingToPerformance(t),this.performanceTiming=t,void this._onPerformanceResult(this.performance,this.performanceTiming))}},{key:"_onResize",value:function(){A.Context.vrDeviceManager.state===_.VRDeviceManager.STATE_ACTIVE?(this._width=A.Context.vrDeviceManager.renderWidth,this._height=A.Context.vrDeviceManager.renderHeight):(this._width=this._canvas.offsetWidth*A.Context.devicePixelRatio,this._height=this._canvas.offsetHeight*A.Context.devicePixelRatio),A.Context.eventEmitter.emit(this,e.EVENT_RESIZE)}},{key:"_onFullscreenChanged",value:function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?A.Context.eventEmitter.emit(this,e.EVENT_FULLSCREEN_ENTER):A.Context.eventEmitter.emit(this,e.EVENT_FULLSCREEN_EXIT),A.Context.vrDeviceManager.state!==_.VRDeviceManager.STATE_ACTIVE&&this._resetRenderSystem()}},{key:"fps",get:function(){return this._fps}},{key:"canvas",get:function(){return this._canvas}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"localDataBasePath",get:function(){return this._localDataBasePath}},{key:"paused",get:function(){return this._paused}},{key:"$renderSystem",get:function(){return this._renderSystem}},{key:"$scene",get:function(){return this._scene}}]),e}()},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CardboardViewer=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l="vrViewerChanged";t.CardboardViewer=function(){function e(t){(0,a.default)(this,e),this.id=t.id,this.label=t.label,this.url=t.url,this.fov=t.fov,this.interLensDistance=t.interLensDistance,this.baselineLensDistance=t.baselineLensDistance,this.screenLensDistance=t.screenLensDistance,this.distortionCoefficients=t.distortionCoefficients,this.inverseCoefficients=t.inverseCoefficients,this.primaryButton=t.primaryButton,this.magnet=t.magnet,this.vignettingStrength=t.vignettingStrength,this.chromaticAberrationStrength=t.chromaticAberrationStrength,this.overlap=t.overlap,this.phoneFixed=t.phoneFixed,this.thumb=t.thumb}return(0,s.default)(e,null,[{key:"EVENT_VR_VIEWER_CHANGED",get:function(){return l}}]),e}()},,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Geometry=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(13),A=n(18),g=i(A),v=n(29),y=n(9),b=n(7),E=n(69),w="points",S="lines",T="lineLoop",x="lineStrip",C="triangles",M="triangleStrip",P="triangleFan",I=0;t.Geometry=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._indexBuffer=b.Util.getParamRequired(e,"indexBuffer"),n._vertexBuffer=b.Util.getParamRequired(e,"vertexBuffer"),n.addResourceDependency(n._indexBuffer),n.addResourceDependency(n._vertexBuffer),n.loaded=!0,I+=(n._indexBuffer?n._indexBuffer.sizeBytes:0)+n._vertexBuffer.sizeBytes,n._visible=b.Util.getParam(e,"visible",!0),n._rendered=!1,n._culled=!1,n._offset=0,n._offsetAlign=0,n._type=n._resolveGeometryType(b.Util.getParam(e,"type",C)),n._boundingVolume=b.Util.getParam(e,"boundingVolume",new E.AxisAlignedBoundingBox),n._calculateBoundingVolume=b.Util.getParam(e,"calculateBoundingVolume",!1),n._calculateBoundingVolume&&n._updateBoundingVolume(),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"Geometry",params:{indexBuffer:this._indexBuffer,vertexBuffer:this._vertexBuffer,visible:this._visible,type:t.glTypeToGeometryType(this._type),boundingVolume:this._boundingVolume,calculateBoundingVolume:this._calculateBoundingVolume}}}}],[{key:"glTypeToGeometryType",value:function(e){switch(e){case y.Context.gl.POINTS:return w;case y.Context.gl.LINES:return S;case y.Context.gl.LINE_LOOP:return T;case y.Context.gl.LINE_STRIP:return x;case y.Context.gl.TRIANGLES:return C;case y.Context.gl.TRIANGLE_STRIP:return M;case y.Context.gl.TRIANGLE_FAN:return P;default:throw new Error("invalid geometry type: "+e)}}},{key:"POINTS",get:function(){return w}},{key:"LINES",get:function(){return S}},{key:"LINE_LOOP",get:function(){return T}},{key:"LINE_STRIP",get:function(){return x}},{key:"TRIANGLES",get:function(){return C}},{key:"TRIANGLE_STRIP",get:function(){return M}},{key:"TRIANGLE_FAN",get:function(){return P}}]),(0,f.default)(t,[{key:"dtor",value:function(){this._indexBuffer&&this._indexBuffer.dtor(),this._vertexBuffer&&this._vertexBuffer.dtor(),(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"dtor",this).call(this)}},{key:"whichSide",value:function(e){return this._boundingVolume.whichSide(e)}},{key:"_updateBoundingVolume",value:function(){this._boundingVolume.calculateFromVertexBuffer(this._vertexBuffer)}},{key:"_resolveGeometryType",value:function(e){switch(e){case w:return this._offsetAlign=1,y.Context.gl.POINTS;case S:return this._offsetAlign=2,y.Context.gl.LINES;case T:return this._offsetAlign=1,y.Context.gl.LINE_LOOP;case x:return this._offsetAlign=1,y.Context.gl.LINE_STRIP;case C:return this._offsetAlign=3,y.Context.gl.TRIANGLES;case M:return this._offsetAlign=3,y.Context.gl.TRIANGLE_STRIP;case P:return this._offsetAlign=3,y.Context.gl.TRIANGLE_FAN;default:throw Error("invalid geometry type: "+e)}}},{key:"offset",set:function(e){var t=this._indexBuffer.indexBytes*this._offsetAlign;this._offset=Math.max((e/t|0)*t,0)},get:function(){return this._offset}},{key:"culled",set:function(e){this._culled=e},get:function(){return this._culled}},{key:"rendered",set:function(e){this._rendered=e},get:function(){return this._rendered}},{key:"indexBuffer",get:function(){return this._indexBuffer}},{key:"vertexBuffer",get:function(){return this._vertexBuffer}},{key:"type",get:function(){return this._type},set:function(e){this._type=this._resolveGeometryType(e)}},{key:"visible",get:function(){return this._visible},set:function(e){this._visible=e}},{key:"boundingVolume",get:function(){return this._boundingVolume}}]),t}((0,g.default)(v.Resource,m.Serializable))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.IndexBuffer=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(13),A=n(29),g=n(7),v=n(9),y=n(18),b=i(y),E={};t.IndexBuffer=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._indexDataType=null,n._indexDataNative=null,n._indexBytes=null,n._indexDataHash=null,n._internalType=null,n._bufferId=null,n._locked=!1,n._fullDataUploadNeeded=!0,n._partialDataUploadNeeded=!1,n._usageType=g.Util.getParam(e,"usageType",v.Context.gl.STATIC_DRAW),n._asyncHashUint32Array=v.Context.async.makeAsync(g.Util.hashUint32Array),n._asyncHashUint16Array=v.Context.async.makeAsync(g.Util.hashUint16Array),n._assignOptimalBuffer(e.data),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"IndexBuffer",params:{usageType:this._usageType,data:this._indexDataNative}}}}]),(0,f.default)(t,[{key:"dtor",value:function(){null===this._bufferId||null!==this._indexDataHash&&1!==E[this._indexDataHash].count||(v.Context.gl.deleteBuffer(this._bufferId),this._bufferId=null,delete E[this._indexDataHash]),this._fullDataUploadNeeded=!0,(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"dtor",this).call(this)}},{key:"lock",value:function(){this._locked=!0}},{key:"unlock",value:function(){null!=this._bufferId&&(this._fullDataUploadNeeded?(v.Context.gl.bindBuffer(v.Context.gl.ELEMENT_ARRAY_BUFFER,this._bufferId),v.Context.gl.bufferData(v.Context.gl.ELEMENT_ARRAY_BUFFER,this._indexDataNative,this._usageType),this._fullDataUploadNeeded=!1):this._partialDataUploadNeeded&&(v.Context.gl.bindBuffer(v.Context.gl.ELEMENT_ARRAY_BUFFER,this._bufferId),v.Context.gl.bufferSubData(v.Context.gl.ELEMENT_ARRAY_BUFFER,0,this._indexDataNative),this._partialDataUploadNeeded=!1),this._locked=!1)}},{key:"enable",value:function(){if(this.loaded){if(null==this._bufferId){var e=E[this._indexDataHash];void 0===e?(this._bufferId=v.Context.gl.createBuffer(),v.Context.logger.debug(this,"created index buffer ("+v.Context.getError()+")"),this._indexDataHash&&(E[this._indexDataHash]={bufferId:this._bufferId,count:1})):(this._bufferId=e.bufferId,e.count++,this._fullDataUploadNeeded=!1,this._partialDataUploadNeeded=!1),this.unlock()}v.Context.gl.bindBuffer(v.Context.gl.ELEMENT_ARRAY_BUFFER,this._bufferId)}return this.loaded}},{key:"disable",value:function(){v.Context.gl.bindBuffer(v.Context.gl.ELEMENT_ARRAY_BUFFER,null)}},{key:"size",value:function(){return this._indexDataNative.length}},{key:"_assignOptimalBuffer",value:function(e){if(e instanceof Uint16Array)this._indexDataNative=e,this._internalType=v.Context.gl.UNSIGNED_SHORT;else if(e instanceof Uint32Array){this._internalType=v.Context.gl.UNSIGNED_SHORT;for(var t=e.length-1;t>=0;--t)if(e[t]>65535){this._indexDataNative=e,this._internalType=v.Context.gl.UNSIGNED_INT;break}if(this._internalType===v.Context.gl.UNSIGNED_SHORT)this._indexDataNative=new Uint16Array(e);else if(!v.Context.glExtensionManager.has.elementIndexUint)throw new Error("geometry with vtx count > 65535 encountered and no elementIndexUint extension found.")}else{if(!Array.isArray(e))throw new Error("data param to index buffer is not an array");this._internalType=v.Context.gl.UNSIGNED_SHORT;for(var n=e.length-1;n>=0;--n)if(e[n]>65535){this._indexDataNative=new Uint32Array(e),this._internalType=v.Context.gl.UNSIGNED_INT;break}if(this._internalType===v.Context.gl.UNSIGNED_SHORT)this._indexDataNative=new Uint16Array(e);else if(!v.Context.glExtensionManager.has.elementIndexUint)throw new Error("geometry with vtx count > 65535 encountered and no elementIndexUint extension found.")}this.markLoading();this._internalType===v.Context.gl.UNSIGNED_SHORT,this.loaded=!0,this._indexBytes=this._internalType===v.Context.gl.UNSIGNED_INT?4:2}},{key:"internalType",get:function(){return this._internalType}},{key:"indexBytes",get:function(){return this._indexBytes}},{key:"sizeBytes",get:function(){return this._indexDataNative.byteLength}},{key:"indexDataNative",get:function(){if(null==this._bufferId)return null;if(!this._locked)throw new Error("tried to access native index data in unlocked state");return this._partialDataUploadNeeded=!0,v.Context.debug&&this._usageType===v.Context.gl.STATIC_DRAW&&v.Context.logger.debug(this,"NOTE: using STATIC_DRAW as a usage type when modifiying VBO data on the fly might not be performant, use STREAM_DRAW or DYNAMIC_DRAW instead."),this._indexDataNative},set:function(e){if(!(this._internalType!==v.Context.gl.UNSIGNED_INT||e instanceof Uint32Array))throw new Error("tried to set an non Uint32Array as native data of UNSIGNED_INT index buffer");if(this._internalType===v.Context.gl.UNSIGNED_SHORT&&!(e instanceof Uint16Array))throw new Error("tried to set an non Uint16Array as native data of UNSIGNED_SHORT index buffer");this._indexDataNative=e,this._fullDataUploadNeeded=!0}},{key:"indexDataNativeRaw",get:function(){return this._indexDataNative}}]),t}((0,b.default)(A.Resource,m.Serializable))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.VertexBuffer=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(13),A=n(29),g=n(7),v=n(9),y=n(18),b=i(y),E="native",w="array",S={};t.VertexBuffer=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._attributes=g.Util.getParam(e,"attributes"),n._vertexData=g.Util.getParam(e,"vertexData"),n._usageType=g.Util.getParam(e,"usageType",v.Context.gl.STATIC_DRAW),n._vertexDataType=g.Util.getParam(e,"vertexDataType",t.ARRAY),
n._vertexDataNative=g.Util.getParam(e,"vertexDataNative"),n._bufferId=null,n._locked=!1,n._fullDataUploadNeeded=!0,n._partialDataUploadNeeded=!1,n._vertexDataHash=null,n._asyncHashFloat32Array=v.Context.async.makeAsync(g.Util.hashFloat32Array),n.markLoading(),n._vertexDataType===t.NATIVE?n.loaded=!0:n.loaded=!0,n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"VertexBuffer",params:{attributes:this._attributes,vertexData:this._vertexData,usageType:this._usageType,vertexDataType:this._vertexDataType,vertexDataNative:this._vertexDataNative}}}}],[{key:"NATIVE",get:function(){return E}},{key:"ARRAY",get:function(){return w}}]),(0,f.default)(t,[{key:"size",value:function(){return this._vertexDataType===t.NATIVE?this._vertexDataNative.length:this._vertexData.length}},{key:"lock",value:function(){this._locked=!0}},{key:"unlock",value:function(){null!==this._bufferId&&(this._fullDataUploadNeeded?(this._vertexDataType===t.ARRAY&&(this._vertexDataNative=new Float32Array(this._vertexData)),v.Context.gl.bindBuffer(v.Context.gl.ARRAY_BUFFER,this._bufferId),v.Context.gl.bufferData(v.Context.gl.ARRAY_BUFFER,this._vertexDataNative,this._usageType),this._fullDataUploadNeeded=!1):this._partialDataUploadNeeded&&(v.Context.gl.bindBuffer(v.Context.gl.ARRAY_BUFFER,this._bufferId),v.Context.gl.bufferSubData(v.Context.gl.ARRAY_BUFFER,0,this._vertexDataNative),this._partialDataUploadNeeded=!1),this._locked=!1)}},{key:"enable",value:function(){if(this.loaded){if(null==this._bufferId){if(this._vertexDataType===t.NATIVE){var e=S[this._vertexDataHash];void 0===e?(this._bufferId=v.Context.gl.createBuffer(),v.Context.logger.debug(this,"created vertex buffer ("+v.Context.getError()+")"),this._vertexDataHash&&(S[this._vertexDataHash]={bufferId:this._bufferId,count:1})):(this._bufferId=e.bufferId,e.count++,this._fullDataUploadNeeded=!1,this._partialDataUploadNeeded=!1,v.Context.logger.debug(this,"taking bufferId from cache with hash: "+this._vertexDataHash+" usage now: "+e.count))}else this._bufferId=v.Context.gl.createBuffer(),v.Context.logger.debug(this,"created vertex buffer ("+v.Context.getError()+")");this.unlock()}v.Context.gl.bindBuffer(v.Context.gl.ARRAY_BUFFER,this._bufferId),this._enableAttributes()}return this.loaded}},{key:"disable",value:function(){if(this.loaded){var e=this._attributes.getSemanticsInfo();for(var t in e)v.Context.gl.disableVertexAttribArray(e[t].index)}v.Context.gl.bindBuffer(v.Context.gl.ARRAY_BUFFER,null)}},{key:"dtor",value:function(){null===this._bufferId||null!==this._vertexDataHash&&1!==S[this._vertexDataHash].count||(v.Context.gl.deleteBuffer(this._bufferId),this._bufferId=null,delete S[this._vertexDataHash]),this._fullDataUploadNeeded=!0,(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"dtor",this).call(this)}},{key:"_enableAttributes",value:function(){var e=this._attributes.getSemanticsInfo();for(var t in e){var n=e[t];v.Context.gl.enableVertexAttribArray(n.index),v.Context.gl.vertexAttribPointer(n.index,n.size,v.Context.gl.FLOAT,!1,4*this._attributes.channelCount,4*n.offset)}}},{key:"sizeBytes",get:function(){return this._vertexDataType===t.NATIVE?this._vertexDataNative.byteLength:4*this._vertexData.length}},{key:"vertexCount",get:function(){return this.size()/this._attributes.channelCount}},{key:"dataType",set:function(e){this._vertexDataType=e}},{key:"vertexData",set:function(e){if(this._vertexDataType===t.NATIVE)throw Error("tried setting indexData on native vertex buffer. use VertexBuffer.ARRAY as a type instead");if(!this._locked)throw Error("tried to alter vertexData in unlocked buffer state");this._vertexData=e,this._fullDataUploadNeeded=!0},get:function(){return this._vertexData}},{key:"attributes",get:function(){return this._attributes}},{key:"vertexDataNative",get:function(){if(null==this._bufferId)return null;if(!this._locked)throw Error("tried to access native vertex data in unlocked state");return this._partialDataUploadNeeded=!0,v.Context.debug&&this._usageType===v.Context.gl.STATIC_DRAW&&v.Context.logger.debug(this,"NOTE: using STATIC_DRAW as a usage type when modifiying VBO data on the fly might not be performant, use STREAM_DRAW or DYNAMIC_DRAW instead."),this._vertexDataNative},set:function(e){this._vertexDataNative=e,this._fullDataUploadNeeded=!0}},{key:"vertexDataNativeRaw",get:function(){return this._vertexDataNative}}]),t}((0,b.default)(A.Resource,m.Serializable))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CardboardVRDisplay=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(92),p=n(220),m=n(82),A=n(107),g=n(9),v={LEFT:"left",RIGHT:"right"},y="hmdParamsChanged";t.CardboardVRDisplay=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e._displayName="Cardboard VRDisplay (webvr-polyfill)",e._capabilities.hasOrientation=!0,e._capabilities.canPresent=!0,e._deviceInfo=new p.DeviceInfo(g.Context.phoneManager.dpdb.deviceParams),g.Context.eventEmitter.on(m.CardboardViewer.EVENT_VR_VIEWER_CHANGED,e._onViewerChanged.bind(e)),g.Context.eventEmitter.on(A.PhoneManager.EVENT_VR_PHONE_CHANGED,e._onPhoneChanged.bind(e)),e}return(0,f.default)(t,e),(0,d.default)(t,null,[{key:"EVENT_HMD_PARAMS_CHANGED",get:function(){return y}}]),(0,d.default)(t,[{key:"getImmediatePose",value:function(){return{position:g.Context.poseSensor.getPosition(),orientation:g.Context.poseSensor.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}}},{key:"resetPose",value:function(){g.Context.poseSensor.resetPose()}},{key:"getEyeParameters",value:function(e){var t=[.5*this._deviceInfo.viewer.interLensDistance,0,0],n=void 0;if(e===v.LEFT)t[0]*=-1,n=this._deviceInfo.getFieldOfViewLeftEye();else{if(e!==v.RIGHT)return g.Context.logger.error(this,"Invalid eye provided: %s",e),null;n=this._deviceInfo.getFieldOfViewRightEye()}return{fieldOfView:n,offset:t,renderWidth:.5*this._deviceInfo.device.width,renderHeight:this._deviceInfo.device.height}}},{key:"_onPhoneChanged",value:function(e){this._deviceInfo.updateDeviceParams(e.dpdb.deviceParams),g.Context.eventEmitter.emit(this,t.EVENT_HMD_PARAMS_CHANGED)}},{key:"_onViewerChanged",value:function(e){this._deviceInfo.viewer=e,g.Context.eventEmitter.emit(this,t.EVENT_HMD_PARAMS_CHANGED)}}]),t}(_.VRDisplay)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.VRDisplay=void 0;var r=n(33),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(96),d=n(229),h=n(230),f=n(7),_=1337;t.VRDisplay=function(){function e(){(0,s.default)(this,e),this._displayId=_++,this._displayName="webvr-polyfill displayName",this._isConnected=!0,this._isPresenting=!1,this._capabilities={hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1},this._stageParameters=null,this._waitingForPresent=!1,this._layer=null,this._fullscreenElement=null,this._fullscreenWrapper=null,f.Util.isAndroid()?this._wakelock=new d.AndroidWakeLock:f.Util.isIOS()?this._wakelock=new h.IOSWakeLock:this._wakelock=new c.WakeLock}return(0,u.default)(e,[{key:"getPose",value:function(){return this.getImmediatePose()}},{key:"getImmediatePose",value:function(){return null}},{key:"requestAnimationFrame",value:function(e){return window.requestAnimationFrame(e)}},{key:"cancelAnimationFrame",value:function(e){return window.cancelAnimationFrame(e)}},{key:"_wrapForFullscreen",value:function(e){if(f.Util.isIOS())return e;if(this._fullscreenWrapper||(this._fullscreenWrapper=document.createElement("div"),this._fullscreenWrapper.style.width="100%",this._fullscreenWrapper.style.height="100%",this._fullscreenWrapper.style.position="absolute",this._fullscreenWrapper.style.left="0",this._fullscreenWrapper.style.top="0",this._fullscreenWrapper.style.zIndex="3000"),this._fullscreenElement===e)return this._fullscreenWrapper;this._removeFullscreenWrapper(),this._fullscreenElement=e;var t=this._fullscreenElement.parentElement;return t.insertBefore(this._fullscreenWrapper,this._fullscreenElement),t.removeChild(this._fullscreenElement),this._fullscreenWrapper.insertBefore(this._fullscreenElement,this._fullscreenWrapper.firstChild),this._fullscreenWrapper}},{key:"_removeFullscreenWrapper",value:function(){if(this._fullscreenElement){var e=this._fullscreenElement;this._fullscreenElement=null;var t=this._fullscreenWrapper.parentElement;return this._fullscreenWrapper.removeChild(e),t.insertBefore(e,this._fullscreenWrapper),t.removeChild(this._fullscreenWrapper),e}}},{key:"requestPresent",value:function(e){var t=this;return e instanceof Array||(e=[e]),new a.default(function(n,i){if(!t.capabilities.canPresent)return void i(new Error("VRDisplay is not capable of presenting."));if(0===e.length||e.length>t.capabilities.maxLayers)return void i(new Error("Invalid number of layers."));if(t._layer=e[0],t._waitingForPresent)return void i(new Error("Already waiting for present."));if(t.isPresenting)return void i(new Error("Already presenting."));if(t._layer&&t._layer.source){var r=t._layer.source,a=function(){var e=f.Util.getFullscreenElement();this._isPresenting=r===e,this._fireVRDisplayPresentChange(),this.isPresenting?(this._waitingForPresent=!1,this._beginPresent(),setTimeout(function(){screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),n()},1e3)):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),this._wakelock.release(),this._endPresent(),f.Util.removeFullscreenListeners())}.bind(t),o=function(){this._waitingForPresent&&(f.Util.removeFullscreenListeners(),this._wakelock.release(),this._waitingForPresent=!1,this._isPresenting=!1,i(new Error("Unable to present.")))}.bind(t);f.Util.addFullscreenListeners(r,a,o),f.Util.requestFullscreen(r)?(t._wakelock.request(),t._waitingForPresent=!0):f.Util.isIOS()&&(t._wakelock.request(),t._isPresenting=!0,t._fireVRDisplayPresentChange(),t._beginPresent(),n())}t._waitingForPresent||f.Util.isIOS()||(f.Util.exitFullscreen(),i(new Error("Unable to present.")))})}},{key:"_fireVRDisplayPresentChange",value:function(){var e=new CustomEvent("vrdisplaypresentchange",{detail:{vrdisplay:this}});window.dispatchEvent(e)}},{key:"exitPresent",value:function(){var e=this,t=this.isPresenting;return this._isPresenting=!1,this._layer=null,this._wakelock.release(),new a.default(function(n,i){t?(!f.Util.exitFullscreen()&&f.Util.isIOS()&&e._endPresent(),n()):i(new Error("Was not presenting to VRDisplay."))})}},{key:"getLayers",value:function(){return this._layer?[this._layer]:[]}},{key:"_beginPresent",value:function(){}},{key:"_endPresent",value:function(){}},{key:"submitFrame",value:function(e){}},{key:"getEyeParameters",value:function(e){return null}},{key:"displayId",get:function(){return this._displayId}},{key:"displayName",get:function(){return this._displayName}},{key:"isConnected",get:function(){return this._isConnected}},{key:"isPresenting",get:function(){return this._isPresenting}},{key:"capabilities",get:function(){return this._capabilities}},{key:"stageParameters",get:function(){return this._stageParameters}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewerLibrary=void 0;var r=n(15),a=i(r),o=n(82);t.ViewerLibrary=new a.default([["Samsung Gear VR SM-R320",new o.CardboardViewer({id:"Samsung Gear VR SM-R320",label:"Samsung Gear VR Innovator Edition",url:"https://www.samsung.com/us/business/support/owners/product/gear-vr-innovator-edition-sm-r320/",interLensDistance:.05999999865889549,baselineLensDistance:.03500000014901161,fov:48,screenLensDistance:.04100000113248825,distortionCoefficients:[.2150000035762787,.20999999344348907],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!0})],["Samsung Gear VR SM-R322",new o.CardboardViewer({id:"Samsung Gear VR SM-R322",label:"Samsung Gear VR",url:"https://www.samsung.com/us/mobile/virtual-reality/gear-vr/gear-vr-sm-r322nzwaxar/",interLensDistance:.05999999865889549,screenLensDistance:.03500000014901161,fov:50,baselineLensDistance:.03400000184774399,distortionCoefficients:[.05000000074505806,.25],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!0})],["POP! CARDBOARD 3.0",new o.CardboardViewer({id:"POP! CARDBOARD 3.0",label:"POP! CARDBOARD 3.0",url:"http://mrcardboard.eu/",interLensDistance:.050999999046325684,screenLensDistance:.0430000014603138,fov:50,baselineLensDistance:.03700000047683716,distortionCoefficients:[.33000001311302185,.009999999776482582],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Alcatel VR Viewer V1",new o.CardboardViewer({id:"Alcatel VR Viewer V1",label:"Alcatel VR Viewer V1",url:"http://www.alcatelonetouch.us/virtual-reality-goggles",interLensDistance:.05999999865889549,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.5,.5],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0})],["Baofeng Mojing 4",new o.CardboardViewer({id:"Baofeng Mojing 4",label:"Baofeng Mojing 4",url:"http://www.mojing.cn/product_1000023.html",interLensDistance:.0560000017285347,screenLensDistance:.06300000101327896,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.6100000143051147,1.1299999952316284],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0})],["FiiT VR",new o.CardboardViewer({id:"FiiT VR",label:"FiiT VR",url:"http://fiitvr.com/",interLensDistance:.06300000101327896,screenLensDistance:.04100000113248825,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.20999999344348907,.20999999344348907],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0})],["J-Deal",new o.CardboardViewer({id:"J-Deal",label:"J-Deal",url:"https://www.amazon.com/j-deal%C3%82%C2%AE-virtual-cardboard-smartphones-cellphones/dp/b013qwa0sk",interLensDistance:.06800000369548798,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.019999999552965164,.019999999552965164],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0})],["Powis ViewR",new o.CardboardViewer({id:"Powis ViewR",label:"Powis ViewR",url:"http://powiscustom.com/",interLensDistance:.06350000202655792,screenLensDistance:.06095999851822853,fov:50,baselineLensDistance:.033782001584768295,distortionCoefficients:[.2813781201839447,.4941614866256714],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0})],["Teefan VRA TF-VRA88004",new o.CardboardViewer({id:"Teefan VRA TF-VRA88004",label:"Teefan VRA TF-VRA88004",url:"https://www.virtual-reality-shop.co.uk/teefan/",interLensDistance:.05999999865889549,screenLensDistance:.06199999898672104,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[0,0],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0})],["Unicorn VR",new o.CardboardViewer({id:"Unicorn VR",label:"Unicorn VR",url:"http://www.novovr.com/products/unicornvr-version-3d-vr-virtual-reality-glasses",interLensDistance:.06700000166893005,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.30000001192092896,.30000001192092896],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0})],["Wearality Sky 0.1",new o.CardboardViewer({id:"Wearality Sky 0.1",label:"Wearality Sky 0.1",url:"http://www.wearality.com/wearalitysky/",interLensDistance:.06599999964237213,screenLensDistance:.029999999329447746,fov:75,baselineLensDistance:.03500000014901161,distortionCoefficients:[.11999999731779099,.15000000596046448],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0})],["2VR Stimuli VR",new o.CardboardViewer({id:"2VR Stimuli VR",label:"2VR Stimuli VR",url:"http://www.stimuli.us/",interLensDistance:.06300000101327896,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.03200000151991844,distortionCoefficients:[.0010000000474974513,.0010000000474974513],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["ZeissVROne",new o.CardboardViewer({id:"ZeissVROne",label:"Zeiss VR One",url:"http://vrone.us/",interLensDistance:.06199999898672104,screenLensDistance:.03700000047683716,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.10000000149011612,1],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["ZeissVROnePlus",new o.CardboardViewer({id:"ZeissVROnePlus",label:"Zeiss VR One Plus",url:"http://vrone.us/",interLensDistance:.06199999898672104,screenLensDistance:.03700000047683716,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.10000000149011612,1],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Zebronics IHUAQI VR",new o.CardboardViewer({id:"Zebronics IHUAQI VR",label:"Zebronics IHUAQ IVR",url:"https://zebronics.com/products/vr-headset/zeb-vr",interLensDistance:.057999998331069946,screenLensDistance:.06499999761581421,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,.029999999329447746],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["YK14 VR Glasses",new o.CardboardViewer({id:"YK14 VR Glasses",label:"YK14 VR Glasses",url:"https://www.virtual-reality-shop.co.uk/yk14-vr-glasses/",interLensDistance:.054999999701976776,screenLensDistance:.05999999865889549,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Yay 3D Nexus7",new o.CardboardViewer({id:"Yay 3D Nexus7",label:"Yay 3D Nexus7",url:"http://www.yay3d.com/",interLensDistance:.07000000029802322,screenLensDistance:.05000000074505806,fov:55,baselineLensDistance:.05000000074505806,distortionCoefficients:[.44999998807907104,0],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Xiaomi VR",new o.CardboardViewer({id:"Xiaomi VR",label:"Xiaomi VR",url:"http://www.mi.com/mivr/?cfrom=search",interLensDistance:.05999999865889549,screenLensDistance:.06499999761581421,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Vrizzmo Revolt",new o.CardboardViewer({id:"Vrizzmo Revolt",label:"Vrizzmo Revolt",url:"https://www.vrizzmo.com/",interLensDistance:.06199999898672104,screenLensDistance:.03478889912366867,fov:73.28800201416016,baselineLensDistance:.03500000014901161,distortionCoefficients:[.1026500016450882,.9568099975585938],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Ritech VRGO",new o.CardboardViewer({id:"Ritech VRGO",label:"Ritech VRGO",url:"http://www.ritech3d.com/vrgo",interLensDistance:.06700000166893005,screenLensDistance:.03500000014901161,fov:60,baselineLensDistance:.04100000113248825,distortionCoefficients:[.05000000074505806,.05000000074505806],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Viotek Spectre",new o.CardboardViewer({id:"Viotek Spectre",label:"Viotek Spectre",url:"http://www.ritech3d.com/vrgo",interLensDistance:.06700000166893005,screenLensDistance:.03500000014901161,fov:60,baselineLensDistance:.04100000113248825,distortionCoefficients:[.05000000074505806,.05000000074505806],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Pro HT 360°VR",new o.CardboardViewer({id:"Pro HT 360°VR",label:"Pro HT 360°VR",url:"https://www.virtual-reality-shop.co.uk/vr-world-3d/",interLensDistance:.054999999701976776,screenLensDistance:.05000000074505806,fov:100,baselineLensDistance:.03500000014901161,distortionCoefficients:[.23999999463558197,-.07000000029802322],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["ANSIO VR World 5thGen",new o.CardboardViewer({id:"ANSIO VR World 5thGen",label:"ANSIO VR World 5thGen",url:"https://www.virtual-reality-shop.co.uk/vr-world-3d/",interLensDistance:.054999999701976776,screenLensDistance:.05000000074505806,fov:100,baselineLensDistance:.03500000014901161,distortionCoefficients:[.23999999463558197,-.07000000029802322],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Real Feel",new o.CardboardViewer({id:"VR Real Feel",label:"VR Real Feel",url:"http://www.vr-entertain.com/",interLensDistance:.05999999865889549,screenLensDistance:.06499999761581421,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Habor",new o.CardboardViewer({id:"Habor",label:"Habor",url:"http://www.virtualrealitytechnologyshop.com/habor-3d-vr-virtual-reality-headset-for-smartphones-for-3d-moviesgames-black/",interLensDistance:.07000000029802322,screenLensDistance:.06499999761581421,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.6399999856948853,.3400000035762787],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Park V3",new o.CardboardViewer({id:"VR Park V3",label:"VR Park V3",url:"http://www.virtualrealitytechnologyshop.com/habor-3d-vr-virtual-reality-headset-for-smartphones-for-3d-moviesgames-black/",interLensDistance:.07000000029802322,screenLensDistance:.06499999761581421,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.6399999856948853,.3400000035762787],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["MSRM-LBVR",new o.CardboardViewer({id:"MSRM-LBVR",label:"MSRM-LBVR",url:"https://www.amazon.com/MSRM-Glasses-Microsoft-3-5-6-0inches-Bluetooth/dp/B01L7B44Y8/ref=cm_cr_arp_d_product_top?ie=UTF8",interLensDistance:.07000000029802322,screenLensDistance:.06499999761581421,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.6399999856948853,.3400000035762787],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Park V1",new o.CardboardViewer({id:"VR Park V1",label:"VR Park V1",url:"http://www.pompmall.com/vr-park-v1-3d.html",interLensDistance:.05999999865889549,screenLensDistance:.07000000029802322,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[.44999998807907104,.44999998807907104],magnet:!0,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Lion Eye i7",new o.CardboardViewer({id:"VR Lion Eye i7",label:"VR Lion Eye i7",url:"https://www.amazon.com/dp/B01K6JVD64?tag=fakespot0e-20",interLensDistance:.05999999865889549,screenLensDistance:.0689999982714653,fov:50,baselineLensDistance:.04100000113248825,distortionCoefficients:[-.4300000071525574,1.899999976158142],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Kix",new o.CardboardViewer({id:"VR Kix",label:"Adaptive Designs VR KiX",url:"https://vrkix.com/",interLensDistance:.05000000074505806,screenLensDistance:.03099999949336052,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,-.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Fold Leelbox",new o.CardboardViewer({id:"VR Fold Leelbox",label:"VR Fold Leelbox",url:"https://www.virtual-reality-shop.co.uk/vr-fold/",interLensDistance:.06300000101327896,screenLensDistance:.05882380157709122,fov:63.08428192138672,baselineLensDistance:.03500000014901161,distortionCoefficients:[.03446999937295914,.3912000060081482],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Fortune Group VR Empire",new o.CardboardViewer({id:"Fortune Group VR Empire",label:"Fortune Group VR Empire",url:"http://vr3d.guide/product/vr-empire-virtual-reality-3d-glasses-headset-with-120-fov-stereo-headset-phone-answering-button-for-4-0-6-2-inch-smartphone/",interLensDistance:.06199999898672104,screenLensDistance:.03500000014901161,fov:65,baselineLensDistance:.04149999842047691,distortionCoefficients:[.6000000238418579,.6000000238418579],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Case RK6th V6",new o.CardboardViewer({id:"VR Case RK6th V6",label:"VR Case RK6th V6",url:"https://www.virtual-reality-shop.co.uk/vr-case-v6/",interLensDistance:.05999999865889549,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Case RK5th NoButton",new o.CardboardViewer({id:"VR Case RK5th NoButton",label:"VR Case RK5th NoButton",url:"https://www.gearbest.com/vr-headset/pp_343126.html",interLensDistance:.06800000369548798,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.019999999552965164,.019999999552965164],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Box",new o.CardboardViewer({id:"VR Box",label:"VR Box",interLensDistance:.06800000369548798,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.019999999552965164,.019999999552965164],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0})],["VR Case RK3 Plus",new o.CardboardViewer({id:"VR Case RK3 Plus",label:"VR Case RK3 Plus",url:"https://www.amazon.in/Virtual-Reality-Glasses-Bluetooth-Control/dp/B01E99EMDS",interLensDistance:.061000000685453415,screenLensDistance:.06199999898672104,fov:27,baselineLensDistance:.03500000014901161,distortionCoefficients:[.20000000298023224,.07999999821186066],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["MVMT VR 360",new o.CardboardViewer({id:"MVMT VR 360",label:"MVMT VR 360",url:"https://www.amazon.in/Virtual-Reality-Glasses-Bluetooth-Control/dp/B01E99EMDS",interLensDistance:.061000000685453415,screenLensDistance:.06199999898672104,fov:27,baselineLensDistance:.03500000014901161,distortionCoefficients:[.20000000298023224,.07999999821186066],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Vue FX",new o.CardboardViewer({id:"VR Vue FX",label:"VR Vue FX",url:"https://www.amazon.in/Virtual-Reality-Glasses-Bluetooth-Control/dp/B01E99EMDS",interLensDistance:.061000000685453415,screenLensDistance:.06199999898672104,fov:27,baselineLensDistance:.03500000014901161,distortionCoefficients:[.20000000298023224,.07999999821186066],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Box 2",new o.CardboardViewer({id:"VR Box 2",label:"VR Box 2",url:"http://www.umidigi.com/page-umi_index.html",interLensDistance:.06300000101327896,screenLensDistance:.06681880354881287,fov:60.0290641784668,baselineLensDistance:.03999999910593033,distortionCoefficients:[.2640700042247772,.34213000535964966],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Atill 3D VR",new o.CardboardViewer({id:"Atill 3D VR",label:"Atill 3D VR",url:"http://www.virtualrealitytechnologyshop.com/atill-3d-vr-virtual-reality-headset-3d-glasses-for-3d-movies-and-gamesfocal-and-pupil-distance-adjustable-headset-for-iphone-samsung-moto-lg-nexus-htc-blackwhite/",interLensDistance:.06300000101327896,screenLensDistance:.06681880354881287,fov:60.0290641784668,baselineLensDistance:.03999999910593033,distortionCoefficients:[.2640700042247772,.34213000535964966],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Hootoo HT-VR001",new o.CardboardViewer({id:"Hootoo HT-VR001",label:"Hootoo HT-VR001",url:"http://www.hootoo.com/ht-vr01-3d-virtual-reality-glasses.html",interLensDistance:.06300000101327896,screenLensDistance:.06681880354881287,fov:60.0290641784668,baselineLensDistance:.03999999910593033,distortionCoefficients:[.2640700042247772,.34213000535964966],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Ion VR 360",new o.CardboardViewer({id:"Ion VR 360",label:"Ion VR 360",url:"http://www.iononline.nl/ion-vr360-3d-virtual-reality-bril.html",interLensDistance:.06300000101327896,screenLensDistance:.06681880354881287,fov:60.0290641784668,baselineLensDistance:.03999999910593033,distortionCoefficients:[.2640700042247772,.34213000535964966],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Vue II",new o.CardboardViewer({id:"VR Vue II",label:"VR Vue II",url:"https://www.amazon.com/Xtreme-Vue-Virtual-Reality-Viewer/dp/B01MG1W8X2",interLensDistance:.06300000101327896,screenLensDistance:.06681880354881287,fov:60.0290641784668,baselineLensDistance:.03999999910593033,distortionCoefficients:[.2640700042247772,.34213000535964966],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Quest VR",new o.CardboardViewer({id:"Quest VR",label:"Quest VR",interLensDistance:.06300000101327896,screenLensDistance:.06681880354881287,fov:60.0290641784668,baselineLensDistance:.03999999910593033,distortionCoefficients:[.2640700042247772,.34213000535964966],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Art+Vision",new o.CardboardViewer({id:"Art+Vision",label:"Art+Vision",url:"https://www.amazon.com/Art-Vision-Virtual-Reality-Smartphones/dp/B01LMR3ZAQ",interLensDistance:.06300000101327896,screenLensDistance:.06681880354881287,fov:60.0290641784668,baselineLensDistance:.03999999910593033,distortionCoefficients:[.2640700042247772,.34213000535964966],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Vision VR",new o.CardboardViewer({id:"Vision VR",label:"Vision VR",interLensDistance:.06300000101327896,screenLensDistance:.06681880354881287,fov:60.0290641784668,baselineLensDistance:.03999999910593033,distortionCoefficients:[.2640700042247772,.34213000535964966],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Vokano Matrix",new o.CardboardViewer({id:"Vokano Matrix",label:"Vokano Matrix",url:"https://www.takealot.com/volkano-matrix-series-virtual-reality-headset/PLID41221131",interLensDistance:.06300000101327896,screenLensDistance:.06681880354881287,fov:60.0290641784668,baselineLensDistance:.03999999910593033,distortionCoefficients:[.2640700042247772,.34213000535964966],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["NeuTab",new o.CardboardViewer({id:"NeuTab",label:"NeuTab",url:"https://www.amazon.com/NeuTab-Virtual-Reality-Controller-Immersive/dp/B074F3H9M6",interLensDistance:.06300000101327896,screenLensDistance:.06681880354881287,fov:60.0290641784668,baselineLensDistance:.03999999910593033,distortionCoefficients:[.2640700042247772,.34213000535964966],
magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Denver VRC-22",new o.CardboardViewer({id:"Denver VRC-22",label:"Denver VRC-22",url:"http://www.denver-electronics.com/denver-vrc-22/",interLensDistance:.06300000101327896,screenLensDistance:.06681880354881287,fov:60.0290641784668,baselineLensDistance:.03999999910593033,distortionCoefficients:[.2640700042247772,.34213000535964966],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Boss",new o.CardboardViewer({id:"VR Boss",label:"VR Boss",url:"https://www.gearbest.com/vr-headset/pp_423475.html",interLensDistance:.05999999865889549,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.05000000074505806,distortionCoefficients:[.5099999904632568,.1599999964237213],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Vox+Z3",new o.CardboardViewer({id:"Vox+Z3",label:"Vox+Z3",url:"http://www.vox-vr.com/vox-z3-vr-virtual-reality-headset-vr-glasses.html",interLensDistance:.06499999761581421,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.18000000715255737,-.05000000074505806],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VOX+Gear Plus",new o.CardboardViewer({id:"VOX+Gear Plus",label:"VOX+Gear Plus",url:"http://www.vox-vr.com/vox-gear-plus-vr-virtual-reality-headset-vr-glasses.html",interLensDistance:.06499999761581421,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.18000000715255737,-.05000000074505806],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["EvoVR Ultra MI-VRH03",new o.CardboardViewer({id:"EvoVR Ultra MI-VRH03",label:"EvoVR Ultra MI-VRH03",url:"https://www.walmart.com/ip/Evo-VR-MI-VRH03-199-Evo-Ultra-Virtual-Reality-Headset/53585010",interLensDistance:.06499999761581421,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.18000000715255737,-.05000000074505806],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VOX+FE",new o.CardboardViewer({id:"VOX+FE",label:"VOX+FE",url:"http://vox-vr.com/",interLensDistance:.06499999761581421,screenLensDistance:.03500000014901161,fov:50,baselineLensDistance:.041999999433755875,distortionCoefficients:[.25,.25],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Vizor Gamer",new o.CardboardViewer({id:"Vizor Gamer",label:"Vizor Gamer",url:"https://www.menkind.co.uk/vizor-gamer",interLensDistance:.05999999865889549,screenLensDistance:.05999999865889549,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Visionsky VR Mini",new o.CardboardViewer({id:"Visionsky VR Mini",label:"Visionsky VR Mini",url:"https://www.amazon.com/Visionsky-Virtual-Reality-Headset-Glasses-Android/dp/B0761YV1CQ",interLensDistance:.05999999865889549,screenLensDistance:.05999999865889549,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Virtual Vizor 63mm",new o.CardboardViewer({id:"Virtual Vizor 63mm",label:"Virtual Vizor 63mm",url:"http://www.virtualvizor.com/shop_details.php?productid=2",interLensDistance:.05999999865889549,screenLensDistance:.06300000101327896,fov:50,baselineLensDistance:.035999998450279236,distortionCoefficients:[.15000000596046448,.009999999776482582],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Virtual Vizor 39mm",new o.CardboardViewer({id:"Virtual Vizor 39mm",label:"Virtua Vizor 39mm",url:"http://www.virtualvizor.com/shop_details.php?productid=1",interLensDistance:.06300000101327896,screenLensDistance:.0429919995367527,fov:48.30946350097656,baselineLensDistance:.041999999433755875,distortionCoefficients:[.3265700042247772,-.032760001718997955],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Viewbox from Evomade",new o.CardboardViewer({id:"Viewbox from Evomade",label:"Viewbox from Evomade",url:"http://evomade.com/",interLensDistance:.06199999898672104,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.4000000059604645,.15000000596046448],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["ViarBox",new o.CardboardViewer({id:"ViarBox",label:"ViarBox",url:"http://www.viarbox.eu/",interLensDistance:.06300000101327896,screenLensDistance:.0430000014603138,fov:50,baselineLensDistance:.039000000804662704,distortionCoefficients:[-.07999999821186066,.07999999821186066],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Vethien",new o.CardboardViewer({id:"Vethien",label:"Vethien",url:"https://www.gearbest.com/vr-headset/pp_347168.html",interLensDistance:.05999999865889549,screenLensDistance:.06199999898672104,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.25,.03999999910593033],magnet:!0,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["EmergeTechnologies Utopia 360",new o.CardboardViewer({id:"EmergeTechnologies Utopia 360",label:"EmergeTechnologies Utopia 360",url:"http://www.myretrak.com/vr/",interLensDistance:.05900000035762787,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Unofficial Cardboard 2.0 Plus",new o.CardboardViewer({id:"Unofficial Cardboard 2.0 Plus",label:"Unofficial Cardboard 2.0 Plus",url:"http://www.unofficialcardboard.com/",interLensDistance:.06400000303983688,screenLensDistance:.04699999839067459,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.3400000035762787,.550000011920929],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Umidigi 3D",new o.CardboardViewer({id:"Umidigi 3D",label:"Umidigi 3D",url:"http://www.umidigi.com/accessories-show.html?id=6",interLensDistance:.05999999865889549,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.30000001192092896,.30000001192092896],magnet:!0,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Box 6",new o.CardboardViewer({id:"VR Box 6",label:"VR Box 6",url:"http://www.umidigi.com/accessories-show.html?id=6",interLensDistance:.05999999865889549,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.30000001192092896,.30000001192092896],magnet:!0,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Box 3",new o.CardboardViewer({id:"VR Box 3",label:"VR Box 3",url:"http://www.umidigi.com/accessories-show.html?id=5",interLensDistance:.05999999865889549,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.30000001192092896,.30000001192092896],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!0})],["UCVR",new o.CardboardViewer({id:"UCVR",label:"UCVR",url:"https://www.gearbest.com/vr-headset/pp_327206.html",interLensDistance:.0560000017285347,screenLensDistance:.028999999165534973,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.07000000029802322,.029999999329447746],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["DomoGoggles",new o.CardboardViewer({id:"DomoGoggles",label:"DomoGoggles",url:"https://www.facebook.com/media/set/?set=a.623018187842471.1073741829.618967724914184&type=3",interLensDistance:.0560000017285347,screenLensDistance:.028999999165534973,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.07000000029802322,.029999999329447746],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Tzumi DreamVision Pro",new o.CardboardViewer({id:"Tzumi DreamVision Pro",label:"Tzumi DreamVision Pro",url:"https://www.walmart.com/ip/Tzumi-Dream-Vision-Pro-Virtual-Reality-Headset-Black-2016/169609170",interLensDistance:.05999999865889549,screenLensDistance:.04399999976158142,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,-.009999999776482582],magnet:!0,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Tzumi Dreamvision",new o.CardboardViewer({id:"Tzumi Dreamvision",label:"Tzumi Dreamvision",url:"https://www.amazon.com/Tzumi-Smartphone-Retracteable-Capability-Lightweight/dp/B01N2IEZNH",interLensDistance:.03400000184774399,screenLensDistance:.05700000002980232,fov:50,baselineLensDistance:.04127499833703041,distortionCoefficients:[-.4300000071525574,.6899999976158142],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["TT 3D viewer",new o.CardboardViewer({id:"TT 3D viewer",label:"TTInternational 3D VR Viewer",url:"http://www.3d-vr-viewer.com/cardboard/",interLensDistance:.054999999701976776,screenLensDistance:.035999998450279236,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.10000000149011612,1],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["TrueDepth 3D VR",new o.CardboardViewer({id:"TrueDepth 3D VR",label:"TrueDepth 3D VR",url:"http://truedepth3d.com/product/true-depth-3d-new-vr-infernotm-ultimate-experience-premium-virtual-reality-with-bluetooth-headphones-and-bluetooth-game-pad-compatible-with-4-6-inch-android-smartphones/",interLensDistance:.05999999865889549,screenLensDistance:.06199999898672104,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[0,0],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Teleport VR HeadsetAutonomous",new o.CardboardViewer({id:"Teleport VR HeadsetAutonomous",label:"Teleport VR HeadsetAutonomous",url:"https://www.autonomous.ai/teleport-vr-headset",interLensDistance:.06400000303983688,screenLensDistance:.039000000804662704,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.33500000834465027,.5450000166893005],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Teefan TF-VRA88003",new o.CardboardViewer({id:"Teefan TF-VRA88003",label:"Teefan TF-VRA88003",interLensDistance:.05999999865889549,screenLensDistance:.05999999865889549,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[0,0],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Teefan TF-VRA88001",new o.CardboardViewer({id:"Teefan TF-VRA88001",label:"Teefan TF-VRA88001",interLensDistance:.05999999865889549,screenLensDistance:.057999998331069946,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Teefan TF-VRA88002",new o.CardboardViewer({id:"Teefan TF-VRA88002",label:"Teefan TF-VRA88002",interLensDistance:.06199999898672104,screenLensDistance:.06700000166893005,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Sytros VR",new o.CardboardViewer({id:"Sytros VR",label:"Sytros VR",url:"http://www.sytros.com/product/sytros-vr-headset/",interLensDistance:.03999999910593033,screenLensDistance:.06400000303983688,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.009999999776482582,-.009999999776482582],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Goji VR",new o.CardboardViewer({id:"Goji VR",label:"Goji VR",url:"https://www.carphonewarehouse.com/goji/vr-headset.html#!colour=black&dealType=sf",interLensDistance:.03999999910593033,screenLensDistance:.06400000303983688,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.009999999776482582,-.009999999776482582],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Box 360",new o.CardboardViewer({id:"VR Box 360",label:"VR Box 360",interLensDistance:.03999999910593033,screenLensDistance:.06400000303983688,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.009999999776482582,-.009999999776482582],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Excelvan VR",new o.CardboardViewer({id:"Excelvan VR",label:"Excelvan VR",url:"https://www.amazon.de/Excelvan-Universal-Einstellbar-3D-Filme-Smartphone/dp/B01KV0V30O",interLensDistance:.03999999910593033,screenLensDistance:.06400000303983688,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.009999999776482582,-.009999999776482582],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["GateWay VR",new o.CardboardViewer({id:"GateWay VR",label:"GateWay VR",url:"https://www.vrstudio.ro/en/",interLensDistance:.03999999910593033,screenLensDistance:.06400000303983688,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.009999999776482582,-.009999999776482582],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Sunnypeak VRG-11600",new o.CardboardViewer({id:"Sunnypeak VRG-11600",label:"Sunnypeak VR G-11600",url:"https://www.virtual-reality-shop.co.uk/sunnypeak-vr/",interLensDistance:.05999999865889549,screenLensDistance:.06199999898672104,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Sunnypeak VRG-11400",new o.CardboardViewer({id:"Sunnypeak VRG-11400",label:"Sunnypeak VR G-11400",url:"https://www.virtual-reality-shop.co.uk/sunnypeak-vr/",interLensDistance:.05999999865889549,screenLensDistance:.05999999865889549,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[0,0],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Sunnypeak VRG-11200",new o.CardboardViewer({id:"Sunnypeak VRG-11200",label:"Sunnypeak VR G-11200",url:"https://www.virtual-reality-shop.co.uk/sunnypeak-vr/",interLensDistance:.05999999865889549,screenLensDistance:.06300000101327896,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[0,0],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Sunnypeak VRG-10200",new o.CardboardViewer({id:"Sunnypeak VRG-10200",label:"Sunnypeak VR G-10200",url:"https://www.virtual-reality-shop.co.uk/sunnypeak-vr/",interLensDistance:.05999999865889549,screenLensDistance:.05999999865889549,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[0,0],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["AVR061",new o.CardboardViewer({id:"AVR061",label:"AVR061",url:"https://www.virtual-reality-shop.co.uk/sunnypeak-vr/",interLensDistance:.05999999865889549,screenLensDistance:.05999999865889549,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[0,0],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Sunnypeak VRG-10700",new o.CardboardViewer({id:"Sunnypeak VRG-10700",label:"Sunnypeak VR G-10700",url:"https://www.virtual-reality-shop.co.uk/sunnypeak-vr/",interLensDistance:.05999999865889549,screenLensDistance:.05999999865889549,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Xtreme Virtual Reality Viewer",new o.CardboardViewer({id:"Xtreme Virtual Reality Viewer",label:"Xtreme Virtual Reality Viewer",url:"https://www.virtual-reality-shop.co.uk/sunnypeak-vr/",interLensDistance:.05999999865889549,screenLensDistance:.05999999865889549,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["StarLight VR",new o.CardboardViewer({id:"StarLight VR",label:"StarLight VR",url:"http://www.starlightvr.com/",interLensDistance:.06300000101327896,screenLensDistance:.06616640090942383,fov:60.27174758911133,baselineLensDistance:.03500000014901161,distortionCoefficients:[.2966899871826172,.3743399977684021],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Sunnypeak VR",new o.CardboardViewer({id:"Sunnypeak VR",label:"Sunnypeak VR",url:"https://www.virtual-reality-shop.co.uk/sunnypeak-vr/",interLensDistance:.06300000101327896,screenLensDistance:.06616640090942383,fov:60.27174758911133,baselineLensDistance:.03500000014901161,distortionCoefficients:[.2966899871826172,.3743399977684021],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Archos",new o.CardboardViewer({id:"Archos",label:"Archos",url:"https://www.archos.com/us/products/objects/cself/avr/index.html",interLensDistance:.06300000101327896,screenLensDistance:.06616640090942383,fov:60.27174758911133,baselineLensDistance:.03500000014901161,distortionCoefficients:[.2966899871826172,.3743399977684021],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["ColorCross",new o.CardboardViewer({id:"ColorCross",label:"ColorCross VR",url:"https://www.archos.com/us/products/objects/cself/avr/index.html",interLensDistance:.06300000101327896,screenLensDistance:.06616640090942383,fov:60.27174758911133,baselineLensDistance:.03500000014901161,distortionCoefficients:[.2966899871826172,.3743399977684021],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Sunnypeak VR G-12100",new o.CardboardViewer({id:"Sunnypeak VR G-12100",label:"Sunnypeak VR G-12100",url:"https://www.virtual-reality-shop.co.uk/sunnypeak-vr/",interLensDistance:.07500000298023224,screenLensDistance:.04600000008940697,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[.5,.5],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Sunnypeak VRG-11100",new o.CardboardViewer({id:"Sunnypeak VRG-11100",label:"Sunnypeak VR G-11100",url:"https://www.virtual-reality-shop.co.uk/sunnypeak-vr/",interLensDistance:.06199999898672104,screenLensDistance:.06700000166893005,fov:50,baselineLensDistance:.04500000178813934,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Taffware",new o.CardboardViewer({id:"Taffware",label:"Taffware",url:"https://www.virtual-reality-shop.co.uk/sunnypeak-vr/",interLensDistance:.06199999898672104,screenLensDistance:.06700000166893005,fov:50,baselineLensDistance:.04500000178813934,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["BrevisStooksy VR-Spektiv iP6+",new o.CardboardViewer({id:"BrevisStooksy VR-Spektiv iP6+",label:"BrevisStooksy VR-Spektiv iP6+",url:"https://www.stooksy.com/VR-Spektiv/",interLensDistance:.05999999865889549,screenLensDistance:.06800000369548798,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["BrevisStooksy VR-Spektiv XL",new o.CardboardViewer({id:"BrevisStooksy VR-Spektiv XL",label:"BrevisStooksy VR-Spektiv XL",url:"https://www.stooksy.com/VR-Spektiv/",interLensDistance:.05999999865889549,screenLensDistance:.06800000369548798,fov:50,baselineLensDistance:.03400000184774399,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["BrevisStooksky VR-Spektiv",new o.CardboardViewer({id:"BrevisStooksky VR-Spektiv",label:"BrevisStooksky VR-Spektiv",url:"https://www.stooksy.com/VR-Spektiv/",interLensDistance:.05999999865889549,screenLensDistance:.06800000369548798,fov:50,baselineLensDistance:.03400000184774399,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Starmo VR",new o.CardboardViewer({id:"Starmo VR",label:"Starmo VR",url:"https://www.amazon.co.uk/STARMO-Glasses-Headset-Adjustable-Smartphone/dp/B01GQFZ3VI",interLensDistance:.032999999821186066,screenLensDistance:.04600000008940697,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.019999999552965164,-.10999999940395355],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Soyan",new o.CardboardViewer({id:"Soyan",label:"Soyan VR",url:"https://www.mymemory.com/soyan-universal-vr-3d-smartphone-headset.html",interLensDistance:.050999999046325684,screenLensDistance:.02500000037252903,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[0,-.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Snail VR",new o.CardboardViewer({id:"Snail VR",label:"Snail VR",url:"https://www.gearbest.com/home-gadgets/pp_193396.html",interLensDistance:.04399999976158142,screenLensDistance:.04100000113248825,fov:50,baselineLensDistance:.03700000047683716,distortionCoefficients:[.10999999940395355,-.05999999865889549],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Silmien VR",new o.CardboardViewer({id:"Silmien VR",label:"Silmien VR",url:"https://www.amazon.com/SILMIEN-Replaceable-Near-Sighted-Adjustable-Separately/dp/B06ZZQTP3F",interLensDistance:.07000000029802322,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.25,.25],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Shinecon Y005",new o.CardboardViewer({id:"VR Shinecon Y005",label:"Shinecon Y005",url:"http://www.shinecon.com/",interLensDistance:.05999999865889549,screenLensDistance:.050999999046325684,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,-.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Shinecon Y003",new o.CardboardViewer({id:"VR Shinecon Y003",label:"Shinecon Y003",url:"http://www.shinecon.com/",interLensDistance:.054999999701976776,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,-.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Shinecon UA03",new o.CardboardViewer({id:"VR Shinecon UA03",label:"Shinecon UA03",url:"http://www.shinecon.com/",interLensDistance:.05999999865889549,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Shinecon 4",new o.CardboardViewer({id:"VR Shinecon 4",label:"Shinecon G04",url:"http://www.shinecon.com/",interLensDistance:.05999999865889549,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["VR Shinecon 2",new o.CardboardViewer({id:"VR Shinecon 2",label:"Shinecon G02",url:"http://www.shinecon.com/",interLensDistance:.05999999865889549,screenLensDistance:.03700000047683716,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.11999999731779099,.14000000059604645],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Fiit VR 2N",new o.CardboardViewer({id:"Fiit VR 2N",label:"Fiit VR 2N",url:"http://www.fiitvr.com/pro2n.html",interLensDistance:.05999999865889549,screenLensDistance:.03700000047683716,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.11999999731779099,.14000000059604645],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Rohs VR Glasses",new o.CardboardViewer({id:"Rohs VR Glasses",label:"Rohs VR Glasses",url:"https://www.virtual-reality-shop.co.uk/rohs-vr-glasses/",interLensDistance:.05999999865889549,screenLensDistance:.07000000029802322,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Ritech VMAX",new o.CardboardViewer({id:"Ritech VMAX",label:"Ritech VMAX",url:"http://www.ritech3d.com/vmax",interLensDistance:.0689999982714653,screenLensDistance:.06300000101327896,fov:50,baselineLensDistance:.041999999433755875,distortionCoefficients:[.09000000357627869,-.09000000357627869],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Ritech Riem 3 Plus",new o.CardboardViewer({id:"Ritech Riem 3 Plus",label:"Ritech Riem 3 Plus",url:"http://www.ritech3d.com/yk3plus",interLensDistance:.0689999982714653,screenLensDistance:.05900000035762787,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.10000000149011612,.10000000149011612],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Ritech Riem 3",new o.CardboardViewer({id:"Ritech Riem 3",label:"Ritech Riem 3",url:"https://www.ritech.co/",interLensDistance:.05999999865889549,screenLensDistance:.06499999761581421,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.3400000035762787,.23999999463558197],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Magicoo",new o.CardboardViewer({id:"Magicoo",label:"Magicoo",url:"https://www.gearbest.com/vr-headset/pp_275153.html",interLensDistance:.05999999865889549,screenLensDistance:.06499999761581421,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.3400000035762787,.23999999463558197],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Topmaxions",new o.CardboardViewer({id:"Topmaxions",label:"Topmaxions",url:"https://www.gearbest.com/vr-headset/pp_275153.html",interLensDistance:.05999999865889549,screenLensDistance:.06499999761581421,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.3400000035762787,.23999999463558197],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Ritech Riem 2",new o.CardboardViewer({id:"Ritech Riem 2",label:"Ritech Riem 2",url:"https://www.ritech.co/",interLensDistance:.06199999898672104,screenLensDistance:.04800000041723251,fov:68,baselineLensDistance:.03500000014901161,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Refugio3D L-Version",new o.CardboardViewer({id:"Refugio3D L-Version",label:"Refugio 3D L-Version",url:"http://www.refugio3d.net/",interLensDistance:.05299999937415123,screenLensDistance:.029999999329447746,fov:50,baselineLensDistance:.03400000184774399,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Qualiview VR",new o.CardboardViewer({id:"Qualiview VR",label:"Qualiview VR",url:"https://www.qualiview.nl/",interLensDistance:.05999999865889549,screenLensDistance:.050999999046325684,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Procus VR Pop-Tech",new o.CardboardViewer({id:"Procus VR Pop-Tech",label:"Procus VR Pop-Tech",url:"http://www.procusvr.com/",interLensDistance:.06199999898672104,screenLensDistance:.05999999865889549,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.36000001430511475,.36000001430511475],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Polaroid VR",new o.CardboardViewer({id:"Polaroid VR",label:"Polaroid VR",url:"https://www.amazon.de/Polaroid-9133-Virtual-Reality-Headset-multi/dp/B01M6UOHBL",interLensDistance:.05770000070333481,screenLensDistance:.04899999871850014,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.07999999821186066,.12999999523162842],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["IrusuTechnologies Play VR",new o.CardboardViewer({id:"IrusuTechnologies Play VR",label:"IrusuTechnologies Play VR",url:"http://irusu.co.in/product/player-headset/",interLensDistance:.05999999865889549,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.035999998450279236,distortionCoefficients:[.09000000357627869,.07000000029802322],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Planet VR Box",new o.CardboardViewer({id:"Planet VR Box",label:"Planet VR Box",url:"http://planetvr.ru/google-cardboard-kupit/google-cardboard-pvr-box-graphical.html",interLensDistance:.06300000101327896,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.10999999940395355,.03999999910593033],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Oxygen DRB-2012",new o.CardboardViewer({id:"Oxygen DRB-2012",label:"Oxygen DRB-2012",interLensDistance:.041999999433755875,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.035999998450279236,distortionCoefficients:[.03999999910593033,.05000000074505806],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["NRK Monster VR",new o.CardboardViewer({id:"NRK Monster VR",label:"NRK Monster VR",url:"http://www.monstervr.com/",interLensDistance:.041999999433755875,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.035999998450279236,distortionCoefficients:[.03999999910593033,.05000000074505806],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Owl V2 VR",new o.CardboardViewer({id:"Owl V2 VR",label:"Owl V2 VR",url:"http://www.owlvr.com/",interLensDistance:.06400000303983688,screenLensDistance:.039000000804662704,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.3400000035762787,.550000011920929],magnet:!1,primaryButton:3,
vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["OWL VR",new o.CardboardViewer({id:"OWL VR",label:"Owl VR",url:"http://www.owlvr.com/",interLensDistance:.05700000002980232,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.46000000834465027,.23000000417232513],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Onn VR",new o.CardboardViewer({id:"Onn VR",label:"Onn VR",interLensDistance:.029999999329447746,screenLensDistance:.019999999552965164,fov:50,baselineLensDistance:.02500000037252903,distortionCoefficients:[.5,.5],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Dreamcore OnePlus Loop VR[52.0/64.5]v1",new o.CardboardViewer({id:"Dreamcore OnePlus Loop VR[52.0/64.5]v1",label:"Dreamcore OnePlus Loop VR v1",url:"https://oneplus.net/oneplus-loop-vr",interLensDistance:.06449999660253525,screenLensDistance:.052000001072883606,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.10499999672174454,.25999999046325684],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["OnePlus Cardboard v1.1",new o.CardboardViewer({id:"OnePlus Cardboard v1.1",label:"OnePlus Cardboard v1.1",url:"https://oneplus.net/de/cardboard",interLensDistance:.05999999865889549,screenLensDistance:.03500000014901161,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[0,0],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Nextcore Noon VR Pro",new o.CardboardViewer({id:"Nextcore Noon VR Pro",label:"Nextcore Noon VR Pro",url:"https://www.noonvr.com/en/view/product_pro",interLensDistance:.06199999898672104,screenLensDistance:.03500000014901161,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.14000000059604645,.14000000059604645],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["NoonVR",new o.CardboardViewer({id:"NoonVR",label:"Nextcore Noon VR",url:"http://www.noonvr.com/",interLensDistance:.06199999898672104,screenLensDistance:.03500000014901161,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.14000000059604645,.14000000059604645],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Musttrue VR Magic",new o.CardboardViewer({id:"Musttrue VR Magic",label:"Musttrue VR Magic",url:"https://www.amazon.com/Musttrue-Magnetic-Trigger-Upgraded-Children/dp/B01M0TJL0Z",interLensDistance:.05999999865889549,screenLensDistance:.05999999865889549,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Telcom MTT VR 6",new o.CardboardViewer({id:"Telcom MTT VR 6",label:"Telcom MTT VR 6",url:"https://www.mtt.co.in/products/mtt-vr-headset-glass-advanced-virtual-reality-glasses-for-smartphones-vr-glass?variant=22741518726",interLensDistance:.06499999761581421,screenLensDistance:.052000001072883606,fov:96,baselineLensDistance:.03500000014901161,distortionCoefficients:[.10000000149011612,.019999999552965164],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Victony MSRM VR",new o.CardboardViewer({id:"Victony MSRM VR",label:"Victony MSRM VR",url:"http://www.victony.com/",interLensDistance:.05999999865889549,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.04500000178813934,distortionCoefficients:[-.029999999329447746,.30000001192092896],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Just-VR - Shade",new o.CardboardViewer({id:"Just-VR - Shade",label:"Just-VR - Shade",url:"https://just-vr.com/",interLensDistance:.05999999865889549,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.04500000178813934,distortionCoefficients:[.5099999904632568,.1599999964237213],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Virtoba M6 VR",new o.CardboardViewer({id:"Virtoba M6 VR",label:"Virtoba M6 VR",url:"http://www.victony.com/",interLensDistance:.05999999865889549,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.04500000178813934,distortionCoefficients:[-.029999999329447746,.30000001192092896],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["ZBang VR",new o.CardboardViewer({id:"ZBang VR",label:"ZBang VR",url:"http://www.victony.com/",interLensDistance:.05999999865889549,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.04500000178813934,distortionCoefficients:[-.029999999329447746,.30000001192092896],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Motoraux",new o.CardboardViewer({id:"Motoraux",label:"Motoraux",interLensDistance:.06599999964237213,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.10999999940395355,.2800000011920929],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Monoprice VR Viewer",new o.CardboardViewer({id:"Monoprice VR Viewer",label:"Monoprice VR Viewer",url:"https://www.monoprice.com/product?p_id=16199",interLensDistance:.07000000029802322,screenLensDistance:.03999999910593033,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.09000000357627869,.03999999910593033],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Mona VR Mask",new o.CardboardViewer({id:"Mona VR Mask",label:"Mona VR Mask",url:"https://monavr.com/",interLensDistance:.06199999898672104,screenLensDistance:.04500000178813934,fov:55,baselineLensDistance:.03200000151991844,distortionCoefficients:[.28999999165534973,-.05000000074505806],magnet:!0,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Moke VR",new o.CardboardViewer({id:"Moke VR",label:"Moke VR",url:"https://www.gearbest.com/vr-headset/pp_657887.html",interLensDistance:.05999999865889549,screenLensDistance:.05999999865889549,fov:50,baselineLensDistance:.05000000074505806,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Modecom FreeHands MC-G3",new o.CardboardViewer({id:"Modecom FreeHands MC-G3",label:"Modecom FreeHands MC-G3",url:"http://modecom.com/en/freehands-mc-g3dc/",interLensDistance:.06199999898672104,screenLensDistance:.03799999877810478,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.25,.20000000298023224],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Merge VR",new o.CardboardViewer({id:"Merge VR",label:"Merge VR 360°",url:"http://www.mergevr.com/",interLensDistance:.06300000101327896,screenLensDistance:.039557598531246185,fov:71.1501693725586,baselineLensDistance:.02850000001490116,distortionCoefficients:[.038759998977184296,.29464998841285706],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Dodocase Memo 3D VR",new o.CardboardViewer({id:"Dodocase Memo 3D VR",label:"Dodocase Memo 3D VR",url:"https://www.amazon.de/ELEGIANT-3d-Brille-3d-Virtuelle-5-6-iPhone-Smartphone/dp/B01ET6NHG4",interLensDistance:.05999999865889549,screenLensDistance:.03956440091133118,fov:44.391510009765625,baselineLensDistance:.03799999877810478,distortionCoefficients:[.28466999530792236,.6047899723052979],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["SMART VR",new o.CardboardViewer({id:"SMART VR",label:"SMART VR",url:"https://www.dodocase.com/products/smartvr",interLensDistance:.05999999865889549,screenLensDistance:.03956440091133118,fov:44.391510009765625,baselineLensDistance:.03799999877810478,distortionCoefficients:[.28466999530792236,.6047899723052979],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["MattelView-Master VR Deluxe",new o.CardboardViewer({id:"MattelView-Master VR Deluxe",label:"MattelView-Master VR Deluxe",url:"http://www.view-master.com/",interLensDistance:.06400000303983688,screenLensDistance:.039000000804662704,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.3400000035762787,.550000011920929],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Lion VR Mini",new o.CardboardViewer({id:"Lion VR Mini",label:"Lion VR Mini",interLensDistance:.05299999937415123,screenLensDistance:.054999999701976776,fov:50,baselineLensDistance:.03200000151991844,distortionCoefficients:[.12999999523162842,.10999999940395355],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["LingVR",new o.CardboardViewer({id:"LingVR",label:"Ling VR",url:"http://lingvr.com/en/",interLensDistance:.054999999701976776,screenLensDistance:.03500000014901161,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.3199999928474426,-.019999999552965164],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Leji VR Mini",new o.CardboardViewer({id:"Leji VR Mini",label:"Leji VR Mini",url:"https://www.gearbest.com/virtual-reality/pp_366934.html",interLensDistance:.06400000303983688,screenLensDistance:.039000000804662704,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.3400000035762787,.550000011920929],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Lakento MVR",new o.CardboardViewer({id:"Lakento MVR",label:"Lakento MVR",url:"https://www.lakento.com/products/en/lakento-mvr.html",interLensDistance:.06599999964237213,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.041999999433755875,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["DOMO nHance VRC57",new o.CardboardViewer({id:"DOMO nHance VRC57",label:"DOMO nHance VRC57",url:"https://www.amazon.in/VRC57-Universal-Virtual-Reality-Headset/dp/B00X6431RQ",interLensDistance:.06599999964237213,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.041999999433755875,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["JiDome VR Glasses",new o.CardboardViewer({id:"JiDome VR Glasses",label:"JiDome VR Glasses",url:"https://www.gearbest.com/vr-headset-c_12105/vh01_jidome/",interLensDistance:.05999999865889549,screenLensDistance:.032999999821186066,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,-.009999999776482582],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Intempo Engage",new o.CardboardViewer({id:"Intempo Engage",label:"Intempo Engage",url:"https://www.amazon.co.uk/Intempo-EE1413-Virtual-Reality-Headset-White/dp/B01GI21LQK",interLensDistance:.061000000685453415,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.039000000804662704,distortionCoefficients:[.1899999976158142,.09000000357627869],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Tepoinn 3D VR",new o.CardboardViewer({id:"Tepoinn 3D VR",label:"Tepoinn 3D VR",url:"https://www.amazon.de/tepoinn-VR-Headset-verstellbare-Smartphone-schwarz/dp/B018VLZL7G",interLensDistance:.061000000685453415,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.039000000804662704,distortionCoefficients:[.1899999976158142,.09000000357627869],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Immerse VR Headset",new o.CardboardViewer({id:"Immerse VR Headset",label:"Immerse VR Headset",url:"http://www.immerseheadset.com/",interLensDistance:.054999999701976776,screenLensDistance:.05400000140070915,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.11999999731779099,.1599999964237213],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["iBlue Illusion Mask 3D",new o.CardboardViewer({id:"iBlue Illusion Mask 3D",label:"iBlue Illusion Mask 3D",url:"http://iblue.eu/",interLensDistance:.0689999982714653,screenLensDistance:.06700000166893005,fov:50,baselineLensDistance:.03400000184774399,distortionCoefficients:[.07000000029802322,.6600000262260437],magnet:!0,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["IAmCardboard Headset",new o.CardboardViewer({id:"IAmCardboard Headset",label:"IAmCardboard Headset",url:"http://www.imcardboard.com/cardboard.html",interLensDistance:.06400000303983688,screenLensDistance:.04699999839067459,fov:50,baselineLensDistance:.04500000178813934,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["IAC Giant EVA Headset",new o.CardboardViewer({id:"IAC Giant EVA Headset",label:"IAmCardboard Giant EVA Headset",url:"http://www.imcardboard.com/eva/giant-version-v2-0-eva-vr-kit-with-nfc-black.html",interLensDistance:.06400000303983688,screenLensDistance:.04699999839067459,fov:50,baselineLensDistance:.04500000178813934,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Hootoo HT-VR002",new o.CardboardViewer({id:"Hootoo HT-VR002",label:"Hootoo HT-VR002",url:"https://www.hootoo.com/",interLensDistance:.06300000101327896,screenLensDistance:.04100000113248825,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.20999999344348907,.20999999344348907],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Freefly VR",new o.CardboardViewer({id:"Freefly VR",label:"Proteus Freefly VR",url:"http://www.freeflyvr.com/",interLensDistance:.06300000101327896,screenLensDistance:.04100000113248825,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.20999999344348907,.20999999344348907],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Homido V2",new o.CardboardViewer({id:"Homido V2",label:"Homido V2",url:"http://www.homido.com/en/shop/products/homido-hmd-v2",interLensDistance:.06199999898672104,screenLensDistance:.03400000184774399,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.1899999976158142,.07999999821186066],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!0})],["Homido Mini",new o.CardboardViewer({id:"Homido Mini",label:"Homido Mini",url:"http://www.homido.com/en/mini",interLensDistance:.06430000066757202,screenLensDistance:.05017539858818054,fov:45.01373291015625,baselineLensDistance:.03240000084042549,distortionCoefficients:[.29050999879837036,.11975999921560287],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Homido Grab",new o.CardboardViewer({id:"Homido Grab",label:"Homido Grab",url:"http://www.homido.com/en/shop/products/grab",interLensDistance:.061000000685453415,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.17000000178813934,.12999999523162842],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!0})],["Homido",new o.CardboardViewer({id:"Homido",label:"Homido V1",url:"http://www.homido.com/en",interLensDistance:.05999999865889549,screenLensDistance:.04012329876422882,fov:48.34605026245117,baselineLensDistance:.037700001150369644,distortionCoefficients:[.22600999474525452,.3597399890422821],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Habor 3D Goggles",new o.CardboardViewer({id:"Habor 3D Goggles",label:"Habor 3D Goggles",url:"http://www.virtualrealitytechnologyshop.com/habor-3d-vr-virtual-reality-headset-for-smartphones-for-3d-moviesgames-black/",interLensDistance:.05999999865889549,screenLensDistance:.04399999976158142,fov:50,baselineLensDistance:.0430000014603138,distortionCoefficients:[.03999999910593033,.10999999940395355],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["CardboardV2",new o.CardboardViewer({id:"CardboardV2",label:"Cardboard 2.0",url:"http://www.imcardboard.com/eva/giant-version-v2-0-eva-vr-kit-with-nfc-black.html",interLensDistance:.05999999865889549,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.25,.25],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["CardboardV1",new o.CardboardViewer({id:"CardboardV1",label:"Cardboard 1.0",url:"http://www.imcardboard.com/cardboard.html",interLensDistance:.06400000303983688,screenLensDistance:.04699999839067459,fov:50,baselineLensDistance:.04500000178813934,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Goji G6PVR17 Cardboard",new o.CardboardViewer({id:"Goji G6PVR17 Cardboard",label:"Goji G6PVR17 Cardboard",url:"https://www.carphonewarehouse.com/goji/vr-headset.html#!colour=black&dealType=sf",interLensDistance:.06800000369548798,screenLensDistance:.039000000804662704,fov:60,baselineLensDistance:.0430000014603138,distortionCoefficients:[.699999988079071,.30000001192092896],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Gepro VR Glasses",new o.CardboardViewer({id:"Gepro VR Glasses",label:"Gepro VR Glasses",url:"https://www.gearbest.com/vr-headset/pp_469447.html",interLensDistance:.05999999865889549,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["SamsungGear VR 2016",new o.CardboardViewer({id:"SamsungGear VR 2016",label:"Samsung Gear VR 2016",url:"http://www.samsung.com/global/galaxy/wearables/gear-vr/",interLensDistance:.06300000101327896,screenLensDistance:.03991759940981865,fov:47.966121673583984,baselineLensDistance:.03500000014901161,distortionCoefficients:[.36917999386787415,-.27654001116752625,.9192699790000916,0],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!0})],["Gear VR 2015",new o.CardboardViewer({id:"Gear VR 2015",label:"Samsung Gear VR 2015",url:"http://www.samsung.com/global/galaxy/wearables/gear-vr/",interLensDistance:.05999999865889549,screenLensDistance:.04100000113248825,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.20999999344348907,.20999999344348907],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!0})],["FTLL VR",new o.CardboardViewer({id:"FTLL VR",label:"FTLL VR",url:"https://www.amazon.de/FTLL-Virtual-Reality-Headset-Samsung-black/dp/B01JZ6G8AA",interLensDistance:.05999999865889549,screenLensDistance:.07000000029802322,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[.44999998807907104,.44999998807907104],magnet:!0,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Arcci VR",new o.CardboardViewer({id:"Arcci VR",label:"Arcci VR",url:"https://www.amazon.co.uk/ARCCI-Headset-Virtual-Adjustable-Smartphone-wei/dp/B01D46TCOG",interLensDistance:.05999999865889549,screenLensDistance:.07000000029802322,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[.44999998807907104,.44999998807907104],magnet:!0,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["FlyingTiger VR Goggles",new o.CardboardViewer({id:"FlyingTiger VR Goggles",label:"FlyingTiger VR Goggles",url:"http://us.flyingtiger.com/en/vr",interLensDistance:.05999999865889549,screenLensDistance:.0430000014603138,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.18000000715255737,.9100000262260437],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["FiiT VR 3F",new o.CardboardViewer({id:"FiiT VR 3F",label:"FiiT VR 3F",url:"http://www.fiitvr.com/pro3f.html",interLensDistance:.05000000074505806,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["FiiT VR 2S",new o.CardboardViewer({id:"FiiT VR 2S",label:"FiiT VR 2S",url:"http://www.fiitvr.com/pro2s.html",interLensDistance:.05999999865889549,screenLensDistance:.03700000047683716,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.11999999731779099,.14000000059604645],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Fiit VR IGoeShopping",new o.CardboardViewer({id:"Fiit VR IGoeShopping",label:"Fiit VR IGoeShopping",url:"http://fiitvr.com/",interLensDistance:.05700000002980232,screenLensDistance:.04899999871850014,fov:50,baselineLensDistance:.039000000804662704,distortionCoefficients:[.14000000059604645,.10000000149011612],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Fibrum Pro",new o.CardboardViewer({id:"Fibrum Pro",label:"Fibrum Pro",url:"http://fibrum.com/",interLensDistance:.05999999865889549,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.5450000166893005,.5450000166893005],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Evo VR One MI-VRH02",new o.CardboardViewer({id:"Evo VR One MI-VRH02",label:"Evo VR One MI-VRH02",url:"https://www.walmart.com/ip/Evo-VR-MI-VRH03-199-Evo-Ultra-Virtual-Reality-Headset/53585010",interLensDistance:.06599999964237213,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.10999999940395355,.2800000011920929],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Evo VR MI-VRH01",new o.CardboardViewer({id:"Evo VR MI-VRH01",label:"Evo VR MI-VRH01",url:"https://www.bestbuy.com/site/evo-vr-one-virtual-reality-headset-black/5442009.p?skuId=5442009",interLensDistance:.06800000369548798,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.019999999552965164,.019999999552965164],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Evo Mega",new o.CardboardViewer({id:"Evo Mega",label:"Evo Mega",url:"https://www.amazon.com/Merkury-Innovations-Headphones-Virtual-Smartphones/dp/B01MSYR79S",interLensDistance:.06300000101327896,screenLensDistance:.04100000113248825,fov:51,baselineLensDistance:.03500000014901161,distortionCoefficients:[.019999999552965164,.019999999552965164],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Whirlpool ePerspective",new o.CardboardViewer({id:"Whirlpool ePerspective",label:"Whirlpool ePerspective",interLensDistance:.06300000101327896,screenLensDistance:.061000000685453415,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.05000000074505806,-.05999999865889549],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Durovis Dive 7",new o.CardboardViewer({id:"Durovis Dive 7",label:"Durovis Dive 7",url:"https://www.durovis.com/en/product.html?id=5",interLensDistance:.054999999701976776,screenLensDistance:.06800000369548798,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.4000000059604645,-.18000000715255737],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Durovis Dive 5",new o.CardboardViewer({id:"Durovis Dive 5",label:"Durovis Dive 5",url:"https://www.durovis.com/en/product.html?id=1",interLensDistance:.06300000101327896,screenLensDistance:.04479590058326721,fov:45.54069137573242,baselineLensDistance:.03500000014901161,distortionCoefficients:[.41385000944137573,-.01193000003695488],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Dynamic Virtual Viewer",new o.CardboardViewer({id:"Dynamic Virtual Viewer",label:"Dynamic Virtual Viewer",url:"https://www.amazon.com/Dynamic-Virtual-Viewer-Smartphone-Compatible/dp/B01EVV5XW8",interLensDistance:.035999998450279236,screenLensDistance:.05400000140070915,fov:50,baselineLensDistance:.026000000536441803,distortionCoefficients:[-.009999999776482582,-.14000000059604645],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["DSCVR",new o.CardboardViewer({id:"DSCVR",label:"IAmCardboard Dscvr",url:"http://www.imcardboard.com/dscvr.html",interLensDistance:.06355500221252441,screenLensDistance:.03969759866595268,fov:46.45320510864258,baselineLensDistance:.03500000014901161,distortionCoefficients:[.18324999511241913,.811959981918335],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["D-Scope Pro VR",new o.CardboardViewer({id:"D-Scope Pro VR",label:"D-Scope Pro VR",url:"http://ceyeapro.com/",interLensDistance:.05999999865889549,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.032999999821186066,distortionCoefficients:[.009999999776482582,-.009999999776482582],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["TheVideoRealm DreamVision Pro",new o.CardboardViewer({id:"TheVideoRealm DreamVision Pro",label:"TheVideoRealm DreamVision Pro",url:"http://www.dreamvision.net/",interLensDistance:.05999999865889549,screenLensDistance:.04399999976158142,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,-.009999999776482582],magnet:!0,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Dodocase VR v1.1",new o.CardboardViewer({id:"Dodocase VR v1.1",label:"Dodocase VR v1.1",url:"https://www.dodocasevr.com/",interLensDistance:.05999999865889549,screenLensDistance:.03799999877810478,fov:50,baselineLensDistance:.03099999949336052,distortionCoefficients:[.30000001192092896,.5699999928474426],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Destek 2016 v3",new o.CardboardViewer({id:"Destek 2016 v3",label:"DESTEK 2016 V3",url:"https://www.destekgear.com/",interLensDistance:.06499999761581421,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[-.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Destek 2017 v4",new o.CardboardViewer({id:"Destek 2017 v4",label:"DESTEK 2017 V4",url:"https://www.destekgear.com/destek-v4-vr-headset-w-controller",interLensDistance:.0611969493329525,screenLensDistance:.04788984730839729,fov:33.84120178222656,baselineLensDistance:.03500000014901161,distortionCoefficients:[0,.28158679604530334],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Deepoon Kankan V2Y",new o.CardboardViewer({id:"Deepoon Kankan V2Y",label:"Deepoon Kankan V2Y",url:"http://en.deepoon.com/kankan.html",interLensDistance:.05999999865889549,screenLensDistance:.03999999910593033,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[-.25999999046325684,.8399999737739563],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["DeePoon V3",new o.CardboardViewer({id:"DeePoon V3",label:"DeePoon V3",url:"http://en.deepoon.com/",interLensDistance:.06400000303983688,screenLensDistance:.029999999329447746,fov:50,baselineLensDistance:.041999999433755875,distortionCoefficients:[-.009999999776482582,0],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Defairy VRSH020",new o.CardboardViewer({id:"Defairy VRSH020",label:"Defairy VR SH020",url:"https://www.amazon.de/DEFAIRY-Virtual-Cardboard-Verstellbarkeit-Bluetooth/dp/B0188MHU0O",interLensDistance:.06199999898672104,screenLensDistance:.06700000166893005,fov:50,baselineLensDistance:.041999999433755875,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Daydream View",new o.CardboardViewer({id:"Daydream View",label:"Daydream View",url:"https://vr.google.com/daydream/headset/",interLensDistance:.06499999761581421,screenLensDistance:.03999999910593033,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.5,.10000000149011612],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Cynoculars",new o.CardboardViewer({id:"Cynoculars",label:"Cynoculars",url:"http://cynoculars.com/",interLensDistance:.05999999865889549,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.03400000184774399,distortionCoefficients:[-.019999999552965164,-.019999999552965164],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Converge VR DK3",new o.CardboardViewer({id:"Converge VR DK3",label:"Converge VR DK3",url:"http://www.convergevr.com/product/converge-vr-dk3/",interLensDistance:.06400000303983688,screenLensDistance:.04100000113248825,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[.20999999344348907,.20999999344348907],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Cobra VR",new o.CardboardViewer({id:"Cobra VR",label:"HandStands Cobra VR",url:"http://handstandspromo.com/ProductDetails/?productId=550648007",interLensDistance:.061000000685453415,screenLensDistance:.04399999976158142,fov:50,baselineLensDistance:.03700000047683716,distortionCoefficients:[.4779999852180481,-.20999999344348907],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["ClasOhlson Cardboard VR Viewerv1",new o.CardboardViewer({id:"ClasOhlson Cardboard VR Viewerv1",label:"ClasOhlson Cardboard VR Viewerv1",url:"http://www.clasohlson.com/fi/VR-glas%C3%B6gon-f%C3%B6r-smartphone/38-7214",interLensDistance:.05000000074505806,screenLensDistance:.03799999877810478,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.1599999964237213,.05000000074505806],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Circle VR",new o.CardboardViewer({id:"Circle VR",label:"Circle VR",url:"http://www.circlect.com/circle-vr-glass.html",interLensDistance:.054999999701976776,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.5099999904632568,.1599999964237213],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Circle VR Prime",new o.CardboardViewer({
id:"Circle VR Prime",label:"Circle VR Prime",url:"http://www.circlect.com/circle-vr-glass.html",interLensDistance:.054999999701976776,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.5099999904632568,.1599999964237213],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Cellularline Zion VR",new o.CardboardViewer({id:"Cellularline Zion VR",label:"Cellularline Zion VR",url:"https://www.cellularline.com/xc_en/products/zion-vr-universale.html",interLensDistance:.06499999761581421,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[.019999999552965164,.019999999552965164],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["C1-Glass",new o.CardboardViewer({id:"C1-Glass",label:"GoggleTech C1-Glass",url:"http://goggletech.net/",interLensDistance:.05999999865889549,screenLensDistance:.05833449959754944,fov:63.276981353759766,baselineLensDistance:.03500000014901161,distortionCoefficients:[.263949990272522,.06370999664068222],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["BoxGlass",new o.CardboardViewer({id:"BoxGlass",label:"BoxGlass v1.0",url:"http://boxglass.ru/",interLensDistance:.06300000101327896,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.035999998450279236,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["BoboVR Z5",new o.CardboardViewer({id:"BoboVR Z5",label:"Bobo VR Z5",url:"http://www.bobovr.com/product/bobovrz5/",interLensDistance:.05999999865889549,screenLensDistance:.03500000014901161,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[.6000000238418579,.6000000238418579],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["BoboVR Z3",new o.CardboardViewer({id:"BoboVR Z3",label:"Bobo VR Z3",url:"http://www.bobovr.com/product/bobovrz3/",interLensDistance:.06599999964237213,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.10999999940395355,.2800000011920929],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Stark VR Pro Retina",new o.CardboardViewer({id:"Stark VR Pro Retina",label:"Stark VR Pro Retina",url:"https://www.starkvrpro.com/",interLensDistance:.06599999964237213,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.10999999940395355,.2800000011920929],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Vision VR 360",new o.CardboardViewer({id:"Vision VR 360",label:"Vision VR 360",url:"http://www.bobovr.com/product/bobovrz3/",interLensDistance:.06599999964237213,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.10999999940395355,.2800000011920929],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Evo VR MI-VRH02",new o.CardboardViewer({id:"Evo VR MI-VRH02",label:"Evo VR MI-VRH02",url:"http://www.bobovr.com/product/bobovrz3/",interLensDistance:.06599999964237213,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.10999999940395355,.2800000011920929],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["BMW-Mini Cardboard",new o.CardboardViewer({id:"BMW-Mini Cardboard",label:"BMW-Mini Cardboard",url:"http://www.mini.com/360/en/index.html",interLensDistance:.05999999865889549,screenLensDistance:.05000000074505806,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.7799999713897705,.4399999976158142],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["BlitzWolf BW-VR3v6",new o.CardboardViewer({id:"BlitzWolf BW-VR3v6",label:"BlitzWolf BW-VR3v6",url:"http://www.blitzwolf.com/BlitzWolf-BW-VR3-3D-VR-Glasses-Virtual-Reality-Headset-For-3.5-6.3-inch-Mobile-Phone-p-119.html",interLensDistance:.06300000101327896,screenLensDistance:.03700000047683716,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.012000000104308128,.014000000432133675],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["BlitzWolf",new o.CardboardViewer({id:"BlitzWolf",label:"BlitzWolf",url:"http://www.blitzwolf.com/BlitzWolf-Virtual-Reality-3D-Movies-Games-Glasses-Google-Cardboard-Upgraded-Version-for-3.5-to-6.0-inch-Android-Samsung-Galaxy-Note,-IOS-iPhone-6-6s-Plus-p-41.html",interLensDistance:.05999999865889549,screenLensDistance:.06199999898672104,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.25,.03999999910593033],magnet:!0,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Shinecon 3D VR Headset",new o.CardboardViewer({id:"Shinecon 3D VR Headset",label:"Shinecon VR G01",url:"http://www.shinecon.com/vr-glasses/vr-glasses-for-mobile-phone/vr-shinecon-g01-classical-design-immersive-3d.html",interLensDistance:.05999999865889549,screenLensDistance:.06199999898672104,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.25,.03999999910593033],magnet:!0,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Baofeng Mojing XM",new o.CardboardViewer({id:"Baofeng Mojing XM",label:"Baofeng Mojing XMD",url:"http://www.mojing.cn/product_1000030.html",interLensDistance:.05999999865889549,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.035999998450279236,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Baofeng Mojing XD",new o.CardboardViewer({id:"Baofeng Mojing XD",label:"Baofeng Mojing XD",url:"http://www.mojing.cn/product_1000030.html",interLensDistance:.05999999865889549,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.035999998450279236,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Baofeng Mojing S1",new o.CardboardViewer({id:"Baofeng Mojing S1",label:"Baofeng Mojing S1",url:"http://www.mojing.cn/product_1000041.html",interLensDistance:.05999999865889549,screenLensDistance:.03999999910593033,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Baofeng Mojing Q",new o.CardboardViewer({id:"Baofeng Mojing Q",label:"Baofeng Mojing Q",url:"http://www.mojing.cn/product_1000042.html",interLensDistance:.05999999865889549,screenLensDistance:.04100000113248825,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,-.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Baofeng Mojing 3",new o.CardboardViewer({id:"Baofeng Mojing 3",label:"Baofeng Mojing 3",url:"http://www.mojing.cn/product_1000018.html",interLensDistance:.05999999865889549,screenLensDistance:.029999999329447746,fov:75,baselineLensDistance:.03700000047683716,distortionCoefficients:[.07000000029802322,.15000000596046448],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Baofeng Mojing 2",new o.CardboardViewer({id:"Baofeng Mojing 2",label:"Baofeng Mojing 2",url:"http://www.mojing.cn/",interLensDistance:.06300000101327896,screenLensDistance:.06923790276050568,fov:59.139488220214844,baselineLensDistance:.039500001817941666,distortionCoefficients:[.052480001002550125,.10796999931335449],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Baofeng Small Mojing",new o.CardboardViewer({id:"Baofeng Small Mojing",label:"Baofeng Small Mojing",url:"http://www.mojing.cn/product_1000013.html",interLensDistance:.06300000101327896,screenLensDistance:.05827660113573074,fov:63.299827575683594,baselineLensDistance:.03500000014901161,distortionCoefficients:[.20845000445842743,.057339999824762344],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["AZ360 VR",new o.CardboardViewer({id:"AZ360 VR",label:"AZ360 VR",url:"https://tv.azpm.org/arizona360/",interLensDistance:.057999998331069946,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.20000000298023224,.6100000143051147],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Aura VR Go",new o.CardboardViewer({id:"Aura VR Go",label:"Aura VR Go",url:"http://auravr.com/",interLensDistance:.05999999865889549,screenLensDistance:.03999999910593033,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Baofeng Small Mojing",new o.CardboardViewer({id:"Baofeng Small Mojing",label:"Baofeng Small Mojing",url:"http://www.mojing.cn/product_1000013.html",interLensDistance:.06499999761581421,screenLensDistance:.054999999701976776,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[.15000000596046448,.2199999988079071],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0})],["Baofeng Mojing 3",new o.CardboardViewer({id:"Baofeng Mojing 3",label:"Baofeng Mojing",url:"http://www.mojing.cn/product_1000018.html",interLensDistance:.05999999865889549,screenLensDistance:.029999999329447746,fov:75,baselineLensDistance:.03700000047683716,distortionCoefficients:[.07000000029802322,.15000000596046448],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0})],["Baofeng Mojing 4",new o.CardboardViewer({id:"Baofeng Mojing 4",label:"Baofeng Mojing 4",url:"http://www.mojing.cn/product_1000023.html",interLensDistance:.0560000017285347,screenLensDistance:.06300000101327896,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.6100000143051147,1.1299999952316284],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0})],["Aura VR",new o.CardboardViewer({id:"Aura VR",label:"Aura VR",url:"http://auravr.com/",interLensDistance:.05999999865889549,screenLensDistance:.03999999910593033,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Aura VR v2",new o.CardboardViewer({id:"Aura VR v2",label:"Aura VRv2",url:"http://auravr.com/",interLensDistance:.05999999865889549,screenLensDistance:.03999999910593033,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Arunners",new o.CardboardViewer({id:"Arunners",label:"Arunners",url:"http://www.incredisonic.com/",interLensDistance:.06499999761581421,screenLensDistance:.07999999821186066,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[.019999999552965164,.019999999552965164],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["IncrediSonic M700 VUE Series VR Glasses",new o.CardboardViewer({id:"IncrediSonic M700 VUE Series VR Glasses",label:"IncrediSonic M700 VUE Series VR Glasses",url:"http://www.incredisonic.com/",interLensDistance:.06499999761581421,screenLensDistance:.07999999821186066,fov:50,baselineLensDistance:.03999999910593033,distortionCoefficients:[.019999999552965164,.019999999552965164],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Virtoba X5",new o.CardboardViewer({id:"Virtoba X5",label:"Virtoba X5",url:"http://www.bobovr.com/product/bobovrz4/",interLensDistance:.06277000159025192,screenLensDistance:.040980901569128036,fov:47.25382995605469,baselineLensDistance:.03500000014901161,distortionCoefficients:[.3406600058078766,-.09816999733448029],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Archos VR Glasses 2",new o.CardboardViewer({id:"Archos VR Glasses 2",label:"Archos VR Glasses 2",url:"https://www.archos.com/us/products/objects/cself/avr2/index.html",interLensDistance:.06277000159025192,screenLensDistance:.040980901569128036,fov:47.25382995605469,baselineLensDistance:.03500000014901161,distortionCoefficients:[.3406600058078766,-.09816999733448029],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["BoboVR Z4",new o.CardboardViewer({id:"BoboVR Z4",label:"Bobo VR Z4",url:"http://www.bobovr.com/product/bobovrz4/",interLensDistance:.06277000159025192,screenLensDistance:.040980901569128036,fov:47.25382995605469,baselineLensDistance:.03500000014901161,distortionCoefficients:[.3406600058078766,-.09816999733448029],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["BoboVR",new o.CardboardViewer({id:"BoboVR",label:"Bobo VR",url:"http://www.bobovr.com/",interLensDistance:.06277000159025192,screenLensDistance:.040980901569128036,fov:47.25382995605469,baselineLensDistance:.03500000014901161,distortionCoefficients:[.3406600058078766,-.09816999733448029],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["JetRockIndustrial Archgon VRock Portable",new o.CardboardViewer({id:"JetRockIndustrial Archgon VRock Portable",label:"JetRockIndustrial Archgon VRock Portable",url:"https://www.amazon.com/Archgon-Portable-Virtual-Foldable-6S-Black/dp/B01D4HVC6G",interLensDistance:.05999999865889549,screenLensDistance:.052000001072883606,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.15000000596046448,.15000000596046448],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Ant VR",new o.CardboardViewer({id:"Ant VR",label:"Ant VR",url:"http://www.antvr.com/",interLensDistance:.06332500278949738,screenLensDistance:.04832259938120842,fov:67.36170959472656,baselineLensDistance:.03500000014901161,distortionCoefficients:[.04938000068068504,.07039999961853027],magnet:!1,primaryButton:2,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Aluminium 120 VR",new o.CardboardViewer({id:"Aluminium 120 VR",label:"Aluminium 120 VR",url:"https://www.virtual-reality-shop.co.uk/aluminium-120-vr/",interLensDistance:.06499999761581421,screenLensDistance:.04899999871850014,fov:50,baselineLensDistance:.029999999329447746,distortionCoefficients:[.5099999904632568,.16009999811649323],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Alian Cardboard v1.1",new o.CardboardViewer({id:"Alian Cardboard v1.1",label:"Alian Cardboard v1.1",url:"http://aliancardboard.com/",interLensDistance:.06300000101327896,screenLensDistance:.027000000700354576,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[0,0],magnet:!0,primaryButton:1,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Xiaomi VR Play 2",new o.CardboardViewer({id:"Xiaomi VR Play 2",label:"Xiaomi VR Play 2",thumb:"http://www.hypergridbusiness.com/wp-content/uploads/2017/03/Xiaomi-Play-2-square.jpg",interLensDistance:.05999999865889549,screenLensDistance:.041999999433755875,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,-.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["XG VR Xingear",new o.CardboardViewer({id:"XG VR Xingear",label:"XG VR Xingear",thumb:"http://www.hypergridbusiness.com/wp-content/uploads/2016/01/XG-VR-Xingear-headset.jpg",interLensDistance:.06300000101327896,screenLensDistance:.03999999910593033,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.27000001072883606,.27000001072883606],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Windup VR",new o.CardboardViewer({id:"Windup VR",label:"Windup VR",thumb:"http://www.hypergridbusiness.com/wp-content/uploads/2015/10/Windup-VR-square.jpg",interLensDistance:.06499999761581421,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.029999999329447746,-.009999999776482582],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Weebo3D",new o.CardboardViewer({id:"Weebo3D",label:"Weebo3D",thumb:"http://www.hypergridbusiness.com/wp-content/uploads/2015/10/Weebo3D.jpg",interLensDistance:.06199999898672104,screenLensDistance:.04500000178813934,fov:50,baselineLensDistance:.03400000184774399,distortionCoefficients:[.25,.18000000715255737],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["4smarts VR Glasses",new o.CardboardViewer({id:"4smarts VR Glasses",label:"4smarts VR Glasses",thumb:"http://www.hypergridbusiness.com/wp-content/uploads/2015/10/4smarts-VR-Glasses-square.jpg",interLensDistance:.06499999761581421,screenLensDistance:.052000001072883606,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["Alcatel VR15",new o.CardboardViewer({id:"Alcatel VR15",label:"Alcatel VR15",thumb:"http://www.hypergridbusiness.com/wp- content/uploads/2015/10/Alcatel-IDOL-4-VR-Headset-1.jpg",interLensDistance:.05999999865889549,screenLensDistance:.03999999910593033,fov:50,baselineLensDistance:.03799999877810478,distortionCoefficients:[.5099999904632568,.1599999964237213],magnet:!1,primaryButton:3,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})],["XiaomoVR",new o.CardboardViewer({id:"XiaomoVR",label:"XiaomoVR",thumb:"http://www.hypergridbusiness.com/wp-content/uploads/2015/10/Xiaomovr-square.jpg",interLensDistance:.05999999865889549,screenLensDistance:.06499999761581421,fov:50,baselineLensDistance:.03500000014901161,distortionCoefficients:[.009999999776482582,.009999999776482582],magnet:!1,primaryButton:0,vignettingStrength:0,chromaticAberrationStrength:0,overlap:0,phoneFixed:!1})]])},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Effect=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(9),A=n(43),g=n(7),v=n(141),y=n(42),b=n(11),E=n(65),w=n(132),S=n(133),T=n(136),x=n(137),C=n(135),M=n(29),P=n(143),I=!0,R=[],k=new Float32Array(4096);t.Effect=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._shaderDescription=e.shader,n._onConfigure=e.onConfigure,n._vShader=null,n._fShader=null,n._paramAttributes=null,n._activeTexUnits=0,n._shaderProgram=null,n._loading=!1,n._params={},n._paramSetterHolder={},n._textures={},n._curVShaderXHR=null,n._curFShaderXHR=null,n._shaderDescLoaded=!1,n._featureOrder=[],n._features=null,n._unitHolder=[],n._vrActiveUniforms=[],n._vrActiveTextureUniforms=[],n._vrMonoOverride=!1,n._states={alphaState:new w.AlphaState,cullState:new S.CullState,stencilState:new T.StencilState,zBufferState:new x.ZBufferState,polygonOffsetState:new C.PolygonOffsetState},n._tmpArr=[],n._errorState=null,n._initShaderFromDescription(),n}return(0,p.default)(t,e),(0,f.default)(t,null,[{key:"_isValidShaderDesc",value:function(e){return!(!e.hasOwnProperty("vertexShader")||!e.hasOwnProperty("fragmentShader"))}},{key:"_throwIncompatibleShaderError",value:function(e){throw new Error("Incompatible Shader params for uniform "+e.info.name)}},{key:"_applyUniformForFloatSingle",value:function(e,t,n,i){var r=n[t];i.uniform1f(e,r)}},{key:"_applyUniformForFloatArray",value:function(e,t,n,i){var r=n[t];i.uniform1fv(e,r)}},{key:"_applyUniformForIntSingle",value:function(e,t,n,i){var r=n[t];i.uniform1i(e,r)}},{key:"_applyUniformForIntArray",value:function(e,t,n,i){var r=n[t];i.uniform1iv(e,r)}},{key:"_applyUniformForBoolSingle",value:function(e,t,n,i){var r=n[t];i.uniform1i(e,r)}},{key:"_applyUniformForBoolArray",value:function(e,t,n,i){var r=n[t];i.uniform1iv(e,r)}},{key:"_applyUniformForFloatVec2ArraySingle",value:function(e,t,n,i){var r=n[t];i.uniform2f(e,r[0],r[1])}},{key:"_applyUniformForFloatVec2VectorSingle",value:function(e,t,n,i){var r=n[t];i.uniform2f(e,r.x,r.y)}},{key:"_applyUniformForFloatVec2VectorArray",value:function(e,t,n,i){R.length=0;for(var r=n[t],a=0,o=r.length;a<o;++a)R.push(r[a].x),R.push(r[a].y);i.uniform2fv(e,R)}},{key:"_applyUniformForFloatVec2ArrayArray",value:function(e,t,n,i){R.length=0;for(var r=n[t],a=0,o=r.length;a<o;++a)R.push(r[a][0]),R.push(r[a][1]);i.uniform2fv(e,R)}},{key:"_applyUniformForIntVec2ArraySingle",value:function(e,t,n,i){var r=n[t];i.uniform2i(e,r[0],r[1])}},{key:"_applyUniformForIntVec2VectorSingle",value:function(e,t,n,i){var r=n[t];i.uniform2i(e,r.x,r.y)}},{key:"_applyUniformForIntVec2VectorArray",value:function(e,t,n,i){R.length=0;for(var r=n[t],a=0,o=r.length;a<o;++a)R.push(r[a].x),R.push(r[a].y);i.uniform2iv(e,R)}},{key:"_applyUniformForIntVec2ArrayArray",value:function(e,t,n,i){R.length=0;for(var r=n[t],a=0,o=r.length;a<o;++a)R.push(r[a][0]),R.push(r[a][1]);i.uniform2iv(e,R)}},{key:"_applyUniformForBoolVec2ArraySingle",value:function(e,t,n,i){var r=n[t];i.uniform2i(e,r[0],r[1])}},{key:"_applyUniformForBoolVec2ArrayArray",value:function(e,t,n,i){R.length=0;for(var r=n[t],a=0,o=r.length;a<o;++a)R.push(r[a][0]),R.push(r[a][1]);i.uniform2iv(e,R)}},{key:"_applyUniformForFloatVec3ArraySingle",value:function(e,t,n,i){var r=n[t];i.uniform3f(e,r[0],r[1],r[2])}},{key:"_applyUniformForFloatVec3VectorSingle",value:function(e,t,n,i){var r=n[t];i.uniform3f(e,r.x,r.y,r.z)}},{key:"_applyUniformForFloatVec3VectorArray",value:function(e,t,n,i){R.length=0;for(var r=n[t],a=0,o=r.length;a<o;++a)R.push(r[a].x),R.push(r[a].y),R.push(r[a].z);i.uniform3fv(e,R)}},{key:"_applyUniformForFloatVec3ArrayArray",value:function(e,t,n,i){R.length=0;for(var r=n[t],a=0,o=r.length;a<o;++a)R.push(r[a][0]),R.push(r[a][1]),R.push(r[a][2]);i.uniform3fv(e,R)}},{key:"_applyUniformForIntVec3ArraySingle",value:function(e,t,n,i){var r=n[t];i.uniform3f(e,r[0],r[1],r[2])}},{key:"_applyUniformForIntVec3VectorSingle",value:function(e,t,n,i){var r=n[t];i.uniform3f(e,r.x,r.y,r.z)}},{key:"_applyUniformForIntVec3VectorArray",value:function(e,t,n,i){R.length=0;for(var r=n[t],a=0,o=r.length;a<o;++a)R.push(r[a].x),R.push(r[a].y),R.push(r[a].z);i.uniform3fv(e,R)}},{key:"_applyUniformForIntVec3ArrayArray",value:function(e,t,n,i){R.length=0;for(var r=n[t],a=0,o=r.length;a<o;++a)R.push(r[a][0]),R.push(r[a][1]),R.push(r[a][2]);i.uniform3fv(e,R)}},{key:"_applyUniformForBoolVec3ArraySingle",value:function(e,t,n,i){var r=n[t];i.uniform3i(e,r[0],r[1],r[2])}},{key:"_applyUniformForBoolVec3ArrayArray",value:function(e,t,n,i){R.length=0;for(var r=n[t],a=0,o=r.length;a<o;++a)R.push(r[a][0]),R.push(r[a][1]),R.push(r[a][2]);i.uniform3iv(e,R)}},{key:"_applyUniformForFloatVec4ArraySingle",value:function(e,t,n,i){var r=n[t];i.uniform4f(e,r[0],r[1],r[2],r[3])}},{key:"_applyUniformForFloatVec4ArrayArray",value:function(e,t,n,i){R.length=0;for(var r=n[t],a=0,o=r.length;a<o;++a)R.push(r[a][0]),R.push(r[a][1]),R.push(r[a][2]),R.push(r[a][3]);i.uniform4fv(e,R)}},{key:"_applyUniformForIntVec4ArraySingle",value:function(e,t,n,i){var r=n[t];i.uniform4i(e,r[0],r[1],r[2],r[3])}},{key:"_applyUniformForIntVec4ArrayArray",value:function(e,t,n,i){R.length=0;for(var r=n[t],a=0,o=r.length;a<o;++a)R.push(r[a][0]),R.push(r[a][1]),R.push(r[a][2]),R.push(r[a][3]);i.uniform4iv(e,R)}},{key:"_applyUniformForBoolVec4ArraySingle",value:function(e,t,n,i){var r=n[t];i.uniform4i(e,r[0],r[1],r[2],r[3])}},{key:"_applyUniformForBoolVec4ArrayArray",value:function(e,t,n,i){R.length=0;for(var r=n[t],a=0,o=r.length;a<o;++a)R.push(r[a][0]),R.push(r[a][1]),R.push(r[a][2]),R.push(r[a][3]);i.uniform4iv(e,R)}},{key:"_applyUniformForFloatMat4Single",value:function(e,t,n,i){var r=n[t];i.uniformMatrix4fv(e,!1,r.getAsFloat32Array())}},{key:"_applyUniformForFloatMat4SingleFloat32Array",value:function(e,t,n,i){var r=n[t];i.uniformMatrix4fv(e,!1,r)}},{key:"_applyUniformForFloatMat4ArrayArray",value:function(e,t,n,i){for(var r=n[t],a=0,o=r.length;a<o;++a){var s=r[a];s.getAsFloat32Array?k.set(s.getAsFloat32Array(),16*a):k.set(s,16*a)}i.uniformMatrix4fv(e,!1,k)}},{key:"useHighPrecisionFloat",get:function(){return I},set:function(e){I=e}}]),(0,f.default)(t,[{key:"dtor",value:function(){(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"dtor",this).call(this),this._deleteShaderFromCatalog(),this._errorState=null}},{key:"enable",value:function(){if(this._errorState)throw this._errorState;return!(!this.loaded&&!this._tryLoad())&&(!!this._allTexturesLoaded()&&(this._shaderProgram.enable(),this._applyParameters(this._shaderProgram.activeUniforms),this._applyTextures(this._shaderProgram.activeTextureUniforms),this.loaded))}},{key:"enableVrUniforms",value:function(e){this._applyParameters(this._vrActiveUniforms,e),this._applyTextures(this._vrActiveTextureUniforms,this._activeTexUnits,e)}},{key:"disable",value:function(){for(var e=0;e<this._activeTexUnits;++e)m.Context.gl.activeTexture(m.Context.gl.TEXTURE0+e),m.Context.gl.bindTexture(m.Context.gl.TEXTURE_2D,null)}},{key:"_deleteShaderFromCatalog",value:function(){this._curVShaderXHR&&(this._curVShaderXHR=null),this._curFShaderXHR&&(this._curFShaderXHR=null),this._shaderProgram&&(m.Context.catalog.get("ShaderProgram").removeByValue(this._shaderProgram),this.removeResourceDependency(this._shaderProgram),this._shaderProgram=null,this.loaded=!1,this._loading=!1)}},{key:"_initiateShaderReload",value:function(){this._curVShaderXHR&&(this._curVShaderXHR=null),this._curFShaderXHR&&(this._curFShaderXHR=null),this.loaded=!1,this._loading=!1,this._deleteShaderFromCatalog()}},{key:"_resolveDependencies",value:function(e){var t=this._features[e];if(t.hasOwnProperty("excludes")&&t.excludes.length)for(var n=0;n<t.excludes.length;++n){var i=t.excludes[n];i=i.charAt(0).toUpperCase()+i.slice(1),this["set"+i+"Enabled"](!1)}if(t.hasOwnProperty("depends")&&t.depends.length)for(var r=0;r<t.depends.length;++r){var a=t.depends[r];a=a.charAt(0).toUpperCase()+a.slice(1),this["set"+a+"Enabled"](!0)}}},{key:"_generateFeatures",value:function(e){var t=this;this._featureOrder=[];var n=function(n){var i=e[n],r=n;switch(r=r.charAt(0).toUpperCase()+r.slice(1),i.type){case"number":t["set"+r]=function(e,t){i=this._features[e],i.value!==t&&(this._initiateShaderReload(),t&&this._resolveDependencies(e)),i.value=t}.bind(t,n),t["set"+r+"Enabled"]=function(e,t){i=this._features[e],i.enabled!==!!t&&this._initiateShaderReload(),i.enabled=!!t}.bind(t,n),t["get"+r]=function(e){return i=this._features[e],i.value}.bind(t,n),t["is"+r+"Enabled"]=function(e){return i=this._features[e],i.enabled}.bind(t,n);break;case"switch":t["set"+r+"Enabled"]=function(e,t){i=this._features[e],i.enabled!==!!t&&(this._initiateShaderReload(),t&&this._resolveDependencies(e)),i.enabled=!!t}.bind(t,n),t["is"+r+"Enabled"]=function(e){return i=this._features[e],i.enabled}.bind(t,n);break;default:throw m.Context.logger.error(t,'error parsing features of shader "'+t._shaderDescription+'" no such feature type: "'+i.type+'"'),new Error('error parsing features of shader "'+t._shaderDescription+'" no such feature type: "'+i.type+'"')}t._featureOrder.push(n)};for(var i in e)n(i);this._featureOrder.sort(),this._features=e}},{key:"_getFeaturePreamble",value:function(){for(var e="",t=0;t<this._featureOrder.length;++t){var n=this._features[this._featureOrder[t]];switch(n.type){case"number":e+="#define "+n.define+" "+(n.enabled?n.value:"0")+"\n";break;case"switch":n.enabled&&(e+="#define "+n.define+"\n");break;default:throw m.Context.logger.error(this,'error generating define preamble of shader "'+this._shaderDescription+'" no such feature type: "'+n.type+'"'),new Error('error generating define preamble of shader "'+this._shaderDescription+'" no such feature type: "'+n.type+'"')}}return e}},{key:"_getFeatureHash",value:function(){return g.Util.hashString(this._getFeaturePreamble())}},{key:"_abortShaderDescriptionLoad",value:function(){m.Context.logger.error(this,"could not load shader description with uri: "+this._shaderDescription),this._errorState=new Error("could not load shader description with uri: "+this._shaderDescription)}},{key:"_onShaderDescriptionLoaded",value:function(e){try{var n=JSON.parse(e.response);if(!t._isValidShaderDesc(n))throw m.Context.logger.error(this,"could not load shader: invalid shader description. uri: "+this._shaderDescription),new Error("could not load shader: invalid shader description. uri: "+this._shaderDescription);this._vShader=g.Util.getBasePath(this._shaderDescription)+n.vertexShader.name,this._fShader=g.Util.getBasePath(this._shaderDescription)+n.fragmentShader.name,this._generateFeatures(n.features||{}),this.setHighPrecisionFloatEnabled(t.useHighPrecisionFloat),this._shaderDescLoaded=!0,this._onConfigure&&"function"==typeof this._onConfigure&&this._onConfigure(this)}catch(e){this._errorState=e}}},{key:"_initShaderFromDescription",value:function(){A.XHRRequest.request({uri:this._shaderDescription,noCache:!1,onLoad:this._onShaderDescriptionLoaded.bind(this),onError:this._abortShaderDescriptionLoad.bind(this)})}},{key:"_onShaderLoad",value:function(e){if(this._shaderProgram){var t=this._shaderProgram.attachShader(e);t===v.ShaderProgram.LINK_SUCCESSFUL?(this.loaded=!0,this._loading=!1,this._curFShaderXHR=null,this._curVShaderXHR=null):t===v.ShaderProgram.ALREADY_LINKED&&(this.loaded=!0,this._loading=!1,this._curFShaderXHR&&this._curFShaderXHR.cancel(),this._curVShaderXHR&&this._curVShaderXHR.cancel(),this._curFShaderXHR=null,this._curVShaderXHR=null)}}},{key:"_allTexturesLoaded",value:function(){var e=!0;for(var t in this._textures){var n=this._textures[t];if(void 0!==n)if(Array.isArray(n))for(var i=0,r=n.length;i<r;++i)n[i].loaded||(this.addResourceDependency(n[i]),n[i].preload(),e=!1);else n instanceof P.VrUniform?(n.left.loaded||(this.addResourceDependency(n.left),n.left.preload(),e=!1),n.right.loaded||(this.addResourceDependency(n.right),n.right.preload(),e=!1)):n.loaded||(this.addResourceDependency(n),n.preload(),e=!1);else delete this._textures[t],m.Context.logger.warn(this,"removing unused texture",t)}return e}},{key:"_tryLoad",value:function(){if(this._loading||!this._shaderDescLoaded||this._loaded)return!1;this._loading=!0;var e=this._getFeatureHash(),t=this._getFeaturePreamble();this._shaderProgram=m.Context.catalog.get("ShaderProgram").get(this._fShader+this._vShader+e),this._shaderProgram.paramAttributes=this._paramAttributes;var n=m.Context.catalog.get("VertexShader").get(this._vShader+e),i=m.Context.catalog.get("FragmentShader").get(this._fShader+e);return this._curVShaderXHR=n.loadFromUrl(this._vShader,t,this._onShaderLoad.bind(this)),this._curFShaderXHR=i.loadFromUrl(this._fShader,t,this._onShaderLoad.bind(this)),!this._curFShaderXHR&&!this._curVShaderXHR&&(this.addResourceDependency(this._shaderProgram),this.loaded=!0,this._loading=!1,!0)}},{key:"_applyTextures",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;
void 0===n&&(this._vrActiveTextureUniforms.length=0);for(var i=m.Context.gl,r=0,a=e.length;r<a;++r){var o=e[r],s=this._textures[o.paramName];if(void 0===n){if(s instanceof P.VrUniform){this._vrActiveTextureUniforms.push(o);continue}}else s=s[n];if(s)if(o.isArray){this._unitHolder.length=o.info.size;for(var l=0;l<o.info.size;++l)this._unitHolder[l]=t++;i.uniform1iv(o.location,this._unitHolder);for(var u=0;u<o.info.size;++u){var c=s[u];i.activeTexture(i.TEXTURE0+this._unitHolder[u]),c.enable()}}else i.activeTexture(i.TEXTURE0+t),s.enable(),i.uniform1i(o.location,t),t++}this._activeTexUnits=t}},{key:"_applyParameters",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;void 0===t&&(this._vrActiveUniforms.length=0);for(var n=0,i=e.length;n<i;++n){var r=e[n],a=this._params[r.paramName];if(void 0===t){if(a instanceof P.VrUniform){this._vrActiveUniforms.push(r);continue}}else a=a[t];void 0!==a&&this._applyUniformByType(r,a)}}},{key:"_applyUniformByType",value:function(e,n){var i=m.Context.gl,r=e.location,a=e.isArray,o=e.info.type;switch(o){case 5126:a?i.uniform1fv(r,n):i.uniform1f(r,n);break;case 5124:a?i.uniform1iv(r,n):i.uniform1i(r,n);break;case 35670:a?i.uniform1iv(r,n):i.uniform1i(r,n);break;case 35664:if(a)if(n[0]instanceof y.Vector2||n[0]instanceof b.Vector3){this._tmpArr.length=0;for(var s=0;s<n.length;++s)this._tmpArr.push(n[s].x),this._tmpArr.push(n[s].y);i.uniform2fv(r,this._tmpArr)}else if(2===n[0].length){this._tmpArr.length=0;for(var l=0;l<n.length;++l)this._tmpArr.push(n[l][0]),this._tmpArr.push(n[l][1]);i.uniform2fv(r,this._tmpArr)}else t._throwIncompatibleShaderError(e);else n instanceof y.Vector2||n instanceof b.Vector3?i.uniform2f(r,n.x,n.y):2===n.length?i.uniform2f(r,n[0],n[1]):t._throwIncompatibleShaderError(e);break;case 35667:if(a)if(n[0]instanceof y.Vector2||n instanceof b.Vector3){this._tmpArr.length=0;for(var u=0;u<n.length;++u)this._tmpArr.push(n[u].x),this._tmpArr.push(n[u].y);i.uniform2iv(r,this._tmpArr)}else if(2===n[0].length){this._tmpArr.length=0;for(var c=0;c<n.length;++c)this._tmpArr.push(n[c][0]),this._tmpArr.push(n[c][1]);i.uniform2iv(r,this._tmpArr)}else t._throwIncompatibleShaderError(e);else n instanceof y.Vector2||n instanceof b.Vector3?i.uniform2i(r,n.x,n.y):2===n.length?i.uniform2i(r,n[0],n[1]):t._throwIncompatibleShaderError(e);break;case 35671:if(a)if(2===n[0].length){this._tmpArr.length=0;for(var d=0;d<n.length;++d)this._tmpArr.push(n[d][0]),this._tmpArr.push(n[d][1]);i.uniform2iv(r,this._tmpArr)}else t._throwIncompatibleShaderError(e);else 2===n.length?i.uniform2i(r,n[0],n[1]):t._throwIncompatibleShaderError(e);break;case 35665:if(a)if(1===n.length)n[0]instanceof b.Vector3?i.uniform3f(r,n[0].x,n[0].y,n[0].z):3===n[0].length&&i.uniform3f(r,n[0][0],n[0][1],n[0][2]);else if(n[0]instanceof b.Vector3){this._tmpArr.length=0;for(var h=0;h<n.length;++h)this._tmpArr.push(n[h].x),this._tmpArr.push(n[h].y),this._tmpArr.push(n[h].z);i.uniform3fv(r,this._tmpArr)}else if(3===n[0].length){this._tmpArr.length=0;for(var f=0;f<n.length;++f)this._tmpArr.push(n[f][0]),this._tmpArr.push(n[f][1]),this._tmpArr.push(n[f][2]);i.uniform3fv(r,this._tmpArr)}else t._throwIncompatibleShaderError(e);else n instanceof b.Vector3?i.uniform3f(r,n.x,n.y,n.z):3===n.length?i.uniform3f(r,n[0],n[1],n[2]):t._throwIncompatibleShaderError(e);break;case 35668:if(a)if(n[0]instanceof b.Vector3){this._tmpArr.length=0;for(var _=0;_<n.length;++_)this._tmpArr.push(n[_].x),this._tmpArr.push(n[_].y),this._tmpArr.push(n[_].z);i.uniform3iv(r,this._tmpArr)}else if(3===n[0].length){this._tmpArr.length=0;for(var p=0;p<n.length;++p)this._tmpArr.push(n[p][0]),this._tmpArr.push(n[p][1]),this._tmpArr.push(n[p][2]);i.uniform3iv(r,this._tmpArr)}else t._throwIncompatibleShaderError(e);else n instanceof b.Vector3?i.uniform3i(r,n.x,n.y,n.z):3===n.length?i.uniform3i(r,n[0],n[1],n[2]):t._throwIncompatibleShaderError(e);break;case 35672:if(a)if(3===n[0].length){this._tmpArr.length=0;for(var A=0;A<n.length;++A)this._tmpArr.push(n[A][0]),this._tmpArr.push(n[A][1]),this._tmpArr.push(n[A][2]);i.uniform3iv(r,this._tmpArr)}else t._throwIncompatibleShaderError(e);else 3===n.length?i.uniform3i(r,n[0],n[1],n[2]):t._throwIncompatibleShaderError(e);break;case 35666:if(a)if(1===n.length)n[0]instanceof E.Vector4?i.uniform4f(r,n[0].x,n[0].y,n[0].z,n[0].w):4===n[0].length&&i.uniform4f(r,n[0][0],n[0][1],n[0][2],n[0][3]);else if(n[0]instanceof E.Vector4){this._tmpArr.length=0;for(var g=0;g<n.length;++g)this._tmpArr.push(n[g].x),this._tmpArr.push(n[g].y),this._tmpArr.push(n[g].z),this._tmpArr.push(n[g].w);i.uniform4fv(r,this._tmpArr)}else if(4===n[0].length){this._tmpArr.length=0;for(var v=0;v<n.length;++v)this._tmpArr.push(n[v][0]),this._tmpArr.push(n[v][1]),this._tmpArr.push(n[v][2]),this._tmpArr.push(n[v][3]);i.uniform4fv(r,this._tmpArr)}else t._throwIncompatibleShaderError(e);else n instanceof E.Vector4?i.uniform4f(r,n.x,n.y,n.z,n.w):4===n.length?i.uniform4f(r,n[0],n[1],n[2],n[3]):t._throwIncompatibleShaderError(e);break;case 35669:if(a)if(n[0]instanceof E.Vector4){this._tmpArr.length=0;for(var w=0;w<n.length;++w)this._tmpArr.push(n[w].x),this._tmpArr.push(n[w].y),this._tmpArr.push(n[w].z),this._tmpArr.push(n[w].w);i.uniform4iv(r,this._tmpArr)}else if(4===n[0].length){this._tmpArr.length=0;for(var S=0;S<n.length;++S)this._tmpArr.push(n[S][0]),this._tmpArr.push(n[S][1]),this._tmpArr.push(n[S][2]),this._tmpArr.push(n[S][3]);i.uniform4iv(r,this._tmpArr)}else t._throwIncompatibleShaderError(e);else n instanceof E.Vector4?i.uniform4i(r,n.x,n.y,n.z,n.w):4===n.length?i.uniform4i(r,n[0],n[1],n[2],n[3]):t._throwIncompatibleShaderError(e);break;case 35673:if(a)if(4===n[0].length){this._tmpArr.length=0;for(var T=0;T<n.length;++T)this._tmpArr.push(n[T][0]),this._tmpArr.push(n[T][1]),this._tmpArr.push(n[T][2]),this._tmpArr.push(n[T][3]);i.uniform4iv(r,this._tmpArr)}else t._throwIncompatibleShaderError(e);else 4===n.length?i.uniform4i(r,n[0],n[1],n[2],n[3]):t._throwIncompatibleShaderError(e);break;case 35675:throw new Error("unsupported uniform parameter type FLOAT_MAT3, sry");case 35676:if(a){var x=n.length;this._tmpMatArr=new Float32Array(16*x);for(var C=0;C<x;++C){var M=n[C];M.getAsFloat32Array?this._tmpMatArr.set(M.getAsFloat32Array(),16*C):this._tmpMatArr.set(M,16*C)}i.uniformMatrix4fv(r,!1,this._tmpMatArr)}else n.getAsFloat32Array?i.uniformMatrix4fv(r,!1,n.getAsFloat32Array()):i.uniformMatrix4fv(r,!1,n);break;case 35678:case 35680:break;default:throw new Error("unknown uniform parameter datatype!")}}},{key:"_getParamSetterHolderByType",value:function(e,n,i,r){var a=e.location,o=e.isArray,s=e.info.type;switch(s){case 5126:if(o){if(m.Context.debug)for(var l=0;l<n.length;++l)"number"!=typeof n[l]&&t._throwIncompatibleShaderError(e);return t._applyUniformForFloatArray.bind(this,a,i,r)}return m.Context.debug&&"number"!=typeof n&&t._throwIncompatibleShaderError(e),t._applyUniformForFloatSingle.bind(this,a,i,r);case 5124:if(o){if(m.Context.debug)for(var u=0;u<n.length;++u)"number"!=typeof n[u]&&t._throwIncompatibleShaderError(e);return t._applyUniformForIntArray.bind(this,a,i,r)}return m.Context.debug&&"number"!=typeof n&&t._throwIncompatibleShaderError(e),t._applyUniformForIntSingle.bind(this,a,i,r);case 35670:if(o){if(m.Context.debug)for(var c=0;c<n.length;++c)"boolean"!=typeof n[c]&&t._throwIncompatibleShaderError(e);return t._applyUniformForBoolArray.bind(this,a,i,r)}return m.Context.debug&&"boolean"!=typeof n&&t._throwIncompatibleShaderError(e),t._applyUniformForBoolSingle.bind(this,a,i,r);case 35664:if(o){if(n[0]instanceof b.Vector3)return t._applyUniformForFloatVec2VectorArray.bind(this,a,i,r);if(2===n[0].length)return t._applyUniformForFloatVec2ArrayArray.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}else{if(n instanceof b.Vector3)return t._applyUniformForFloatVec2VectorSingle.bind(this,a,i,r);if(2===n.length)return t._applyUniformForFloatVec2ArraySingle.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}break;case 35667:if(o){if(n[0]instanceof b.Vector3)return t._applyUniformForIntVec2VectorArray.bind(this,a,i,r);if(2===n[0].length)return t._applyUniformForIntVec2ArrayArray.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}else{if(n instanceof b.Vector3)return t._applyUniformForIntVec2VectorSingle.bind(this,a,i,r);if(2===n.length)return t._applyUniformForIntVec2ArraySingle.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}break;case 35671:if(o){if(2===n[0].length)return t._applyUniformForBoolVec2ArrayArray.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}else{if(2===n.length)return t._applyUniformForBoolVec2ArraySingle.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}break;case 35665:if(o){if(n[0]instanceof b.Vector3)return t._applyUniformForFloatVec3VectorArray.bind(this,a,i,r);if(3===n[0].length)return t._applyUniformForFloatVec3ArrayArray.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}else{if(n instanceof b.Vector3)return t._applyUniformForFloatVec3VectorSingle.bind(this,a,i,r);if(3===n.length)return t._applyUniformForFloatVec3ArraySingle.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}break;case 35668:if(o){if(n[0]instanceof b.Vector3)return t._applyUniformForIntVec3VectorArray.bind(this,a,i,r);if(3===n[0].length)return t._applyUniformForIntVec3ArrayArray.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}else{if(n instanceof b.Vector3)return t._applyUniformForIntVec3VectorSingle.bind(this,a,i,r);if(3===n.length)return t._applyUniformForIntVec3ArraySingle.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}break;case 35672:if(o){if(3===n[0].length)return t._applyUniformForBoolVec3ArrayArray.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}else{if(3===n.length)return t._applyUniformForBoolVec3ArraySingle.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}break;case 35666:if(o){if(4===n[0].length)return t._applyUniformForFloatVec4ArrayArray.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}else{if(4===n.length)return t._applyUniformForFloatVec4ArraySingle.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}break;case 35669:if(o){if(4===n[0].length)return t._applyUniformForIntVec4ArrayArray.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}else{if(4===n.length)return t._applyUniformForIntVec4ArraySingle.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}break;case 35673:if(o){if(4===n[0].length)return t._applyUniformForBoolVec4ArrayArray.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}else{if(4===n.length)return t._applyUniformForBoolVec4ArraySingle.bind(this,a,i,r);t._throwIncompatibleShaderError(e)}break;case 35675:throw new Error("unsupported uniform parameter type FLOAT_MAT3, sry");case 35676:return o?t._applyUniformForFloatMat4ArrayArray.bind(this,a,i,r):n.getAsFloat32Array?t._applyUniformForFloatMat4Single.bind(this,a,i,r):t._applyUniformForFloatMat4SingleFloat32Array.bind(this,a,i,r);case 35678:case 35680:break;default:throw new Error("unknown uniform parameter datatype!")}}},{key:"params",get:function(){return this._params}},{key:"textures",get:function(){return this._textures}},{key:"shaderProgram",get:function(){return this._shaderProgram}},{key:"isConfigurable",get:function(){return this._shaderDescLoaded}},{key:"states",get:function(){return this._states}},{key:"paramAttributes",set:function(e){this._paramAttributes=e}},{key:"vrMonoOverride",get:function(){return this._vrMonoOverride},set:function(e){this._vrMonoOverride=e}}]),t}(M.Resource)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Shader=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(43),A=n(9),g=n(29),v="#if defined(USE_HIGHP_FLOAT)\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n",y=t.Shader=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._shaderObject=null,n._loading=!1,n._shaderPath=null,n._error=null,A.Context.eventEmitter.on(t.EVENT_ERROR_LOADING_SHADER,function(e){throw e._error}),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"dtor",value:function(){this._shaderObject&&A.Context.gl.deleteShader(this._shaderObject),(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"dtor",this).call(this)}},{key:"load",value:function(e,t,n,i){if(this.loaded)return void i(this);if(this.loaded=!0,void 0===t)throw new Error("type argument not defined");if(e=v+e,void 0!==n&&(e=n+e),this._shaderObject=A.Context.gl.createShader(t),!this._shaderObject)throw new Error("could not create shader");A.Context.gl.shaderSource(this._shaderObject,e),A.Context.gl.compileShader(this._shaderObject);var r=A.Context.gl.getShaderParameter(this._shaderObject,A.Context.gl.COMPILE_STATUS);if(A.Context.logger.debug(this,"compiling shader ("+this._shaderPath+") with preamble "+n+" resulted in: "+r),!r){var a=A.Context.gl.getShaderInfoLog(this._shaderObject);throw A.Context.gl.deleteShader(this._shaderObject),A.Context.logger.error(this,"error compiling shader ("+this._shaderPath+"):\n"+a),new Error("error compiling shader ("+this._shaderPath+")")}i&&"function"==typeof i&&i(this)}},{key:"loadFromUrl",value:function(e,t,n){return this.loaded?void n(this):(this._shaderPath=e,this.markLoading(),m.XHRRequest.request({uri:e,noCache:!1,onLoad:this._onShaderLoaded.bind(this,t,n),onError:this._abortShaderLoad.bind(this),onAbort:this._abortShaderLoad.bind(this)}))}},{key:"_abortShaderLoad",value:function(){this.dtor()}},{key:"_onShaderLoaded",value:function(e,n,i){var r=i.response;try{this.load(r,e,n)}catch(e){this._error=e,A.Context.eventEmitter.emitOnce(this,t.EVENT_ERROR_LOADING_SHADER,!1)}}},{key:"shaderObject",get:function(){return this._shaderObject}},{key:"shaderPath",get:function(){return this._shaderPath}}]),t}(g.Resource);y.EVENT_ERROR_LOADING_SHADER="shaderEventErrorLoadingShader"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WakeLock=void 0;var r=n(1),a=i(r),o=n(2),s=i(o);t.WakeLock=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,[{key:"request",value:function(){}},{key:"release",value:function(){}}]),e}()},,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.QualityManager=void 0;var r=n(10),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(80),d=n(129),h=n(7),f=n(36),_=n(94),p=n(9),m="ultra",A="super",g="superMedium",v="high",y="low",b="lowlow",E="mobileLow",w="mobileHigh",S=[b,y,v,g,A,m],T=[E,w],x="veryTiny",C="tiny",M="small",P="medium",I="large",R="qualityManagerEventRequestedTexturesUnavailable",k="qualityManagerEventRequestedTexturesAvailable",D="qualityManagerEventRequestedtexturesDegraded",V={256:x,512:C,1024:M,2048:P,4096:I},B={};B[x]=256,B[C]=512,B[M]=1024,B[P]=2048,B[I]=4096;var O="manual",N="automatic";t.QualityManager=function(){function e(t){(0,s.default)(this,e);var n=h.Util.isFirefoxWindows()?256:1024;this.performanceTiming=t.performanceTiming,this.performance=t.performance,this._availableTextureFormats=void 0,this._globalSettings={},this._qualitySettings={},this._presetQualitySettings={},this._qualitySettings[m]={},this._presetQualitySettings[m]=this._adjustForMissingFeatures({usePackedPngDds:!1,usePackedPngBin:!1,gzip:!1,ramLimitMbytes:4096,iblSamples:n,globalFramebufferScaleRatio:1,supersampleScale:2,ghostingEnabled:!0,shadowMapSize:2048,shadowsEnabled:!0,bloomEnabled:!0,dofEnabled:!0,lowEndDofEnabled:!1,refractionDispersionEnabled:!0,halfresDof:!1,hdrEnabled:!0,automaticTextureSelection:!1,useDds:!0,textureSize:e._adjustTextureQualityForTextures(P),fxaaEnabled:!0,forceUint8Textures:!1,iblEnabled:!0,normalData:!0,videoTexturesEnabled:!0,highPrecisionFloat:!0,envBrdfLut:!0,useCubeIBL:!0,enableLights:!0,vignettingEnabled:!0,grainEnabled:!0,dynamicColorGradingEnabled:!0,lensDirtEnabled:!0,chromaticAbberationEnabled:!1,sharpenImageEnabled:!1,vramMbytes:4096}),(0,a.default)(this._qualitySettings[m],this._presetQualitySettings[m]),this._qualitySettings[A]={},this._presetQualitySettings[A]=this._adjustForMissingFeatures({usePackedPngDds:!1,usePackedPngBin:!1,gzip:!1,ramLimitMbytes:2048,iblSamples:n,globalFramebufferScaleRatio:1,supersampleScale:1,ghostingEnabled:!0,shadowMapSize:1024,shadowsEnabled:!0,bloomEnabled:!0,dofEnabled:!1,lowEndDofEnabled:!0,refractionDispersionEnabled:!0,halfresDof:!1,hdrEnabled:!0,automaticTextureSelection:!1,useDds:!0,textureSize:e._adjustTextureQualityForTextures(P),fxaaEnabled:!0,forceUint8Textures:!1,iblEnabled:!0,normalData:!0,videoTexturesEnabled:!0,highPrecisionFloat:!0,envBrdfLut:!0,useCubeIBL:!0,enableLights:!0,vignettingEnabled:!0,grainEnabled:!0,dynamicColorGradingEnabled:!0,lensDirtEnabled:!0,vramMbytes:2048}),(0,a.default)(this._qualitySettings[A],this._presetQualitySettings[A]),this._qualitySettings[g]={},this._presetQualitySettings[g]=this._adjustForMissingFeatures({usePackedPngDds:!1,usePackedPngBin:!1,gzip:!1,ramLimitMbytes:2048,iblSamples:n,globalFramebufferScaleRatio:1,supersampleScale:1,ghostingEnabled:!0,shadowMapSize:1024,shadowsEnabled:!1,bloomEnabled:!0,dofEnabled:!1,lowEndDofEnabled:!0,refractionDispersionEnabled:!0,halfresDof:!0,hdrEnabled:!0,automaticTextureSelection:!1,useDds:!0,textureSize:e._adjustTextureQualityForTextures(M),fxaaEnabled:!0,forceUint8Textures:!1,iblEnabled:!0,normalData:!0,videoTexturesEnabled:!0,highPrecisionFloat:!0,envBrdfLut:!0,useCubeIBL:!0,enableLights:!0,vignettingEnabled:!0,grainEnabled:!0,dynamicColorGradingEnabled:!0,lensDirtEnabled:!0,vramMbytes:1024}),(0,a.default)(this._qualitySettings[g],this._presetQualitySettings[g]),this._qualitySettings[v]={},this._presetQualitySettings[v]=this._adjustForMissingFeatures({usePackedPngDds:!1,usePackedPngBin:!1,gzip:!1,ramLimitMbytes:1024,iblSamples:n,globalFramebufferScaleRatio:1,supersampleScale:1,ghostingEnabled:!0,shadowMapSize:1024,shadowsEnabled:!1,bloomEnabled:!0,dofEnabled:!1,lowEndDofEnabled:!0,refractionDispersionEnabled:!0,halfresDof:!0,hdrEnabled:!1,automaticTextureSelection:!1,useDds:!0,textureSize:e._adjustTextureQualityForTextures(M),fxaaEnabled:!0,forceUint8Textures:!1,iblEnabled:!0,normalData:!0,videoTexturesEnabled:!1,highPrecisionFloat:!0,envBrdfLut:!1,useCubeIBL:!0,enableLights:!0,vignettingEnabled:!0,grainEnabled:!0,dynamicColorGradingEnabled:!0,lensDirtEnabled:!0,vramMbytes:1024}),(0,a.default)(this._qualitySettings[v],this._presetQualitySettings[v]),this._qualitySettings[y]={},this._presetQualitySettings[y]=this._adjustForMissingFeatures({usePackedPngDds:!1,usePackedPngBin:!1,gzip:!1,ramLimitMbytes:1024,iblSamples:n,globalFramebufferScaleRatio:.5,supersampleScale:1,ghostingEnabled:!1,shadowMapSize:512,shadowsEnabled:!1,bloomEnabled:!1,dofEnabled:!1,lowEndDofEnabled:!1,refractionDispersionEnabled:!1,hdrEnabled:!1,automaticTextureSelection:!1,useDds:!0,textureSize:e._adjustTextureQualityForTextures(C),fxaaEnabled:!0,forceUint8Textures:!0,iblEnabled:!0,normalData:!0,videoTexturesEnabled:!1,highPrecisionFloat:!0,envBrdfLut:!1,useCubeIBL:!0,enableLights:!1,vignettingEnabled:!0,grainEnabled:!0,dynamicColorGradingEnabled:!0,lensDirtEnabled:!0,vramMbytes:512}),(0,a.default)(this._qualitySettings[y],this._presetQualitySettings[y]),this._qualitySettings[b]={},this._presetQualitySettings[b]=this._adjustForMissingFeatures({usePackedPngDds:!1,usePackedPngBin:!1,gzip:!1,ramLimitMbytes:1024,iblSamples:n,globalFramebufferScaleRatio:.5,supersampleScale:1,ghostingEnabled:!1,shadowMapSize:512,shadowsEnabled:!1,bloomEnabled:!1,dofEnabled:!1,lowEndDofEnabled:!1,refractionDispersionEnabled:!1,hdrEnabled:!1,automaticTextureSelection:!1,useDds:!0,textureSize:e._adjustTextureQualityForTextures(C),fxaaEnabled:!1,forceUint8Textures:!0,iblEnabled:!0,normalData:!0,videoTexturesEnabled:!1,highPrecisionFloat:!0,envBrdfLut:!1,useCubeIBL:!0,enableLights:!1,waterRendering:!0,vignettingEnabled:!0,grainEnabled:!0,dynamicColorGradingEnabled:!0,lensDirtEnabled:!0,vramMbytes:256}),(0,a.default)(this._qualitySettings[b],this._presetQualitySettings[b]),this._qualitySettings[E]={},this._presetQualitySettings[E]=this._adjustForMissingFeatures({usePackedPngDds:!1,usePackedPngBin:!1,gzip:!1,ramLimitMbytes:256,iblSamples:n,globalFramebufferScaleRatio:.5,supersampleScale:1,ghostingEnabled:!1,shadowMapSize:512,shadowsEnabled:!1,bloomEnabled:!1,dofEnabled:!1,lowEndDofEnabled:!1,refractionDispersionEnabled:!1,hdrEnabled:!1,automaticTextureSelection:!1,usePvr:!0,textureSize:e._adjustTextureQualityForTextures(C),fxaaEnabled:!1,forceUint8Textures:!0,iblEnabled:!0,normalData:!0,highPrecisionFloat:!0,envBrdfLut:!1,videoTexturesEnabled:!1,useCubeIBL:!0,enableLights:!1,waterRendering:!1,lowQualityWater:!0,vignettingEnabled:!0,grainEnabled:!0,dynamicColorGradingEnabled:!0,lensDirtEnabled:!0,vramMbytes:256}),(0,a.default)(this._qualitySettings[E],this._presetQualitySettings[E]),this._qualitySettings[w]={},this._presetQualitySettings[w]=this._adjustForMissingFeatures({usePackedPngDds:!1,usePackedPngBin:!1,gzip:!1,ramLimitMbytes:256,iblSamples:n,globalFramebufferScaleRatio:1,supersampleScale:1,ghostingEnabled:!0,shadowMapSize:512,shadowsEnabled:!1,bloomEnabled:!0,dofEnabled:!1,lowEndDofEnabled:!1,refractionDispersionEnabled:!0,halfresDof:!0,hdrEnabled:!1,automaticTextureSelection:!1,usePvr:!0,textureSize:e._adjustTextureQualityForTextures(M),fxaaEnabled:!0,forceUint8Textures:!0,iblEnabled:!0,highPrecisionFloat:!0,envBrdfLut:!0,normalData:!0,videoTexturesEnabled:!1,useCubeIBL:!0,enableLights:!0,waterRendering:!0,vignettingEnabled:!0,grainEnabled:!0,dynamicColorGradingEnabled:!0,lensDirtEnabled:!0,vramMbytes:256}),(0,a.default)(this._qualitySettings[w],this._presetQualitySettings[w]),this._forcedQuality=e._getForcedQuality();var i=this._forcedQuality||this._performanceToQuality(this.performance);p.Context.logger.info("selected quality: "+i+" (manual override: "+this._forcedQuality+") timing: "+this.performanceTiming);var r=this._qualitySettings[i];this._selectedQuality=i,e._setResourceLimits(r),this._applyHighPrecisionFloat(r.highPrecisionFloat)}return(0,u.default)(e,null,[{key:"_adjustTextureQualityForCubeMaps",value:function(e){return 512===f.Renderer.MAX_CUBE_MAP_TEXTURE_SIZE?C:1024!==f.Renderer.MAX_CUBE_MAP_TEXTURE_SIZE||e!==I&&e!==P?e:M}},{key:"_adjustTextureQualityForTextures",value:function(e){var t=f.Renderer.MAX_TEXTURE_SIZE;if(t<256)throw new Error("MAX_TEXTURE_SIZE is too small for this application to work");if(t<B[e]){if(void 0===V[t])throw new Error("no mapping from MAX_TEXTURE_SIZE ("+t+") to content found");return V[t]}return e}},{key:"_setResourceLimits",value:function(e){d.ResourceManager.RAM_LIMIT_BYTES=1024*e.ramLimitMbytes*1024}},{key:"_getForcedQuality",value:function(){var e=[m,A,g,v,y,b,w,E],t=h.Util.getUrlVar("quality");return e.indexOf(t)===-1&&(t=void 0),t}},{key:"_getCompressedTexFormat",value:function(e){var t="default";return p.Context.glExtensionManager.has.compressedTextureS3TC&&e.useDds?t=e.usePackedPngDds?"pngdds":"dds":p.Context.glExtensionManager.has.compressedTexturePVRTC&&e.usePvr&&(t="pvr"),t}},{key:"_makeSetting",value:function(e,t,n,i){e[t]={type:n,value:i}}},{key:"QUALITY_ULTRA",get:function(){return m}},{key:"QUALITY_SUPER",get:function(){return A}},{key:"QUALITY_SUPER_MEDIUM",get:function(){return g}},{key:"QUALITY_HIGH",get:function(){return v}},{key:"QUALITY_LOW",get:function(){return y}},{key:"QUALITY_ULTRA_LOW",get:function(){return b}},{key:"QUALITY_MOBILE_LOW",get:function(){return E}},{key:"QUALITY_MOBILE_HIGH",get:function(){return w}},{key:"ORDER_QUALITY_DESKTOP",get:function(){return S}},{key:"ORDER_QUALITY_MOBILE",get:function(){return T}},{key:"QUALITY_TEXTURE_SIZE_VERY_TINY",get:function(){return x}},{key:"QUALITY_TEXTURE_SIZE_TINY",get:function(){return C}},{key:"QUALITY_TEXTURE_SIZE_SMALL",get:function(){return M}},{key:"QUALITY_TEXTURE_SIZE_MEDIUM",get:function(){return P}},{key:"QUALITY_TEXTURE_SIZE_LARGE",get:function(){return I}},{key:"MANUAL",get:function(){return O}},{key:"AUTOMATIC",get:function(){return N}},{key:"EVENT_REQUESTED_TEXTURES_UNAVAILABLE",get:function(){return R}},{key:"EVENT_REQUESTED_TEXTURES_AVAILABLE",get:function(){return k}},{key:"EVENT_REQUESTED_TEXTURES_DEGRADED",get:function(){return D}}]),(0,u.default)(e,[{key:"set",value:function(t,n,i){e._makeSetting(this._globalSettings,t,n,i),this._applyGlobalSettings()}},{key:"selectOptimalTextureSet",value:function(e,t){void 0!==e&&void 0!==t&&this._validateTextureFormats(e,t)}},{key:"_adjustForMissingFeatures",value:function(e){return(h.Util.isIE()||h.Util.isEdge())&&(e.envBrdfLut=!1),p.Context.glExtensionManager.has.textureFloat||(e.hdrEnabled=!1),p.Context.glExtensionManager.has.standardDerivatives||(e.shadowsEnabled=!1),e.videoTexturesEnabled=e.videoTexturesEnabled&&!h.Util.isSafari(),e}},{key:"_validateTextureFormats",value:function(t,n){if(this.quality.automaticTextureSelection){for(var i,r=this.compressedTexFormat,a=.8*this.quality.vramMbytes*1024*1024-n,o=t.sort(function(e,t){return("default"===e.f?e.r*e.r*4:e.s)-("default"===t.f?t.r*t.r*4:t.s)}),s=void 0,l=void 0,u=f.Renderer.MAX_TEXTURE_SIZE,c=0,d=o.length;c<d;++c){var h=o[c];i="default"===h.f?h.r*h.r*4:h.s,i<=a&&h.r<=u&&(h.f===r?s=h:"default"===h.f&&(l=h))}s?(this.quality.textureSize=V[s.r],p.Context.eventEmitter.emit(this,e.EVENT_REQUESTED_TEXTURES_AVAILABLE)):l?("dds"===r?this.quality.useDds=!1:"pvr"===r&&(this.quality.usePvr=!1),this.quality.textureSize=V[l.r],p.Context.eventEmitter.emit(this,e.EVENT_REQUESTED_TEXTURES_DEGRADED)):p.Context.eventEmitter.emit(this,e.EVENT_REQUESTED_TEXTURES_UNAVAILABLE)}}},{key:"_applyGlobalSettings",value:function(){var t=this._qualitySettings[this._selectedQuality],n=this._globalSettings;for(var i in n){var r=n[i];r.type===e.MANUAL?t[i]=r.value:r.type===e.AUTOMATIC&&(t[i]=this._presetQualitySettings[this._selectedQuality][i]),"highPrecisionFloat"===i&&this._applyHighPrecisionFloat(t.highPrecisionFloat)}}},{key:"_applyHighPrecisionFloat",value:function(e){_.Effect.useHighPrecisionFloat=f.Renderer.SUPPORTS_HIGHP&&e}},{key:"_performanceToQuality",value:function(e){if(void 0===e)return b;if(h.Util.isMobileBrowser())return this.performanceTiming<100?w:E;switch(e){case c.Application.PERFORMANCE_ULTRA:return m;case c.Application.PERFORMANCE_SUPER:return A;case c.Application.PERFORMANCE_SUPER_MEDIUM:return g;case c.Application.PERFORMANCE_HIGH:return v;case c.Application.PERFORMANCE_LOW:return y;case c.Application.PERFORMANCE_ULTRA_LOW:return b}return b}},{key:"getAdjustedTexPath",value:function(e){return this.quality.automaticTextureSelection&&null===/.*?_dl8PS-([ci])-([0-1])-([0-9]+)-([0-9]+)-([0-9]+)_.*/g.exec(e)?"default"!==this.compressedTexFormat?h.Util.getBasePath(e)+"/s/"+this.textureSize+"/"+h.Util.getFileFromPathWithoutExt(e)+this.compressedTexFormat:h.Util.getBasePath(e)+"/s/"+this.textureSize+"/"+h.Util.getFileFromPath(e):e}},{key:"forcedQuality",get:function(){return void 0!==this._forcedQuality}},{key:"selectedQuality",get:function(){return this._selectedQuality}},{key:"quality",get:function(){return this._qualitySettings[this._selectedQuality]}},{key:"compressedTexFormat",get:function(){return e._getCompressedTexFormat(this._qualitySettings[this._selectedQuality])}},{key:"textureSize",get:function(){return B[this._qualitySettings[this._selectedQuality].textureSize]}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneManager=void 0;var r=n(71),a=i(r),o=n(72),s=i(o),l=n(1),u=i(l),c=n(2),d=i(c),h=n(15),f=i(h),_=n(213),p=n(9),m="EVENT_VR_PHONE_CHANGED",A=new f.default([["NEXUS_7",'{"type":"android","rules":[{"ua":"Nexus 7"}]}'],["ASUS_Z00AD",'{"type":"android","rules":[{"ua":"ASUS_Z00AD"}]}'],["ASUS_Z012S",'{"type":"android","rules":[{"ua":"ASUS_Z012S"}]}'],["ASUS_X018D",'{"type":"android","rules":[{"ua":"ASUS_X018D"}]}'],["ASUS_T00I",'{"type":"android","rules":[{"ua":"ASUS_T00I"}]}'],["ASUS_X00ID",'{"type":"android","rules":[{"ua":"ASUS_X00ID"}]}'],["ASUS_Z01GD",'{"type":"android","rules":[{"ua":"ASUS_Z01GD"}]}'],["ASUS_T00J",'{"type":"android","rules":[{"ua":"ASUS_T00J"}]}'],["ASUS_T00Q",'{"type":"android","rules":[{"ua":"ASUS_T00Q"}]}'],["HTC6435LVW",'{"type":"android","rules":[{"ua":"HTC6435LVW"}]}'],["HTC_10",'{"type":"android","rules":[{"ua":"HTC 10"}]}'],["HTC_ONE_XL",'{"type":"android","rules":[{"ua":"HTC One XL"}]}'],["NEXUS_9",'{"type":"android","rules":[{"ua":"Nexus 9"}]}'],["HTC_ONE_M9",'{"type":"android","rules":[{"ua":"HTC One M9"}]}'],["HTC_ONE_M8",'{"type":"android","rules":[{"ua":"HTC One_M8"}]}'],["HTC_ONE",'{"type":"android","rules":[{"ua":"HTC One"}]}'],["HTC_U_11",'{"type":"android","rules":[{"ua":"HTC U11"}]}'],["HTC_U_11_PLUS",'{"type":"android","rules":[{"ua":"HTC U11 Plus"}]}'],["HTC_U_ULTRA",'{"type":"android","rules":[{"ua":"HTC U Ultra"}]}'],["HTC_U_PLAY",'{"type":"android","rules":[{"ua":"HTC U Play"}]}'],["HUAWEI_HONOR_8",'{"type":"android","rules":[{"ua":"Honor 8"}]}'],["HUAWEI_HONOR_8_PRO",'{"type":"android","rules":[{"ua":"Honor 8 Pro"}]}'],["HUAWEI_MATE_9",'{"type":"android","rules":[{"ua":"Mate 9"}]}'],["HUAWEI_P9",'{"type":"android","rules":[{"ua":"P9"}]}'],["HUAWEI_P10",'{"type":"android","rules":[{"ua":"P10"}]}'],["HUAWEI_P10_PLUS",'{"type":"android","rules":[{"ua":"P10 Plus"}]}'],["HUAWEI_P8_LITE",'{"type":"android","rules":[{"ua":"ALE-L21"}]}'],["HUAWEI_P10_LITE",'{"type":"android","rules":[{"ua":"WAS-TL10"}]}'],["HUAWEI_HONOR_7X",'{"type":"android","rules":[{"ua":"BND-L24"}]}'],["HUAWEI_HONOR_9",'{"type":"android","rules":[{"ua":"STF-TL10"}]}'],["HUAWEI_HONOR_VIEW_10",'{"type":"android","rules":[{"ua":"BKL-L09"}]}'],["HUAWEI_MATE_10",'{"type":"android","rules":[{"ua":"ALP-L09"}]}'],["HUAWEI_MATE_10_LITE",'{"type":"android","rules":[{"ua":"RNE-L22"}]}'],["HUAWEI_MATE_10_PRO",'{"type":"android","rules":[{"ua":"BLA-L29"}]}'],["PH_1",'{"type":"android","rules":[{"ua":"PH-1"}]}'],["NEXUS_6P",'{"type":"android","rules":[{"ua":"Nexus 6P"}]}'],["NEXUS_5X",'{"type":"android","rules":[{"ua":"Nexus 5X"}]}'],["LGMS345",'{"type":"android","rules":[{"ua":"LGMS345"}]}'],["LG_D800",'{"type":"android","rules":[{"ua":"LG-D800"}]}'],["LG_D850",'{"type":"android","rules":[{"ua":"LG-D850"}]}'],["VS985_4G",'{"type":"android","rules":[{"ua":"VS985 4G"}]}'],["NEXUS_5_",'{"type":"android","rules":[{"ua":"Nexus 5 "}]}'],["NEXUS_4",'{"type":"android","rules":[{"ua":"Nexus 4"}]}'],["LG_P769",'{"type":"android","rules":[{"ua":"LG-P769"}]}'],["LG_H810",'{"type":"android","rules":[{"ua":"LG-H810"}]}'],["LG_H812",'{"type":"android","rules":[{"ua":"LG-H812"}]}'],["LG_H815",'{"type":"android","rules":[{"ua":"LG-H815"}]}'],["LG_H831",'{"type":"android","rules":[{"ua":"LG-H831"}]}'],["LG_LS993",'{"type":"android","rules":[{"ua":"LG-LS993"}]}'],["LG_H900",'{"type":"android","rules":[{"ua":"LG-H900"}]}'],["LG_H910",'{"type":"android","rules":[{"ua":"LG-H910"}]}'],["LGMS323",'{"type":"android","rules":[{"ua":"LGMS323"}]}'],["LGLS996",'{"type":"android","rules":[{"ua":"LGLS996"}]}'],["LG_M250",'{"type":"android","rules":[{"ua":"LG-M250"}]}'],["LG_H930",'{"type":"android","rules":[{"ua":"LG-H930"}]}'],["4560MMX",'{"type":"android","rules":[{"ua":"4560MMX"}]}'],["MICROMAX_A250",'{"type":"android","rules":[{"ua":"Micromax A250"}]}'],["MICROMAX_AQ4501",'{"type":"android","rules":[{"ua":"Micromax AQ4501"}]}'],["MICROMAX_C1",'{"type":"android","rules":[{"ua":"Micromax C1"}]}'],["MICROMAX_HS2",'{"type":"android","rules":[{"ua":"Micromax HS2"}]}'],["MICROMAX_BHARAT_5",'{"type":"android","rules":[{"ua":"Micromax Bharat 5"}]}'],["DROID_RAZR",'{"type":"android","rules":[{"ua":"DROID RAZR"}]}'],["XT830C",'{"type":"android","rules":[{"ua":"XT830C"}]}'],["XT1021",'{"type":"android","rules":[{"ua":"XT1021"}]}'],["XT1023",'{"type":"android","rules":[{"ua":"XT1023"}]}'],["XT1028",'{"type":"android","rules":[{"ua":"XT1028"}]}'],["XT1034",'{"type":"android","rules":[{"ua":"XT1034"}]}'],["XT1053",'{"type":"android","rules":[{"ua":"XT1053"}]}'],["XT1562",'{"type":"android","rules":[{"ua":"XT1562"}]}'],["NEXUS_6_",'{"type":"android","rules":[{"ua":"Nexus 6 "}]}'],["PIXEL",'{"type":"android","rules":[{"ua":"Pixel B"}]}'],["PIXEL_XL",'{"type":"android","rules":[{"ua":"Pixel XL B"}]}'],["PIXEL_2",'{"type":"android","rules":[{"ua":"Pixel 2"}]}'],["PIXEL_2_XL",'{"type":"android","rules":[{"ua":"Pixel 2 XL"}]}'],["RAZER_PHONE",'{"type":"android","rules":[{"ua":"Razer Phone"}]}'],["TA_1028",'{"type":"android","rules":[{"ua":"TA-1028"}]}'],["TA_1053",'{"type":"android","rules":[{"ua":"TA-1053"}]}'],["TA_1000",'{"type":"android","rules":[{"ua":"TA-1000"}]}'],["NOKIA_7_PLUS",'{"type":"android","rules":[{"ua":"Nokia 7 plus"}]}'],["TA_1004",'{"type":"android","rules":[{"ua":"TA-1004"}]}'],["NOKIA_8_SIROCCO",'{"type":"android","rules":[{"ua":"Nokia 8 Sirocco"}]}'],["XT1063",'{"type":"android","rules":[{"ua":"XT1063"}]}'],["XT1064",'{"type":"android","rules":[{"ua":"XT1064"}]}'],["XT1092",'{"type":"android","rules":[{"ua":"XT1092"}]}'],["XT1095",'{"type":"android","rules":[{"ua":"XT1095"}]}'],["XT1650",'{"type":"android","rules":[{"ua":"XT1650"}]}'],["XT1676",'{"type":"android","rules":[{"ua":"XT1676"}]}'],["XT1686",'{"type":"android","rules":[{"ua":"XT1686"}]}'],["XT1710_02",'{"type":"android","rules":[{"ua":"XT1710-02"}]}'],["XT1789_05",'{"type":"android","rules":[{"ua":"XT1789-05"}]}'],["MOTO_X4",'{"type":"android","rules":[{"ua":"moto x4"}]}'],["A0001",'{"type":"android","rules":[{"ua":"A0001"}]}'],["A5000",'{"type":"android","rules":[{"ua":"A5000"}]}'],["A5010",'{"type":"android","rules":[{"ua":"A5010"}]}'],["ONE_E1005",'{"type":"android","rules":[{"ua":"ONE E1005"}]}'],["ONE_A2005",'{"type":"android","rules":[{"ua":"ONE A2005"}]}'],["ONE_A300",'{"type":"android","rules":[{"ua":"ONE A300"}]}'],["ONE_A3010",'{"type":"android","rules":[{"ua":"ONE A3010"}]}'],["X909",'{"type":"android","rules":[{"ua":"X909"}]}'],["CPH1727",'{"type":"android","rules":[{"ua":"CPH1727"}]}'],["CPH1725",'{"type":"android","rules":[{"ua":"CPH1725"}]}'],["CPH1729",'{"type":"android","rules":[{"ua":"CPH1729"}]}'],["CPH1717",'{"type":"android","rules":[{"ua":"CPH1717"}]}'],["GT_I9082",'{"type":"android","rules":[{"ua":"GT-I9082"}]}'],["SM_G360",'{"type":"android","rules":[{"ua":"SM-G360"}]}'],["NEXUS_S",'{"type":"android","rules":[{"ua":"Nexus S"}]}'],["SM_T230",'{"type":"android","rules":[{"ua":"SM-T230"}]}'],["SGH_T399",'{"type":"android","rules":[{"ua":"SGH-T399"}]}'],["SM_N900",'{"type":"android","rules":[{"ua":"SM-N900"}]}'],["GT_I950",'{"type":"android","rules":[{"ua":"GT-I950"}]}'],["SM_G900",'{"type":"android","rules":[{"ua":"SM-G900"}]}'],["SM_G800",'{"type":"android","rules":[{"ua":"SM-G800"}]}'],["SM_G906",'{"type":"android","rules":[{"ua":"SM-G906"}]}'],["SM_T535",'{"type":"android","rules":[{"ua":"SM-T535"}]}'],["SM_N920",'{"type":"android","rules":[{"ua":"SM-N920"}]}'],["SM_N930",'{"type":"android","rules":[{"ua":"SM-N930"}]}'],["GT_I9300",'{"type":"android","rules":[{"ua":"GT-I9300"}]}'],["GT_I9195",'{"type":"android","rules":[{"ua":"GT-I9195"}]}'],["SPH_L520",'{"type":"android","rules":[{"ua":"SPH-L520"}]}'],["SGH_I717",'{"type":"android","rules":[{"ua":"SGH-I717"}]}'],["SPH_D710",'{"type":"android","rules":[{"ua":"SPH-D710"}]}'],["GT_N7100",'{"type":"android","rules":[{"ua":"GT-N7100"}]}'],["SCH_I605",'{"type":"android","rules":[{"ua":"SCH-I605"}]}'],["GALAXY_NEXUS",'{"type":"android","rules":[{"ua":"Galaxy Nexus"}]}'],["SM_N910",'{"type":"android","rules":[{"ua":"SM-N910"}]}'],["SM_G130",'{"type":"android","rules":[{"ua":"SM-G130"}]}'],["SM_G928",'{"type":"android","rules":[{"ua":"SM-G928"}]}'],["SM_G920",'{"type":"android","rules":[{"ua":"SM-G920"}]}'],["SM_G925",'{"type":"android","rules":[{"ua":"SM-G925"}]}'],["SM_G930",'{"type":"android","rules":[{"ua":"SM-G930"}]}'],["SM_G935",'{"type":"android","rules":[{"ua":"SM-G935"}]}'],["SM_G950",'{"type":"android","rules":[{"ua":"SM-G950"}]}'],["SM_G955",'{"type":"android","rules":[{"ua":"SM-G955"}]}'],["SM_N935",'{"type":"android","rules":[{"ua":"SM-N935"}]}'],["SM_A320",'{"type":"android","rules":[{"ua":"SM-A320"}]}'],["SM_A520",'{"type":"android","rules":[{"ua":"SM-A520"}]}'],["SM_A720",'{"type":"android","rules":[{"ua":"SM-A720"}]}'],["SM_A530",'{"type":"android","rules":[{"ua":"SM-A530"}]}'],["SM_A730",'{"type":"android","rules":[{"ua":"SM-A730"}]}'],["SM_C5000",'{"type":"android","rules":[{"ua":"SM-C5000"}]}'],["SM_C5010",'{"type":"android","rules":[{"ua":"SM-C5010"}]}'],["SM_C7000",'{"type":"android","rules":[{"ua":"SM-C7000"}]}'],["SM_C701",'{"type":"android","rules":[{"ua":"SM-C701"}]}'],["SM_C900",'{"type":"android","rules":[{"ua":"SM-C900"}]}'],["GT_N5110",'{"type":"android","rules":[{"ua":"GT-N5110"}]}'],["SM_J530",'{"type":"android","rules":[{"ua":"SM-J530"}]}'],["SM_G570",'{"type":"android","rules":[{"ua":"SM-G570"}]}'],["SM_S727",'{"type":"android","rules":[{"ua":"SM-S727"}]}'],["SM_J701",'{"type":"android","rules":[{"ua":"SM-J701"}]}'],["SM_J730",'{"type":"android","rules":[{"ua":"SM-J730"}]}'],["SM_G610",'{"type":"android","rules":[{"ua":"SM-G610"}]}'],["SM_G615",'{"type":"android","rules":[{"ua":"SM-G615"}]}'],["SM_G960",'{"type":"android","rules":[{"ua":"SM-G960"}]}'],["SM_G965",'{"type":"android","rules":[{"ua":"SM-G965"}]}'],["C6903",'{"type":"android","rules":[{"ua":"C6903"}]}'],["D6653",'{"type":"android","rules":[{"ua":"D6653"}]}'],["E6653",'{"type":"android","rules":[{"ua":"E6653"}]}'],["E6853",'{"type":"android","rules":[{"ua":"E6853"}]}'],["F5121",'{"type":"android","rules":[{"ua":"F5121"}]}'],["F833",'{"type":"android","rules":[{"ua":"F833"}]}'],["SGP321",'{"type":"android","rules":[{"ua":"SGP321"}]}'],["G3121",'{"type":"android","rules":[{"ua":"G3121"}]}'],["G3421",'{"type":"android","rules":[{"ua":"G3421"}]}'],["H3113",'{"type":"android","rules":[{"ua":"H3113"}]}'],["H4233",'{"type":"android","rules":[{"ua":"H4233"}]}'],["G8141",'{"type":"android","rules":[{"ua":"G8141"}]}'],["G8341",'{"type":"android","rules":[{"ua":"G8341"}]}'],["G8441",'{"type":"android","rules":[{"ua":"G8441"}]}'],["H8216",'{"type":"android","rules":[{"ua":"H8216"}]}'],["H8314",'{"type":"android","rules":[{"ua":"H8314"}]}'],["G8231",'{"type":"android","rules":[{"ua":"G8231"}]}'],["ALCATEL_ONE_TOUCH_FIERCE",'{"type":"android","rules":[{"ua":"ALCATEL ONE TOUCH Fierce"}]}'],["ALCATEL_IDOL_4S",'{"type":"android","rules":[{"ua":"ALCATEL IDOL 4S"}]}'],["ALCATEL_IDOL_4",'{"type":"android","rules":[{"ua":"ALCATEL IDOL 4"}]}'],["THL_5000",'{"type":"android","rules":[{"ua":"thl 5000"}]}'],["XIAOMI_MI_5",'{"type":"android","rules":[{"ua":"MI 5"}]}'],["XIAOMI_MI_6",'{"type":"android","rules":[{"ua":"MI 6"}]}'],["XIAOMI_REDMI_3",'{"type":"android","rules":[{"ua":"Redmi 3"}]}'],["XIAOMI_MI_NOTE_3",'{"type":"android","rules":[{"ua":"Mi Note 3"}]}'],["XIAOMI_REDMI_NOTE_5A",'{"type":"android","rules":[{"ua":"Redmi Note 5A"}]}'],["XIAOMI_Redmi_4A",'{"type":"android","rules":[{"ua":"Redmi 4A"}]}'],["XIAOMI_MIX_2",'{"type":"android","rules":[{"ua":"MIX 2"}]}'],["ZTE_AXON_7",'{"type":"android","rules":[{"ua":"ZTE Axon 7"}]}'],["ZTE_BLADE_L2",'{"type":"android","rules":[{"ua":"ZTE Blade L2"}]}'],["LENOVO_P2",'{"type":"android","rules":[{"ua":"Lenovo P2"}]}'],["VIVO_1716",'{"type":"android","rules":[{"ua":"vivo 1716"}]}'],["VIVO_1718",'{"type":"android","rules":[{"ua":"vivo 1718"}]}'],["BBA100_2",'{"type":"android","rules":[{"ua":"BBA100-2"}]}'],["BBD100_1",'{"type":"android","rules":[{"ua":"BBD100-1"}]}'],["IPHONE_4",'{"type":"ios","variant":"iphone4","rules":[{"res":[640,960]}]}'],["IPHONE_4S",'{"type":"ios","variant":"iphone4s","rules":[{"res":[640,960]}]}'],["IPHONE_5",'{"type":"ios","variant":"iphone5","rules":[{"res":[640,1136]}]}'],["IPHONE_5S",'{"type":"ios","variant":"iphone5s","rules":[{"res":[640,1136]}]}'],["IPHONE_SE",'{"type":"ios","variant":"iphoneSe","rules":[{"res":[640,1136]}]}'],["IPHONE_6",'{"type":"ios","variant":"iphone6","rules":[{"res":[750,1334]}]}'],["IPHONE_6S",'{"type":"ios","variant":"iphone6s","rules":[{"res":[750,1334]}]}'],["IPHONE_6_PLUS",'{"type":"ios","variant":"iphone6plus","rules":[{"res":[1242,2208]}]}'],["IPHONE_6S_PLUS",'{"type":"ios","variant":"iphone6splus","rules":[{"res":[1242,2208]}]}'],["IPHONE_7",'{"type":"ios","variant":"iphone7","rules":[{"res":[750,1334]}]}'],["IPHONE_7_PLUS",'{"type":"ios","variant":"iphone7plus","rules":[{"res":[1242,2208]}]}'],["IPHONE_8",'{"type":"ios","variant":"iphone8","rules":[{"res":[750,1334]}]}'],["IPHONE_8_PLUS",'{"type":"ios","variant":"iphone8plus","rules":[{"res":[1242,2208]}]}'],["IPHONE_X",'{"type":"ios","variant":"iphonex","rules":[{"res":[1125,2436]}]}'],["IPHONE_XS",'{"type":"ios","variant":"iphonexs","rules":[{"res":[1125,2436]}]}'],["IPHONE_XS_MAX",'{"type":"ios","variant":"iphonexsmax","rules":[{"res":[1242,2688]}]}'],["IPHONE_XR",'{"type":"ios","variant":"iphonexr","rules":[{"res":[828,1792]}]}']]);
t.PhoneManager=function(){function e(){var t=this;(0,u.default)(this,e),this._dpdb=new _.Dpdb(!1),this._phoneHashToIdxMap=new f.default(this._dpdb.devices.map(function(e,n){return[t._hashDevice(e),n]})),this._phoneHashToNameMap=new f.default([].concat((0,s.default)(A.entries())).map(function(e){return e.reverse()})),p.Context.eventEmitter.emit(this,e.EVENT_VR_PHONE_CHANGED)}return(0,d.default)(e,null,[{key:"EVENT_VR_PHONE_CHANGED",get:function(){return m}}]),(0,d.default)(e,[{key:"resetPhone",value:function(){this._dpdb.resetDevice(),p.Context.eventEmitter.emit(this,e.EVENT_VR_PHONE_CHANGED)}},{key:"_hashDevice",value:function(e){return(0,a.default)({type:e.type,variant:e.variant,rules:e.rules})}},{key:"dpdb",get:function(){return this._dpdb}},{key:"selectedPhone",get:function(){if(void 0!==this._dpdb.device)return this._phoneHashToNameMap.get(this._hashDevice(this._dpdb.device))},set:function(t){this._dpdb.device=this._phoneHashToIdxMap.get(A.get(t)),p.Context.eventEmitter.emit(this,e.EVENT_VR_PHONE_CHANGED)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Ray3=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(11),p=n(7),m=n(13);t.Ray3=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._origin=new _.Vector3,n._direction=new _.Vector3,n._invDirection=new _.Vector3,n.origin=p.Util.getParam(e,"origin",new _.Vector3),n.direction=p.Util.getParam(e,"direction",new _.Vector3(1,0,0)),n._tmp=new _.Vector3,n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"Ray3",params:{origin:this._origin,direction:this._direction}}}}]),(0,d.default)(t,[{key:"copyFrom",value:function(e){return this._origin.copyFrom(e._origin),this._direction.copyFrom(e._direction),this._invDirection.copyFrom(e._invDirection),this}},{key:"transformBy",value:function(e){e.transformPoint(this._origin),e.transformDirection(this._direction),this._invDirection.set(1/this._direction.x,1/this._direction.y,1/this._direction.z)}},{key:"inverseTransformBy",value:function(e){e.inverseTransformPoint(this._origin),e.inverseTransformDirection(this._direction),this._invDirection.set(1/this._direction.x,1/this._direction.y,1/this._direction.z)}},{key:"distanceToPointSquared",value:function(e){var t=this._tmp.copyFrom(e).sub(this._origin).dot(this._direction);return t<0?this._origin.distanceSquared(e):(this._tmp.copyFrom(this._direction).mult(t).add(this._origin),this._tmp.distanceSquared(e))}},{key:"toString",value:function(){return"direction = "+this._direction.toString()+", origin = "+this._origin.toString()}},{key:"origin",get:function(){return this._origin},set:function(e){this._origin.copyFrom(e)}},{key:"direction",get:function(){return this._direction},set:function(e){this._direction.copyFrom(e),this._invDirection.set(1/this._direction.x,1/this._direction.y,1/this._direction.z)}},{key:"invDirection",get:function(){return this._invDirection}}]),t}(m.Serializable)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RenderSystem=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(7),u=n(14),c=n(42),d=n(11),h=n(65),f=n(20),_=n(48),p=n(26),m=n(9),A=n(94),g=n(38),v=n(70),y=n(90),b=n(89),E=n(88),w=n(21),S=n(134),T=n(226),x=n(24),C=n(53),M=n(54),P=n(27),I=n(91),R=n(202),k=i(R),D="renderSystemEventBrdfTextureRendered",V="renderSystemEventRenderSizeChanged",B="renderSystemEventRefractiveParamsChanged",O="renderSystemEventSsaoParamsChanged",N="renderSystemEventShadowParamsChanged",L="renderSystemEventEnvMapRenderEnable",F="renderSystemEventEnvMapRenderDisable",U=new P.Transform,H=64,G=7,z=16,Q=128,W=6,j=1024;t.RenderSystem=function(){function e(t){var n=this;(0,a.default)(this,e),this._dtorCache=[],this._physicalCamera=void 0,this._screenFillingQuad=null,this._vrDistortionGeometry=null,this._flareOcclusionEffect=null,this._flareOcclusionTexture=null,this._flareOcclusionBaseTextureBlack=null,this._flareOcclusionBaseTextureWhite=null,this._flareOcclusionTempTexture=null,this._flareOcclusionForwardTexture=null,this._fbCameraLocation=new d.Vector3(0,0,0),this._fbCameraDVector=new d.Vector3(0,0,-1),this._fbCameraRVector=new d.Vector3(1,0,0),this._fbCameraUVector=new d.Vector3(0,1,0),this._splatPointSize=32,this._bloomPasses=null,this._bloomPassCount=5,j=l.Util.getParam(t,"iblSamples",256),this._brdfRendered=!1,this._brdfFramebuffer=null,this._brdfEffect=null,this._brdfQuad=null,this._brdfTexture=null,this._debugOverdrawEffect=null,this._autoFocusFramebuffer=null,this._autoFocusEffect=null,this._autoFocusRegionFramebuffer=null,this._autoFocusRegionEffect=null,this._autoFocusArrayBuffer=new Uint8Array(4),this._autoFocusRegionSize=void 0,this._autoExposureFramebuffer=null,this._autoExposureEffect=null,this._autoExposureRegionFramebuffer=null,this._autoExposureRegionEffect=null,this._autoExposureArrayBuffer=new Uint8Array(4),this._autoExposureRegionSize=void 0,this._opticsFramebuffer=null,this._opticsEffect=null,this._brightnessExtractionFramebuffer=null,this._brightnessExtractionEffect=null,this._grainPanning=0,this._projection=new Array(4),this._activeJitterPatternName="x2",this._jitterPatterns={x2:[[.25,.75],[.75,.25]],x3:[[.5033922635,.8317967229],[.7806016275,.2504380877],[.2261828938,.4131553612]],x4:[[.375,.25],[.125,.75],[.875,.25],[.625,.75]],x5:[[.5,.5],[.3,.1],[.7,.9],[.9,.3],[.1,.7]],x6:[[.4646464646,.4646464646],[.1313131313,.7979797979],[.5353535353,.8686868686],[.8686868686,.5353535353],[.7979797979,.1313131313],[.202020202,.202020202]],x8:[[.5625,.4375],[.0625,.9375],[.3125,.6875],[.6875,.8125],[.8125,.1875],[.9375,.5625],[.4375,.0625],[.1875,.3125]],x9:[[.5,.5],[.1666666666,.9444444444],[.5,.1666666666],[.5,.8333333333],[.1666666666,.2777777777],[.8333333333,.3888888888],[.1666666666,.6111111111],[.8333333333,.7222222222],[.8333333333,.0555555555]],x12:[[.4166666666,.625],[.9166666666,.875],[.25,.375],[.4166666666,.125],[.75,.125],[.0833333333,.125],[.75,.625],[.25,.875],[.5833333333,.375],[.9166666666,.375],[.0833333333,.625],[.583333333,.875]],x16:[[.375,.4375],[.625,.0625],[.875,.1875],[.125,.0625],[.375,.6875],[.875,.4375],[.625,.5625],[.375,.9375],[.625,.3125],[.125,.5625],[.125,.8125],[.375,.1875],[.875,.9375],[.875,.6875],[.125,.3125],[.625,.8125]]},this._exp2Table=[2.168404e-19,4.336809e-19,8.673617e-19,1.734723e-18,3.469447e-18,6.938894e-18,1.387779e-17,2.775558e-17,5.551115e-17,1.110223e-16,2.220446e-16,4.440892e-16,8.881784e-16,1.776357e-15,3.552714e-15,7.105427e-15,1.421085e-14,2.842171e-14,5.684342e-14,1.136868e-13,2.273737e-13,4.547474e-13,9.094947e-13,1.818989e-12,3.637979e-12,7.275958e-12,1.455192e-11,2.910383e-11,5.820766e-11,1.164153e-10,2.328306e-10,4.656613e-10,9.313226e-10,1.862645e-9,3.72529e-9,7.450581e-9,1.490116e-8,2.980232e-8,5.960464e-8,1.192093e-7,2.384186e-7,4.768372e-7,9.536743e-7,1907349e-12,3814697e-12,7629395e-12,1525879e-11,3051758e-11,6103516e-11,.0001220703,.0002441406,.0004882812,.0009765625,.001953125,.00390625,.0078125,.015625,.03125,.0625,.125,.25,.5,1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152,4194304,8388608,16777220,33554430,67108860,134217700,268435500,536870900,1073742e3,2147484e3,4294967e3,8589935e3,1717987e4,3435974e4,6871948e4,137439e6,2748779e5,5497558e5,1099512e6,2199023e6,4398047e6,8796093e6,1759219e7,3518437e7,7036874e7,1407375e8,281475e9,56295e10,11259e11,22518e11,45036e11,9007199e9,180144e11,360288e11,7205759e10,1441152e11,2882304e11,5764608e11,1152922e12,2305843e12],this._activeJitterPattern=this._jitterPatterns[this._activeJitterPatternName],this._jitterScale=.1,this._gradingLutWidth=256,this._gradingLutHeight=16,this._dynamicGradingFramebuffer=null,this._dynamicGradingEffect=null,this._splatFramebuffer=null,this._splatEffect=null,this._splatGeometries={uniform:[]},this._splatGridType="uniform",this._splatPasses=[],this._splatPassCount=3,this._splatTextureWidth=0,this._splatTextureHeight=0,this._splatTransformation=new P.Transform,this._apertureTextures=[],this._depthTexture=void 0,this._ssrPreTexture=null,this._ssrTraceTexture=null,this._ssrTracePassFramebuffer=null,this._ssrTraceEffect=null,this._motionBlurMixPassFramebuffer=null,this._motionBlurPassFramebuffer=null,this._motionBlurResolveEffect=null,this._motionBlurMixEffect=null,this._motionBlurLastFrameTexture=null,this._motionBlurLastFrameFramebuffer=null,this._motionBlurLastFrameEffect=null,this._motionBlurResolveQuad=null,this._forwardPassFramebuffer=null,this._forwardTexture=null,this._forwardPassDepthFramebuffer=null,this._defaultRefractionBlurPassCount=3,this._refractionBlurPassCount=this._defaultRefractionBlurPassCount,this._refractionBlurPasses=[],this._refractionBlurTextures=[],this._tiltShiftBlurPassCount=5,this._tiltShiftBlurPasses=[],this._tiltShiftBlurTextures=[],this._dofBlurPassCount=5,this._dofBlurPasses=[],this._dofBlurTextures=[],this._dofBlurFinalTexture=null,this._cocEffect=null,this._cocPassFramebuffer=null,this._enableDepthTexturePass=!m.Context.glExtensionManager.has.depthTexture,this._ghosting1Framebuffer=null,this._ghosting1Effect=null,this._ghosting2Framebuffer=null,this._ghosting2Effect=null,this._finalPassEffect=null,this._txaaJitterIteration=0,this._txaaJitter=[0,0],this._txaaPassEffect=null,this._txaaTextureB=null,this._txaaDejitterEffect=null,this._txaaFramebufferB=null,this._txaaCurrentFrameFramebuffer=null,this._txaaTextureA=null,this._txaaCurrentFrameTex=null,this._txaaInit=!1,this._txaaHaltonSequence=null,this._txaaHaltonSequenceIdx=0,this._previousViewProjectionMatrix=null,this._previousViewProjectionMatrixCache=null,this._currentInverseViewProjectionMatrix=null,this._currentInverseViewProjectionMatrixCache=null,this._finalPassFramebuffer=null,this._fxaaEffect=null,this._fxaaPassFramebuffer=null,this._stereoLensDistortEffect=null,this._measureMap={},this._shadowPasses=[],this._shadowFramebuffer=null,this._shadowMapTextures=[],this._shadowMapSizes=[],this._shadowMapViewProjectionMatrix=[],this._shadowBlendFactor=.5,this._shadowMapTempMatrix=new p.Matrix4,this._shadowMapSize=l.Util.getParam(t,"shadowMapSize",2048),this._shadowFrustumCornersLS=[new d.Vector3(1,1,-1),new d.Vector3(-1,1,-1),new d.Vector3(-1,-1,-1),new d.Vector3(1,-1,-1),new d.Vector3(1,1,1),new d.Vector3(-1,1,1),new d.Vector3(-1,-1,1),new d.Vector3(1,-1,1)],this._shadowFrustumCornersWS=[new d.Vector3(1,1,-1),new d.Vector3(-1,1,-1),new d.Vector3(-1,-1,-1),new d.Vector3(1,-1,-1),new d.Vector3(1,1,1),new d.Vector3(-1,1,1),new d.Vector3(-1,-1,1),new d.Vector3(1,-1,1)],this._shadowFrustumCornersVS=[new d.Vector3(1,1,-1),new d.Vector3(-1,1,-1),new d.Vector3(-1,-1,-1),new d.Vector3(1,-1,-1),new d.Vector3(1,1,1),new d.Vector3(-1,1,1),new d.Vector3(-1,-1,1),new d.Vector3(1,-1,1)],this._shadowMapMins=new d.Vector3,this._shadowMapMaxes=new d.Vector3,this._shadowFrustumCentroid=new d.Vector3,this._shadowCameraHack=null,this._hasShadowCasters=!1,this._hbaoTexture=null,this._hbaoFramebuffer=null,this._hbaoBlurXFramebuffer=null,this._hbaoBlurYFramebuffer=null,this._hbaoEffect=null,this._hbaoBlurXEffect=null,this._hbaoBlurYEffect=null,this._hbaoTextureHeight=0,this._hbaoTextureWidth=0,this._hbaoRandomTextureArray=null,this._hbaoRadius=.3,this._hbaoContrast=1.25,this._hbaoAngleBias=30,this._hbaoAttenuation=1,this._hbaoBlurSharpness=16,this._initQuality(),this._canvasBlendEnabled=l.Util.getParam(t,"canvasBlendEnabled",!1),this._antialiasEnabled=l.Util.getParam(t,"antialiasEnabled",!1),this._vrEnabled=!1,this._vrDistortion=!1,this._globalFramebufferWidth=8,this._globalFramebufferHeight=8,this._renderSize=void 0,this._renderSizeWoSupersample=void 0,this._renderSizeHalfWoSupersample=void 0,this._globalOriginalRenderWidth=0,this._globalOriginalRenderHeight=0,this._frameGrabber=null,this._lensFlareDescs=[],this._tmpVec=new d.Vector3,this._tmpVec2=new d.Vector3,this._tmpVec3=new d.Vector3,this._tmpVec4=new d.Vector3,this._tmpMatrix=new p.Matrix4,this._tmpMatrix2=new p.Matrix4,this._colorAlmostWhite=new f.ColorRGBA(254/255,254/255,253/255,0),this._setupComplete=!1,this._oldFinalPassBaseTexture=void 0,m.Context.eventEmitter.on(M.PhysicalCamera.EVENT_MADE_ACTIVE,this._updatePhysicalCamera.bind(this)),m.Context.eventEmitter.on(M.PhysicalCamera.EVENT_HDR_PARAMS_CHANGED,this._updatePhysicalCameraShaderParams.bind(this)),m.Context.eventEmitter.on(M.PhysicalCamera.EVENT_CAMERA_PROJECTION_CHANGED,function(e){n._projection=e.projection}),m.Context.eventEmitter.on(x.Texture.EVENT_DEBUG_DISPLAY,function(e){if(n._finalPassEffect){if(n._oldFinalPassBaseTexture)return n._finalPassEffect.textures.baseTexture=n._oldFinalPassBaseTexture,n._oldFinalPassBaseTexture=void 0,void m.Context.logger.info(n,"resetting debug tex");n._oldFinalPassBaseTexture=n._finalPassEffect.textures.baseTexture,n._finalPassEffect.textures.baseTexture=e,m.Context.logger.info(n,"setting debug tex")}})}return(0,s.default)(e,null,[{key:"EVENT_BRDF_TEXTURE_RENDERED",get:function(){return D}},{key:"EVENT_RENDER_SIZE_CHANGED",get:function(){return V}},{key:"EVENT_REFRACTIVE_PARAMS_CHANGED",get:function(){return B}},{key:"EVENT_SSAO_PARAMS_CHANGED",get:function(){return O}},{key:"EVENT_SHADOW_PARAMS_CHANGED",get:function(){return N}},{key:"EVENT_ENV_MAP_RENDER_ENABLE",get:function(){return L}},{key:"EVENT_ENV_MAP_RENDER_DISABLE",get:function(){return F}},{key:"HBAO_RANDOM_TEXTURE_SIZE",get:function(){return H}},{key:"HBAO_BLUR_RADIUS",get:function(){return G}},{key:"HBAO_NUM_DIR",get:function(){return z}},{key:"IBL_SAMPLES",get:function(){return j}},{key:"IBL_LUT_SIZE",get:function(){return Q}},{key:"IBL_MIPMAP_LEVELS",get:function(){return W}}]),(0,s.default)(e,[{key:"_updatePhysicalCamera",value:function(e){var t=!1;if(void 0===this._physicalCamera&&(t=!0),this._physicalCamera=e,m.Context.renderer.camera=e.camera,t){var n=Math.max(1,m.Context.renderer.canvas.width=m.Context.renderer.canvas.offsetWidth*m.Context.devicePixelRatio),i=Math.max(1,m.Context.renderer.canvas.height=m.Context.renderer.canvas.offsetHeight*m.Context.devicePixelRatio);this._setupPostProcessEffect(n,i)}}},{key:"_cache",value:function(e){return this._dtorCache.push(e),e}},{key:"dtor",value:function(){this._dtorCache.forEach(function(e){e.dtor()}),this._dtorCache.length=0}},{key:"reset",value:function(e,t){this._vrEnabled=e,this._vrDistortion=t;var n=void 0,i=void 0,r=m.Context.devicePixelRatio;if(this._vrEnabled){var a=m.Context.vrDeviceManager.hardwareVr?1:m.Context.devicePixelRatio/(window.devicePixelRatio||1);n=m.Context.vrDeviceManager.renderWidth*a,i=m.Context.vrDeviceManager.renderHeight*a,l.Util.isAndroid()&&(m.Context.renderer.canvas.width=n,m.Context.renderer.canvas.height=i)}else n=m.Context.renderer.canvas.width=m.Context.renderer.canvas.offsetWidth*r,i=m.Context.renderer.canvas.height=m.Context.renderer.canvas.offsetHeight*r;if(0!==n&&0!==i){m.Context.renderer.canvas.style.display="inline-block";m.Context.renderer.canvas.offsetWidth;m.Context.renderer.canvas.style.display="",this._dtorCache.forEach(function(e){e.dtor()}),this._dtorCache.length=0,this._shadowPasses.length=0,this._shadowFramebuffer=null,this._apertureTextures.length=0,this._splatGeometries.uniform.length=0,this._brdfEffect=null,this._bloomPasses&&(this._bloomPasses.length=0),this._refractionBlurPasses.length=0,this._refractionBlurTextures.length=0,this._tiltShiftBlurPasses.length=0,this._tiltShiftBlurTextures.length=0,this._dofBlurPasses.length=0,this._dofBlurTextures.length=0,this._vrDistortionGeometry&&(this._vrDistortionGeometry.dtor(),this._vrDistortionGeometry=null),this._setupComplete=!1,this._initQuality(),this._setupPostProcessEffect(n,i)}}},{key:"_setupFlaresIfNeeded",value:function(e){this._lensFlareDescs.length=0;for(var t=e.castsShadow,n=0,i=t.length;n<i;++n)t[n].hasFlares&&this._lensFlareDescs.push(t[n].lensFlareDesc);t=e.castsNoShadow;for(var r=0,a=t.length;r<a;++r)t[r].hasFlares&&this._lensFlareDescs.push(t[r].lensFlareDesc);return this._lensFlareDescs}},{key:"update",value:function(e){this._physicalCamera&&(this._grainEnabled&&(this._grainPanning+=2800*e,this._grainPanning>this._globalFramebufferHeight&&(this._grainPanning=0)),(this._dofEnabled||this._lowEndDofEnabled)&&this._physicalCamera.autoFocus&&this._adjustFocus(this._autoFocusArrayBuffer),this._physicalCamera.autoExposure&&this._adjustExposure(this._autoExposureArrayBuffer))}},{key:"_initQuality",value:function(){var e=m.Context.qualityManager.quality;this._hdrEnabled=e.hdrEnabled,this._ssrEnabled=e.ssrEnabled,this._ssaoEnabled=e.ssaoEnabled,this._dofEnabled=e.dofEnabled,this._halfresDof=e.halfresDof,this._bloomEnabled=e.bloomEnabled,this._ghostingEnabled=e.ghostingEnabled,this._iblEnabled=e.iblEnabled,this._envBrdfLut=e.envBrdfLut,this._txaaEnabled=e.txaaEnabled,this._fxaaEnabled=e.fxaaEnabled,this._fogEnabled=e.fogEnabled,this._motionBlurEnabled=e.motionBlurEnabled,this._blurredRefractionsEnabled=e.blurredRefractionsEnabled,this._lensFlaresEnabled=e.lensFlaresEnabled,this._forceUint8Textures=e.forceUint8Textures,this._vignettingEnabled=e.vignettingEnabled,this._grainEnabled=e.grainEnabled,this._dynamicColorGradingEnabled=e.dynamicColorGradingEnabled,this._debugMeasurementsEnabled=!1,this._debugOverdrawEnabled=!1,this._lowEndDofEnabled=e.lowEndDofEnabled&&!e.dofEnabled,this._tiltShiftBlurEnabled=e.tiltShiftBlurEnabled,this._supersampleScale=e.supersampleScale||1,this._lensDirtEnabled=e.lensDirtEnabled,this._chromaticAbberationEnabled=e.chromaticAbberationEnabled,this._sharpenImageEnabled=e.sharpenImageEnabled,this._globalFramebufferScaleRatio=e.globalFramebufferScaleRatio,this._refractionBlurPassCount=this._blurredRefractionsEnabled?this._defaultRefractionBlurPassCount:0,this._hdrEnabled||(this._dofEnabled&&(this._lowEndDofEnabled=!0,this._dofEnabled=!1),this._bloomEnabled=!1,this._ghostingEnabled=!1),this._halfresScale=this._halfresDof?.5:1,this._needsDepth=this._ssrEnabled||this._ssaoEnabled||this._fogEnabled||this._dofEnabled||this._txaaEnabled||this._lowEndDofEnabled}},{key:"_setDynamicGradingParameters",value:function(){this._dynamicGradingEffect.params.hue=this._physicalCamera.gradingHue,this._dynamicGradingEffect.params.saturation=this._physicalCamera.gradingSaturation,this._dynamicGradingEffect.params.value=this._physicalCamera.gradingValue}},{key:"_renderHBAOPass",value:function(){this._startMeasurePerformance("hbaoPass"),m.Context.renderer.clearColor=f.ColorRGBA.BLACK_TRANSPARENT,m.Context.renderer.camera.setViewport(0,.5,.5,0),this._hbaoFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._hbaoEffect,U),m.Context.renderer.endScene(),this._hbaoFramebuffer.disable(),this._hbaoBlurXFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._hbaoBlurXEffect,U),m.Context.renderer.endScene(),this._hbaoBlurXFramebuffer.disable(),this._hbaoBlurYFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._hbaoBlurYEffect,U),m.Context.renderer.endScene(),this._hbaoBlurYFramebuffer.disable(),m.Context.renderer.camera.setViewport(0,1,1,0),this._stopMeasurePerformance("hbaoPass")}},{key:"_renderDebugOverdrawPass",value:function(e){m.Context.renderer.width=m.Context.renderer.width/this._globalFramebufferScaleRatio,m.Context.renderer.height=m.Context.renderer.height/this._globalFramebufferScaleRatio,m.Context.renderer.beginScene(),e.render(m.Context.renderer,w.Scene.RENDERPASS_NOP),e.render(m.Context.renderer,w.Scene.RENDERPASS_DEBUG_OVERDRAW),m.Context.renderer.endScene(),m.Context.renderer.width=m.Context.renderer.width*this._globalFramebufferScaleRatio,m.Context.renderer.height=m.Context.renderer.height*this._globalFramebufferScaleRatio}},{key:"_renderSsrTracePass",value:function(){this._startMeasurePerformance("ssrTrace"),m.Context.renderer.camera.setViewport(0,1,1,0),this._ssrTracePassFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._ssrTraceEffect,U),m.Context.renderer.endScene(),this._ssrTracePassFramebuffer.disable(),this._stopMeasurePerformance("ssrTrace")}},{key:"_renderSsrPrePass",value:function(e){this._startMeasurePerformance("ssrPrePass"),this._forwardPassFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,this._ssrPreTexture,m.Context.gl.TEXTURE_2D,0),this._forwardPassFramebuffer.enable(),m.Context.renderer.beginScene(),e.render(m.Context.renderer,w.Scene.RENDERPASS_SSR_PRE),this._forwardPassFramebuffer.disable(),this._stopMeasurePerformance("ssrPrePass")}},{key:"_renderTiltShiftBlurPasses",value:function(){if(this._tiltShiftBlurEnabled){var e=m.Context.renderer.width,t=m.Context.renderer.height;m.Context.renderer.width=this._globalFramebufferWidth,m.Context.renderer.height=this._globalFramebufferHeight;for(var n=0;n<2*this._tiltShiftBlurPassCount;++n){var i=1/this._tiltShiftBlurPasses[n].scale;m.Context.renderer.camera.setViewport(0,i,i,0),this._tiltShiftBlurPasses[n].framebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._tiltShiftBlurPasses[n].effect,U),m.Context.renderer.endScene(),this._tiltShiftBlurPasses[n].framebuffer.disable()}m.Context.renderer.width=e,m.Context.renderer.height=t,m.Context.renderer.camera.setViewport(0,1,1,0)}}},{key:"_renderDofBlurPasses",value:function(){if(this._lowEndDofEnabled){var e=m.Context.renderer.width,t=m.Context.renderer.height;m.Context.renderer.width=this._dofBlurPasses[0].width,m.Context.renderer.height=this._dofBlurPasses[0].height;m.Context.renderer.camera.setViewport(0,1,1,0),this._dofBlurPasses[0].framebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._dofBlurPasses[0].effect,U),m.Context.renderer.endScene(),this._dofBlurPasses[0].framebuffer.disable(),m.Context.renderer.width=e,m.Context.renderer.height=t,m.Context.renderer.camera.setViewport(0,1,1,0)}}},{key:"_renderForwardPass",value:function(e,t){if(this._startMeasurePerformance("forwardPass"),m.Context.renderer.camera.setViewport(0,1,1,0),this._enableDepthTexturePass&&this._needsDepth){this._forwardPassFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,this._depthTexture,m.Context.gl.TEXTURE_2D,0),this._forwardPassFramebuffer.enable();var n=m.Context.renderer.clearColor;if(m.Context.glExtensionManager.has.textureFloat?m.Context.renderer.clearColor=f.ColorRGBA.WHITE:m.Context.renderer.clearColor=this._colorAlmostWhite,this._ssrEnabled||m.Context.renderer.beginScene(),this._ssrEnabled){var i=m.Context.renderer.clearMask;m.Context.renderer.clearMask=m.Context.gl.COLOR_BUFFER_BIT,m.Context.renderer.beginScene(),m.Context.renderer.clearMask=i}m.Context.renderer.clearColor=n,e.render(m.Context.renderer,w.Scene.RENDERPASS_FORWARD_DEPTH),this._forwardPassFramebuffer.disable()}if(this.noFinalPassNeeded&&!this._vrDistortion||(this._forwardPassFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,t,m.Context.gl.TEXTURE_2D,0),this._forwardPassFramebuffer.enable()),this._ssrEnabled&&this._enableDepthTexturePass&&this._needsDepth||m.Context.renderer.beginScene(),e.render(m.Context.renderer,w.Scene.RENDERPASS_FORWARD),e.render(m.Context.renderer,w.Scene.RENDERPASS_FORWARD_TRANSLUCENT),this._blurredRefractionsEnabled){this.noFinalPassNeeded&&!this._vrDistortion||this._forwardPassFramebuffer.disable();var r=m.Context.renderer.width,a=m.Context.renderer.height;m.Context.renderer.width=this._globalFramebufferWidth,m.Context.renderer.height=this._globalFramebufferHeight;for(var o=0;o<2*this._refractionBlurPassCount+1;++o){var s=1/this._refractionBlurPasses[o].scale;m.Context.renderer.camera.setViewport(0,s,s,0),this._refractionBlurPasses[o].framebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._refractionBlurPasses[o].effect,U),m.Context.renderer.endScene(),this._refractionBlurPasses[o].framebuffer.disable()}m.Context.renderer.width=r,m.Context.renderer.height=a,m.Context.renderer.camera.setViewport(0,1,1,0),this.noFinalPassNeeded&&!this._vrDistortion||this._forwardPassFramebuffer.enable(),e.render(m.Context.renderer,w.Scene.RENDERPASS_FORWARD_REFRACTIVE)}e.render(m.Context.renderer,w.Scene.RENDERPASS_UI_1),m.Context.renderer.endScene(),this.noFinalPassNeeded&&!this._vrDistortion||this._forwardPassFramebuffer.disable(),this._stopMeasurePerformance("forwardPass")}},{key:"_renderMotionBlur",value:function(e){this._motionBlurEnabled&&(this._motionBlurPassFramebuffer.enable(),m.Context.renderer.beginScene(),e.render(m.Context.renderer,w.Scene.RENDERPASS_MOTION_BLUR),m.Context.renderer.endScene(),this._motionBlurPassFramebuffer.disable(),m.Context.renderer.camera.setViewport(0,1,1,0),this._motionBlurMixEffect.textures.previousFrameTexture=this._motionBlurLastFrameTexture,this._motionBlurMixPassFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._motionBlurMixEffect,U),m.Context.renderer.endScene(),this._motionBlurMixPassFramebuffer.disable(),this._motionBlurLastFrameFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._motionBlurLastFrameEffect,U),m.Context.renderer.endScene(),this._motionBlurLastFrameFramebuffer.disable(),m.Context.renderer.camera.setViewport(0,1,1,0),this._forwardPassFramebuffer.enable(),m.Context.renderer.draw(this._motionBlurResolveQuad,this._motionBlurResolveEffect,U),m.Context.renderer.endScene(),this._forwardPassFramebuffer.disable())}},{key:"_renderLensFlares",value:function(e){e&&e.length>0&&(this._renderFlareOcclusions(e),this._renderFlares(e))}},{key:"_renderFlareOcclusions",value:function(e){for(var t=0,n=e.length;t<n;++t){var i=e[t];if(i.loaded){var r=i.getLightPositionNDC(m.Context.renderer.camera.viewProjectionMatrix);r.x+=1,r.y+=1,r.x*=.5*m.Context.renderer.width,r.y*=.5*m.Context.renderer.height;var a=r.x-.5*i.occlusionTextureSize;if(a+i.occlusionTextureSize<0||a>m.Context.renderer.width)i.occluded=!0;else{var o=r.y-.5*i.occlusionTextureSize;if(o+i.occlusionTextureSize<0||o>m.Context.renderer.height)i.occluded=!0;else if(a<0||o<0||a>m.Context.renderer.width-i.occlusionTextureSize||o>m.Context.renderer.height-i.occlusionTextureSize)i.occluded=!0;else{i.occluded=!1,this._forwardPassFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,this._flareOcclusionForwardTexture,m.Context.gl.TEXTURE_2D,0),this._forwardPassFramebuffer.enable();var s=i.flareDescs[0],l=s.effect;s.effect=this._flareOcclusionEffect,s.effect.params.scale=i.occlusionTextureSize*i.occlusionTextureSize/m.Context.renderer.width,s.effect.params.aspect=this._physicalCamera.aspect,s.effect.states.zBufferState.enabled=!1,s.effect.states.alphaState.blendEnabled=!1,s.effect.textures.baseTexture=this._flareOcclusionBaseTextureBlack;var u=m.Context.renderer.draw(s.quad,s.effect,s.transform);s.effect.states.zBufferState.enabled=!0,s.effect.effect.textures.baseTexture=this._flareOcclusionBaseTextureWhite,m.Context.renderer.draw(s.quad,s.effect,s.transform),u&&i.occlusionTexture.copyFromFramebuffer(0,0,0,a,o,i.occlusionTextureSize,i.occlusionTextureSize),s.effect=l,s.effect.states.alphaState.blendEnabled=!0,s.effect.states.zBufferState.enabled=!1,m.Context.renderer.endScene(),this._forwardPassFramebuffer.disable()}}}else i.occluded=!0}this._forwardPassFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,this._forwardTexture,m.Context.gl.TEXTURE_2D,0)}},{key:"_renderFlares",value:function(e){this._forwardPassFramebuffer.enable();for(var t=0,n=e.length;t<n;++t)for(var i=e[t],r=i.flareDescs,a=0,o=r.length;a<o;++a){var s=r[a],l=s.quad;if(s.effect.isConfigurable){var u=s.effect;u.isHighPrecisionBufferEnabled()!==this._hdrEnabled&&u.setHighPrecisionBufferEnabled(this._hdrEnabled),u.isAutoRotateEnabled()!==s.autoRotate&&u.setAutoRotateEnabled(s.autoRotate),u.isTextureOccludeEnabled()!==s.textureOcclude&&u.setTextureOccludeEnabled(s.textureOcclude);var c=u.isCustomRotationEnabled();c?0===s.rotation?u.setCustomRotationEnabled(!1):u.params.rotation=s.rotation:c||0===s.rotation||u.setCustomRotationEnabled(!0),u.isOffsetScalingEnabled()!==s.offsetScaling&&u.setOffsetScalingEnabled(s.offsetScaling),void 0===u.params.offsetScaleAspect&&(u.params.offsetScaleAspect=[0,0,0,0]),void 0===u.params.intensity&&(u.params.intensity=[0,0,0]),u.params.offsetScaleAspect[0]=s.offset[0],u.params.offsetScaleAspect[1]=s.offset[1],u.params.offsetScaleAspect[2]=s.scale,u.params.offsetScaleAspect[3]=this._physicalCamera.aspect,u.params.intensity[0]=s.intensity.x*i.trackedLight.intensity*i.trackedLight.color.x,u.params.intensity[1]=s.intensity.y*i.trackedLight.intensity*i.trackedLight.color.y,u.params.intensity[2]=s.intensity.z*i.trackedLight.intensity*i.trackedLight.color.z,u.textures.occlusionTexture=i.occlusionTexture,m.Context.renderer.draw(l,u,s.transform)}}m.Context.renderer.endScene(),this._forwardPassFramebuffer.disable()}},{key:"_renderAutoFocusPass",value:function(){this._startMeasurePerformance("autoFocus");var e=m.Context.renderer.width,t=m.Context.renderer.height;m.Context.renderer.width=this._autoFocusRegionSize,m.Context.renderer.height=this._autoFocusRegionSize,m.Context.renderer.camera.setViewport(0,1,1,0),this._autoFocusRegionFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._autoFocusRegionEffect,U),m.Context.renderer.endScene(),this._autoFocusRegionFramebuffer.disable(),m.Context.renderer.width=1,m.Context.renderer.height=1,m.Context.renderer.camera.setViewport(0,1,1,0),this._autoFocusFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._autoFocusEffect,U),m.Context.renderer.endScene(),m.Context.gl.readPixels(0,0,1,1,m.Context.gl.RGBA,m.Context.gl.UNSIGNED_BYTE,this._autoFocusArrayBuffer),this._autoFocusFramebuffer.disable(),m.Context.renderer.width=e,m.Context.renderer.height=t,this._stopMeasurePerformance("autoFocus")}},{key:"_renderAutoExposurePass",value:function(){this._physicalCamera.autoExposure&&(this._startMeasurePerformance("autoExposure"),m.Context.renderer.camera.setViewport(0,1,1,0),this._autoExposureRegionFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._autoExposureRegionEffect,U),m.Context.renderer.endScene(),this._autoExposureRegionFramebuffer.disable(),m.Context.renderer.width=1,m.Context.renderer.height=1,m.Context.renderer.camera.setViewport(0,1,1,0),this._autoExposureFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._autoExposureEffect,U),m.Context.renderer.endScene(),m.Context.gl.readPixels(0,0,1,1,m.Context.gl.RGBA,m.Context.gl.UNSIGNED_BYTE,this._autoExposureArrayBuffer),this._autoExposureFramebuffer.disable(),m.Context.renderer.width=this._globalFramebufferWidth,m.Context.renderer.height=this._globalFramebufferHeight,this._stopMeasurePerformance("autoExposure"))}},{key:"_adjustFocus",value:function(e){if(this._projection.length>0){var t=[1,1/255,1/65025,1/160581375],n=(e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3])/255,i=2*n-1,r=this._projection[1]/(i-this._projection[0]);this._physicalCamera.adjustFocalDistance(r)}}},{key:"_adjustExposure",value:function(e){if(this._opticsEffect&&this._opticsEffect.isConfigurable&&this._projection.length>0){var t=new Float32Array(1);this._decodeFloatArray(e,t),this._physicalCamera.adjustExposure(t[0])}}},{key:"_decodeFloatArray",value:function(e,t){for(var n=void 0,i=void 0,r=void 0,a=0,o=t.length;a<o;a+=1){var s=4*a;n=.003921569*e[s+1]+153787e-10*e[s+2]+6.030863e-8*e[s+3],i=e[s+0],r=0,128&i&&(r=1,i&=-129),64&i&&(n=-n,i&=-65),r&&(i=-i),t[a]=n*this._exp2Table[i+62]}}},{key:"_renderSplatPass",value:function(){this._startMeasurePerformance("splatting"),m.Context.renderer.camera.setViewport(0,1,1,0);var e=m.Context.renderer.clearColor;m.Context.renderer.clearColor=f.ColorRGBA.BLACK_TRANSPARENT,this._splatFramebuffer.enable(),
m.Context.renderer.beginScene();for(var t=this._splatGeometries[this._splatGridType],n=0;n<t.length;++n)for(var i=t[n],r=0;r<i.length;++r){var a=0===n?4:1===n?14:2===n?4:0,o=0===n?14:1===n?38:2===n?2e4:0;this._splatEffect.params.cocThreshold=a,this._splatEffect.params.upperCocThreshold=o,m.Context.renderer.draw(i[r],this._splatEffect,this._splatTransformation)}m.Context.renderer.endScene(),this._splatFramebuffer.disable(),m.Context.renderer.clearColor=e,this._stopMeasurePerformance("splatting")}},{key:"_renderBrdfPass",value:function(){this._startMeasurePerformance("brdf");var e=m.Context.renderer.width,t=m.Context.renderer.height;m.Context.renderer.width=Q,m.Context.renderer.height=Q,this._brdfEffect.loaded&&this._brdfQuad.loaded&&(this._brdfRendered=!0),m.Context.renderer.camera.setViewport(0,1,1,0),this._brdfFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._brdfQuad,this._brdfEffect,U),m.Context.renderer.endScene(),this._brdfFramebuffer.disable(),m.Context.renderer.width=e,m.Context.renderer.height=t,this._stopMeasurePerformance("brdf")}},{key:"_renderDynamicGradingPass",value:function(){if(this._dynamicColorGradingEnabled){this._startMeasurePerformance("grading");var e=m.Context.renderer.width,t=m.Context.renderer.height;m.Context.renderer.width=this._gradingLutWidth,m.Context.renderer.height=this._gradingLutHeight,m.Context.renderer.camera.setViewport(0,1,1,0),this._dynamicGradingFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._dynamicGradingEffect,U),m.Context.renderer.endScene(),this._dynamicGradingFramebuffer.disable(),m.Context.renderer.width=e,m.Context.renderer.height=t,this._stopMeasurePerformance("grading")}}},{key:"_renderCocPass",value:function(){this._startMeasurePerformance("coc"),m.Context.renderer.camera.setViewport(0,1,1,0),this._cocPassFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._cocEffect,U),m.Context.renderer.endScene(),this._cocPassFramebuffer.disable(),this._stopMeasurePerformance("coc")}},{key:"_renderOpticsPass",value:function(){this._hdrEnabled&&(this._startMeasurePerformance("optics"),m.Context.renderer.camera.setViewport(0,1,1,0),this._opticsFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._opticsEffect,U),m.Context.renderer.endScene(),this._opticsFramebuffer.disable(),this._stopMeasurePerformance("optics"))}},{key:"_renderBloomPasses",value:function(){if(this._hdrEnabled&&this._bloomEnabled){this._startMeasurePerformance("bloom"),m.Context.renderer.camera.setViewport(0,1,1,0),this._brightnessExtractionFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._brightnessExtractionEffect,U),m.Context.renderer.endScene(),this._brightnessExtractionFramebuffer.disable();for(var e=0;e<2*this._bloomPassCount;++e){var t=1/this._bloomPasses[e].scale;m.Context.renderer.camera.setViewport(0,t,t,0),this._bloomPasses[e].framebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._bloomPasses[e].effect,U),m.Context.renderer.endScene(),this._bloomPasses[e].framebuffer.disable()}this._stopMeasurePerformance("bloom")}}},{key:"_renderGhostingPasses",value:function(){if(this._ghostingEnabled&&this._bloomEnabled&&this._hdrEnabled){this._startMeasurePerformance("ghosting");var e=1/this._bloomPasses[1].scale;m.Context.renderer.camera.setViewport(0,e,e,0),this._ghosting1Framebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._ghosting1Effect,U),m.Context.renderer.endScene(),this._ghosting1Framebuffer.disable(),m.Context.renderer.camera.setViewport(0,e,e,0),this._ghosting2Framebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._ghosting2Effect,U),m.Context.renderer.endScene(),this._ghosting2Framebuffer.disable(),this._stopMeasurePerformance("ghosting")}}},{key:"_renderShadowPasses",value:function(e){this._startMeasurePerformance("shadowPass");var t=this._shadowPasses.length,n=m.Context.renderer.camera,i=m.Context.renderer.clearColor,r=m.Context.renderer.width,a=m.Context.renderer.height;m.Context.renderer.width=this._shadowMapSize,m.Context.renderer.height=this._shadowMapSize;for(var o=0;o<t;++o)this._shadowPasses[o].shadowItemsRendered&&!this._shadowPasses[o].cameraUpdated||(m.Context.renderer.clearColor=f.ColorRGBA.WHITE,m.Context.renderer.camera=this._shadowPasses[o].camera,m.Context.renderer.camera.setViewport(0,1,1,0),this._shadowFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,this._shadowPasses[o].shadowTexture,m.Context.gl.TEXTURE_2D,0),this._shadowFramebuffer.enable(),m.Context.renderer.beginScene(),e.render(m.Context.renderer,w.Scene.RENDERPASS_SHADOW_MAP),m.Context.renderer.endScene(),this._shadowFramebuffer.disable(),m.Context.renderer.camera=n,m.Context.renderer.clearColor=f.ColorRGBA.BLACK_TRANSPARENT,this._shadowPasses[o].blurTextureXFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._shadowPasses[o].blurTextureXEffect,U),m.Context.renderer.endScene(),this._shadowPasses[o].blurTextureXFramebuffer.disable(),this._shadowPasses[o].blurTextureYFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._shadowPasses[o].blurTextureYEffect,U),m.Context.renderer.endScene(),this._shadowPasses[o].blurTextureYFramebuffer.disable());m.Context.renderer.camera.setViewport(0,1,1,0),m.Context.renderer.width=r,m.Context.renderer.height=a,m.Context.renderer.camera=n,m.Context.renderer.clearColor=i,this._stopMeasurePerformance("shadowPass")}},{key:"_renderFinalTxaaPass",value:function(){this._startMeasurePerformance("finalPassthis._txaa"),m.Context.renderer.camera.setViewport(0,1,1,0),m.Context.renderer.width=m.Context.renderer.width/this._globalFramebufferScaleRatio,m.Context.renderer.height=m.Context.renderer.height/this._globalFramebufferScaleRatio,this._txaaCurrentFrameFramebuffer.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._finalPassEffect,U),m.Context.renderer.endScene(),this._txaaCurrentFrameFramebuffer.disable(),this._txaaPassEffect.textures.currentFrameTexture=this._txaaCurrentFrameTex,this._txaaPassEffect.textures.previousFrameTexture=this._txaaTextureA,this._txaaPassEffect.params.previousViewProjectionMatrix=this._previousViewProjectionMatrixCache,this._txaaPassEffect.params.currentInverseViewProjectionMatrix=this._currentInverseViewProjectionMatrixCache,this._txaaFramebufferB.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._txaaPassEffect,U),m.Context.renderer.endScene(),this._txaaTextureA.copyFromFramebuffer(0,0,0,0,0,this._globalFramebufferWidth,this._globalFramebufferHeight),this._txaaFramebufferB.disable(),this._txaaJitter[0]=2*this._jitterScale*(this._activeJitterPattern[this._txaaJitterIteration][0]/this._globalFramebufferWidth),this._txaaJitter[1]=2*this._jitterScale*(this._activeJitterPattern[this._txaaJitterIteration][1]/this._globalFramebufferHeight),this._txaaDejitterEffect.params.texCoordOffset=this._txaaJitter,m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._txaaDejitterEffect,U),m.Context.renderer.endScene(),m.Context.renderer.width=m.Context.renderer.width*this._globalFramebufferScaleRatio,m.Context.renderer.height=m.Context.renderer.height*this._globalFramebufferScaleRatio,this._stopMeasurePerformance("finalPassthis._txaa")}},{key:"_renderFinalPass",value:function(e){this._startMeasurePerformance("finalPass"),m.Context.renderer.camera.setViewport(0,1,1,0),this.noFinalPassNeeded||(this._fxaaEnabled||this._vrDistortion?this._finalPassFramebuffer.enable():(m.Context.renderer.width=m.Context.renderer.width/this._globalFramebufferScaleRatio,m.Context.renderer.height=m.Context.renderer.height/this._globalFramebufferScaleRatio),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._finalPassEffect,U),!this._fxaaEnabled,m.Context.renderer.endScene(),(this._fxaaEnabled||this._vrDistortion)&&this._finalPassFramebuffer.disable(),this._fxaaEnabled&&(this._vrDistortion?this._fxaaPassFramebuffer.enable():(m.Context.renderer.width=m.Context.renderer.width/this._globalFramebufferScaleRatio,m.Context.renderer.height=m.Context.renderer.height/this._globalFramebufferScaleRatio),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._fxaaEffect,U),m.Context.renderer.endScene(),this._vrDistortion&&this._fxaaPassFramebuffer.disable())),this._vrDistortion&&(m.Context.renderer.width=m.Context.renderer.width/this._globalFramebufferScaleRatio,m.Context.renderer.height=m.Context.renderer.height/this._globalFramebufferScaleRatio,m.Context.renderer.beginScene(),this._vrDistortionGeometry&&m.Context.renderer.draw(this._vrDistortionGeometry,this._stereoLensDistortEffect,U),m.Context.renderer.endScene()),this._frameGrabber&&this._frameGrabber.grab(m.Context.renderer),m.Context.renderer.width=m.Context.renderer.width*this._globalFramebufferScaleRatio,m.Context.renderer.height=m.Context.renderer.height*this._globalFramebufferScaleRatio,this._stopMeasurePerformance("finalPass")}},{key:"_startMeasurePerformance",value:function(e){this._debugMeasurementsEnabled&&(this._measureMap[e]=performance.now())}},{key:"_stopMeasurePerformance",value:function(e){this._debugMeasurementsEnabled&&(this._measureMap[e]=performance.now(),this._measureMap[e]=performance.now()-this._measureMap[e])}},{key:"_applyCameraSubPixelJitter",value:function(e){var t=e.frustum,n=(t[C.Camera.RMAX]-t[C.Camera.RMIN])/this._globalFramebufferWidth,i=(t[C.Camera.UMAX]-t[C.Camera.UMIN])/this._globalOriginalRenderHeight,r=this._jitterScale*n*this._activeJitterPattern[this._txaaJitterIteration][0],a=this._jitterScale*i*this._activeJitterPattern[this._txaaJitterIteration][1];t[C.Camera.RMIN]-=r,t[C.Camera.RMAX]-=r,t[C.Camera.UMAX]-=a,t[C.Camera.UMIN]-=a,e.setFrustumRaw(t)}},{key:"render",value:function(t){if(this._physicalCamera){if(this._startMeasurePerformance("render"),this._debugOverdrawEnabled)return this._renderDebugOverdrawPass(t),void this._stopMeasurePerformance("render");var n=void 0;if(this._txaaEnabled&&(this._txaaJitterIteration=++this._txaaJitterIteration%this._activeJitterPattern.length,n=m.Context.renderer.camera.saveState(),this._applyCameraSubPixelJitter(m.Context.renderer.camera)),this._grainEnabled&&(this._finalPassEffect.params.grainPanning=this._grainPanning),this._iblEnabled&&this._envBrdfLut&&!this._brdfRendered){var i=m.Context.renderer.camera.saveState();m.Context.renderer.camera.perspective=!1,m.Context.renderer.camera.setFrustumOrtho(-Q/2,Q/2,-Q/2,Q/2,1,30),m.Context.renderer.camera.setFrame(this._fbCameraLocation,this._fbCameraDVector,this._fbCameraUVector,this._fbCameraRVector),this._renderBrdfPass(),this._brdfRendered&&m.Context.eventEmitter.emit(this,e.EVENT_BRDF_TEXTURE_RENDERED),m.Context.renderer.camera.restoreState(i)}this._ssaoEnabled&&this._setHBAOShaderParams(),this._dynamicColorGradingEnabled&&this._setDynamicGradingParameters();var r=void 0,a=t.collectLight(),o=void 0;if(void 0!==a&&(o=a.DirectionalLight),o){var s=o.castsShadow;s.length>0?(this._hasShadowCasters=!0,this._setupShadowPasses(s),this._renderShadowPasses(t)):(this._hasShadowCasters=!1,this._setupShadowPasses(s)),r=this._setupFlaresIfNeeded(o)}else this._hasShadowCasters=!1;this._ssaoEnabled&&this._renderHBAOPass();var l=m.Context.renderer.width,u=m.Context.renderer.height;if(m.Context.renderer.width=l*this._supersampleScale,m.Context.renderer.height=u*this._supersampleScale,this._ssrEnabled&&(this._renderSsrPrePass(t),this._renderSsrTracePass()),this._renderForwardPass(t,this._forwardTexture),this._renderMotionBlur(t),this._renderLensFlares(r),m.Context.renderer.width=this._globalFramebufferWidth*this._halfresScale,m.Context.renderer.height=this._globalFramebufferHeight*this._halfresScale,(this._dofEnabled||this._lowEndDofEnabled)&&this._physicalCamera.autoFocus&&this._renderAutoFocusPass(),this._dofEnabled){this._renderCocPass();var c=m.Context.renderer.camera.saveState();m.Context.renderer.camera.perspective=!1,m.Context.renderer.camera.setFrustumOrtho(-this._splatTextureWidth/2,this._splatTextureWidth/2,-this._splatTextureHeight/2,this._splatTextureHeight/2,1,30),m.Context.renderer.camera.setFrame(this._fbCameraLocation,this._fbCameraDVector,this._fbCameraUVector,this._fbCameraRVector),this._renderSplatPass(),m.Context.renderer.camera.restoreState(c)}m.Context.renderer.width=this._globalFramebufferWidth,m.Context.renderer.height=this._globalFramebufferHeight,this._renderOpticsPass(),this._renderTiltShiftBlurPasses(),this._renderDofBlurPasses(),this._renderAutoExposurePass(),this._renderBloomPasses(),this._renderGhostingPasses(),this._renderDynamicGradingPass(),this._txaaEnabled?(this._currentInverseViewProjectionMatrix.copyFrom(m.Context.renderer.camera.viewMatrix),this._currentInverseViewProjectionMatrix.multRight(m.Context.renderer.camera.projectionMatrix),this._currentInverseViewProjectionMatrix.invert(),this._currentInverseViewProjectionMatrix.copyToArray(this._currentInverseViewProjectionMatrixCache),this._txaaInit&&this._renderFinalTxaaPass(),this._previousViewProjectionMatrix.copyFrom(m.Context.renderer.camera.viewMatrix),this._previousViewProjectionMatrix.multRight(m.Context.renderer.camera.projectionMatrix),this._previousViewProjectionMatrix.copyToArray(this._previousViewProjectionMatrixCache),this._txaaInit=!0,m.Context.renderer.camera.restoreState(n)):this._renderFinalPass(t),this._vrEnabled&&m.Context.vrDeviceManager.hmd&&m.Context.vrDeviceManager.hmd.isPresenting&&m.Context.vrDeviceManager.hmd.submitFrame(m.Context.vrDeviceManager.pose),this._stopMeasurePerformance("render"),this._pendingEnvMapRenderRequests&&this._pendingEnvMapRenderRequests.length>0&&this._renderEnvMaps(t)}}},{key:"addEnvMapRenderRequest",value:function(e,t,n){this._pendingEnvMapRenderRequests||(this._pendingEnvMapRenderRequests=[]),this._pendingEnvMapRenderRequests.push({size:e,position:t,identityFrame:n})}},{key:"_renderEnvMaps",value:function(e){if(this._floatChannelSpreadEffect||this._precomputeCubeIBLSpecularEffect||this._precomputeCubeIBLDiffuseEffect?(this._floatChannelSpreadEffect.enable(),this._precomputeCubeIBLSpecularEffect.enable(),this._precomputeCubeIBLDiffuseEffect.enable()):(this._floatChannelSpreadEffect=new A.Effect({shader:m.Context.makeResourcePath("shader/floatChannelSpread.json")}),this._cubeMapScreenFillingQuad=g.GeometryUtil.makeScaledFullscreenQuadSeperate(1,-1),this._floatChannelSpreadEffect.states.alphaState.blendEnabled=!1,this._floatChannelSpreadEffect.states.cullState.frontFace=m.Context.gl.CW,this._floatChannelSpreadEffect.paramAttributes=this._cubeMapScreenFillingQuad.vertexBuffer.attributes,this._floatChannelSpreadEffect.enable(),this._precomputeCubeIBLSpecularEffect=new A.Effect({shader:m.Context.makeResourcePath("shader/precomputeIBLFullscreen.json"),onConfigure:function(e){e.setIntegrateEnvMapEnabled(!0),e.setCubeMapEnabled(!0),e.setDiffuseEnabled(!1),e.setPassthroughEnabled(!1),e.setTexCoordScaleEnabled(!1),e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}}),this._precomputeCubeIBLSpecularEffect.states.alphaState.blendEnabled=!1,this._precomputeCubeIBLSpecularEffect.paramAttributes=this._cubeMapScreenFillingQuad.vertexBuffer.attributes,this._precomputeCubeIBLDiffuseEffect=new A.Effect({shader:m.Context.makeResourcePath("shader/precomputeIBLFullscreen.json"),onConfigure:function(e){e.setIntegrateEnvMapEnabled(!0),e.setCubeMapEnabled(!0),e.setDiffuseEnabled(!0),e.setPassthroughEnabled(!1),e.setTexCoordScaleEnabled(!1),e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}}),this._precomputeCubeIBLDiffuseEffect.states.alphaState.blendEnabled=!1,this._precomputeCubeIBLDiffuseEffect.paramAttributes=this._cubeMapScreenFillingQuad.vertexBuffer.attributes,this._precomputeCubeIBLSpecularEffect.enable(),this._precomputeCubeIBLDiffuseEffect.enable()),this._floatChannelSpreadEffect.isConfigurable&&this._floatChannelSpreadEffect.loaded&&this._precomputeCubeIBLSpecularEffect.isConfigurable&&this._precomputeCubeIBLSpecularEffect.loaded&&this._precomputeCubeIBLDiffuseEffect.isConfigurable&&this._precomputeCubeIBLDiffuseEffect.loaded)for(var t=0;t<this._pendingEnvMapRenderRequests.length;++t){var n=this._pendingEnvMapRenderRequests[t];this._renderEnvMapRequest(e,n,t),this._pendingEnvMapRenderRequests.splice(t,1)}}},{key:"_renderEnvMapRequest",value:function(t,n){var i=m.Context.renderer.camera,r=new C.Camera;m.Context.renderer.camera=r,r.location=n.position;var a=n.size,o=m.Context.renderer.width,s=m.Context.renderer.height;m.Context.renderer.width=2*a,m.Context.renderer.height=2*a;var u=new x.Texture({type:x.Texture.EMPTY,data:{width:2*a,height:2*a},format:x.Texture.FLOATING_POINT,generateMipmaps:!1});u.allocate();var c=new T.Renderbuffer(m.Context.gl.DEPTH_COMPONENT16,2*a,2*a);c.allocate();var h=this._forwardPassFramebuffer.getAttachment(m.Context.gl.DEPTH_ATTACHMENT).renderbuffer;this._forwardPassFramebuffer.attachRenderbuffer(m.Context.gl.DEPTH_ATTACHMENT,c);var f=void 0;f=n.identityFrame?[[new d.Vector3(0,0,1),d.Vector3.Y_AXIS],[new d.Vector3(0,0,-1),d.Vector3.Y_AXIS],[new d.Vector3(0,1,0),d.Vector3.NEG_X_AXIS],[new d.Vector3(0,-1,0),d.Vector3.X_AXIS],[new d.Vector3(1,0,0),d.Vector3.Y_AXIS],[new d.Vector3(-1,0,0),d.Vector3.Y_AXIS]]:[[this._tmpVec.copyFrom(i.dVector).neg(),i.uVector],[i.dVector,i.uVector],[i.uVector,this._tmpVec2.copyFrom(i.rVector).neg()],[this._tmpVec3.copyFrom(i.uVector).neg(),i.rVector],[i.rVector,i.uVector],[this._tmpVec4.copyFrom(i.rVector).neg(),i.uVector]],m.Context.eventEmitter.emit(this,e.EVENT_ENV_MAP_RENDER_ENABLE),this._floatChannelSpreadEffect.states.cullState.frontFace=m.Context.gl.CW;for(var _=l.Util.mipOffsetPerFace(a,4,4),p=new Float32Array(_/4*6),A=0;A<6;++A){r.lookDirection(f[A][0],f[A][1]),r.setFrustum(90,1,i.near,i.far),m.Context.renderer.camera.setViewport(0,1,1,0),m.Context.renderer.camera=r,this._renderForwardPass(t,u);var g=this._readbackFloatTexture(this._floatChannelSpreadEffect,this._cubeMapScreenFillingQuad,u,a,a);p.set(g,A*_/4)}var v=new x.Texture({type:x.Texture.DATA,target:x.Texture.CUBE_MAP,data:{arrayBuffer:p,cubeMapInfo:{size:a}},format:x.Texture.FLOATING_POINT,generateMipmaps:!0});v.preload();var y=[new d.Vector3(1,0,0),new d.Vector3(-1,0,0),new d.Vector3(0,1,0),new d.Vector3(0,-1,0),new d.Vector3(0,0,1),new d.Vector3(0,0,-1)],b=[new d.Vector3(0,0,-1),new d.Vector3(0,0,1),new d.Vector3(1,0,0),new d.Vector3(1,0,0),new d.Vector3(1,0,0),new d.Vector3(-1,0,0)],E=[new d.Vector3(0,-1,0),new d.Vector3(0,-1,0),new d.Vector3(0,0,1),new d.Vector3(0,0,-1),new d.Vector3(0,-1,0),new d.Vector3(0,-1,0)];this._floatChannelSpreadEffect.states.cullState.frontFace=m.Context.gl.CCW,this._precomputeCubeIBLSpecularEffect.textures.envProbe=v;var w=new S.Framebuffer,M=[];l.Util.mipOffsetPerFace(a,4,4,M);for(var P=1;P<M.length;++P){var I=M[P].size,R=new x.Texture({type:x.Texture.EMPTY,data:{width:I,height:I},filterType:{min:x.Texture.NEAREST,mag:x.Texture.NEAREST},format:x.Texture.FLOATING_POINT,generateMipmaps:!1});R.allocate(),m.Context.renderer.width=I,m.Context.renderer.height=I,w.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,R,m.Context.gl.TEXTURE_2D,0);for(var k=0;k<6;++k){this._precomputeCubeIBLSpecularEffect.params.mipCount=M.length-3,this._precomputeCubeIBLSpecularEffect.params.roughness=Math.pow(P/(M.length-3),2),this._precomputeCubeIBLSpecularEffect.params.faceVector=y[k],this._precomputeCubeIBLSpecularEffect.params.faceU=b[k],this._precomputeCubeIBLSpecularEffect.params.faceV=E[k],this._precomputeCubeIBLSpecularEffect.params.faceSize=I,this._precomputeCubeIBLSpecularEffect.params.readFaceSize=a,w.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._precomputeCubeIBLSpecularEffect,U),m.Context.renderer.endScene(),w.disable();var D=this._readbackFloatTexture(this._floatChannelSpreadEffect,this._screenFillingQuad,R,I,I);p.set(D,k*(_/4)+M[P].offset/4)}}var V=.25*a;m.Context.renderer.width=V,m.Context.renderer.height=V;var B=l.Util.mipOffsetPerFace(V,4,4),O=new Float32Array(B/4*6);this._precomputeCubeIBLDiffuseEffect.textures.envProbe=v;for(var N=0;N<6;++N){var L=new x.Texture({type:x.Texture.EMPTY,data:{width:V,height:V},filterType:{min:x.Texture.NEAREST,mag:x.Texture.NEAREST},format:x.Texture.FLOATING_POINT,generateMipmaps:!1});L.allocate(),w.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,L,m.Context.gl.TEXTURE_2D,0),this._precomputeCubeIBLDiffuseEffect.params.mipCount=M.length-3,this._precomputeCubeIBLDiffuseEffect.params.faceVector=y[N],this._precomputeCubeIBLDiffuseEffect.params.faceU=b[N],this._precomputeCubeIBLDiffuseEffect.params.faceV=E[N],this._precomputeCubeIBLDiffuseEffect.params.faceSize=V,this._precomputeCubeIBLDiffuseEffect.params.readFaceSize=a,w.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(this._screenFillingQuad,this._precomputeCubeIBLDiffuseEffect,U),m.Context.renderer.endScene(),w.disable();var F=this._readbackFloatTexture(this._floatChannelSpreadEffect,this._screenFillingQuad,L,V,V);O.set(F,N*(B/4))}this._writeDDSCube(p,a,4,4,"cubeSpecular"),this._writeDDSCube(O,V,4,4,"cubeDiffuse"),m.Context.renderer.camera=i,m.Context.renderer.camera=i,m.Context.renderer.width=o,m.Context.renderer.height=s,this._forwardPassFramebuffer.attachRenderbuffer(m.Context.gl.DEPTH_ATTACHMENT,h),m.Context.eventEmitter.emit(this,e.EVENT_ENV_MAP_RENDER_DISABLE)}},{key:"_writeDDSCube",value:function(e,t,n,i,r){var a={DDPF_ALPHAPIXELS:1,DDPF_ALPHA:2,DDPF_FOURCC:4,DDPF_RGB:64,DDPF_YUV:512,DDPF_LUMINANCE:131072},o=new Uint32Array([542327876,124,135183,t,t,t*n*i,1,l.Util.getMipCount(t),0,0,0,0,0,0,0,0,0,0,0,32,a.DDPF_RGB|a.DDPF_ALPHAPIXELS|a.DDPF_FOURCC,116,n*i*8,16711680,65280,255,0,4198408,65024,0,0,0]),s=new Uint8Array(e.buffer.byteLength+o.length*n);s.set(new Uint8Array(o.buffer)),s.set(new Uint8Array(e.buffer),o.length*n),k.default.saveAs(new Blob([s],{type:"application/octet-binary"}),r+".dds")}},{key:"_readbackFloatTexture",value:function(e,t,n,i,r){e.textures.baseTexture=n;var a=new S.Framebuffer,o=new x.Texture({type:x.Texture.EMPTY,data:{width:i,height:r},filterType:{min:x.Texture.NEAREST,mag:x.Texture.NEAREST},format:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1});o.allocate(),a.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,o,m.Context.gl.TEXTURE_2D,0);var s=[new Uint8Array(i*r*4),new Uint8Array(i*r*4),new Uint8Array(i*r*4)],l=m.Context.renderer.width,u=m.Context.renderer.height;m.Context.renderer.width=i,m.Context.renderer.height=r;for(var c=0;c<3;++c)e.params.channel=c,a.enable(),m.Context.renderer.beginScene(),m.Context.renderer.draw(t,e,U),m.Context.renderer.endScene(),m.Context.gl.readPixels(0,0,i,r,m.Context.gl.RGBA,m.Context.gl.UNSIGNED_BYTE,s[c]),a.disable();for(var d=[1,1/255,1/65025,1/160581375],h=new Float32Array(i*r*4),f=0,_=0;f<i*r*4;f+=4,_+=4)h[_]=d[0]*s[0][f]+d[1]*s[0][f+1]+d[2]*s[0][f+2]+d[3]*s[0][f+3],h[_+1]=d[0]*s[1][f]+d[1]*s[1][f+1]+d[2]*s[1][f+2]+d[3]*s[1][f+3],h[_+2]=d[0]*s[2][f]+d[1]*s[2][f+1]+d[2]*s[2][f+2]+d[3]*s[2][f+3];return m.Context.renderer.width=l,m.Context.renderer.height=u,h}},{key:"_sumOneOverTwoToThePowerOfI",value:function(e){return 1/Math.pow(2,e-1)*(Math.pow(2,e)-1)-1}},{key:"_updatePhysicalCameraShaderParams",value:function(){if(this._dofEnabled&&(void 0===this._cocEffect.params.fDLS&&(this._cocEffect.params.fDLS=new d.Vector3),this._cocEffect.params.fDLS.x=this._physicalCamera.focalDistance,this._cocEffect.params.fDLS.y=this._physicalCamera.focalLength,this._cocEffect.params.fDLS.z=this._physicalCamera.fStop),(this._dofEnabled||this._lowEndDofEnabled)&&this._physicalCamera.autoExposure){var e=this._physicalCamera.autoFocusRegionSize,t=this._physicalCamera.autoFocusRegionSize,n=this._physicalCamera.autoFocusPositionX+(this._vrEnabled?.25:0);this._autoFocusRegionEffect.params.bl=[n-.5*e,this._physicalCamera.autoFocusPositionY-.5*t],this._autoFocusRegionEffect.params.tr=[n+.5*e,this._physicalCamera.autoFocusPositionY+.5*t],this._autoFocusEffect.params.mipmapLevel=Math.log(this._autoFocusRegionSize)/Math.log(2)}if(this._dofEnabled&&(this._splatEffect.params.filmHeight=this._physicalCamera.filmHeight,this._splatEffect.params.fStop=this._physicalCamera.fStop,this._splatEffect.textures.apertureTexture=this._apertureTextures[this._physicalCamera.apertureIdx],this._splatEffect.params.opticalVignettingStrength=this._physicalCamera.opticalVignettingStrength,this._splatEffect.params.focalLength=this._physicalCamera.focalLength,this._splatEffect.params.kn=this._physicalCamera.kn,this._opticsEffect.params.filmSize=[this._physicalCamera.filmWidth,this._physicalCamera.filmHeight],this._opticsEffect.params.cocThreshold=this._physicalCamera.cocThreshold,this._opticsEffect.params.cocThresholdRange=this._physicalCamera.cocThresholdRange),this._hdrEnabled){if(this._physicalCamera.autoExposure){var i=this._physicalCamera.autoExposureRegionSize,r=this._physicalCamera.autoExposureRegionSize,a=this._physicalCamera.autoExposurePositionX+(this._vrEnabled?.25:0);this._autoExposureRegionEffect.params.bl=[a-.5*i,this._physicalCamera.autoExposurePositionY-.5*r],this._autoExposureRegionEffect.params.tr=[a+.5*i,this._physicalCamera.autoExposurePositionY+.5*r],this._autoExposureEffect.params.mipmapLevel=Math.log(this._autoExposureRegionSize)/Math.log(2)}this._vignettingEnabled&&(this._finalPassEffect.params.focalLength=this._physicalCamera.focalLength,this._finalPassEffect.params.opticalVignettingStrength=this._physicalCamera.opticalVignettingStrength,this._finalPassEffect.params.distanceToFilm=this._physicalCamera.lensDistanceToFilm,this._finalPassEffect.params.filmSize=[this._physicalCamera.filmWidth,this._physicalCamera.filmHeight],this._finalPassEffect.params.fStop=this._physicalCamera.fStop),this._finalPassEffect.isConfigurable&&this._finalPassEffect.isColorGradientEnabled()!==this._physicalCamera.gradientEnabled&&this._finalPassEffect.setColorGradientEnabled(this._physicalCamera.gradientEnabled),this._physicalCamera.gradientEnabled&&(this._finalPassEffect.params.gradientColorA=this._physicalCamera.gradientColorA,this._finalPassEffect.params.gradientColorB=this._physicalCamera.gradientColorB,this._finalPassEffect.params.gradientDirection=this._physicalCamera.gradientDirection),this._opticsEffect.params.fStop=this._physicalCamera.fStop,this._opticsEffect.params.shutterSpeed=this._physicalCamera.shutterSpeed,this._opticsEffect.params.lensTransmittance=this._physicalCamera.lensTransmittance,this._opticsEffect.params.filmSpeed=100*this._physicalCamera.filmSpeed,this._opticsEffect.params.apertureIlluminationCoefficient=this._physicalCamera.apertureIlluminationCoefficients[this._physicalCamera.apertureIdx]}this._bloomEnabled&&(this._brightnessExtractionEffect.params.glareThreshold=this._physicalCamera.glareThreshold,this._finalPassEffect.params.glareVisibility=this._physicalCamera.glareVisibility,this._ghostingEnabled&&(this._ghosting1Effect.params.ghostingThreshold=this._physicalCamera.ghostingThreshold,this._finalPassEffect.params.ghostingVisibility=this._physicalCamera.ghostingVisibility)),this._dynamicColorGradingEnabled&&(this._dynamicGradingEffect.textures.rgbLut=this._physicalCamera.gradingLut),this._lensDirtEnabled&&(this._finalPassEffect.textures.lensDirtTexture=this._physicalCamera.lensDirt,this._finalPassEffect.params.dirtVisibility=this._physicalCamera.lensDirtAmount),this._grainEnabled&&(this._finalPassEffect.params.grainPanning=this._grainPanning,this._finalPassEffect.params.grainAmount=this._physicalCamera.grainAmount),this._lowEndDofEnabled&&(this._finalPassEffect.params.projection=this._projection,void 0===this._finalPassEffect.params.fDLSA&&(this._finalPassEffect.params.fDLSA=new h.Vector4),this._finalPassEffect.params.fDLSA.x=this._physicalCamera.focalDistance,this._finalPassEffect.params.fDLSA.y=this._physicalCamera.focalLength,this._finalPassEffect.params.fDLSA.z=this._physicalCamera.fStop,this._finalPassEffect.params.fDLSA.w=this._physicalCamera.aspect,void 0===this._finalPassEffect.params.filmHeightHeight&&(this._finalPassEffect.params.filmHeightHeight=new c.Vector2),this._finalPassEffect.params.filmHeightHeight.x=this._physicalCamera.filmHeight,this._finalPassEffect.params.filmHeightHeight.y=this._globalFramebufferHeight),this._finalPassEffect&&this._finalPassEffect.isConfigurable&&(this._finalPassEffect.isTonemapSimpleEnabled()===!1&&this._physicalCamera.toneMap===M.PhysicalCamera.TONEMAP_SIMPLE&&this._finalPassEffect.setTonemapSimpleEnabled(!0),this._finalPassEffect.isTonemapFilmicEnabled()===!1&&this._physicalCamera.toneMap===M.PhysicalCamera.TONEMAP_FILMIC&&this._finalPassEffect.setTonemapFilmicEnabled(!0)),this._tiltShiftBlurEnabled&&(this._finalPassEffect.params.tiltShiftBlurAmount=this._physicalCamera.tiltShiftBlurAmount),this._stereoLensDistortEffect&&this._stereoLensDistortEffect.isConfigurable&&this._vrDistortion&&(this._stereoLensDistortEffect.params.aspectRatio=this._physicalCamera.aspect),this._finalPassEffect&&this._finalPassEffect.isConfigurable&&(this._finalPassEffect.isChromaticAbberationEnabled&&0===this._physicalCamera.chromaticAbberationAmount?this._finalPassEffect.setChromaticAbberationEnabled(!1):!this._finalPassEffect.isChromaticAbberationEnabled&&this._physicalCamera.chromaticAbberationAmount>0&&this._chromaticAbberationEnabled&&this._finalPassEffect.setChromaticAbberationEnabled(!0)),this._chromaticAbberationEnabled&&(this._finalPassEffect.params.chromaticAbberationAmount=this._physicalCamera.chromaticAbberationAmount),this._finalPassEffect&&this._finalPassEffect.isConfigurable&&(this._finalPassEffect.isSharpenImageEnabled&&0===this._physicalCamera.sharpenAmount?this._finalPassEffect.setSharpenImageEnabled(!1):!this._finalPassEffect.isSharpenImageEnabled&&this._physicalCamera.sharpenAmount>0&&this._sharpenImageEnabled&&this._finalPassEffect.setSharpenImageEnabled(!0)),this._sharpenImageEnabled&&(this._finalPassEffect.params.sharpenAmount=this._physicalCamera.sharpenAmount)}},{key:"_mergePassInOut",value:function(e,t){return l.Util.merge(e,t)}},{key:"_setupBrdfPass",value:function(e){return this._iblEnabled&&this._envBrdfLut?(this._brdfRendered||(this._brdfFramebuffer=new S.Framebuffer,this._brdfTexture=new x.Texture({type:x.Texture.EMPTY,data:{width:Q,height:Q},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}),this._brdfTexture.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),this._brdfTexture.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),this._brdfTexture.allocate(),this._brdfFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,this._brdfTexture,m.Context.gl.TEXTURE_2D,0),this._brdfEffect=new A.Effect({shader:m.Context.makeResourcePath("shader/precomputeIBL.json"),onConfigure:function(e){e.setIntegrateBRDFEnabled(!0),e.setSampleCount(j),e.setSampleCountLog2(Math.log(j)/Math.log(2)),e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}}),this._brdfQuad=g.GeometryUtil.makeCenteredSizedQuad(Q,Q)),this._mergePassInOut(e,{brdfTexture:this._brdfTexture})):this._mergePassInOut(e,{})}},{key:"_setupAutoFocusPass",value:function(e){var t=this;if(!this._dofEnabled&&!this._lowEndDofEnabled)return this._mergePassInOut(e,{});this._autoFocusRegionSize=u.MathUtil.getPreviousPowerOfTwo(this._physicalCamera.autoFocusRegionSize*Math.min(this._globalFramebufferWidth,this._globalFramebufferHeight)),this._autoFocusRegionFramebuffer=this._cache(new S.Framebuffer);var n=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._autoFocusRegionSize,height:this._autoFocusRegionSize},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!0}));n.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),
n.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),n.allocate(),this._autoFocusRegionFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,n,m.Context.gl.TEXTURE_2D,0),this._autoFocusRegionEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/autoFocusRegion.json"),onConfigure:function(e){e.setHighPrecisionBufferEnabled(t._hdrEnabled),e.textures.depthTexture=t._depthTexture,e.states.zBufferState.zBufferWrite=!1,e.states.zBufferState.zBufferRead=!1,e.states.alphaState.blendEnabled=!1}})),this._autoFocusFramebuffer=this._cache(new S.Framebuffer);var i=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:1,height:1},format:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));return i.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),i.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),i.filterType={min:x.Texture.NEAREST,mag:x.Texture.NEAREST},i.allocate(),this._autoFocusFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,i,m.Context.gl.TEXTURE_2D,0),this._autoFocusEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/autoFocus.json"),onConfigure:function(e){e.textures.depthTexture=n,e.setHighPrecisionBufferEnabled(t._hdrEnabled),m.Context.glExtensionManager.has.shaderTextureLod&&e.setTex2DLodEnabled(!0),e.states.zBufferState.zBufferWrite=!1,e.states.zBufferState.zBufferRead=!1,e.states.alphaState.blendEnabled=!1}})),this._mergePassInOut(e,{autoFocusRegionTexture:n,autoFocusTexture:i})}},{key:"_setupDebugOverdrawPass",value:function(e){return this._debugOverdrawEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/debugOverdraw.json"),onConfigure:function(){}})),e}},{key:"_setupSsrPass",value:function(e){var t=this;if(!this._ssrEnabled)return this._mergePassInOut(e,{});this._ssrPreTexture=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth*this._supersampleScale,height:this._globalFramebufferHeight*this._supersampleScale},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1})),this._ssrTraceTexture=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth*this._supersampleScale,height:this._globalFramebufferHeight*this._supersampleScale},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1})),this._ssrTraceTexture.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),this._ssrTraceTexture.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),this._ssrTraceTexture.allocate();var n=this._cache(new T.Renderbuffer(m.Context.gl.DEPTH_COMPONENT16,this._globalFramebufferWidth*this._supersampleScale,this._globalFramebufferHeight*this._supersampleScale));return n.allocate(),this._ssrTracePassFramebuffer=this._cache(new S.Framebuffer),this._ssrTracePassFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,this._ssrTraceTexture,m.Context.gl.TEXTURE_2D,0),this._ssrTracePassFramebuffer.attachRenderbuffer(m.Context.gl.DEPTH_ATTACHMENT,n),this._ssrTraceEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/ssrTrace.json"),onConfigure:function(e){e.textures.ssrPreTexture=t._ssrPreTexture,e.textures.colorTexture=t._forwardTexture,e.params.projection=t._projection,e.states.zBufferState.zBufferWrite=!1,e.states.zBufferState.zBufferRead=!1,e.states.alphaState.blendEnabled=!1}})),this._mergePassInOut(e,{ssrPreTexture:this._ssrPreTexture,ssrTraceTexture:this._ssrTraceTexture})}},{key:"_setupForwardPass",value:function(t){var n=this,i=this._cache(new T.Renderbuffer(m.Context.gl.DEPTH_COMPONENT16,this._globalFramebufferWidth*this._supersampleScale,this._globalFramebufferHeight*this._supersampleScale));if(i.allocate(),this._forwardPassFramebuffer=this._cache(new S.Framebuffer),this._forwardPassFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,this._forwardTexture,m.Context.gl.TEXTURE_2D,0),this._forwardPassFramebuffer.attachRenderbuffer(m.Context.gl.DEPTH_ATTACHMENT,i),this._blurredRefractionsEnabled){this._refractionBlurPasses=[];var r=this._cache(new S.Framebuffer),a=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth*this._supersampleScale,height:this._globalFramebufferHeight*this._supersampleScale},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));a.allocate(),r.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,a,m.Context.gl.TEXTURE_2D,0);var o=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/passThrough.json"),onConfigure:function(e){e.states.zBufferState.zBufferWrite=!1,e.states.zBufferState.zBufferRead=!1,e.states.alphaState.blendEnabled=!1,e.textures.baseTexture=n._forwardTexture}}));this._refractionBlurPasses.push({framebuffer:r,texture:a,effect:o,scale:1/this._supersampleScale});for(var s=0,l=2;s<2*this._refractionBlurPassCount;++s){var u=s%2===0,c=this._cache(new S.Framebuffer),d=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth/l,height:this._globalFramebufferHeight/l},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));d.allocate(),c.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,d,m.Context.gl.TEXTURE_2D,0);var h=void 0;u?(h=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/gaussianBlur.json"),onConfigure:function(e){e.setHorizontalEnabled(!0),e.setHighPrecisionBufferEnabled(n._hdrEnabled),e.states.zBufferState.zBufferWrite=!1,e.states.zBufferState.zBufferRead=!1,e.states.alphaState.blendEnabled=!1}})),h.params.pixelSize=l/this._globalFramebufferWidth,h.params.pixelSize2=1):(h=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/gaussianBlur.json"),onConfigure:function(e){e.setHorizontalEnabled(!1),e.setHighPrecisionBufferEnabled(n._hdrEnabled),e.states.zBufferState.zBufferWrite=!1,e.states.zBufferState.zBufferRead=!1,e.states.alphaState.blendEnabled=!1}})),h.params.pixelSize=l/this._globalFramebufferHeight,h.params.pixelSize2=1),0===s?h.textures.baseTexture=this._forwardTexture:h.textures.baseTexture=this._refractionBlurPasses[s].texture,this._refractionBlurPasses.push({framebuffer:c,texture:d,effect:h,scale:l}),u||(l*=2)}this._refractionBlurTextures=[],this._refractionBlurTextures.push(this._refractionBlurPasses[0].texture);for(var f=2;f<this._refractionBlurPasses.length;f+=2)this._refractionBlurTextures.push(this._refractionBlurPasses[f].texture);m.Context.eventEmitter.emit(this,e.EVENT_REFRACTIVE_PARAMS_CHANGED)}var _=null,p=null;return this._motionBlurEnabled&&(_=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth*this._supersampleScale,height:this._globalFramebufferHeight*this._supersampleScale},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1})),this._motionBlurPassFramebuffer=this._cache(new S.Framebuffer),this._motionBlurPassFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,_,m.Context.gl.TEXTURE_2D,0),this._motionBlurPassFramebuffer.attachRenderbuffer(m.Context.gl.DEPTH_ATTACHMENT,i),p=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth*this._supersampleScale,height:this._globalFramebufferHeight*this._supersampleScale},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1})),this._motionBlurMixPassFramebuffer=this._cache(new S.Framebuffer),this._motionBlurMixPassFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,p,m.Context.gl.TEXTURE_2D,0),this._motionBlurMixEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/motionBlurMix.json"),onConfigure:function(e){e.textures.previousFrameTexture=n._motionBlurLastFrameTexture,e.textures.currentFrameTexture=_,e.states.zBufferState.zBufferWrite=!1,e.states.zBufferState.zBufferRead=!1,e.states.alphaState.blendEnabled=!1}})),this._motionBlurLastFrameTexture=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth*this._supersampleScale,height:this._globalFramebufferHeight*this._supersampleScale},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1})),this._motionBlurLastFrameTexture.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),this._motionBlurLastFrameTexture.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),this._motionBlurLastFrameTexture.allocate(),this._motionBlurLastFrameFramebuffer=this._cache(new S.Framebuffer),this._motionBlurLastFrameFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,this._motionBlurLastFrameTexture,m.Context.gl.TEXTURE_2D,0),this._motionBlurLastFrameEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/passThrough.json"),onConfigure:function(e){e.textures.baseTexture=p,e.states.zBufferState.zBufferWrite=!1,e.states.zBufferState.zBufferRead=!1,e.states.alphaState.blendEnabled=!1}})),this._motionBlurResolveEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/passThrough.json"),onConfigure:function(e){e.textures.baseTexture=p,e.states.zBufferState.zBufferWrite=!1,e.states.zBufferState.zBufferRead=!1,e.states.alphaState.blendEnabled=!0,e.states.zBufferState.enabled=!1,e.states.alphaState.blendFunc=[m.Context.gl.SRC_ALPHA,m.Context.gl.ONE,m.Context.gl.ONE,m.Context.gl.ONE]}})),this._motionBlurResolveQuad=this._cache(g.GeometryUtil.makeFullscreenQuad())),this._needsDepth&&(this._enableDepthTexturePass?(this._forwardPassDepthFramebuffer=this._cache(new S.Framebuffer),this._forwardPassDepthFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,this._depthTexture,m.Context.gl.TEXTURE_2D,0),this._forwardPassDepthFramebuffer.attachRenderbuffer(m.Context.gl.DEPTH_ATTACHMENT,i)):this._forwardPassFramebuffer.attachTexture(m.Context.gl.DEPTH_ATTACHMENT,this._depthTexture,m.Context.gl.TEXTURE_2D,0)),this._mergePassInOut(t,{forwardTexture:this._forwardTexture,depthTexture:this._depthTexture,motionBlurTexture:_,motionBlurMixTexture:p})}},{key:"_generateUniformGridIndexVertexBufferPair",value:function(e,t,n){var i=-1>>>31-n,r=Math.pow(2,n),a=[],o=[],s=[],l=[];a.push(s),o.push(l);for(var u=0,c=0;c<e;c+=r)for(var d=0;d<t;d+=r)i&c&&i&d&&(65e3===u&&(s=[],a.push(s),l=[],o.push(l),u=0),s.push(c/e),s.push(d/t),l.push(u),++u);return{vertexArrays:a,indexArrays:o}}},{key:"_generateGeometriesFromIndexVertexBufferPair",value:function(e,t,n,i,r,a){var o=this._cache(new x.Texture({type:x.Texture.IMAGE,data:[this._physicalCamera.pupilTexture],generateMipmaps:!1}));this._splatEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/dofSplat.json"),onConfigure:function(e){e.textures.plainTexture=i,e.textures.cocTexture=r,e.textures.pupilTexture=o,e.params.pointSize=a,e.params.width=t,e.params.height=n,e.states.alphaState.blendFunc=[m.Context.gl.SRC_ALPHA,m.Context.gl.ONE,m.Context.gl.ONE,m.Context.gl.ONE],e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1,e.states.zBufferState.compare=m.Context.gl.ALWAYS}}));var s=new v.Attributes;s.setPositionChannels(2);for(var l=e.vertexArrays,u=e.indexArrays,c=[],d=0;d<l.length;++d){var h=new y.VertexBuffer({vertexData:l[d],attributes:s,usageType:m.Context.gl.STATIC_DRAW}),f=new b.IndexBuffer({data:u[d]}),_=this._cache(new E.Geometry({indexBuffer:f,vertexBuffer:h,type:E.Geometry.POINTS}));c.push(_)}return c}},{key:"_setupSplatPass",value:function(e){if(!this._dofEnabled)return this._mergePassInOut(e,{});for(var t=0;t<this._physicalCamera.apertureTextures.length;++t){var n=this._cache(new x.Texture({type:x.Texture.IMAGE,data:[this._physicalCamera.apertureTextures[t]],generateMipmaps:!1}));n.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),n.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),this._apertureTextures.push(n)}this._splatTextureWidth=(this._globalFramebufferWidth+.5*this._splatPointSize)*this._halfresScale,this._splatTextureHeight=this._globalFramebufferHeight*this._halfresScale,this._splatTransformation.position=new d.Vector3(-this._splatTextureWidth/2,-this._splatTextureHeight/2,-10),this._splatFramebuffer=this._cache(new S.Framebuffer);var i=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._splatTextureWidth,height:this._splatTextureHeight},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));i.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),i.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),i.allocate(),this._splatFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,i,m.Context.gl.TEXTURE_2D,0);for(var r=.5*this._globalFramebufferWidth*this._halfresScale,a=.5*this._globalFramebufferHeight*this._halfresScale,o=0;o<this._splatPassCount;++o){var s=this._generateUniformGridIndexVertexBufferPair(this._globalFramebufferWidth*this._halfresScale,this._globalFramebufferHeight*this._halfresScale,o),l=this._generateGeometriesFromIndexVertexBufferPair(s,r,a,e.forwardTexture,e.cocTexture,this._splatPointSize*this._halfresScale);this._splatGeometries.uniform.push(l)}return this._mergePassInOut(e,{splatTexture:i})}},{key:"_updateHBAORandomTexture",value:function(e){for(var t=0;t<H*H*4;t+=4){var n=2*Math.PI*Math.random()/e;this._hbaoRandomTextureArray[t]=Math.cos(n),this._hbaoRandomTextureArray[t+1]=Math.sin(n),this._hbaoRandomTextureArray[t+2]=Math.random(),this._hbaoRandomTextureArray[t+3]=0}}},{key:"_setHBAOShaderParams",value:function(){var e=Math.tan(.5*u.MathUtil.degToRad(this._physicalCamera.fov));this._hbaoEffect.params.focalLength=[1/e*this._physicalCamera.aspect,1/e],this._hbaoEffect.params.invFocalLength=[1/this._hbaoEffect.params.focalLength[0],1/this._hbaoEffect.params.focalLength[1]],this._hbaoEffect.params.radius=this._hbaoRadius,this._hbaoEffect.params.invRadius=1/this._hbaoEffect.params.radius,this._hbaoEffect.params.sqrRadius=this._hbaoEffect.params.radius*this._hbaoEffect.params.radius,this._hbaoEffect.params.angleBias=u.MathUtil.degToRad(this._hbaoAngleBias),this._hbaoEffect.params.contrast=this._hbaoContrast/(1-Math.sin(this._hbaoEffect.params.angleBias)),this._hbaoEffect.params.attenuation=this._hbaoAttenuation,this._hbaoEffect.params.resolution=[this._hbaoTextureWidth,this._hbaoTextureHeight],this._hbaoEffect.params.invResolution=[1/this._hbaoTextureWidth,1/this._hbaoTextureHeight],this._hbaoEffect.params.projection=this._projection;var t=(G+1)/2,n=1/(2*t*t);this._hbaoBlurXEffect.params.falloff=n,this._hbaoBlurYEffect.params.falloff=n,this._hbaoBlurXEffect.params.sharpness=this._hbaoBlurSharpness,this._hbaoBlurYEffect.params.sharpness=this._hbaoBlurSharpness}},{key:"_setupShadowPasses",value:function(t){var n=this;this._shadowMapTextures.length=0,this._shadowMapSizes.length=0,this._shadowMapViewProjectionMatrix.length=0;for(var i=t.length,r=0;r<i;++r){var a=t[r];if(!this._shadowPasses[r]){var o=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._shadowMapSize,height:this._shadowMapSize},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!0})),s=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._shadowMapSize,height:this._shadowMapSize},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1})),l=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._shadowMapSize,height:this._shadowMapSize},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1})),u=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/gaussianBlur.json"),onConfigure:function(e){e.setHorizontalEnabled(!0),e.setHighPrecisionBufferEnabled(n._hdrEnabled),e.setShadowMomentsBlurEnabled(!n._hdrEnabled),e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}}));u.params.pixelSize=1/this._shadowMapSize,u.params.pixelSize2=1,u.textures.baseTexture=o;var c=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/gaussianBlur.json"),onConfigure:function(e){e.setHorizontalEnabled(!1),e.setHighPrecisionBufferEnabled(n._hdrEnabled),e.setShadowMomentsBlurEnabled(!n._hdrEnabled),e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}}));c.params.pixelSize=1/this._shadowMapSize,c.params.pixelSize2=1,c.textures.baseTexture=s,o.allocate(),s.allocate(),l.allocate();var d=this._cache(new S.Framebuffer);d.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,s,m.Context.gl.TEXTURE_2D,0);var h=this._cache(new S.Framebuffer);h.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,l,m.Context.gl.TEXTURE_2D,0),this._shadowPasses[r]={shadowTexture:o,blurTextureX:s,blurTextureY:l,blurTextureXEffect:u,blurTextureYEffect:c,blurTextureXFramebuffer:d,blurTextureYFramebuffer:h,camera:new C.Camera,oldCamera:new C.Camera,cameraUpdated:!0,shadowItemsRendered:!1,viewProjectionMatrix:(new p.Matrix4).getAsFloat32Array()}}var f=this._shadowPasses[r].camera,_=this._getCameraForLight(a,this._shadowPasses[r].oldCamera);this._shadowPasses[r].cameraUpdated=!(f&&_.equals(f)),this._shadowPasses[r].camera=_,this._shadowMapTextures.push(this._shadowPasses[r].blurTextureY),this._shadowMapSizes.push([this._shadowMapSize,this._shadowMapSize]),this._shadowMapTempMatrix.copyFrom(this._shadowPasses[r].camera.viewMatrix),this._shadowMapTempMatrix.multRight(this._shadowPasses[r].camera.projectionMatrix),this._shadowPasses[r].viewProjectionMatrix.set(this._shadowMapTempMatrix.getAsFloat32Array()),this._shadowMapViewProjectionMatrix.push(this._shadowPasses[r].viewProjectionMatrix),m.Context.eventEmitter.emit(this,e.EVENT_SHADOW_PARAMS_CHANGED)}if(this._shadowPasses.length>i)for(var g=this._shadowPasses.splice(i,this._shadowPasses.length-i),v=g.length,y=0;y<v;++y)g[y].shadowTexture.dtor();if(!this._shadowFramebuffer&&i>0){this._shadowFramebuffer=this._cache(new S.Framebuffer);var b=this._cache(new T.Renderbuffer(m.Context.gl.DEPTH_COMPONENT16,this._shadowMapSize,this._shadowMapSize));b.allocate(),this._shadowFramebuffer.attachRenderbuffer(m.Context.gl.DEPTH_ATTACHMENT,b)}}},{key:"_getCameraForLight",value:function(e,t){this._shadowCameraHack||(this._shadowCameraHack=new C.Camera,this._shadowCameraHack.setFrustumRaw([.1,20,-.0023400000000000005,.0023400000000000005,-.0034182146077547347,.0034182146077547347]),this._shadowCameraHack.setFrame(new d.Vector3(2.5138630202433796,.7079353416965647,3.3624935208325613),new d.Vector3(-.5904431950973574,-.16627620586629693,-.7897651908801329),new d.Vector3(-.09956264416597106,.9860792175898997,-.13317303226994343),new d.Vector3(.8009145480323754,0,-.5987786625708167)));var n=this._physicalCamera.camera,i=n.inverseViewMatrix,r=n.inverseProjectionMatrix;this._shadowFrustumCornersWS[0].set(1,1,-1),this._shadowFrustumCornersWS[1].set(-1,1,-1),this._shadowFrustumCornersWS[2].set(-1,-1,-1),this._shadowFrustumCornersWS[3].set(1,-1,-1),this._shadowFrustumCornersWS[4].set(1,1,1),this._shadowFrustumCornersWS[5].set(-1,1,1),this._shadowFrustumCornersWS[6].set(-1,-1,1),this._shadowFrustumCornersWS[7].set(1,-1,1),this._shadowFrustumCornersVS[0].set(1,1,-1),this._shadowFrustumCornersVS[1].set(-1,1,-1),this._shadowFrustumCornersVS[2].set(-1,-1,-1),this._shadowFrustumCornersVS[3].set(1,-1,-1),this._shadowFrustumCornersVS[4].set(1,1,1),this._shadowFrustumCornersVS[5].set(-1,1,1),this._shadowFrustumCornersVS[6].set(-1,-1,1),this._shadowFrustumCornersVS[7].set(1,-1,1);for(var a=0;a<8;++a)this._shadowFrustumCornersLS[a].zero();this._shadowFrustumCentroid.zero();for(var o=0;o<8;++o)this._shadowFrustumCornersVS[o].mult4x4(r),this._shadowFrustumCornersWS[o].mult4x4(r).mult4x4(i),this._shadowFrustumCornersLS[o].copyFrom(this._shadowFrustumCornersWS[o]),this._shadowFrustumCentroid.add(this._shadowFrustumCornersWS[o]);this._shadowFrustumCentroid.div(8);var s=Math.max(n.frustum[C.Camera.DMAX]-n.frustum[C.Camera.DMIN],this._shadowFrustumCornersVS[4].distance(this._shadowFrustumCornersVS[5]))+1,l=t;l.perspective=!1;var u=d.Vector3.sub(this._shadowFrustumCentroid,d.Vector3.mult(e.direction,s));l.location=u,l.lookAt(this._shadowFrustumCentroid);for(var c=l.viewMatrix,h=0;h<8;++h)this._shadowFrustumCornersLS[h].mult4x4(c);this._shadowMapMins.copyFrom(this._shadowFrustumCornersLS[0]),this._shadowMapMaxes.copyFrom(this._shadowFrustumCornersLS[0]);for(var f=0;f<8;++f)this._shadowFrustumCornersLS[f].x>this._shadowMapMaxes.x?this._shadowMapMaxes.x=this._shadowFrustumCornersLS[f].x:this._shadowFrustumCornersLS[f].x<this._shadowMapMins.x&&(this._shadowMapMins.x=this._shadowFrustumCornersLS[f].x),this._shadowFrustumCornersLS[f].y>this._shadowMapMaxes.y?this._shadowMapMaxes.y=this._shadowFrustumCornersLS[f].y:this._shadowFrustumCornersLS[f].y<this._shadowMapMins.y&&(this._shadowMapMins.y=this._shadowFrustumCornersLS[f].y),this._shadowFrustumCornersLS[f].z>this._shadowMapMaxes.z?this._shadowMapMaxes.z=this._shadowFrustumCornersLS[f].z:this._shadowFrustumCornersLS[f].z<this._shadowMapMins.z&&(this._shadowMapMins.z=this._shadowFrustumCornersLS[f].z);var _=1;return l.setFrustumOrtho(this._shadowMapMins.x,this._shadowMapMaxes.x,this._shadowMapMins.y,this._shadowMapMaxes.y,this._shadowMapMins.z-_,this._shadowMapMaxes.z),l}},{key:"_setupHBAOPass",value:function(t){var n=this;if(!this._ssaoEnabled)return this._mergePassInOut(t,{});this._hbaoFramebuffer=this._cache(new S.Framebuffer),this._hbaoTextureHeight=this._globalFramebufferHeight,this._hbaoTextureWidth=this._globalFramebufferWidth,this._hbaoRandomTextureArray=new Float32Array(H*H*4),this._updateHBAORandomTexture(z);var i=this._cache(new x.Texture({type:x.Texture.DATA,data:{width:H,height:H,arrayBuffer:this._hbaoRandomTextureArray},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));this._hbaoTexture=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:.5*this._hbaoTextureWidth,height:.5*this._hbaoTextureHeight},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1})),this._hbaoTexture.allocate();var r=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:.5*this._hbaoTextureWidth,height:.5*this._hbaoTextureHeight},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));return r.allocate(),this._hbaoFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,this._hbaoTexture,m.Context.gl.TEXTURE_2D,0),this._hbaoEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/ssao.json"),onConfigure:function(e){e.textures.depthTexture=n._depthTexture,e.textures.randomTexture=i,e.setNumDir(z),e.setUseDepthExtensionEnabled(!n._enableDepthTexturePass),e.setHighPrecisionBufferEnabled(n._hdrEnabled),e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}})),this._hbaoBlurXFramebuffer=this._cache(new S.Framebuffer),this._hbaoBlurXFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,r,m.Context.gl.TEXTURE_2D,0),this._hbaoBlurXEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/ssaoBlur.json"),onConfigure:function(e){e.textures.aoTexture=n._hbaoTexture,e.textures.depthTexture=n._depthTexture,e.params.invResolution=1/n._hbaoTextureWidth,e.setHorizontalEnabled(!0),e.setBlurRadius(G),e.setUseDepthExtensionEnabled(!n._enableDepthTexturePass),e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}})),this._hbaoBlurYFramebuffer=this._cache(new S.Framebuffer),this._hbaoBlurYFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,this._hbaoTexture,m.Context.gl.TEXTURE_2D,0),this._hbaoBlurYEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/ssaoBlur.json"),onConfigure:function(e){e.textures.aoTexture=r,e.textures.depthTexture=n._depthTexture,e.params.invResolution=1/n._hbaoTextureHeight,e.setHorizontalEnabled(!1),e.setBlurRadius(G),e.setUseDepthExtensionEnabled(!n._enableDepthTexturePass),e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}})),m.Context.eventEmitter.emit(this,e.EVENT_SSAO_PARAMS_CHANGED),this._mergePassInOut(t,{hbaoSpareTexture:r})}},{key:"_setupDynamicGradingPass",value:function(e){var t=this;if(!this._dynamicColorGradingEnabled)return this._mergePassInOut(e,{});this._dynamicGradingFramebuffer=this._cache(new S.Framebuffer);var n=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._gradingLutWidth,height:this._gradingLutHeight},format:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));return n.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),n.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),n.allocate(),this._dynamicGradingFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,n,m.Context.gl.TEXTURE_2D,0),this._dynamicGradingEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/dynamicGrading.json"),onConfigure:function(e){e.textures.rgbLut=t._physicalCamera.gradingLut,e.params.hue=1,e.params.value=1,e.params.saturation=1,e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}})),this._mergePassInOut(e,{dynamicGradingLut:n})}},{key:"_setupCocPass",value:function(e){var t=this;if(!this._dofEnabled)return this._mergePassInOut(e,{});this._cocPassFramebuffer=this._cache(new S.Framebuffer);var n=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth*this._halfresScale,height:this._globalFramebufferHeight*this._halfresScale},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));return n.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),n.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),n.allocate(),this._cocPassFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,n,m.Context.gl.TEXTURE_2D,0),this._cocEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/coc.json"),onConfigure:function(e){e.setDepthExtensionEnabled(!t._enableDepthTexturePass),e.setHighPrecisionBufferEnabled(t._hdrEnabled),e.textures.depthTexture=t._depthTexture,e.params.projection=t._projection,e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}})),this._mergePassInOut(e,{cocTexture:n})}},{key:"_setupOpticsPass",value:function(e){var t=this;if(!this._hdrEnabled)return this._mergePassInOut(e,{});this._opticsFramebuffer=this._cache(new S.Framebuffer);var n=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth,height:this._globalFramebufferHeight},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));return n.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),n.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),n.allocate(),this._opticsFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,n,m.Context.gl.TEXTURE_2D,0),this._opticsEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/optics.json"),onConfigure:function(n){n.setHighPrecisionBufferEnabled(t._hdrEnabled),n.setDofEnabled(t._dofEnabled),n.textures.baseTexture=e.forwardTexture,t._dofEnabled&&(n.textures.cocTexture=e.cocTexture,n.textures.splatTexture=e.splatTexture,n.params.pointSize=t._splatPointSize*t._halfresScale,n.params.widthScale=t._splatTextureWidth/(t._splatPointSize*t._halfresScale+t._splatTextureWidth),n.params.size=t._halfresDof?t._renderSizeHalfWoSupersample:t._renderSizeWoSupersample,n.states.alphaState.blendEnabled=!1,n.states.zBufferState.enabled=!1,n.states.zBufferState.writable=!1)}})),this._mergePassInOut(e,{opticsTexture:n})}},{key:"_setupAutoExposurePass",value:function(e){if(!this._hdrEnabled)return this._mergePassInOut(e,{});this._autoExposureRegionSize=u.MathUtil.getPreviousPowerOfTwo(this._physicalCamera.autoExposureRegionSize*Math.min(this._globalFramebufferWidth,this._globalFramebufferHeight)),this._autoExposureRegionFramebuffer=this._cache(new S.Framebuffer);var t=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._autoExposureRegionSize,height:this._autoExposureRegionSize},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!0}));t.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),t.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),t.allocate(),this._autoExposureRegionFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,t,m.Context.gl.TEXTURE_2D,0),this._autoExposureRegionEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/autoExposureRegion.json"),onConfigure:function(t){t.textures.baseTexture=e.opticsTexture,t.states.alphaState.blendEnabled=!1,t.states.zBufferState.enabled=!1,t.states.zBufferState.writable=!1}})),this._autoExposureFramebuffer=this._cache(new S.Framebuffer);var n=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:1,height:1},format:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));return n.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),n.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),n.filterType={min:x.Texture.NEAREST,mag:x.Texture.NEAREST},n.allocate(),this._autoExposureFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,n,m.Context.gl.TEXTURE_2D,0),this._autoExposureEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/autoExposure.json"),onConfigure:function(e){e.textures.baseTexture=t,e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}})),this._mergePassInOut(e,{autoExposureRegionTexture:t,autoExposureTexture:n})}},{key:"_setupBloomPasses",value:function(e){if(!this._bloomEnabled)return this._mergePassInOut(e,{});this._brightnessExtractionFramebuffer=this._cache(new S.Framebuffer);var t=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth,height:this._globalFramebufferHeight},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));t.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),t.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),t.allocate(),this._brightnessExtractionFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,t,m.Context.gl.TEXTURE_2D,0),this._brightnessExtractionEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/brightnessExtraction.json"),onConfigure:function(t){t.textures.baseTexture=e.opticsTexture,t.states.alphaState.blendEnabled=!1,t.states.zBufferState.enabled=!1,t.states.zBufferState.writable=!1}})),this._bloomPasses=[];for(var n=0,i=2;n<2*this._bloomPassCount;++n){var r=n%2===0,a=this._cache(new S.Framebuffer),o=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth/i,height:this._globalFramebufferHeight/i},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));o.allocate(),a.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,o,m.Context.gl.TEXTURE_2D,0);var s=void 0;r?(s=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/gaussianBlur.json"),onConfigure:function(e){e.setHorizontalEnabled(!0),e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}})),s.params.pixelSize=i/this._globalFramebufferWidth,s.params.pixelSize2=1):(s=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/gaussianBlur.json"),onConfigure:function(e){e.setHorizontalEnabled(!1),e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}})),s.params.pixelSize=i/this._globalFramebufferHeight,s.params.pixelSize2=1),0===n?s.textures.baseTexture=t:s.textures.baseTexture=this._bloomPasses[n-1].texture,this._bloomPasses.push({framebuffer:a,texture:o,effect:s,scale:i}),r||(i*=2)}for(var l=[],u=1;u<this._bloomPasses.length;u+=2)l.push(this._bloomPasses[u].texture);return this._mergePassInOut(e,{bloomTextures:l,brightnessTexture:t})}},{key:"_setupGhostingPasses",value:function(e){if(!this._ghostingEnabled||!this._bloomEnabled)return this._mergePassInOut(e,{});var t=this._cache(new x.Texture({type:x.Texture.IMAGE,data:[m.Context.makeResourcePath("images/mask-circle.png")],generateMipmaps:!1})),n=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth/this._bloomPasses[1].scale,height:this._globalFramebufferHeight/this._bloomPasses[1].scale},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));n.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),
n.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),n.allocate(),this._ghosting1Framebuffer=this._cache(new S.Framebuffer),this._ghosting1Framebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,n,m.Context.gl.TEXTURE_2D,0),this._ghosting1Effect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/ghostingP1.json"),onConfigure:function(n){n.textures.bloomTexture1=e.bloomTextures[1],n.textures.bloomTexture2=e.bloomTextures[4],n.textures.maskTexture=t,n.states.alphaState.blendEnabled=!1,n.states.zBufferState.enabled=!1,n.states.zBufferState.writable=!1}}));var i=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth/this._bloomPasses[1].scale,height:this._globalFramebufferHeight/this._bloomPasses[1].scale},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));return i.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),i.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),i.allocate(),this._ghosting2Framebuffer=this._cache(new S.Framebuffer),this._ghosting2Framebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,i,m.Context.gl.TEXTURE_2D,0),this._ghosting2Effect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/ghostingP2.json"),onConfigure:function(e){e.textures.baseTexture=n,e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}})),this._mergePassInOut(e,{ghosting2Texture:i,ghosting1Texture:n})}},{key:"_setupFinalPass",value:function(e){var t=this;if(this._txaaEnabled)return this._mergePassInOut(e,{});var n=void 0;if((this._fxaaEnabled||this._vrDistortion)&&(n=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth,height:this._globalFramebufferHeight},format:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1})),n.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),n.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),n.allocate()),this._fxaaEnabled&&(this._finalPassFramebuffer=this._cache(new S.Framebuffer),this._finalPassFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,n,m.Context.gl.TEXTURE_2D,0),this._fxaaEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/fxaa.json"),onConfigure:function(e){e.params.texCoordOffset=[1/t._renderSize[0],1/t._renderSize[1]],e.textures.baseTexture=n,t._canvasBlendEnabled?(e.states.alphaState.blendEnabled=!0,e.states.alphaState.blendFunc=[m.Context.gl.ONE,m.Context.gl.ONE,m.Context.gl.SRC_ALPHA,m.Context.gl.SRC_ALPHA]):e.states.alphaState.blendEnabled=!1}}))),this._vrDistortion){var i=void 0;this._fxaaEnabled?(i=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth,height:this._globalFramebufferHeight},format:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1})),i.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),i.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),i.allocate(),this._fxaaPassFramebuffer=this._cache(new S.Framebuffer),this._fxaaPassFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,i,m.Context.gl.TEXTURE_2D,0)):this.noFinalPassNeeded||(this._finalPassFramebuffer=this._cache(new S.Framebuffer),this._finalPassFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,n,m.Context.gl.TEXTURE_2D,0)),this._stereoLensDistortEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/stereoLensDistort.json"),onConfigure:function(e){e.textures.baseTexture=t.noFinalPassNeeded?t._forwardTexture:t._fxaaEnabled?i:n,e.params.viewportOffsetScale=[new h.Vector4,new h.Vector4],t._canvasBlendEnabled?(e.states.alphaState.blendEnabled=!0,e.states.alphaState.blendFunc=[m.Context.gl.ONE,m.Context.gl.ONE,m.Context.gl.SRC_ALPHA,m.Context.gl.SRC_ALPHA]):e.states.alphaState.blendEnabled=!1,m.Context.eventEmitter.on(I.CardboardVRDisplay.EVENT_HMD_PARAMS_CHANGED,function(n){var i=n._deviceInfo.viewer;n._deviceInfo.device;e.setVignetteEnabled(i.vignettingStrength>0),e.setChromaticAberrationEnabled(i.chromaticAberrationStrength>0),t._vrDistortionGeometry&&(t._vrDistortionGeometry.dtor(),t._vrDistortionGeometry=null),t._vrDistortionGeometry=g.GeometryUtil.makeVRDistortionMesh(21,21,n._deviceInfo);var r=[0,0,.5,1],a=[.5,0,.5,1];e.params.viewportOffsetScale[0].x=r[0],e.params.viewportOffsetScale[0].y=r[1],e.params.viewportOffsetScale[0].z=r[2],e.params.viewportOffsetScale[0].w=r[3],e.params.viewportOffsetScale[1].x=a[0],e.params.viewportOffsetScale[1].y=a[1],e.params.viewportOffsetScale[1].z=a[2],e.params.viewportOffsetScale[1].w=a[3]})}}))}if(!this.noFinalPassNeeded){var r=null;this._grainEnabled&&(r=this._cache(new x.Texture({type:x.Texture.IMAGE,data:[this._physicalCamera.grain],generateMipmaps:!1}))),this._finalPassEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/tonemap.json"),onConfigure:function(n){if(n.setHighPrecisionBufferEnabled(t._hdrEnabled),n.setVignettingEnabled(t._vignettingEnabled),n.textures.baseTexture=t._hdrEnabled?e.opticsTexture:e.forwardTexture,n.setBloomEnabled(t._bloomEnabled),n.setGhostingEnabled(t._ghostingEnabled),t._bloomEnabled&&(n.textures.bloomTextures=e.bloomTextures,t._ghostingEnabled&&(n.textures.ghostingTexture=e.ghosting2Texture)),n.setLensdirtEnabled(t._lensDirtEnabled),t._lensDirtEnabled&&t._physicalCamera.lensDirt.preload(),n.setColorGradientEnabled(t._physicalCamera.gradientEnabled),n.setGrainEnabled(t._grainEnabled),t._grainEnabled&&(n.textures.grainTexture=r,n.params.grainTextureSize=512),n.setSharpenImageEnabled(t._sharpenImageEnabled&&t._physicalCamera.sharpenAmount>0),t._sharpenImageEnabled&&(n.params.sharpenAmount=t._physicalCamera.sharpenAmount),n.setChromaticAbberationEnabled(t._chromaticAbberationEnabled&&t._physicalCamera.chromaticAbberationAmount>0),t._chromaticAbberationEnabled&&(n.params.chromaticAbberationAmount=t._physicalCamera.chromaticAbberationAmount),n.setColorGradingEnabled(t._dynamicColorGradingEnabled),t._dynamicColorGradingEnabled){var i=16;e.dynamicGradingLut.preload(),n.textures.lut=e.dynamicGradingLut,n.params.lutParams=[i,1/i,1/i/i,1/i*(i-1)]}n.setFogEnabled(t._fogEnabled),t._fogEnabled&&(n.params.fogColor=new _.ColorRGB(1,1,1),n.params.fogDensity=.1),n.setLowEndDofEnabled(t._lowEndDofEnabled),t._lowEndDofEnabled&&(n.textures.dofBlurTexture=t._dofBlurTextures[0]),n.setTiltShiftBlurEnabled(t._tiltShiftBlurEnabled),t._tiltShiftBlurEnabled&&(n.textures.tiltShiftBlurTexture=t._tiltShiftBlurTextures[t._tiltShiftBlurPassCount-2],n.params.tiltShiftBlurAmount=t._physicalCamera.tiltShiftBlurAmount),(t._fogEnabled||t._lowEndDofEnabled)&&(n.textures.depthTexture=t._depthTexture,n.setDepthExtensionEnabled(!t._enableDepthTexturePass)),n.params.size=t._renderSize,n.states.zBufferState.enabled=!1,n.states.zBufferState.writable=!1,t._canvasBlendEnabled?(n.states.alphaState.blendEnabled=!0,n.states.alphaState.blendFunc=[m.Context.gl.ONE,m.Context.gl.ONE,m.Context.gl.SRC_ALPHA,m.Context.gl.SRC_ALPHA]):n.states.alphaState.blendEnabled=!1}}))}return this._mergePassInOut(e,{})}},{key:"_setupFinalTxaaPass",value:function(e){var t=this;if(!this._txaaEnabled)return this._mergePassInOut(e,{});var n=this._setupFinalPass(e);return this._previousViewProjectionMatrix=new p.Matrix4,this._previousViewProjectionMatrixCache=new Float32Array(16),this._currentInverseViewProjectionMatrix=new p.Matrix4,this._currentInverseViewProjectionMatrixCache=new Float32Array(16),this._previousViewProjectionMatrix.copyToArray(this._previousViewProjectionMatrixCache),this._txaaTextureA=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth,height:this._globalFramebufferHeight},generateMipmaps:!1})),this._txaaTextureA.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),this._txaaTextureA.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),this._txaaTextureA.allocate(),this._txaaTextureB=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth,height:this._globalFramebufferHeight},generateMipmaps:!1})),this._txaaTextureB.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),this._txaaTextureB.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),this._txaaTextureB.allocate(),this._txaaFramebufferB=this._cache(new S.Framebuffer),this._txaaFramebufferB.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,this._txaaTextureB,m.Context.gl.TEXTURE_2D,0),this._txaaCurrentFrameTex=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth,height:this._globalFramebufferHeight},generateMipmaps:!1})),this._txaaCurrentFrameTex.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),this._txaaCurrentFrameTex.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),this._txaaCurrentFrameTex.allocate(),this._txaaCurrentFrameFramebuffer=this._cache(new S.Framebuffer),this._txaaCurrentFrameFramebuffer.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,this._txaaCurrentFrameTex,m.Context.gl.TEXTURE_2D,0),this._txaaPassEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/temporalAAResolve.json"),onConfigure:function(n){n.setDepthExtensionEnabled(!0),n.textures.depthTexture=e.depthTexture,n.params.texelSizeHalf=[1/t._globalFramebufferWidth,1/t._globalFramebufferHeight],n.params.jitter=[0,0],n.states.alphaState.blendEnabled=!1,n.states.zBufferState.enabled=!1,n.states.zBufferState.writable=!1}})),this._txaaPassEffect.params.k=[.673,4],this._txaaDejitterEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/passThrough.json"),onConfigure:function(e){e.setTexCoordOffsetEnabled(!0),e.textures.baseTexture=t._txaaTextureA,e.params.texCoordOffset=[0,0],e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}})),this._mergePassInOut(e,n)}},{key:"_setupGlobalTextures",value:function(){if(this._needsDepth){var e=x.Texture.DEPTH_32;this._enableDepthTexturePass&&(e=this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE),this._depthTexture=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth*this._supersampleScale,height:this._globalFramebufferHeight*this._supersampleScale},format:e,generateMipmaps:!1})),this._depthTexture.filterType={min:x.Texture.NEAREST,mag:x.Texture.NEAREST},this._depthTexture.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),this._depthTexture.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),this._depthTexture.allocate()}this._forwardTexture=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth*this._supersampleScale,height:this._globalFramebufferHeight*this._supersampleScale},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1})),this._forwardTexture.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),this._forwardTexture.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),this._forwardTexture.allocate()}},{key:"_setupFlares",value:function(){this._flareOcclusionEffect=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/lensFlareOcclusion.json"),onConfigure:function(e){e.states.alphaState.blendEnabled=!1,e.states.zBufferState.enabled=!1,e.states.zBufferState.writable=!1}})),this._flareOcclusionBaseTextureBlack=this._cache(new x.Texture({type:x.Texture.IMAGE,data:[m.Context.makeResourcePath("images/black_pixel.png")],generateMipmaps:!1})),this._flareOcclusionBaseTextureBlack.preload(),this._flareOcclusionBaseTextureWhite=this._cache(new x.Texture({type:x.Texture.IMAGE,data:[m.Context.makeResourcePath("images/white_pixel.png")],generateMipmaps:!1})),this._flareOcclusionBaseTextureWhite.preload(),this._flareOcclusionForwardTexture=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth*this._supersampleScale,height:this._globalFramebufferHeight*this._supersampleScale},format:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1})),this._flareOcclusionForwardTexture.setWrapMode(0,m.Context.gl.CLAMP_TO_EDGE),this._flareOcclusionForwardTexture.setWrapMode(1,m.Context.gl.CLAMP_TO_EDGE),this._flareOcclusionForwardTexture.allocate()}},{key:"_setupTiltShiftBlur",value:function(e){var t=this;if(this._tiltShiftBlurEnabled){this._tiltShiftBlurPasses=[];for(var n=0,i=2;n<2*this._tiltShiftBlurPassCount;++n){var r=n%2===0,a=this._cache(new S.Framebuffer),o=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:this._globalFramebufferWidth/i,height:this._globalFramebufferHeight/i},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));o.allocate(),a.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,o,m.Context.gl.TEXTURE_2D,0);var s=void 0;r?(s=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/gaussianBlur.json"),onConfigure:function(e){e.setHorizontalEnabled(!0),e.setHighPrecisionBufferEnabled(t._hdrEnabled),e.states.zBufferState.zBufferWrite=!1,e.states.zBufferState.zBufferRead=!1,e.states.alphaState.blendEnabled=!1}})),s.params.pixelSize=i/this._globalFramebufferWidth,s.params.pixelSize2=1):(s=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/gaussianBlur.json"),onConfigure:function(e){e.setHorizontalEnabled(!1),e.setHighPrecisionBufferEnabled(t._hdrEnabled),e.states.zBufferState.zBufferWrite=!1,e.states.zBufferState.zBufferRead=!1,e.states.alphaState.blendEnabled=!1}})),s.params.pixelSize=i/this._globalFramebufferHeight,s.params.pixelSize2=1),0===n?this._hdrEnabled?s.textures.baseTexture=e.opticsTexture:s.textures.baseTexture=this._forwardTexture:s.textures.baseTexture=this._tiltShiftBlurPasses[n-1].texture,this._tiltShiftBlurPasses.push({framebuffer:a,texture:o,effect:s,scale:i}),r||(i*=2)}this._tiltShiftBlurTextures=[];for(var l=1;l<this._tiltShiftBlurPasses.length;l+=2)this._tiltShiftBlurTextures.push(this._tiltShiftBlurPasses[l].texture)}return this._mergePassInOut(e,{})}},{key:"_setupDofBlur",value:function(e){if(this._lowEndDofEnabled){var t=1,n=this._globalFramebufferWidth/2,i=this._globalFramebufferHeight/2;this._dofBlurPassCount=1,this._dofBlurPasses=[];for(var r=0;r<this._dofBlurPassCount;++r){var a=this._cache(new S.Framebuffer),o=this._cache(new x.Texture({type:x.Texture.EMPTY,data:{width:n/t,height:i/t},format:this._hdrEnabled?x.Texture.FLOATING_POINT:x.Texture.UNSIGNED_BYTE,generateMipmaps:!1}));o.allocate(),a.attachTexture(m.Context.gl.COLOR_ATTACHMENT0,o,m.Context.gl.TEXTURE_2D,0);var s=this._cache(new A.Effect({shader:m.Context.makeResourcePath("shader/downsample.json"),onConfigure:function(e){e.states.zBufferState.zBufferWrite=!1,e.states.zBufferState.zBufferRead=!1,e.states.alphaState.blendEnabled=!1}}));s.params.pixelSize=new c.Vector2(t/n,t/i),s.params.pixelSize2=1,this._hdrEnabled?s.textures.baseTexture=e.opticsTexture:s.textures.baseTexture=this._forwardTexture,this._dofBlurPasses.push({framebuffer:a,texture:o,effect:s,scale:t,width:n/t,height:i/t})}this._dofBlurTextures=[];for(var l=0;l<this._dofBlurPasses.length;l++)this._dofBlurTextures.push(this._dofBlurPasses[l].texture)}return this._mergePassInOut(e,{})}},{key:"_setupPostProcessEffect",value:function(t,n){return this._globalOriginalRenderWidth=t,this._globalOriginalRenderHeight=n,this._screenFillingQuad=this._cache(g.GeometryUtil.makeFullscreenQuad()),m.Context.renderer.width=this._globalOriginalRenderWidth*this._globalFramebufferScaleRatio,m.Context.renderer.height=this._globalOriginalRenderHeight*this._globalFramebufferScaleRatio,this._globalFramebufferWidth=this._globalOriginalRenderWidth*this._globalFramebufferScaleRatio,this._globalFramebufferHeight=this._globalOriginalRenderHeight*this._globalFramebufferScaleRatio,this._renderSize=[this._globalFramebufferWidth*this._supersampleScale,this._globalFramebufferHeight*this._supersampleScale],this._renderSizeWoSupersample=[this._globalFramebufferWidth,this._globalFramebufferHeight],this._renderSizeHalfWoSupersample=[this._globalFramebufferWidth*this._halfresScale,this._globalFramebufferHeight*this._halfresScale],m.Context.eventEmitter.emit(this,e.EVENT_RENDER_SIZE_CHANGED),this._debugOverdrawEnabled?void this._setupDebugOverdrawPass():(this._setupGlobalTextures(),this._lensFlaresEnabled&&this._setupFlares(),this._setupFinalPass(this._setupFinalTxaaPass(this._setupGhostingPasses(this._setupBloomPasses(this._setupAutoExposurePass(this._setupTiltShiftBlur(this._setupDofBlur(this._setupOpticsPass(this._setupSplatPass(this._setupCocPass(this._setupForwardPass(this._setupSsrPass(this._setupAutoFocusPass(this._setupDynamicGradingPass(this._setupHBAOPass(this._setupBrdfPass()))))))))))))))),this._updatePhysicalCameraShaderParams(),void(this._setupComplete=!0))}},{key:"noFinalPassNeeded",get:function(){return!(this._hdrEnabled||this._fxaaEnabled||this._fogEnabled||this._grainEnabled||this._dynamicColorGradingEnabled||this._lensDirtEnabled||this._tiltShiftBlurEnabled)}},{key:"frameGrabber",get:function(){return this._frameGrabber},set:function(e){this._frameGrabber=e}},{key:"hbaoContrast",get:function(){return this._hbaoContrast},set:function(e){this._hbaoContrast=e}},{key:"hbaoAngleBias",get:function(){return this._hbaoAngleBias},set:function(e){this._hbaoAngleBias=e}},{key:"hbaoAttenuation",get:function(){return this._hbaoAttenuation},set:function(e){this._hbaoAttenuation=e}},{key:"hbaoBlurSharpness",get:function(){return this._hbaoBlurSharpness},set:function(e){this._hbaoBlurSharpness=e}},{key:"hbaoRadius",get:function(){return this._hbaoRadius},set:function(e){this._hbaoRadius=e}},{key:"colorGlareBlendFactor",get:function(){return this._finalPassEffect&&void 0!==this._finalPassEffect.params.colorGlareBlendFactor?this._finalPassEffect.params.colorGlareBlendFactor:.5},set:function(e){this._finalPassEffect&&void 0!==this._finalPassEffect.params.colorGlareBlendFactor&&(this._finalPassEffect.params.colorGlareBlendFactor=e)}},{key:"renderSize",get:function(){return this._renderSize}},{key:"brdfTexture",get:function(){return this._brdfTexture}},{key:"projection",get:function(){return this._projection}},{key:"refractionBlurTextures",get:function(){return this._refractionBlurTextures}},{key:"refractionBlurPassCount",get:function(){return this._refractionBlurPassCount}},{key:"ssaoTexture",get:function(){return this._hbaoTexture}},{key:"shadowMapTextures",get:function(){return this._shadowMapTextures}},{key:"shadowMapSizes",get:function(){return this._shadowMapSizes}},{key:"shadowMapViewProjectionMatrix",get:function(){return this._shadowMapViewProjectionMatrix}},{key:"shadowBlendFactor",get:function(){return this._shadowBlendFactor}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.IBLNode=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(7),A=n(24),g=n(11),v=n(9),y=n(56),b=n(25),E=n(43),w=n(18),S=i(w),T="cube",x="latlong",C="iblNodeEventIblNodeChanged";t.IBLNode=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._rotationEnabled=m.Util.getParam(e,"rotationEnabled",!1),n._uri=m.Util.getParamRequired(e,"uri"),n._basePath=n._uri.split(/[^\/]*$/)[0],n._loaded=!1,n._radianceTexelSizeHalf=[0,0],n._load(),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"IBLNode",params:{rotationEnabled:this._rotationEnabled,uri:this._uri}}}}],[{key:"_getCubeOrLatLong",value:function(e){return v.Context.qualityManager.quality.useCubeIBL&&v.Context.glExtensionManager.has.shaderTextureLod&&!m.Util.isFirefox()?{type:t.CUBE,data:e.cube}:{type:t.LAT_LONG,data:e.latlong}}},{key:"CUBE",get:function(){return T}},{key:"LAT_LONG",get:function(){return x}},{key:"EVENT_IBL_NODE_CHANGED",get:function(){return C}}]),(0,f.default)(t,[{key:"_load",value:function(){E.XHRRequest.request({uri:this._uri,noCache:!1,onLoad:this._parseJson.bind(this),onError:this._abortLoad.bind(this)})}},{key:"_parseParams",value:function(e){this._specularPowerLookup=m.Util.getParam(e,"specularPowerLookup",!1),this._mipOffset=m.Util.getParam(e,"mipOffset",3),this._mipUserScale=m.Util.getParam(e,"mipUserScale",.3636),this._localizedEnvironment=m.Util.getParam(e,"localizedEnvironment",!1),this._offset=m.Util.getParam(e,"localizedEnvironmentOffset",new g.Vector3),this._localizedEnvironmentMin=m.Util.getParam(e,"localizedEnvironmentMin",new g.Vector3),this._localizedEnvironmentMax=m.Util.getParam(e,"localizedEnvironmentMax",new g.Vector3)}},{key:"_parseJson",value:function(e){if(4!==e.readyState||e.status>=300)throw new Error("error requesting iblDesc! readyState: "+e.readyState+", status: "+e.status);var n=JSON.parse(e.response);this._parseParams(n);var i=t._getCubeOrLatLong(n.data),r=this._basePath+m.Util.getParamRequired(i.data,"radianceTexturePath"),a=this._basePath+m.Util.getParamRequired(i.data,"irradianceTexturePath");this._type=m.Util.getParamRequired(i,"type"),this._radianceTexture=this.addActiveResource(new A.Texture({type:A.Texture.IMAGE,data:[r],onLoaded:this._onTextureLoaded.bind(this),generateMipmaps:!1,filterType:{min:this._type!==t.CUBE?A.Texture.LINEAR:A.Texture.LINEAR_MIPMAP_LINEAR,mag:this._type!==t.CUBE?A.Texture.LINEAR:A.Texture.LINEAR},immediateLoad:!1})),this._irradianceTexture=this.addActiveResource(new A.Texture({type:A.Texture.IMAGE,data:[a],onLoaded:this._onTextureLoaded.bind(this),generateMipmaps:!1,filterType:{min:this._type!==t.CUBE?A.Texture.LINEAR:A.Texture.LINEAR_MIPMAP_LINEAR,mag:this._type!==t.CUBE?A.Texture.LINEAR:A.Texture.LINEAR},immediateLoad:!1})),this._irradianceTexture.preload(),this._radianceTexture.preload()}},{key:"_abortLoad",value:function(){v.Context.logger.error(this,"could not load iblDesc. uri was: "+this._uri)}},{key:"$onAddedToScene",value:function(e){(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"$onAddedToScene",this).call(this,e)}},{key:"_onTextureLoaded",value:function(){this._irradianceTexture.loaded&&this._radianceTexture.loaded&&(this._loaded=!0,this._radianceTexelSizeHalf=[.5/this._radianceTexture.width,.5/this._radianceTexture.height],v.Context.eventEmitter.emit(this,t.EVENT_IBL_NODE_CHANGED))}},{key:"$onTransformUpdated",value:function(){(this._localizedEnvironment||this._rotationEnabled)&&v.Context.eventEmitter.emit(this,t.EVENT_IBL_NODE_CHANGED)}},{key:"emitIBLNodeChange",value:function(){v.Context.eventEmitter.emit(this,t.EVENT_IBL_NODE_CHANGED)}},{key:"dtor",value:function(){void 0!==this._radianceTexture&&(this._radianceTexture.dtor(),this._radianceTexture=void 0),void 0!==this._irradianceTexture&&(this._irradianceTexture.dtor(),this._irradianceTexture=void 0),this.dtorActiveResources(),(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"dtor",this).call(this)}},{key:"loaded",get:function(){return this._loaded}},{key:"rotationEnabled",get:function(){return this._rotationEnabled},set:function(e){this._rotationEnabled!==e&&(this._rotationEnabled=e,v.Context.eventEmitter.emit(this,t.EVENT_IBL_NODE_CHANGED))}},{key:"radianceTexture",get:function(){return this._radianceTexture},set:function(e){this._radianceTexture=e}},{key:"irradianceTexture",get:function(){return this._irradianceTexture},set:function(e){this._irradianceTexture=e}},{key:"radianceTexelSizeHalf",get:function(){return this._radianceTexelSizeHalf}},{key:"type",get:function(){return this._type}},{key:"radianceTextureWidth",get:function(){return this._radianceTexture.width}},{key:"irradianceTextureWidth",get:function(){return this._irradianceTexture.width}},{key:"radianceTextureHeight",get:function(){return this._radianceTexture.height}},{key:"irradianceTextureHeight",get:function(){return this._irradianceTexture.height}},{key:"localizedEnvironment",get:function(){return this._localizedEnvironment},set:function(e){this._localizedEnvironment=e}},{key:"localizedEnvironmentOffset",get:function(){return this._localizedEnvironmentOffset},set:function(e){this._localizedEnvironmentOffset=e}},{key:"localizedEnvironmentMin",get:function(){return this._localizedEnvironmentMin},set:function(e){this._localizedEnvironmentMin=e}},{key:"localizedEnvironmentMax",get:function(){return this._localizedEnvironmentMax},set:function(e){this._localizedEnvironmentMax=e}},{key:"localizedEnvironmentMatrix",get:function(){return this.worldTransform.matrix}},{key:"localizedEnvironmentInverseMatrix",get:function(){return this.worldTransform.inverseMatrix}},{key:"specularPowerLookup",get:function(){return this._specularPowerLookup},set:function(e){this._specularPowerLookup=e}},{key:"mipOffset",get:function(){return this._mipOffset},set:function(e){this._mipOffset=e}},{key:"mipUserScale",get:function(){return this._mipUserScale},set:function(e){this._mipUserScale=e}}]),t}((0,S.default)(b.SpatialNode,y.ResourceTracker))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Light=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(7),A=n(26),g=n(9),v=n(21),y=n(25),b="viewSpace",E="worldSpace";t.Light=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._castsShadow=m.Util.getParam(e,"castsShadow",!1),n._viewMatrix=m.Util.getParam(e,"viewMatrix",new A.Matrix4),n._lensFlareDesc=m.Util.getParam(e,"lensFlareDesc"),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"Light",params:{castsShadow:this._castsShadow,viewMatrix:this._viewMatrix,lensFlareDesc:this._lensFlareDesc}}}}],[{key:"VIEW_SPACE",get:function(){return b}},{key:"WORLD_SPACE",get:function(){return E}}]),(0,f.default)(t,[{key:"getShaderParams",value:function(){}},{key:"update",value:function(e){(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"update",this).call(this,e),this._lensFlareDesc&&this._lensFlareDesc.update(e)}},{key:"lightName",get:function(){return"Light"}},{key:"castsShadow",get:function(){return this._castsShadow},set:function(e){e!==this._castsShadow&&(this._castsShadow=e,g.Context.eventEmitter.emit(this,v.Scene.EVENT_SCENELIST_NEEDS_UPDATE))}},{key:"lensFlareDesc",get:function(){return this._lensFlareDesc},set:function(e){void 0!==e&&(this._lensFlareDesc&&(this._lensFlareDesc.trackedLight=void 0),this._lensFlareDesc=e,this._lensFlareDesc.trackedLight=this)}},{key:"hasFlares",get:function(){return void 0!==this._lensFlareDesc}},{key:"viewMatrix",get:function(){return this._viewMatrix},set:function(e){this._viewMatrix=e}}]),t}(y.SpatialNode)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UiClickable=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(7);t.UiClickable=function(){function e(t){(0,a.default)(this,e),this.initializer(t)}return(0,s.default)(e,[{key:"initializer",value:function(e){this._onClick=l.Util.getParam(e,"onClick",function(){}),this._hoverText=l.Util.getParam(e,"hoverText")}}]),(0,s.default)(e,[{key:"click",value:function(e){this._onClick&&this._onClick(this,e)}},{key:"hoverText",get:function(){return this._hoverText},set:function(e){this._hoverText=e}},{key:"onClick",set:function(e){this._onClick=e}}]),e}()},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(3),a=i(r),o=n(171),s=i(o);t.default=function e(t,n,i,r){var o=(0,s.default)(t,n);if(void 0===o){var l=(0,a.default)(t);null!==l&&e(l,n,i,r)}else if("value"in o&&o.writable)o.value=i;else{var u=o.set;void 0!==u&&u.call(r,i)}return i}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(640);Object.defineProperty(t,"localize",{enumerable:!0,get:function(){return i.localize}});var r=n(641);Object.defineProperty(t,"Translate",{enumerable:!0,get:function(){return r.Translate}});var a=n(189);Object.defineProperty(t,"localeReducer",{enumerable:!0,get:function(){return a.localeReducer}}),Object.defineProperty(t,"initialize",{enumerable:!0,get:function(){return a.initialize}}),Object.defineProperty(t,"addTranslation",{enumerable:!0,get:function(){return a.addTranslation}}),Object.defineProperty(t,"addTranslationForLanguage",{enumerable:!0,get:function(){return a.addTranslationForLanguage}}),Object.defineProperty(t,"setLanguages",{enumerable:!0,get:function(){return a.setLanguages}}),Object.defineProperty(t,"setActiveLanguage",{enumerable:!0,get:function(){return a.setActiveLanguage}}),Object.defineProperty(t,"getTranslate",{enumerable:!0,get:function(){return a.getTranslate}}),Object.defineProperty(t,"getActiveLanguage",{enumerable:!0,get:function(){return a.getActiveLanguage}}),Object.defineProperty(t,"getLanguages",{enumerable:!0,get:function(){return a.getLanguages}}),Object.defineProperty(t,"getTranslations",{enumerable:!0,get:function(){return a.getTranslations}}),Object.defineProperty(t,"getOptions",{enumerable:!0,get:function(){return a.getOptions}})},function(e,t,n){"use strict";var i=n(47);t.__esModule=!0;var r=i(n(642));t.Provider=r.default;var a=i(n(363));t.connectAdvanced=a.default;var o=n(190);t.ReactReduxContext=o.ReactReduxContext;var s=i(n(643));t.connect=s.default;var l=n(649);t.useDispatch=l.useDispatch;var u=n(650);t.useSelector=u.useSelector;var c=n(366);t.useStore=c.useStore;var d=n(367),h=n(652);t.batch=h.unstable_batchedUpdates;var f=i(n(368));t.shallowEqual=f.default,(0,d.setBatch)(h.unstable_batchedUpdates)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(2),d=i(c),h=n(5),f=i(h),_=n(4),p=i(_),m=n(16),A=(i(m),n(34)),g=i(A),v=n(681),y=i(v),b=g.default.bind(y.default),E=function(e){function t(e){(0,u.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n._touchStart=function(){n.setState({hovered:!0})},n._touchEnd=function(){n.setState({hovered:!1})},n.state={hovered:!1},n}return(0,p.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.ghost,n=e.disabled,i=e.primary,r=e.title,o=e.customization,s=e.onClick,l=e.fullWidth,u=e.autoWidth,c=e.lightBg,d=e.spaced,h=e.small,f=e.className,_=this.state.hovered,p=null;p=t&&!_?"transparent":_&&i?o.primaryHoverColor.string(0):c?i?o.primaryColor.string(0):o.secondaryColor.string(0):i?o.primaryColor.string(0):o.invertedSecondaryColor.string(0);var m=null;m=c?t?_?i?o.secondaryColorDark.string(0):o.invertedSecondaryColor.string(0):i?o.primaryColor.string(0):o.secondaryColor:i?o.secondaryColorDark.string(0):o.invertedSecondaryColor.string(0):t?_?o.secondaryColorDark.string(0):i?o.primaryColor.string(0):o.invertedSecondaryColor.string(0):o.secondaryColorDark.string(0);var A=1;_&&(t||n||i||(A=.7));var g="transparent";return t&&!_&&(g=i?o.primaryColor.string(0):c?o.secondaryColor.string(0):o.invertedSecondaryColor.string(0)),(0,a.default)("button",{onTouchStart:this._touchStart,onTouchEnd:this._touchEnd,onMouseEnter:this._touchStart,onMouseLeave:this._touchEnd,onClick:n?null:s,className:b(f,{root:!0,hovered:_,fullWidth:l,autoWidth:u,spaced:d,disabled:n,ghost:t,small:h}),style:{backgroundColor:p,color:m,opacity:A,borderColor:g}},void 0,r)}}]),t}(m.PureComponent);E.defaultProps={ghost:!1,disabled:!1,primary:!0,lightBg:!1,fullWidth:!1,spaced:!1},t.default=E},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ClosureAnimation=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(300),p=n(61),m=n(7);t.ClosureAnimation=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.easing=m.Util.getParam(e,"easing",p.Easing.linearTween),n._closure=m.Util.getParamRequired(e,"closure"),n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"ClosureAnimation",params:{easing:this.easing,closure:this._closure}}}}]),(0,d.default)(t,[{key:"evaluate",value:function(e,t){this._closure&&this._closure(this.interpolation,e,t)}}]),t}(_.BaseAnimation)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Intersection=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(207),u=n(206),c=n(11),d=new c.Vector3,h=new c.Vector3,f=new c.Vector3,_=new c.Vector3;
t.Intersection=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,null,[{key:"circleWithLineSegment",value:function(e,t){if(!e instanceof u.Circle&&!t instanceof l.LineSegment)throw new Error("wrong argument types supplied");var n=e.center.x-t.a.x,i=e.center.y-t.a.y,r=t.b.x-t.a.x,a=t.b.y-t.a.y,o=(n*r+i*a)/(r*r+a*a);if(o>0&&o<1&&o<e.radius){var s=new c.Vector3(t.a.x+o*r,t.a.y+o*a,0),d=(s.x-e.center.x)*(s.x-e.center.x)+(s.y-e.center.y)*(s.y-e.center.y);if(d<=e.radius*e.radius)return{intersect:!0,point:s,normal:t.normal,penetrationDepth:Math.sqrt(e.radius*e.radius-d)}}return{intersect:!1,point:null,normal:null,penetrationDepth:0}}},{key:"rayWithCylinder",value:function(e,t,n,i,r,a){d.copyFrom(e.origin),d.y=d.y-.5*n,c.Vector3.crossOut(e.direction,c.Vector3.Y_AXIS,h);var o=void 0;if(0===(o=h.magnitude()))return!1;h.normalize();var s=Math.abs(d.dot(h)),l=s<=t;if(l){c.Vector3.crossOut(d,c.Vector3.Y_AXIS,f);var u=-f.dot(h)/o;c.Vector3.crossOut(h,c.Vector3.Y_AXIS,f),f.normalize();var p=Math.abs(Math.sqrt(t*t-s*s)/e.direction.dot(f)),m=u+p;if(_.copyFrom(e.direction).mult(m).add(e.origin),_.y>.5*n||_.y<.5*-n)return!1;var A=Math.atan2(_.x,-_.z);if(i>A)return!1;if(r<A)return!1;a&&(a.t=m,a.pos.copyFrom(_))}return l}},{key:"rayWithAABB",value:function(e,t,n){var i=e.invDirection,r=e.origin,a=t.min,o=t.max,s=(a.x-r.x)*i.x,l=(o.x-r.x)*i.x,u=(a.y-r.y)*i.y,c=(o.y-r.y)*i.y,d=(a.z-r.z)*i.z,h=(o.z-r.z)*i.z,f=Math.max(Math.max(Math.min(s,l),Math.min(u,c)),Math.min(d,h)),_=Math.min(Math.min(Math.max(s,l),Math.max(u,c)),Math.max(d,h));return!(_<0||f>_)&&(n&&(n.pos.copyFrom(e.direction).mult(f).add(e.origin),n.t=f),!0)}},{key:"rayWithEllipsoid",value:function(e,t){var n=new c.Vector3(e.origin),i=new c.Vector3(e.direction);i.normalize();var r=t.origin,a=t.radii;n.sub(r);var o=n.x*n.x/(a.x*a.x)+n.y*n.y/(a.y*a.y)+n.z*n.z/(a.z*a.z),s=2*n.x*n.x/(a.x*a.x)+2*n.y*n.y/(a.y*a.y)+2*n.z*n.z/(a.z*a.z),l=n.x*n.x/(a.x*a.x)+n.y*n.y/(a.y*a.y)+n.z*n.z/(a.z*a.z)-1,u=s*s-4*o*l;if(u<0)return-1;u=Math.sqrt(u);var d=(-s+u)/(2*o),h=(-s-u)/(2*o);return d<h?d:h}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DegradationManager=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(128),p=t.DegradationManager=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return n._accumulatedDt=0,n._frameCount=0,n._enabled=!1,n._measureInterval=6,n._targetFramerate=n._defaultTargetFramerate=e.targetFramerate,n._maxDegradationLevel=10,n._degradationLevel=0,n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"reset",value:function(){this._accumulatedDt=0,this._frameCount=0,this._targetFramerate=this._defaultTargetFramerate}},{key:"update",value:function(e){this._enabled&&(this._accumulatedDt+=e,++this._frameCount,this._accumulatedDt>this._measureInterval&&(this._frameCount/this._accumulatedDt<this._targetFramerate&&this._doDegrade(),this._accumulatedDt=0,this._frameCount=0))}},{key:"_doDegrade",value:function(){this._degradationLevel=Math.min(this._degradationLevel+1,this._maxDegradationLevel),this.$emitEvent(t.PERFORMANCE_DEGRADED,this._degradationLevel)}},{key:"degradationLevel",get:function(){return this._degradationLevel}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e}},{key:"targetFramerate",get:function(){return this._targetFramerate},set:function(e){this._targetFramerate=e}},{key:"measureInterval",get:function(){return this._measureInterval},set:function(e){this._measureInterval=e}}]),t}(_.EventListener);p.PERFORMANCE_DEGRADED="performanceDegraded"},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceManager=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(9),u=1073741824,c=0,d=[];t.ResourceManager=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,null,[{key:"registerResource",value:function(e){d.indexOf(e)===-1&&d.push(e)}},{key:"unregisterResource",value:function(e){var t=0;(t=d.indexOf(e))!==-1&&d.splice(t,1)}},{key:"sendFreeRamRequest",value:function(){for(var e=0,t=d.length;e<t&&(d[e].onLowRam(),!(c<=u));++e);}},{key:"checkRamLimits",value:function(){c>u&&(l.Context.logger.error("limit of "+u+" bytes reached. sending free request"),e.sendFreeRamRequest())}},{key:"allocateBytesRam",value:function(t){c+=t,e.checkRamLimits()}},{key:"deallocateBytesRam",value:function(t){c-=t,e.checkRamLimits()}},{key:"RAM_LIMIT_BYTES",get:function(){return u},set:function(e){u=e}}]),e}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MIN_TIMESTEP=.001,t.MAX_TIMESTEP=1},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorUtil=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(14),u=n(48),c=n(20),d=n(11),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};t.ColorUtil=function(){function e(){(0,a.default)(this,e)}return(0,s.default)(e,null,[{key:"rgb2hex",value:function(e){return 255*e.r<<16^255*e.g<<8^255*e.b<<0}},{key:"rgb2hexString",value:function(t){var n=("000000"+e.rgb2hex(t).toString(16)).slice(-6);return"#"+n}},{key:"hex2rgb",value:function(e,t){return t=t||new u.ColorRGB,e=e.split(""),t.r=parseInt(e[0]+e[e[3]?1:0],16)/255,t.g=parseInt(e[e[3]?2:1]+(e[3]||e[1]),16)/255,t.b=parseInt((e[4]||e[2])+(e[5]||e[2]),16)/255,t}},{key:"hexString2rgb",value:function(t,n){return n=n||new u.ColorRGB,e.hex2rgb(t.substring(1),n),n}},{key:"rgb2hsv",value:function(e,t){t=t||new d.Vector3,t.x=0,t.y=0,t.z=Math.max(e.r,e.g,e.b);var n=Math.min(e.r,e.g,e.b),i=t.z-n;if(0!==i){t.y=i/t.z;var r=(t.z-e.r)/i,a=(t.z-e.g)/i,o=(t.z-e.b)/i,s=r,u=a;r-=o,a-=s,o-=u,r+=2,a+=4,e.r>=t.z?t.x=o:e.g>=t.z?t.x=r:t.x=a,t.x=l.MathUtil.fract(t.x/6)}return t}},{key:"hsv2rgb",value:function(e,t){return t=t||new u.ColorRGB,t.r=l.MathUtil.clamp(Math.abs(6*e.x-3)-1,0,1),t.g=l.MathUtil.clamp(2-Math.abs(6*e.x-2),0,1),t.b=l.MathUtil.clamp(2-Math.abs(6*e.x-4),0,1),t.r=((t.r-1)*e.y+1)*e.z,t.g=((t.g-1)*e.y+1)*e.z,t.b=((t.b-1)*e.y+1)*e.z,t}},{key:"hue2rgb",value:function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}},{key:"hsl2rgb",value:function(t,n){n=n||new u.ColorRGB;var i=t.x,r=t.y,a=t.z;if(0===r)n.r=n.g=n.b=a;else{var o=a<=.5?a*(1+r):a+r-a*r,s=2*a-o;n.r=e.hue2rgb(s,o,i+1/3),n.g=e.hue2rgb(s,o,i),n.b=e.hue2rgb(s,o,i-1/3)}return n}},{key:"rgb2hsl",value:function(e,t){t=t||new d.Vector3;var n=e.r,i=e.g,r=e.b,a=Math.max(n,i,r),o=Math.min(n,i,r),s=void 0,l=void 0,u=(o+a)/2;if(o===a)s=0,l=0;else{var c=a-o;switch(l=u<=.5?c/(a+o):c/(2-a-o),a){case n:s=(i-r)/c+(i<r?6:0);break;case i:s=(r-n)/c+2;break;case r:s=(n-i)/c+4}s/=6}return t.x=s,t.y=l,t.z=u,t}},{key:"style2rgb",value:function(t,n){n=n||new u.ColorRGB;var i=void 0;return/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(t)?(i=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(t),n.r=Math.min(255,parseInt(i[1],10))/255,n.g=Math.min(255,parseInt(i[2],10))/255,n.b=Math.min(255,parseInt(i[3],10))/255,n):/^rgb\((\d+)%, ?(\d+)%, ?(\d+)%\)$/i.test(t)?(i=/^rgb\((\d+)%, ?(\d+)%, ?(\d+)%\)$/i.exec(t),n.r=Math.min(100,parseInt(i[1],10))/100,n.g=Math.min(100,parseInt(i[2],10))/100,n.b=Math.min(100,parseInt(i[3],10))/100,n):/^#([0-9a-f]{6})$/i.test(t)?(i=/^#([0-9a-f]{6})$/i.exec(t),e.hex2rgb(parseInt(i[1],16),n),n):/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(t)?(i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t),e.hex2rgb(parseInt(i[1]+i[1]+i[2]+i[2]+i[3]+i[3],16),n),n):/^(\w+)$/i.test(t)&&e.COLORS[t]?(e.hex2rgb(e.COLORS[t],n),n):(n.copyFrom(u.ColorRGB.BLACK),n)}},{key:"rgb2Style",value:function(e){return"rgb("+(255*e.r|0)+","+(255*e.g|0)+","+(255*e.b|0)+")"}},{key:"style2rgba",value:function(e,t){t=t||new c.ColorRGBA;var n=void 0;return/^rgba\((\d+), ?(\d+), ?(\d+), ?((\d+)?(\.\d+)?)\)$/i.test(e)?(n=/^rgba\((\d+), ?(\d+), ?(\d+), ?((\d+)?(\.\d+)?)\)$/i.exec(e),t.r=Math.min(255,parseInt(n[1],10))/255,t.g=Math.min(255,parseInt(n[2],10))/255,t.b=Math.min(255,parseInt(n[3],10))/255,t.a=l.MathUtil.clamp(parseFloat(n[4]),0,1),t):/^rgba\((\d+)%, ?(\d+)%, ?(\d+)%, ?((\d+)?(\.\d+)?)\)$/i.test(e)?(n=/^rgba\((\d+)%, ?(\d+)%, ?(\d+)%, ?((\d+)?(\.\d+)?)\)$/i.exec(e),t.r=Math.min(255,parseInt(n[1],10))/100,t.g=Math.min(255,parseInt(n[2],10))/100,t.b=Math.min(255,parseInt(n[3],10))/100,t.a=l.MathUtil.clamp(parseFloat(n[4]),0,1),t):(t.copyFrom(c.ColorRGBA.BLACK),t)}},{key:"rgba2Style",value:function(e){return"rgba("+(255*e.r|0)+","+(255*e.g|0)+","+(255*e.b|0)+","+e.a+")"}},{key:"COLORS",get:function(){return h}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaState=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(13),p=n(7),m=n(9),A=n(20);t.AlphaState=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.blendEnabled=p.Util.getParam(e,"blendEnabled",!0),n.blendFunc=p.Util.getParam(e,"blendFunc",[m.Context.gl.SRC_ALPHA,m.Context.gl.ONE_MINUS_SRC_ALPHA,m.Context.gl.ONE,m.Context.gl.ONE]),n.blendEquation=p.Util.getParam(e,"blendEquation",[m.Context.gl.FUNC_ADD]),n.blendColor=p.Util.getParam(e,"blendColor",new A.ColorRGBA(0,0,0,0)),n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"AlphaState",params:{blendEnabled:this.blendEnabled,blendFunc:this.blendFunc,blendEquation:this.blendEquation}}}}]),t}(_.Serializable)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CullState=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(13),p=n(7),m=n(9);t.CullState=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.enabled=p.Util.getParam(e,"enabled",!0),n.cullFace=p.Util.getParam(e,"cullFace",m.Context.gl.BACK),n.frontFace=p.Util.getParam(e,"frontFace",m.Context.gl.CCW),n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"CullState",params:{cullFace:this.cullFace,frontFace:this.frontFace,enabled:this.enabled}}}}]),t}(_.Serializable)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Framebuffer=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(9),u=0,c=1;t.Framebuffer=function(){function e(t){(0,a.default)(this,e),this._id=null,this._type=null,this._created=!1,this._attachmentsNeedReplacement=!1,this._attachments=[]}return(0,s.default)(e,null,[{key:"RENDERBUFFER",get:function(){return u}},{key:"TEXTURE",get:function(){return c}}]),(0,s.default)(e,[{key:"attachTexture",value:function(t,n,i,r){if(this._isValidAttachment(t),i===l.Context.gl.TEXTURE_2D&&n.isCubeMap)throw new Error("cannot attach cubemap as 2d texture: check your texTarget.");for(var a=this._attachments.length,o=0;o<a;++o){var s=this._attachments[o];if(!s.replace&&s.attachment===t&&s.texLevel===r)return s.texture.texture!==n.texture?(s.replace=!0,this._attachmentsNeedReplacement=!0,void this._attachments.push({type:e.TEXTURE,attachment:t,texture:n,texTarget:i,texLevel:r})):void 0}this._attachments.push({type:e.TEXTURE,attachment:t,texture:n,texTarget:i,texLevel:r})}},{key:"attachRenderbuffer",value:function(t,n){this._isValidAttachment(t);for(var i=this._attachments.length,r=0;r<i;++r){var a=this._attachments[r];a.attachment===t&&(a.replace=!0,this._attachmentsNeedReplacement=!0)}this._attachments.push({type:e.RENDERBUFFER,attachment:t,renderbuffer:n,target:l.Context.gl.RENDERBUFFER})}},{key:"getAttachment",value:function(e){for(var t=this._attachments.length,n=0;n<t;++n){var i=this._attachments[n];if(i.attachment===e&&!i.replace)return i}}},{key:"enable",value:function(){this._created?this._attachmentsNeedReplacement?(l.Context.gl.bindFramebuffer(l.Context.gl.FRAMEBUFFER,this._id),this._createAttachments()):l.Context.gl.bindFramebuffer(l.Context.gl.FRAMEBUFFER,this._id):(this._id=l.Context.gl.createFramebuffer(),l.Context.gl.bindFramebuffer(l.Context.gl.FRAMEBUFFER,this._id),this._createAttachments(),this._checkAttachmentStatus(),this._checkFramebuffer(),this._created=!0,this._attachmentsNeedReplacement=!1)}},{key:"disable",value:function(){this._updateMipmapsIfNeeded(),l.Context.gl.bindFramebuffer(l.Context.gl.FRAMEBUFFER,null)}},{key:"dtor",value:function(){this._id&&l.Context.gl.deleteFramebuffer(this._id),this._id=null}},{key:"_updateMipmapsIfNeeded",value:function(){if(this._created)for(var t=0;t<this._attachments.length;++t){var n=this._attachments[t];n.type===e.TEXTURE&&n.texture.updateMipmaps()}}},{key:"_checkFramebuffer",value:function(){if(!l.Context.gl.isFramebuffer(this._id))throw new Error("could not create framebuffer object")}},{key:"_checkAttachmentStatus",value:function(){var e=l.Context.gl.checkFramebufferStatus(l.Context.gl.FRAMEBUFFER);if(e!==l.Context.gl.FRAMEBUFFER_COMPLETE)throw e===l.Context.gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT?new Error("framebuffer status was FRAMEBUFFER_INCOMPLETE_ATTACHMENT"):e===l.Context.gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS?new Error("framebuffer status was FRAMEBUFFER_INCOMPLETE_DIMENSIONS"):e===l.Context.gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT?new Error("framebuffer status was FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT"):e===l.Context.gl.FRAMEBUFFER_UNSUPPORTED?new Error("framebuffer status was FRAMEBUFFER_UNSUPPORTED"):new Error("unknown framebuffer status")}},{key:"_createAttachments",value:function(){for(var t=0;t<this._attachments.length;++t){var n=this._attachments[t];if(n.replace){if(n.type===e.TEXTURE)l.Context.gl.framebufferTexture2D(l.Context.gl.FRAMEBUFFER,n.attachment,n.texTarget,null,n.texLevel);else{if(n.type!==e.RENDERBUFFER)throw new Error("unknown framebuffer type "+n.type);l.Context.gl.framebufferRenderbuffer(l.Context.gl.FRAMEBUFFER,n.attachment,n.target,null)}this._attachments.splice(t--,1)}else if(n.type===e.TEXTURE)l.Context.gl.framebufferTexture2D(l.Context.gl.FRAMEBUFFER,n.attachment,n.texTarget,n.texture.texture,n.texLevel);else{if(n.type!==e.RENDERBUFFER)throw new Error("unknown framebuffer type "+n.type);l.Context.gl.framebufferRenderbuffer(l.Context.gl.FRAMEBUFFER,n.attachment,n.target,n.renderbuffer.id)}}}},{key:"_isValidAttachment",value:function(e){if(e!==l.Context.gl.COLOR_ATTACHMENT0&&e!==l.Context.gl.DEPTH_ATTACHMENT&&e!==l.Context.gl.STENCIL_ATTACHMENT)throw new Error("invalid framebuffer-attachment")}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PolygonOffsetState=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(13),p=n(7);t.PolygonOffsetState=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.factor=p.Util.getParam(e,"factor",0),n.units=p.Util.getParam(e,"units",0),n.fillEnabled=p.Util.getParam(e,"fillEnabled",!1),n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"PolygonOffsetState",params:{factor:this.factor,units:this.units,fillEnabled:this.fillEnabled}}}}]),t}(_.Serializable)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.StencilState=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(13),p=n(7),m=n(9);t.StencilState=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.enabled=p.Util.getParam(e,"enabled",!1),n.compare=p.Util.getParam(e,"compare",m.Context.gl.NEVER),n.reference=p.Util.getParam(e,"reference",0),n.mask=p.Util.getParam(e,"mask",-1),n.writeMask=p.Util.getParam(e,"writeMask",-1),n.onFail=p.Util.getParam(e,"onFail",m.Context.gl.KEEP),n.onZFail=p.Util.getParam(e,"onZFail",m.Context.gl.KEEP),n.onZPass=p.Util.getParam(e,"onZPass",m.Context.gl.KEEP),n.stencilFace=p.Util.getParam(e,"stencilFace",m.Context.gl.FRONT_AND_BACK),n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"StencilState",params:{enabled:this.enabled,compare:this.compare,reference:this.reference,mask:this.mask,writeMask:this.writeMask,onFail:this.onFail,onZFail:this.onZFail,onZPass:this.onZPass,stencilFace:this.stencilFace}}}}]),t}(_.Serializable)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ZBufferState=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(13),p=n(7),m=n(9);t.ZBufferState=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.enabled=p.Util.getParam(e,"enabled",!0),n.writable=p.Util.getParam(e,"writable",!0),n.compare=p.Util.getParam(e,"compare",m.Context.gl.LEQUAL),n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"ZBufferState",params:{enabled:this.enabled,writable:this.writable,compare:this.compare}}}}]),t}(_.Serializable)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationController=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(7),p=n(57);t.AnimationController=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._animation=_.Util.getParamRequired(e,"animation"),n._shouldPlay=!1,n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"AnimationController",params:{animation:this._animation},aux:{shouldPlay:this._shouldPlay}}}},{key:"$deserialize",value:function(e){this._shouldPlay=e.shouldPlay}}]),(0,d.default)(t,[{key:"update",value:function(e,t){this._shouldPlay&&(this._animation.play(t),this._shouldPlay=!1),this._animation.playing&&this._animation.update(e,t)}},{key:"$onAddedToScene",value:function(e){this._shouldPlay=!0}},{key:"$onRemovedFromScene",value:function(e){this._shouldPlay=!1,this._animation.playing&&this._animation.cancel(e)}},{key:"animation",get:function(){return this._animation}}]),t}(p.Controller)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UiLabel=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(66),p=n(7),m=n(20),A=n(11),g=n(21),v=n(32),y=n(64),b=n(38),E=n(24),w=n(36),S=n(27);t.UiLabel=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));n._text=p.Util.getParamRequired(e,"text"),n._fontSize=p.Util.getParamRequired(e,"fontSize"),n._fontFace=p.Util.getParam(e,"fontFace","sans-serif"),n._fontWeight=p.Util.getParam(e,"fontWeight","normal"),n._fontColor=p.Util.getParam(e,"fontColor",new m.ColorRGBA(m.ColorRGBA.WHITE)),n._backgroundColor=p.Util.getParam(e,"backgroundColor",new m.ColorRGBA(m.ColorRGBA.BLACK_TRANSPARENT)),n._lineHeight=p.Util.getParam(e,"lineHeight",1.5),n._align=p.Util.getParam(e,"align","center"),n._verticalAlign=p.Util.getParam(e,"verticalAlign","middle"),n._roundRectSize=p.Util.getParam(e,"roundRectSize",3),n._texSize=Math.min(p.Util.getParam(e,"texSize",2048),w.Renderer.MAX_TEXTURE_SIZE),n._autoHeight=p.Util.getParam(e,"autoHeight",!1),n._autoWidth=p.Util.getParam(e,"autoWidth",!1),n._maxCharacters=p.Util.getParam(e,"maxCharacters",20),n._noWrap=p.Util.getParam(e,"noWrap",!1),n._drawOutline=p.Util.getParam(e,"drawOutline",!1),n._outlineColor=p.Util.getParam(e,"outlineColor","#fff");var i=p.Util.getParam(e,"x",0),r=p.Util.getParam(e,"y",0),o=p.Util.getParam(e,"depth",0);n._canvas=document.createElement("canvas");var l=n._width/n._height,c=n._width>n._height,d=p.Util.getParam(e,"padding",0);if(Array.isArray(d))if(2===d.length){var h=d[0]*n._texSize/n.width,f=d[1]*n._texSize/n.width;n._padding=[h,f,h,f]}else 4===d.length&&(n._padding=[d[0]*n._texSize/n.width,d[1]*n._texSize/n.width,d[2]*n._texSize/n.width,d[3]*n._texSize/n.width]);else n._padding=[d*n._texSize/n.width,d*n._texSize/n.width,d*n._texSize/n.width,d*n._texSize/n.width];n._canvas.width=Math.max(1,Math.round(c?n._texSize:n._texSize*l)),n._canvas.height=Math.max(1,Math.round(c?n._texSize/l:n._texSize)),n._origCanvasHeight=n._canvas.height,n._updateFontSize(),n._texture=n.addActiveResource(new E.Texture({type:E.Texture.CANVAS,flipY:!0,generateMipmaps:!1,data:[n._canvas]}));var _=p.Util.getParam(e,"gain"),T=p.Util.getParam(e,"opaque",!1),x=p.Util.getParam(e,"smoothBorder",!1),C=p.Util.getParam(e,"smoothStrength"),M=b.GeometryUtil.makeCenteredSizedQuad(n._width,n._height,!0);n._material=n.addActiveResource(new y.UiMaterial({texture:n._texture,gain:_,opaque:T,billboarded:!1,twoSided:!1,smoothBorder:x,smoothStrength:C}));var P={};return P[g.Scene.RENDERPASS_UI_1]=n._material,n.addChild(new v.RenderableNode({geometry:M,materialByPass:P,transform:new S.Transform({position:new A.Vector3(i,r,o)}),sortPassData:{zIndex:n._zIndex}})),n._updateTexture(),n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"UiLabel"}}}]),(0,d.default)(t,[{key:"$onUpdateZIndex",value:function(){this.firstChild.sortPassData.zIndex=this._zIndex}},{key:"_updateFontSize",value:function(){this._pixelFontSize=this._origCanvasHeight/this._height*this._fontSize}},{key:"_updateTexture",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this._canvas,n=t.getContext("2d");n.save(),n.clearRect(0,0,t.width,t.height),n.font="normal normal "+this._fontWeight+" "+Math.round(this._pixelFontSize)+"px "+this._fontFace,n.textAlign=this._align;var i=this._padding[0],r=this._padding[1],a=this._padding[2],o=this._padding[3],s=this._text,l=void 0;l=this._noWrap?p.Util.measureTextLimit(t,s,t.width-(r+o)):this._maxCharacters,s=p.Util.truncateString(s,l);var u=p.Util.wrapText(n,s,"left"===this._align?o:.5*t.width,this._pixelFontSize*this._lineHeight,t.width-(r+o),this._pixelFontSize*this._lineHeight,!1),c=u.textHeight,d=u.textWidth;if(this._autoHeight&&e){var h=i+a+.05*this._pixelFontSize*(this._lineHeight-1),f=c+h;t.height=f;var _=f/this._origCanvasHeight;return this.autoHeightCalculated=this._height*_,this.firstChild.transform.scale.y=_,void this._updateTexture(!1)}n.fillStyle=this._backgroundColor.style,this._autoWidth?n.fillRect(.5*t.width-.5*d-o,0,d+(o+r),t.height):p.Util.roundRect(n,0,0,t.width,t.height,this._roundRectSize),this._drawOutline&&(n.strokeStyle=this._outlineColor,n.lineWidth=1,n.strokeRect(0,0,t.width,t.height)),n.fillStyle=this._fontColor.style,n.shadowBlur=0,p.Util.wrapText(n,s,"left"===this._align?o:.5*t.width,("middle"===this._verticalAlign?.5*t.height-.5*c:0)+i+this._pixelFontSize+.05*this._pixelFontSize*(this._lineHeight-1),t.width-(o+r),this._pixelFontSize*this._lineHeight,!0),this._texture.updateCanvas(),n.restore()}},{key:"text",set:function(e){this._text!==e&&(this._text=e,this._updateTexture())},get:function(){return this._text}},{key:"fontSize",set:function(e){this._fontSize=e,this._updateFontSize(),this._updateTexture()},get:function(){return this._fontSize}},{key:"fontFace",set:function(e){this._fontFace=e,this._updateTexture()},get:function(){return this._fontFace}},{key:"fontWeight",set:function(e){this._fontWeight=e,this._updateTexture()},get:function(){return this._fontWeight}},{key:"fontColor",set:function(e){this._fontColor=e,this._updateTexture()},get:function(){return this._fontColor}},{key:"backgroundColor",set:function(e){this._backgroundColor=e,this._updateTexture()},get:function(){return this._backgroundColor}},{key:"opacity",set:function(e){this.firstChild.materialByPass[g.Scene.RENDERPASS_UI_1].opacity=e},get:function(){return this.firstChild.materialByPass[g.Scene.RENDERPASS_UI_1].opacity}},{key:"x",get:function(){return this.firstChild.constTransform.position.x},set:function(e){this.firstChild.transform.position.x=e}},{key:"y",get:function(){return this.firstChild.constTransform.position.y},set:function(e){this.firstChild.transform.position.y=e}},{key:"depth",get:function(){return this.firstChild.constTransform.position.z},set:function(e){this.firstChild.transform.position.z=e}},{key:"gain",get:function(){return this.firstChild.materialByPass[g.Scene.RENDERPASS_UI_1].gain},set:function(e){this.firstChild.materialByPass[g.Scene.RENDERPASS_UI_1].gain=e}}]),t}(_.UiNode)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FragmentShader=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(9),A=n(95);t.FragmentShader=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"load",value:function(e,n,i){(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"load",this).call(this,e,m.Context.gl.FRAGMENT_SHADER,n,i)}}]),t}(A.Shader)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ShaderProgram=void 0;var r=n(15),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(2),p=i(_),m=n(4),A=i(m),g=n(9),v=n(29),y=n(70),b=n(142),E=n(140),w=n(95),S="linkSuccessful",T="linkUnsuccessful",x="needMoreAttachments",C="alreadyLinked";t.ShaderProgram=function(e){function t(e){(0,u.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n._paramAttributes=new y.Attributes,n._program=null,n._activeAttributes=new a.default,n._activeUniforms=[],n._activeTextureUniforms=[],n._activeUniformLookup=new a.default,n._attachedShaders=[],n._vertexShaderAttached=!1,n._fragmentShaderAttached=!1,n._createProgram(),n}return(0,A.default)(t,e),(0,p.default)(t,null,[{key:"LINK_SUCCESSFUL",get:function(){return S}},{key:"LINK_UNSUCCESSFUL",get:function(){return T}},{key:"NEED_MORE_ATTACHMENTS",get:function(){return x}},{key:"ALREADY_LINKED",get:function(){return C}}]),(0,p.default)(t,[{key:"getUniformLocation",value:function(e){return this._activeUniformLookup.get(e).location}},{key:"hasUniform",value:function(e){return this._activeUniformLookup.has(e)}},{key:"attachShader",value:function(e){if(this._vertexShaderAttached&&this._fragmentShaderAttached)return t.ALREADY_LINKED;if(!(e instanceof w.Shader))throw new Error("cannot attach shader which is not an instance of Shader");if(this.markLoading(),e instanceof b.VertexShader){if(this._vertexShaderAttached)return t.NEED_MORE_ATTACHMENTS;this._vertexShaderAttached=!0}else{if(!(e instanceof E.FragmentShader))throw new Error("Unknown Shader type "+e);if(this._fragmentShaderAttached)return t.NEED_MORE_ATTACHMENTS;this._fragmentShaderAttached=!0}this._attachedShaders.push(e),g.Context.gl.attachShader(this._program,e.shaderObject),g.Context.logger.debug(this,"attaching shader of type: "+e+"("+g.Context.getError()+")"),this.addResourceDependency(e);var n=this.link();return this.loaded=!0,n}},{key:"link",value:function(){if(this._fragmentShaderAttached&&this._vertexShaderAttached){g.Context.logger.debug(this,"attempting to link shader");var e=this._paramAttributes.getSemanticsInfo();for(var n in e)g.Context.gl.bindAttribLocation(this._program,e[n].index,e[n].name),g.Context.logger.debug(this,'binding semantic "'+e[n].name+'" to index '+e[n].index+"("+g.Context.getError()+")");g.Context.gl.linkProgram(this._program);var i=g.Context.gl.getProgramParameter(this._program,g.Context.gl.LINK_STATUS);return g.Context.logger.debug(this,"link shader returned: "+i+"("+g.Context.getError()+")"),i?(this._fillAttributes(),this._fillUniforms(),t.LINK_SUCCESSFUL):(this.dtor(),t.LINK_UNSUCCESSFUL)}return t.NEED_MORE_ATTACHMENTS}},{key:"dtor",value:function(){if(!g.Context.useShaderResourceHack){g.Context.logger.debug(this,"deleting program");for(var e=0;e<this._attachedShaders.length;++e){var n=this._attachedShaders[e]instanceof E.FragmentShader?"FragmentShader":"VertexShader",i=g.Context.catalog.get(n).remove(this._attachedShaders[e].catalogId);this.removeResourceDependency(i)}g.Context.gl.deleteProgram(this._program),(0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"dtor",this).call(this)}}},{key:"enable",value:function(){g.Context.gl.useProgram(this._program)}},{key:"_createProgram",value:function(){if(this._program=g.Context.gl.createProgram(),!this._program)throw new Error("could not create shader program");g.Context.logger.debug(this,"created shader program: "+g.Context.getError())}},{key:"_fillAttributes",value:function(){this._activeAttributes.clear();var e=g.Context.gl.getProgramParameter(this._program,g.Context.gl.ACTIVE_ATTRIBUTES);g.Context.logger.debug(this,"parsing attributes. numAttributes: "+e+" ("+g.Context.getError()+")");for(var t=0;t<e;++t){var n=g.Context.gl.getActiveAttrib(this._program,t);this._activeAttributes.set(n.name,{info:n,location:g.Context.gl.getAttribLocation(this._program,n.name)}),g.Context.logger.debug(this,'registering attribute: "'+n.name+'"')}}},{key:"_fillUniforms",value:function(){this._activeUniformLookup.clear(),
this._activeUniforms.length=0,this._activeTextureUniforms.length=0;var e=g.Context.gl,t=g.Context.gl.getProgramParameter(this._program,g.Context.gl.ACTIVE_UNIFORMS);g.Context.logger.debug(this,"parsing uniforms numUniforms: "+t+"("+g.Context.getError()+")");for(var n=0;n<t;++n){var i=g.Context.gl.getActiveUniform(this._program,n),r=i.name,a="[0]"===r.substring(r.length-3,r.length);a&&(r=r.substring(0,r.length-3)),r=r.slice(2);var o={info:i,paramName:r,isArray:a,location:g.Context.gl.getUniformLocation(this._program,i.name)};i.type===e.SAMPLER_2D||i.type===e.SAMPLER_CUBE?this._activeTextureUniforms.push(o):this._activeUniforms.push(o),this._activeUniformLookup.set(i.name,o),g.Context.logger.debug(this,'registering uniform: "'+i.name+'"')}}},{key:"paramAttributes",get:function(){return this._paramAttributes},set:function(e){this._paramAttributes=e}},{key:"activeUniforms",get:function(){return this._activeUniforms}},{key:"activeTextureUniforms",get:function(){return this._activeTextureUniforms}},{key:"shaderAlreadyAttached",get:function(){return this._vertexShaderAttached&&this._fragmentShaderAttached}}]),t}(v.Resource)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.VertexShader=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(9),A=n(95);t.VertexShader=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"load",value:function(e,n,i){(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"load",this).call(this,e,m.Context.gl.VERTEX_SHADER,n,i)}}]),t}(A.Shader)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.VrUniform=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(7);t.VrUniform=function(){function e(t){(0,a.default)(this,e),this._left=l.Util.getParam(t,"left"),this._right=l.Util.getParam(t,"right")}return(0,s.default)(e,[{key:"dtor",value:function(){this._left&&this._left.dtor&&this._left.dtor(),this._right&&this._right.dtor&&this._right.dtor()}},{key:"left",get:function(){return this._left},set:function(e){this._left=e}},{key:"right",get:function(){return this._right},set:function(e){this._right=e}}]),e}()},,,,,,,,,,,,,,,,,function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function o(){p&&f&&(p=!1,f.length?_=f.concat(_):m=-1,_.length&&s())}function s(){if(!p){var e=r(o);p=!0;for(var t=_.length;t;){for(f=_,_=[];++m<t;)f&&f[m].run();m=-1,t=_.length}f=null,p=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,d,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var f,_=[],p=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];_.push(new l(e,t)),1!==_.length||p||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){e.exports=n.p+"d2efb91b07bf5345b3981553f8957c55.jpg"},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){function n(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}e.exports=n},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UnlitMaterial=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(7),A=n(65),g=n(20),v=n(63),y=t.UnlitMaterial=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._mode=m.Util.getParam(e,"mode",t.MONO),n._stereoFormat=m.Util.getParam(e,"stereoFormat",t.STEREO_FORMAT_FLAT_LR),n._texture=m.Util.getParam(e,"texture"),n._color=m.Util.getParam(e,"color"),n._gain=m.Util.getParam(e,"gain"),n._useLinearColor=m.Util.getParam(e,"useLinearColor",!1),n._smoothBorder=m.Util.getParam(e,"smoothBorder",!1),n._smoothStrength=m.Util.getParam(e,"smoothStrength",10),n._convertToBGRA=m.Util.getParam(e,"convertToBGRA",!1),n._useNdcScaling=m.Util.getParam(e,"useNdcScaling",!1),n._useNdcRotation=m.Util.getParam(e,"useNdcRotation",!1),n._ndcPositionScale=m.Util.getParam(e,"ndcPositionScale",new A.Vector4(0,0,1,1)),n._ndcRotationAngle=m.Util.getParam(e,"ndcRotationAngle",0),n._useFresnelOutline=m.Util.getParam(e,"useFresnelOutline",!1),n._fresnelOutlineStrength=m.Util.getParam(e,"fresnelOutlineStrength",.05),n._lockToCamera=m.Util.getParam(e,"lockToCamera",!1),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"UnlitMaterial",params:{texture:this._texture,color:this._color,gain:this._gain,mode:this._mode,stereoFormat:this._stereoFormat,useLinearColor:this._useLinearColor,smoothBorder:this._smoothBorder,smoothStrength:this._smoothStrength,useNdcScaling:this._useNdcScaling,useNdcRotation:this._useNdcRotation,ndcPositionScale:this._ndcPositionScale,ndcRotationAngle:this._ndcRotationAngle,useFresnelOutline:this._useFresnelOutline,fresnelOutlineStrength:this._fresnelOutlineStrength,convertToBGRA:this._convertToBGRA}}}}]),(0,f.default)(t,[{key:"_updateLockToCameraInEffect",value:function(e){e&&e.isConfigurable&&e.setLockToCameraPositionEnabled(this._lockToCamera)}},{key:"_updateFresnelOutlineInEffect",value:function(e){e&&e.isConfigurable&&(e.setFresnelOutlineEnabled(this._useFresnelOutline),e.params.fresnelOutlineStrength=this._fresnelOutlineStrength)}},{key:"_updateNdcScalingAndRotationInEffect",value:function(e){e&&e.isConfigurable&&(e.setNdcScalingEnabled(this._useNdcScaling),e.setNdcRotationEnabled(this._useNdcRotation),e.params.ndcPositionScale=this._ndcPositionScale,e.params.ndcRotationAngle=this._ndcRotationAngle)}},{key:"_updateTextureInEffect",value:function(e){e&&e.isConfigurable&&(e.setConvertToBGRAEnabled(this._convertToBGRA),this._texture?(e.setUnlitTextureEnabled(!0),e.setSmoothBorderEnabled(this._smoothBorder),e.setSmoothStrength(this._smoothStrength),e.textures.baseTexture=this._texture):e.setUnlitTextureEnabled(!1))}},{key:"_updateGammaSpaceInEffect",value:function(e){e&&e.isConfigurable&&e.setGammaSpaceEnabled(!this._useLinearColor)}},{key:"_updateColorInEffect",value:function(e){e&&e.isConfigurable&&(this._color?(e.setUnlitColorEnabled(!0),e.params.color=this._color):e.setUnlitColorEnabled(!1),this._gain?(e.setUnlitGainEnabled(!0),e.params.gain=this._gain):e.setUnlitGainEnabled(!1))}},{key:"_updateModeInEffect",value:function(e){if(e&&e.isConfigurable)if(this._mode===t.STEREOSCOPIC)if(e.setStereoscopicFormatEnabled(!0),this._stereoFormat===t.STEREO_FORMAT_FLAT_LR||this._stereoFormat===t.STEREO_FORMAT_FLAT_LR_SQUARE)e.setStereoscopicFlatLrEnabled(!0);else{if(this._stereoFormat!==t.STEREO_FORMAT_FLAT_TB&&this._stereoFormat!==t.STEREO_FORMAT_FLAT_TB_SQUARE)throw new Error("invalid stereo format supplied: "+this._stereoFormat);e.setStereoscopicFlatTbEnabled(!0)}else e.setStereoscopicFormatEnabled(!1)}},{key:"_configureEffect",value:function(e){e.setUnlitEnabled(!0),this._updateTextureInEffect(e),this._updateNdcScalingAndRotationInEffect(e),this._updateFresnelOutlineInEffect(e),this._updateColorInEffect(e),this._updateGammaSpaceInEffect(e),this._updateModeInEffect(e),this._updateLockToCameraInEffect(e),(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"_configureEffect",this).call(this,e)}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture=e,this._updateTextureInEffect(this._effect),this._updateModeInEffect(this._effect)}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this._updateColorInEffect(this._effect)}},{key:"gain",get:function(){return this._gain},set:function(e){this._gain=e,this._updateColorInEffect(this._effect)}},{key:"convertToBGRA",get:function(){return this._convertToBGRA},set:function(e){this._convertToBGRA=e,this._updateTextureInEffect(this._effect)}},{key:"opacity",set:function(e){this._color||(this._color=new g.ColorRGBA(g.ColorRGBA.WHITE)),this._color.a=e,this._updateColorInEffect(this._effect)},get:function(){return this._color?this._color.a:1}},{key:"useLinearColor",get:function(){return this._useLinearColor},set:function(e){this._useLinearColor=e,this._updateGammaSpaceInEffect(this._effect)}},{key:"mode",set:function(e){this._mode=e,this._updateModeInEffect(this._effect)},get:function(){return this._mode}},{key:"stereoFormat",set:function(e){this._stereoFormat=e,this._updateModeInEffect(this._effect)},get:function(){return this._stereoFormat}},{key:"smoothBorder",get:function(){return this._smoothBorder},set:function(e){this._smoothBorder=e,this._updateTextureInEffect(this._effect)}},{key:"ndcPositionScale",get:function(){return this._ndcPositionScale},set:function(e){this._ndcPositionScale=e,this._updateNdcScalingAndRotationInEffect(this._effect)}},{key:"ndcRotationAngle",get:function(){return this._ndcRotationAngle},set:function(e){this._ndcRotationAngle=e,this._updateNdcScalingAndRotationInEffect(this._effect)}},{key:"useNdcScaling",get:function(){return this._useNdcScaling},set:function(e){this._useNdcScaling=e,this._updateNdcScalingAndRotationInEffect(this._effect)}},{key:"useNdcRotation",get:function(){return this._useNdcRotation},set:function(e){this._useNdcRotation=e,this._updateNdcScalingAndRotationInEffect(this._effect)}},{key:"useFresnelOutline",get:function(){return this._useFresnelOutline},set:function(e){this._useFresnelOutline=e,this._updateFresnelOutlineInEffect(this._effect)}},{key:"smoothStrength",get:function(){return this._smoothStrength},set:function(e){this._smoothStrength=e,this._updateTextureInEffect(this._effect)}},{key:"fresnelOutlineStrength",get:function(){return this._fresnelOutlineStrength},set:function(e){this._fresnelOutlineStrength=e,this._updateFresnelOutlineInEffect(this._effect)}},{key:"lockToCamera",set:function(e){this._lockToCamera=e,this._updateLockToCameraInEffect(this._effect)},get:function(){return this._lockToCamera}}]),t}(v.SurfaceMaterial);y.MONO="MONO",y.STEREOSCOPIC="STEREOSCOPIC",y.STEREO_FORMAT_FLAT_LR="STEREO_FLAT_LR",y.STEREO_FORMAT_FLAT_TB="STEREO_FLAT_TB",y.STEREO_FORMAT_FLAT_LR_SQUARE="STEREO_FLAT_LR_SQUARE",y.STEREO_FORMAT_FLAT_TB_SQUARE="STEREO_FLAT_TB_SQUARE"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ClosureController=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(57),p=n(7);t.ClosureController=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._closure=p.Util.getParamRequired(e,"closure"),n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"ClosureController"}}}]),(0,d.default)(t,[{key:"update",value:function(e,t){this._closure(e,t)}}]),t}(_.Controller)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UiImage=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(66),p=n(7),m=n(20),A=n(11),g=n(21),v=n(32),y=n(64),b=n(24),E=n(38);t.UiImage=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e)),i=p.Util.getParam(e,"src"),r=p.Util.getParam(e,"color",new m.ColorRGBA(m.ColorRGBA.WHITE)),o=p.Util.getParam(e,"opaque",!1),l=p.Util.getParam(e,"animationAtlasWidth",4),u=p.Util.getParam(e,"animationAtlasHeight",4),c=p.Util.getParam(e,"animated",!1),h=p.Util.getParam(e,"animationOriginTopLeft",!1),f=p.Util.getParam(e,"flipY",!0),_=p.Util.getParam(e,"smoothBorder",!1),w=p.Util.getParam(e,"dynamicAspect",!1),S=p.Util.getParam(e,"smoothStrength"),T=E.GeometryUtil.makeCenteredSizedQuad(n._width,n._height,!0),x=p.Util.getParam(e,"texture")||n.addActiveResource(new b.Texture({type:b.Texture.IMAGE,data:[i],flipY:f}));n._material=n.addActiveResource(new y.UiMaterial({texture:x,animated:c,animationAtlasWidth:l,animationAtlasHeight:u,animationOriginTopLeft:h,color:r,opaque:o,billboarded:!1,twoSided:!1,smoothBorder:_,smoothStrength:S}));var C={};C[g.Scene.RENDERPASS_UI_1]=n._material;var M=n.addChild(new v.RenderableNode({geometry:T,materialByPass:C,sortPassData:{zIndex:n._zIndex}})),P=new A.Vector3;return w&&x.addEventListener("loaded",function(){P.copyFrom(M.transform.scale),P.y=x.height/x.width,M.transform.scale=P}),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"$onUpdateZIndex",value:function(){this.firstChild.sortPassData.zIndex=this._zIndex}},{key:"texture",get:function(){return this.firstChild.materialByPass[g.Scene.RENDERPASS_UI_1].texture},set:function(e){this.firstChild.materialByPass[g.Scene.RENDERPASS_UI_1].texture=e}},{key:"opacity",set:function(e){this.firstChild.materialByPass[g.Scene.RENDERPASS_UI_1].opacity=e},get:function(){return this.firstChild.materialByPass[g.Scene.RENDERPASS_UI_1].opacity}},{key:"color",get:function(){return this.firstChild.materialByPass[g.Scene.RENDERPASS_UI_1].color},set:function(e){this.firstChild.materialByPass[g.Scene.RENDERPASS_UI_1].color=e}},{key:"depth",set:function(e){this.firstChild.transform.position.z=e},get:function(){return this.firstChild.constTransform.position.z}},{key:"animationT",set:function(e){this.firstChild.materialByPass[g.Scene.RENDERPASS_UI_1].animationT=e},get:function(){return this.firstChild.materialByPass[g.Scene.RENDERPASS_UI_1].animationT}}]),t}(_.UiNode)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UiLabelButton=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(4),d=i(c),h=n(112),f=n(139),_=n(18),p=i(_);t.UiLabelButton=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,d.default)(t,e),t}((0,p.default)(f.UiLabel,h.UiClickable))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubFilterAttr=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(4),d=i(c),h=n(271),f=i(h),_=n(7),p=n(315);t.HubFilterAttr=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._attr=(0,f.default)(_.Util.getParamRequired(e,"attr")),n}return(0,d.default)(t,e),t}(p.HubFilter)},,,,,function(e,t,n){"use strict";var i=n(154),r=n(99).getWeak,a=n(50),o=n(40),s=n(147),l=n(98),u=n(148),c=n(74),d=n(67),h=u(5),f=u(6),_=0,p=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},A=function(e,t){return h(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=A(this,e);if(t)return t[1]},has:function(e){return!!A(this,e)},set:function(e,t){var n=A(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,a){var u=e(function(e,i){s(e,u,t,"_i"),e._t=t,e._i=_++,e._l=void 0,void 0!=i&&l(i,n,e[a],e)});return i(u.prototype,{delete:function(e){if(!o(e))return!1;var n=r(e);return n===!0?p(d(this,t)).delete(e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!o(e))return!1;var n=r(e);return n===!0?p(d(this,t)).has(e):n&&c(n,this._i)}}),u},def:function(e,t,n){var i=r(a(t),!0);return i===!0?p(e).set(t,n):i[e._i]=n,e},ufstore:p}},,,,,,,,,,,,,,function(e,t){/*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  */
"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function i(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==i.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=i()?Object.assign:function(e,t){for(var i,s,l=n(e),u=1;u<arguments.length;u++){i=Object(arguments[u]);for(var c in i)a.call(i,c)&&(l[c]=i[c]);if(r){s=r(i);for(var d=0;d<s.length;d++)o.call(i,s[d])&&(l[s[d]]=i[s[d]])}}return l}},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case p:case g:var n=t.payload.options||{},i=t.payload.activeLanguage||n.defaultLanguage;return t.payload.languages.map(function(e,t){var n=function(e){return void 0!==i?e===i:0===t};return"string"==typeof e?{code:e,active:n(e)}:c({},e,{active:n(e.code)})});case v:return e.map(function(e){return e.code===t.payload.languageCode?c({},e,{active:!0}):c({},e,{active:!1})});default:return e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case m:var n=void 0!==t.translationTransform?t.translationTransform(t.payload.translation,t.languageCodes):t.payload.translation;return c({},e,(0,h.flatten)(n,{safe:!0}));case A:var i=t.languageCodes.indexOf(t.payload.language),r=i>=0?(0,h.flatten)(t.payload.translation):{},o=Object.keys(r).reduce(function(n,o){var s=t.languageCodes.map(function(t,n){var a=e[o]||[];return n===i?r[o]:a[n]});return c({},n,a({},o,s))},{});return c({},e,o);default:return e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments[1];switch(t.type){case p:var n=t.payload.options||{};return c({},e,(0,_.validateOptions)(n));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getTranslateComponent=t.getTranslate=t.getTranslationsForSpecificLanguage=t.getTranslationsForActiveLanguage=t.translationsEqualSelector=t.getActiveLanguage=t.getOptions=t.getLanguages=t.getTranslations=t.setActiveLanguage=t.setLanguages=t.addTranslationForLanguage=t.addTranslation=t.initialize=t.localeReducer=t.defaultTranslateOptions=t.TRANSLATE=t.SET_ACTIVE_LANGUAGE=t.SET_LANGUAGES=t.ADD_TRANSLATION_FOR_LANGUGE=t.ADD_TRANSLATION=t.INITIALIZE=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.languages=o,t.translations=s,t.options=l;var d=n(16),h=(i(d),n(191),n(622)),f=n(660),_=n(361),p=t.INITIALIZE="@@localize/INITIALIZE",m=t.ADD_TRANSLATION="@@localize/ADD_TRANSLATION",A=t.ADD_TRANSLATION_FOR_LANGUGE="@@localize/ADD_TRANSLATION_FOR_LANGUGE",g=t.SET_LANGUAGES="@@localize/SET_LANGUAGES",v=t.SET_ACTIVE_LANGUAGE="@@localize/SET_ACTIVE_LANGUAGE",y=(t.TRANSLATE="@@localize/TRANSLATE",t.defaultTranslateOptions={renderInnerHtml:!0,showMissingTranslationMsg:!0,missingTranslationMsg:"Missing translation key ${ key } for language ${ code }",ignoreTranslateChildren:!1}),b={languages:[],translations:{},options:y},E=(t.localeReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments[1],n=e.languages.map(function(e){return e.code}),i=e.options.translationTransform;return{languages:o(e.languages,t),translations:s(e.translations,c({},t,{languageCodes:n,translationTransform:i})),options:l(e.options,t)}},t.initialize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;return{type:p,payload:{languages:e,options:t}}},t.addTranslation=function(e){return{type:m,payload:{translation:e}}},t.addTranslationForLanguage=function(e,t){return{type:A,payload:{translation:e,language:t}}},t.setLanguages=function(e,t){return(0,_.warning)("The setLanguages action will be removed in the next major version. Please use initialize action instead https://ryandrewjohnson.github.io/react-localize-redux/api/action-creators/#initializelanguages-options"),{type:g,payload:{languages:e,activeLanguage:t}}},t.setActiveLanguage=function(e){return{type:v,payload:{languageCode:e}}},t.getTranslations=function(e){return e.translations}),w=t.getLanguages=function(e){return e.languages},S=t.getOptions=function(e){return e.options},T=t.getActiveLanguage=function(e){var t=w(e);return t.filter(function(e){return e.active===!0})[0]},x=t.translationsEqualSelector=(0,f.createSelectorCreator)(f.defaultMemoize,function(e,t){var n="object"===("undefined"==typeof t?"undefined":u(t))?Object.keys(t).toString():void 0,i="object"===("undefined"==typeof e?"undefined":u(e))?Object.keys(e).toString():void 0,r="object"===("undefined"==typeof t?"undefined":u(t))?(0,_.objectValuesToString)(t):void 0,a="object"===("undefined"==typeof e?"undefined":u(e))?(0,_.objectValuesToString)(e):void 0,o=n&&r?t:n+" - "+r,s=i&&a?e:i+" - "+a;return o===s}),C=t.getTranslationsForActiveLanguage=x(T,w,E,_.getTranslationsForLanguage),M=t.getTranslationsForSpecificLanguage=x(w,E,function(e,t){return(0,f.defaultMemoize)(function(n){return(0,_.getTranslationsForLanguage)(n,e,t)})}),P=(0,f.createSelector)(C,M,T,S,function(e,t,n,i){return function(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=l.defaultLanguage,d=r(l,["defaultLanguage"]),h=c({},i,d),f=void 0!==u?t({code:u,active:!1}):e;if("string"==typeof o)return(0,_.getLocalizedElement)(o,f,s,n,h);if(Array.isArray(o))return o.reduce(function(e,t){return c({},e,a({},t,(0,_.getLocalizedElement)(t,f,s,n,h)))},{});throw new Error("react-localize-redux: Invalid key passed to getTranslate.")}});t.getTranslate=P;t.getTranslateComponent=(0,f.createSelector)(P,function(e){return function(t){return e(t.id,t.data,t.options)}})},function(e,t,n){"use strict";var i=n(47);t.__esModule=!0,t.default=t.ReactReduxContext=void 0;var r=i(n(16)),a=r.default.createContext(null);t.ReactReduxContext=a;var o=a;t.default=o},function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function r(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function a(e,t,n){function i(){m===_&&(m=_.slice())}function o(){if(g)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return f}function s(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(g)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return i(),m.push(e),function(){if(t){if(g)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,i();var n=m.indexOf(e);m.splice(n,1)}}}function l(e){if(!r(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw new Error("Reducers may not dispatch actions.");try{g=!0,f=h(f,e)}finally{g=!1}for(var t=_=m,n=0;n<t.length;n++){var i=t[n];i()}return e}function u(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,l({type:A.REPLACE})}function c(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(o())}if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");n();var i=t(n);return{unsubscribe:i}}},e[p]=function(){return this},e}var d;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,f=t,_=[],m=_,g=!1;return l({type:A.INIT}),d={dispatch:l,subscribe:s,getState:o,replaceReducer:u},d[p]=c,d}function o(e,t){var n=t&&t.type,i=n&&'action "'+String(n)+'"'||"an action";return"Given "+i+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function s(e){Object.keys(e).forEach(function(t){var n=e[t],i=n(void 0,{type:A.INIT});if("undefined"==typeof i)throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"==typeof n(void 0,{type:A.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+A.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function l(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];"function"==typeof e[r]&&(n[r]=e[r])}var a,l=Object.keys(n);try{s(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var i=!1,r={},s=0;s<l.length;s++){var u=l[s],c=n[u],d=e[u],h=c(d,t);if("undefined"==typeof h){var f=o(u,t);throw new Error(f)}r[u]=h,i=i||h!==d}return i?r:e}}function u(e,t){return function(){return t(e.apply(this,arguments))}}function c(e,t){if("function"==typeof e)return u(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),i={},r=0;r<n.length;r++){var a=n[r],o=e[a];"function"==typeof o&&(i[a]=u(o,t))}return i}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){d(e,t,n[t])})}return e}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},r={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=t.map(function(e){return e(r)});return i=f.apply(void 0,a)(n.dispatch),h({},n,{dispatch:i})}}}Object.defineProperty(t,"__esModule",{value:!0});var p=i(n(658)),m=function(){return Math.random().toString(36).substring(7).split("").join(".")},A={INIT:"@@redux/INIT"+m(),REPLACE:"@@redux/REPLACE"+m(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+m()}};t.createStore=a,t.combineReducers=l,t.bindActionCreators=c,t.applyMiddleware=_,t.compose=f,t.__DO_NOT_USE__ActionTypes=A},,function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},,,,,,function(e,t,n){var i,r;(function(a,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var l=n(31),u=s(l);/*!
   * @overview es6-promise - a tiny implementation of Promises/A+.
   * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
   * @license   Licensed under MIT license
   *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
   * @version   3.3.1
   */
!function(a,o){"object"===(0,u.default)(t)&&"undefined"!=typeof e?e.exports=o():(i=o,r="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==r&&(e.exports=r)))}(void 0,function(){function e(e){return"function"==typeof e||"object"===("undefined"==typeof e?"undefined":(0,u.default)(e))&&null!==e}function t(e){return"function"==typeof e}function i(e){Z=e}function r(e){K=e}function s(){return function(){return a.nextTick(f)}}function l(){return function(){q(f)}}function c(){var e=0,t=new ee(f),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function d(){var e=new MessageChannel;return e.port1.onmessage=f,function(){return e.port2.postMessage(0)}}function h(){var e=setTimeout;return function(){return e(f,1)}}function f(){for(var e=0;e<Y;e+=2){var t=ie[e],n=ie[e+1];t(n),ie[e]=void 0,ie[e+1]=void 0}Y=0}function _(){try{var e=n(280);return q=e.runOnLoop||e.runOnContext,l()}catch(e){return h()}}function p(e,t){var n=arguments,i=this,r=new this.constructor(A);void 0===r[ae]&&O(r);var a=i._state;return a?!function(){var e=n[a-1];K(function(){return D(a,r,e,i._result)})}():P(i,r,e,t),r}function m(e){var t=this;if(e&&"object"===("undefined"==typeof e?"undefined":(0,u.default)(e))&&e.constructor===t)return e;var n=new t(A);return T(n,e),n}function A(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function y(e){try{return e.then}catch(e){return ue.error=e,ue}}function b(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function E(e,t,n){K(function(e){var i=!1,r=b(n,t,function(n){i||(i=!0,t!==n?T(e,n):C(e,n))},function(t){i||(i=!0,M(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,M(e,r))},e)}function w(e,t){t._state===se?C(e,t._result):t._state===le?M(e,t._result):P(t,void 0,function(t){return T(e,t)},function(t){return M(e,t)})}function S(e,n,i){n.constructor===e.constructor&&i===p&&n.constructor.resolve===m?w(e,n):i===ue?M(e,ue.error):void 0===i?C(e,n):t(i)?E(e,n,i):C(e,n)}function T(t,n){t===n?M(t,g()):e(n)?S(t,n,y(n)):C(t,n)}function x(e){e._onerror&&e._onerror(e._result),I(e)}function C(e,t){e._state===oe&&(e._result=t,e._state=se,0!==e._subscribers.length&&K(I,e))}function M(e,t){e._state===oe&&(e._state=le,e._result=t,K(x,e))}function P(e,t,n,i){var r=e._subscribers,a=r.length;e._onerror=null,r[a]=t,r[a+se]=n,r[a+le]=i,0===a&&e._state&&K(I,e)}function I(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,a=e._result,o=0;o<t.length;o+=3)i=t[o],r=t[o+n],i?D(n,i,r,a):r(a);e._subscribers.length=0}}function R(){this.error=null}function k(e,t){try{return e(t)}catch(e){return ce.error=e,ce}}function D(e,n,i,r){var a=t(i),o=void 0,s=void 0,l=void 0,u=void 0;if(a){if(o=k(i,r),o===ce?(u=!0,s=o.error,o=null):l=!0,n===o)return void M(n,v())}else o=r,l=!0;n._state!==oe||(a&&l?T(n,o):u?M(n,s):e===se?C(n,o):e===le&&M(n,o))}function V(e,t){try{t(function(t){T(e,t)},function(t){M(e,t)})}catch(t){M(e,t)}}function B(){return de++}function O(e){e[ae]=de++,e._state=void 0,e._result=void 0,e._subscribers=[]}function N(e,t){this._instanceConstructor=e,this.promise=new e(A),this.promise[ae]||O(this.promise),X(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&C(this.promise,this._result))):M(this.promise,L())}function L(){return new Error("Array Methods must be provided an Array")}function F(e){return new N(this,e).promise}function U(e){var t=this;return new t(X(e)?function(n,i){for(var r=e.length,a=0;a<r;a++)t.resolve(e[a]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function H(e){var t=this,n=new t(A);return M(n,e),n}function G(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function z(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function Q(e){this[ae]=B(),this._result=this._state=void 0,this._subscribers=[],A!==e&&("function"!=typeof e&&G(),this instanceof Q?V(this,e):z())}function W(){var e=void 0;if("undefined"!=typeof o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=Q}var j=void 0;j=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var X=j,Y=0,q=void 0,Z=void 0,K=function(e,t){ie[Y]=e,ie[Y+1]=t,Y+=2,2===Y&&(Z?Z(f):re())},J="undefined"!=typeof window?window:void 0,$=J||{},ee=$.MutationObserver||$.WebKitMutationObserver,te="undefined"==typeof self&&"undefined"!=typeof a&&"[object process]"==={}.toString.call(a),ne="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ie=new Array(1e3),re=void 0;re=te?s():ee?c():ne?d():void 0===J?_():h();var ae=Math.random().toString(36).substring(16),oe=void 0,se=1,le=2,ue=new R,ce=new R,de=0;return N.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===oe&&n<e;n++)this._eachEntry(t[n],n)},N.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===m){var r=y(e);if(r===p&&e._state!==oe)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===Q){var a=new n(A);S(a,e,r),this._willSettleAt(a,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},N.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===oe&&(this._remaining--,e===le?M(i,n):this._result[t]=n),0===this._remaining&&C(i,this._result)},N.prototype._willSettleAt=function(e,t){var n=this;P(e,void 0,function(e){return n._settledAt(se,t,e)},function(e){return n._settledAt(le,t,e)})},Q.all=F,Q.race=U,Q.resolve=m,Q.reject=H,Q._setScheduler=i,Q._setAsap=r,Q._asap=K,Q.prototype={constructor:Q,then:p,catch:function(e){return this.then(null,e)}},W(),Q.polyfill=W,Q.Promise=Q,Q})}).call(t,n(160),function(){return this}())},function(e,t,n){(function(t){"use strict";e.exports=function(){function e(e){return"function"==typeof e}var i=void 0;i=void 0!==t?t:void 0!==window&&window.document?window:self;var r=function(){if(!i.hasOwnProperty("Promise"))return!1;var t=i.Promise;return!(!t.hasOwnProperty("resolve")||!t.hasOwnProperty("reject"))&&(!(!t.hasOwnProperty("all")||!t.hasOwnProperty("race"))&&function(){var t=void 0,n=new i.Promise(function(e){t=e});return!!n&&e(t)}())}();return r?i.Promise:n(199).Promise}()}).call(t,function(){return this}())},function(e,t,n){"use strict";e.exports=function(){function e(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}var t=n(200);return function(n,i){return function(){for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=i&&i.multiArgs,l=void 0;return i&&i.thisArg?l=i.thisArg:i&&(l=i),new t(function(t,i){a.push(function(e){if(e)return i(e);for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return!1==!!s?t(r[0]):void t(r)});var r=n.apply(l,a);e(r)&&t(r)})}}}()},function(e,t,n){var i,r,a=a||function(e){"use strict";if("undefined"!=typeof e&&("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,a=function(n){var i=t.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)},o=e.webkitRequestFileSystem,s=e.requestFileSystem||o||e.mozRequestFileSystem,l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u="application/octet-stream",c=0,d=500,h=function(t){var i=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?i():setTimeout(i,d)},f=function(e,t,n){t=[].concat(t);for(var i=t.length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){l(e)}}},_=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},p=function(t,l){t=_(t);var d,p,m,A=this,g=t.type,v=!1,y=function(){f(A,"writestart progress write writeend".split(" "))},b=function(){if(!v&&d||(d=n().createObjectURL(t)),p)p.location.href=d;else{var i=e.open(d,"_blank");void 0==i&&"undefined"!=typeof safari&&(e.location.href=d)}A.readyState=A.DONE,y(),h(d)},E=function(e){return function(){if(A.readyState!==A.DONE)return e.apply(this,arguments)}},w={create:!0,exclusive:!1};return A.readyState=A.INIT,l||(l="download"),r?(d=n().createObjectURL(t),i.href=d,i.download=l,a(i),A.readyState=A.DONE,y(),void h(d)):(e.chrome&&g&&g!==u&&(m=t.slice||t.webkitSlice,t=m.call(t,0,t.size,u),v=!0),o&&"download"!==l&&(l+=".download"),(g===u||o)&&(p=e),s?(c+=t.size,void s(e.TEMPORARY,c,E(function(e){e.root.getDirectory("saved",w,E(function(e){var n=function(){e.getFile(l,w,E(function(e){e.createWriter(E(function(n){n.onwriteend=function(t){p.location.href=e.toURL(),A.readyState=A.DONE,f(A,"writeend",t),h(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&b()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=A["on"+e]}),n.write(t),A.abort=function(){n.abort(),A.readyState=A.DONE},A.readyState=A.WRITING}),b)}),b)};e.getFile(l,{create:!1},E(function(e){e.remove(),n()}),E(function(e){e.code===e.NOT_FOUND_ERR?n():b()}))}),b)}),b)):void b())},m=p.prototype,A=function(e,t){return new p(e,t)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t){return navigator.msSaveOrOpenBlob(_(e),t)}:(m.abort=function(){var e=this;e.readyState=e.DONE,f(e,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,A)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);"undefined"!=typeof e&&e.exports?e.exports.saveAs=a:null!==n(193)&&null!=n(278)&&(i=[],r=function(){return a}.apply(t,i),!(void 0!==r&&(e.exports=r)))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationManager=void 0;var r=n(1),a=i(r),o=n(2),s=i(o);t.AnimationManager=function(){function e(){(0,a.default)(this,e),this._activeAnimations=[]}return(0,s.default)(e,[{key:"playAnimation",value:function(e){this._activeAnimations.push(e),e.play()}},{key:"update",value:function(e){for(var t=0,n=this._activeAnimations.length;t<n;++t){var i=this._activeAnimations[t];i.playing&&i.update(e)}for(var r=0;r<this._activeAnimations.length;++r)this._activeAnimations[r].playing||this._activeAnimations.splice(r,1)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DelayAnimation=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(300);t.DelayAnimation=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"$serialize",value:function(){return{name:"DelayAnimation"}}},{key:"evaluate",value:function(){}}]),t}(_.BaseAnimation)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceAnimation=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(436);t.SequenceAnimation=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._curAnimationIdx=0,n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"SequenceAnimation"}}}]),(0,f.default)(t,[{key:"onChildDurationChanged",value:function(){for(var e=0,t=0,n=this._children.length;t<n;++t)e+=this._children[t].duration;this.duration=e}},{key:"play",value:function(e){this._curAnimationIdx=0,this.children.length>0&&this.children[this._curAnimationIdx].play(e),(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"play",this).call(this,e)}},{key:"update",value:function(e,t){var n=this._children;this._curAnimationIdx>=n.length||(n[this._curAnimationIdx].update(e,t),n[this._curAnimationIdx].playing||(++this._curAnimationIdx,this._curAnimationIdx<n.length?n[this._curAnimationIdx].play(t):this.finish(t)))}}]),t}(m.CompositeAnimation)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(13),p=n(11),m=n(7);t.Circle=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._center=m.Util.getParam(e,"center",new p.Vector3),n._radius=m.Util.getParam(e,"radius",1),n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"Circle",params:{center:this._center,radius:this._radius}}}}]),(0,d.default)(t,[{key:"center",get:function(){return this._center},set:function(e){this._center=e}},{key:"radius",get:function(){return this._radius},set:function(e){this._radius=e}}]),t}(_.Serializable)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LineSegment=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(13),p=n(11),m=n(7);t.LineSegment=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._a=m.Util.getParam(e,"a",new p.Vector3),n._b=m.Util.getParam(e,"b",new p.Vector3),n._normal=m.Util.getParam(e,"normal",new p.Vector3(n._a.y-n._b.y,n._b.x-n._a.x,0)),n._normal.normalize(),n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"LineSegment",params:{a:this._a,b:this._b,normal:this._normal}}}}]),(0,d.default)(t,[{key:"a",get:function(){return this._a}},{key:"b",get:function(){return this._b}},{key:"normal",get:function(){return this._normal}}]),t}(_.Serializable)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Async=void 0;var _map=__webpack_require__(15),_map2=_interopRequireDefault(_map),_classCallCheck2=__webpack_require__(1),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(2),_createClass3=_interopRequireDefault(_createClass2),_Util=__webpack_require__(7),_es6Promisify=__webpack_require__(201),_es6Promisify2=_interopRequireDefault(_es6Promisify),Async=exports.Async=function(){function Async(e){(0,_classCallCheck3.default)(this,Async),this._poolSize=_Util.Util.getParam(e,"poolSize",.5*navigator.hardwareConcurrency||2),this._workQueue=[],this._availableWorkers=new _map2.default,this._needsInit=!0,this._workerSupported=!!window.Worker,this._run=(0,_es6Promisify2.default)(this._runImpl.bind(this))}return(0,_createClass3.default)(Async,[{key:"makeAsync",value:function(e){var t=this;return function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return t._run(e,i)}}},{key:"_directCall",value:function(e,t,n){var i=null;try{i=e.apply(this,t),n(null,i)}catch(e){n(e)}}},{key:"_runImpl",value:function(e,t,n){this._needsInit&&(this._workerSupported&&this._initWorkers(),this._needsInit=!1);var i=this._availableWorkers.entries().next();if(i.done)return void(this._workerSupported?this._enqueue(e,t,n):this._directCall(e,t,n));var r=i.value[1],a=i.value[0];this._availableWorkers.delete(a),r.onmessage=this._recv.bind(this,a,r,n),r.onerror=this._error.bind(this,a,r,n),r.postMessage([e.toString()+";"].concat(t))}},{key:"_enqueue",value:function(e,t,n){this._workQueue.push({fn:e,args:t,cb:n})}},{key:"_dequeue",value:function(){return this._workQueue.pop()}},{key:"_workerMain",value:function _workerMain(){onmessage=function onmessage(e){var fns=e.data[0],fn=eval("var _ = "+fns+"; _;");postMessage(fn.apply(this,e.data.slice(1)))}}},{key:"_addBack",value:function(e,t){this._availableWorkers.set(e,t);var n=this._dequeue();n&&this._runImpl(n.fn,n.args,n.cb)}},{key:"_error",value:function(e,t,n,i){this._addBack(e,t),n(i)}},{key:"_recv",value:function(e,t,n,i){this._addBack(e,t),n(null,i.data)}},{key:"_initWorkers",value:function(){for(var e=0;e<this._poolSize;++e)this._availableWorkers.set(e,new Worker(window.URL.createObjectURL(new Blob(["("+this._workerMain.toString()+")();"]))))}},{key:"run",get:function(){return this._run}}]),Async}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Catalog=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(29),A=n(7);t.Catalog=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return n._class=A.Util.getParamRequired(e,"class"),n._name=A.Util.getParamRequired(e,"name"),n._items={},n._refCountItems={},n}return(0,p.default)(t,e),(0,f.default)(t,null,[{key:"_getId",value:function(e){return"_"+A.Util.hashString(e)}}]),(0,f.default)(t,[{key:"get",value:function(e){var n=t._getId(e);return n in this._items?(this._incrementRefCount(n),this._items[n]):(this.insert({name:e}),this._incrementRefCount(n),this._items[n])}},{key:"contains",value:function(e){return t._getId(e)in this._items}},{key:"insert",value:function(e,n){var i=t._getId(e.name);return this._items[i]=new this._class(e),this._items[i].catalogId=i,this._items[i]}},{key:"removeByName",value:function(e){return this.remove(t._getId(e))}},{key:"removeByValue",value:function(e){for(var t in this._items)if(this._items[t]===e){this.remove(t);break}}},{key:"remove",value:function(e){var t=void 0;if(!(e in this._items))throw new Error("Catalog: tried to remove nonexistant id: "+e+" from catalog");return 1===this._refCountItems[e]?(this._decrementRefCount(e),t=this._items[e],t.catalogId=null,t.dtor(),delete this._items[e]):this._decrementRefCount(e),t}},{key:"dtor",value:function(){for(var e in this._items)this._items[e].dtor(),delete this._items[e];(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"dtor",this).call(this)}},{key:"_incrementRefCount",value:function(e){e in this._refCountItems||(this._refCountItems[e]=0),++this._refCountItems[e]}},{key:"_decrementRefCount",value:function(e){if(!(e in this._refCountItems))throw new Error("trying to decrement non ref counted object.");--this._refCountItems[e]}}]),t}(m.Resource)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(15),d=i(c),h=n(7),f=n(9),_=new d.default;_.set(0,"none"),_.set(1,"error"),_.set(2,"warn"),_.set(3,"info"),_.set(4,"debug"),_.set("none",0),_.set("error",1),_.set("warn",2),_.set("info",3),_.set("debug",4);t.Logger=function(){function e(t){(0,s.default)(this,e),this._logSinks=h.Util.getParam(t,"logSinks",[console]),this._level=-1,this.level=h.Util.getParam(t,"level","warn")}return(0,u.default)(e,[{key:"addLogSink",value:function(e){this._logSinks.indexOf(e)===-1&&this._logSinks.push(e)}},{key:"removeLogSink",value:function(e){var t=0;(t=this._logSinks.indexOf(e))!==-1&&this._logSinks.splice(t,1)}},{key:"_shouldLog",value:function(e){return this._level>=_.get(e)}},{key:"_write",value:function(e,t){if(this._shouldLog(e)){for(var n=(0,a.default)(t).constructor.name,i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];for(var s=this._logSinks.length-1;s>=0;--s){var l;(l=this._logSinks[s])[e].apply(l,[f.Context.curTime,n].concat(r))}}}},{key:"debug",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this._write.apply(this,["debug",e].concat(n))}},{key:"warn",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this._write.apply(this,["warn",e].concat(n))}},{key:"info",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this._write.apply(this,["info",e].concat(n))}},{key:"error",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this._write.apply(this,["error",e].concat(n))}},{key:"level",set:function(e){this._level=_.get(e)},get:function(){_.get(this._level)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;var r=n(15),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(9);t.EventEmitter=function(){function e(){(0,s.default)(this,e),this._syncCallbacks=new a.default,this._asyncCallbacks=new a.default,this._notifyBackBuffer=new a.default,this._syncBuffer=new a.default}return(0,u.default)(e,[{key:"on",value:function(e,t){this._on(!0,e,t)}},{key:"onAsync",value:function(e,t){this._on(!1,e,t)}},{key:"_on",value:function(e,t,n,i){if("string"!=typeof t)throw new Error("event name must be of type string");if("function"!=typeof n)throw new Error("callback must be of type function");var r=e?this._syncCallbacks:this._asyncCallbacks;r.has(t)||r.set(t,[]),r.get(t).push({cb:n});var a=this._notifyBackBuffer.get(t);a&&n(a)}},{key:"notify",value:function(e,t){var n=this._notifyBackBuffer.get(e);n&&(t(n),c.Context.logger.info(this,"notify",e))}},{key:"_emit",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n&&this._notifyBackBuffer.set(t,e),this._asyncCallbacks.has(t))for(var i=this._asyncCallbacks.get(t),r=i.length-1;r>=0;--r)i[r].cb(e);this._syncCallbacks.has(t)&&this._syncBuffer.set(t,e)}},{key:"emit",value:function(e,t){this._emit(e,t)}},{key:"emitOnce",value:function(e,t){this._emit(e,t,!1)}},{key:"syncEvents",value:function(){for(var e=this._syncCallbacks.entries(),t=void 0,n=e.next();!n.done;n=e.next()){var i=n.value,r=i[0],a=i[1],o=this._syncBuffer.get(r);if(o)for(var s=a.length-1;s>=0;--s)try{a[s].cb(o)}catch(e){t=e}}if(this._syncBuffer.clear(),t)throw t}},{key:"removeListener",value:function(e,t){if(this._syncCallbacks.has(e)||this._asyncCallbacks.has(e)){var n=this._syncCallbacks.get(e);if(n)for(var i=n.length-1;i>=0;--i)n[i].cb===t&&n.splice(i,1);var r=this._asyncCallbacks.get(e);if(r)for(var a=r.length-1;a>=0;--a)r[a].cb===t&&r.splice(a,1)}}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComplementaryFilter=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(30),u=n(11),c=n(217),d=n(130);t.ComplementaryFilter=function(){function e(t){(0,a.default)(this,e),this._kFilter=t,this._currentAccelMeasurement=new c.SensorSample,this._currentGyroMeasurement=new c.SensorSample,this._previousGyroMeasurement=new c.SensorSample,this._filterQ=new l.Quaternion,this._previousFilterQ=new l.Quaternion,this._accelQ=new l.Quaternion,this._isOrientationInitialized=!1,this._estimatedGravity=new u.Vector3,this._measuredGravity=new u.Vector3,this._gyroIntegralQ=new l.Quaternion,this._tmpQ=new l.Quaternion,this._tmpQ2=new l.Quaternion,this._tmpVec=new u.Vector3,this._tmpVec2=new u.Vector3}return(0,s.default)(e,[{key:"addAccelMeasurement",value:function(e,t){this._currentAccelMeasurement.set(e,t)}},{key:"addGyroMeasurement",value:function(e,t){this._currentGyroMeasurement.set(e,t);var n=t-this._previousGyroMeasurement.timestampS;this._isTimestampDeltaValid(n)&&this._run(),this._previousGyroMeasurement.copyFrom(this._currentGyroMeasurement)}},{key:"_run",value:function(){if(!this._isOrientationInitialized)return this._accelQ=this._accelToQuaternion(this._currentAccelMeasurement.sample),this._previousFilterQ.copyFrom(this._accelQ),void(this._isOrientationInitialized=!0);var e=this._currentGyroMeasurement.timestampS-this._previousGyroMeasurement.timestampS,t=this._gyroToQuaternionDelta(this._currentGyroMeasurement.sample,e);this._gyroIntegralQ.mult(t),this._filterQ.copyFrom(this._previousFilterQ),this._filterQ.mult(t),this._tmpQ.copyFrom(this._filterQ),this._tmpQ.invert(),this._estimatedGravity.set(0,0,-1),this._estimatedGravity.multQuaternion(this._tmpQ),this._estimatedGravity.normalize(),this._measuredGravity.copyFrom(this._currentAccelMeasurement.sample),this._measuredGravity.normalize(),this._tmpQ.fromUnitVectors(this._estimatedGravity,this._measuredGravity),this._tmpQ.invert(),this._tmpQ2.copyFrom(this._filterQ),this._tmpQ2.mult(this._tmpQ),this._filterQ.slerp(this._tmpQ2,1-this._kFilter),this._previousFilterQ.copyFrom(this._filterQ)}},{key:"getOrientation",value:function(){return this._filterQ}},{key:"_accelToQuaternion",value:function(e){return this._tmpVec.copyFrom(e),this._tmpVec.normalize(),this._tmpQ.fromUnitVectors(this._tmpVec2.copyFrom(u.Vector3.NEG_Z_AXIS),this._tmpVec),this._tmpQ.invert(),this._tmpQ}},{key:"_gyroToQuaternionDelta",value:function(e,t){return this._tmpVec.copyFrom(e),this._tmpVec.normalize(),this._tmpQ.fromAxisAngle(this._tmpVec,e.magnitude()*t),this._tmpQ}},{key:"_isTimestampDeltaValid",value:function(e){return!isNaN(e)&&(!(e<=d.MIN_TIMESTEP)&&e<=d.MAX_TIMESTEP)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Dpdb=void 0;var r=n(2),a=i(r),o=n(1),s=i(o),l=n(9),u=n(7),c=n(214),d="https://storage.googleapis.com/cardboard-dpdb/dpdb.json",h=function e(t){(0,s.default)(this,e),this.maxDim=t.maxDim,this.xdpi=t.xdpi,this.ydpi=t.ydpi,this.bevelMm=t.bevelMm};t.Dpdb=function(){function e(t,n){var i=this;if((0,s.default)(this,e),this._dpdb=c.DpdbCache,this._dpdbIdx=-1,this._detectedDpdbIdx=-1,this._recalculateDeviceParams(),t){this._onDeviceParamsUpdated=n;var r=new XMLHttpRequest;r.open("GET",d,!0),r.addEventListener("load",function(){i._loading=!1,r.status>=200&&r.status<=299?(l.Context.logger.info(i,"Successfully loaded online DPDB."),i._dpdb=JSON.parse(r.response),i._recalculateDeviceParams()):l.Context.logger.error(i,"Error loading online DPDB!")}),r.send()}}return(0,a.default)(e,[{key:"resetDevice",value:function(){this.device=this._detectedDpdbIdx}},{key:"_recalculateDeviceParams",value:function(){l.Context.logger.info(this,"Recalculating device params.");var e=this._calcDeviceParams();l.Context.logger.info(this,"New device parameters:"),l.Context.logger.info(this,e),e?(this._deviceParams=e.deviceParams,this._detectedDpdbIdx===-1&&(this._detectedDpdbIdx=e.idx),this._dpdbIdx=e.idx,this._onDeviceParamsUpdated&&this._onDeviceParamsUpdated(this._deviceParams)):l.Context.logger.warn(this,"Failed to recalculate device parameters.")}},{key:"_calcDeviceParams",value:function(){var e=this._dpdb;if(!e)return l.Context.logger.error(this,"DPDB not available."),null;if(1!==e.format)return l.Context.logger.error(this,"DPDB has unexpected format version."),null;if(!e.devices||!e.devices.length)return l.Context.logger.error(this,"DPDB does not have a devices section."),null;var t=navigator.userAgent||navigator.vendor||window.opera,n=u.Util.getScreenWidth(),i=u.Util.getScreenHeight();if(l.Context.logger.info(this,"User agent: "+t),l.Context.logger.info(this,"Pixel width: "+n),l.Context.logger.info(this,"Pixel height: "+i),!e.devices)return console.error("DPDB has no devices section."),null;for(var r=0;r<e.devices.length;r++){var a=e.devices[r];if(a.rules)if("ios"===a.type||"android"===a.type){if(u.Util.isIOS()===("ios"===a.type)){for(var o=!1,s=-1,c=0;c<a.rules.length;c++){var d=a.rules[c];if(this._matchRule(d,t,n,i)){l.Context.logger.info(this,"Rule matched:"),l.Context.logger.info(this,d),o=!0,s=r;break}}if(o){var f=a.dpi[0]||a.dpi,_=a.dpi[1]||a.dpi,p=a.maxDim||Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio;return{deviceParams:new h({xdpi:f,ydpi:_,maxDim:p,bevelMm:a.bw}),idx:s}}}}else l.Context.logger.warn(this,"Device['"+r+"'] has invalid type.");else l.Context.logger.warn(this,"Device['"+r+"'] has no rules section.")}return l.Context.logger.warn(this,"No DPDB device match."),null}},{key:"_matchRule",value:function(e,t,n,i){if(!e.ua&&!e.res)return!1;if(e.ua&&t.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var r=e.res[0],a=e.res[1];if(Math.min(n,i)!==Math.min(r,a)||Math.max(n,i)!==Math.max(r,a))return!1}return!0}},{key:"deviceParams",get:function(){return this._deviceParams}},{key:"device",get:function(){return this._dpdb.devices[this._dpdbIdx]},set:function(e){var t=this._dpdb.devices[e],n=t.dpi[0]||t.dpi,i=t.dpi[1]||t.dpi,r=t.maxDim||Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio;this._deviceParams=new h({xdpi:n,ydpi:i,maxDim:r,bevelMm:t.bw}),this._dpdbIdx=e}},{key:"devices",get:function(){return this._dpdb.devices}}]),e}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DpdbCache={format:1,last_updated:"2016-01-20T00:18:35Z",devices:[{type:"android",rules:[{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500,maxDim:1920,dpr:2},{type:"android",rules:[{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,maxDim:1920,ac:1e3},{type:"android",rules:[{ua:"ASUS_Z012S"}],dpi:401,bw:3,maxDim:1920,ac:1e3},{type:"android",rules:[{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,maxDim:1920,ac:1e3},{type:"android",rules:[{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,maxDim:1280,ac:1e3},{type:"android",rules:[{ua:"Pixel B"}],dpi:441,bw:3,ac:1e3,maxDim:1920,dpr:2.6},{type:"android",rules:[{ua:"Pixel XL B"}],dpi:534,bw:4,ac:1e3,maxDim:2560,dpr:3.5},{type:"android",rules:[{ua:"Nexus 9"}],dpi:289,bw:3,ac:500,maxDim:2048,dpr:2},{type:"android",rules:[{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"HTC 10"}],dpi:565,bw:3,ac:1e3,maxDim:2560,dpr:3},{type:"android",rules:[{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3,maxDim:2560,dpr:3.5},{type:"android",rules:[{ua:"Honor 8"}],dpi:423,bw:3,ac:1e3,maxDim:1920,dpr:3.5},{type:"android",rules:[{ua:"Honor 8 Pro"}],dpi:515,bw:3,ac:1e3,maxDim:2560,dpr:3.5},{type:"android",rules:[{ua:"Mate 9"}],dpi:373,bw:3,ac:1e3,maxDim:1920,dpr:3.5},{type:"android",rules:[{ua:"P9"}],dpi:423,bw:3,ac:1e3,maxDim:1920,dpr:3.5},{type:"android",rules:[{ua:"P10"}],dpi:432,bw:3,ac:1e3,maxDim:1920,dpr:3.5},{type:"android",rules:[{ua:"P10 Plus"}],dpi:540,bw:3,ac:1e3,maxDim:2560,dpr:3.5},{type:"android",rules:[{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3,maxDim:1920,dpr:2.6},{type:"android",rules:[{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,maxDim:854,ac:500},{type:"android",rules:[{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500,maxDim:2560,dpr:3},{type:"android",rules:[{ua:"LG-LS993"}],dpi:564,bw:3,ac:500,maxDim:2880,dpr:3},{type:"android",rules:[{ua:"LG-H831"}],dpi:554,bw:3,ac:500,maxDim:2560,dpr:3},{type:"android",rules:[{ua:"LG-H815"}],dpi:538,bw:3,ac:500,maxDim:2560,dpr:3},{type:"android",rules:[{ua:"LG-H810"}],dpi:538,bw:3,ac:500,maxDim:2560,dpr:3},{type:"android",rules:[{ua:"LG-H812"}],dpi:538,bw:3,ac:500,maxDim:2560,dpr:3},{type:"android",rules:[{ua:"LG-H900"}],dpi:515,bw:3,ac:500,maxDim:2560,dpr:3},{type:"android",rules:[{ua:"LG-H910"}],dpi:513,bw:3,ac:500,maxDim:2560,dpr:3},{type:"android",rules:[{ua:"Lenovo P2"}],dpi:401,bw:3,ac:500,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3,maxDim:2560,dpr:3},{type:"android",rules:[{ua:"Nexus 5 "
}],dpi:[442.4,444.8],bw:3,ac:1e3,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3,maxDim:1280,dpr:2},{type:"android",rules:[{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,maxDim:960,ac:1e3},{type:"android",rules:[{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,maxDim:800,ac:1e3},{type:"android",rules:[{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,maxDim:1920,ac:1e3},{type:"android",rules:[{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3,maxDim:1280,dpr:2},{type:"android",rules:[{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500,maxDim:1280,dpr:2},{type:"android",rules:[{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3,maxDim:1280,dpr:2},{type:"android",rules:[{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,maxDim:1920,ac:1e3},{type:"android",rules:[{ua:"XT1650"}],dpi:535,bw:3,maxDim:2560,ac:1e3},{type:"android",rules:[{ua:"XT1676"}],dpi:441,bw:3,maxDim:1920,ac:1e3},{type:"android",rules:[{ua:"XT1686"}],dpi:424,bw:3,maxDim:1920,ac:1e3},{type:"android",rules:[{ua:"Nexus 6 "}],dpi:[494.3,489.7],bw:3,ac:1e3,maxDim:2560,dpr:3.5},{type:"android",rules:[{ua:"XT1063"}],dpi:[295,296.6],bw:3,maxDim:1280,ac:1e3},{type:"android",rules:[{ua:"XT1064"}],dpi:[295,295.6],bw:3,maxDim:1280,ac:500},{type:"android",rules:[{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"ONE A2005"}],dpi:401,bw:3,maxDim:1920,ac:1e3},{type:"android",rules:[{ua:"ONE A300"}],dpi:401,bw:3,maxDim:1920,ac:1e3},{type:"android",rules:[{ua:"ONE A3010"}],dpi:401,bw:3,maxDim:1920,ac:1e3},{type:"android",rules:[{ua:"X909"}],dpi:[442.4,444.1],bw:3,maxDim:1920,ac:1e3},{type:"android",rules:[{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{ua:"SM-G360"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3,maxDim:800,dpr:1.5},{type:"android",rules:[{ua:"SM-T230"}],dpi:216,bw:3,maxDim:1280,ac:500},{type:"android",rules:[{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{ua:"SM-N900"}],dpi:[386.4,387],bw:3,maxDim:1920,ac:500},{type:"android",rules:[{ua:"GT-I950"}],dpi:439.4,bw:4,ac:1e3,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"SM-G900"}],dpi:[415.6,431.6],bw:5,ac:1e3,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"SM-G800"}],dpi:326.8,bw:3,maxDim:1280,ac:1e3},{type:"android",rules:[{ua:"SM-G906"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3,maxDim:1280,dpr:2},{type:"android",rules:[{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,maxDim:1280,ac:500},{type:"android",rules:[{ua:"SM-N920"}],dpi:[515.1,518.4],bw:3,maxDim:2560,ac:1e3},{type:"android",rules:[{ua:"SM-N930"}],dpi:[515.1,518.4],bw:0,maxDim:2560,ac:1e3},{type:"android",rules:[{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500,maxDim:960,dpr:1.5},{type:"android",rules:[{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3,maxDim:960,dpr:1.5},{type:"android",rules:[{ua:"SGH-I717"}],dpi:285.8,bw:3,maxDim:1280,ac:1e3,dpr:2},{type:"android",rules:[{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3,maxDim:800,dpr:1.5},{type:"android",rules:[{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3,maxDim:1280,dpr:2},{type:"android",rules:[{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3,maxDim:1280,dpr:2},{type:"android",rules:[{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3,maxDim:1280,dpr:2},{type:"android",rules:[{ua:"SM-N910"}],dpi:[515.1,520.2],bw:3,ac:1e3,maxDim:2560,dpr:4},{type:"android",rules:[{ua:"SM-G130"}],dpi:[165.9,164.8],bw:3,maxDim:480,ac:500},{type:"android",rules:[{ua:"SM-G928"}],dpi:[515.1,518.4],bw:0,ac:1e3,maxDim:2560,dpr:4},{type:"android",rules:[{ua:"SM-G920"}],dpi:580.6,bw:3,ac:500,maxDim:2560,dpr:4},{type:"android",rules:[{ua:"SM-G925"}],dpi:580.6,bw:0,ac:500,maxDim:2560,dpr:4},{type:"android",rules:[{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"E6853"}],dpi:806,bw:3,ac:1e3,maxDim:3840,dpr:3},{type:"android",rules:[{ua:"F5121"}],dpi:441,bw:3,ac:1e3,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"F833"}],dpi:424,bw:3,ac:1e3,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,maxDim:1920,ac:500},{type:"android",rules:[{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{ua:"ALCATEL IDOL 4S"}],dpi:[534,534],bw:3.45,maxDim:2560,ac:1e3},{type:"android",rules:[{ua:"ALCATEL IDOL 4"}],dpi:[424,424],bw:3.9,maxDim:1920,ac:1e3},{type:"android",rules:[{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{ua:"ZTE Axon 7"}],dpi:538,bw:2,maxDim:2560,ac:500},{type:"android",rules:[{ua:"ZTE Blade L2"}],dpi:240,bw:3,maxDim:854,ac:500},{type:"android",rules:[{ua:"SM-G930"}],dpi:580.6,bw:3,ac:500,maxDim:2560,dpr:4},{type:"android",rules:[{ua:"SM-G935"}],dpi:580.6,bw:0,ac:500,maxDim:2560,dpr:4},{type:"android",rules:[{ua:"SM-G950"}],dpi:570,bw:0,ac:500,maxDim:2960,dpr:4},{type:"android",rules:[{ua:"SM-G955"}],dpi:529,bw:0,ac:500,maxDim:2960,dpr:4},{type:"android",rules:[{ua:"MI 5"}],dpi:428,bw:3,ac:500,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"MI 6"}],dpi:428,bw:3,ac:500,maxDim:1920,dpr:3},{type:"android",rules:[{ua:"Redmi 3"}],dpi:294,bw:3,ac:500,maxDim:1280,dpr:2},{type:"ios",variant:"iphone4",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",variant:"iphone4s",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",variant:"iphone5",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",variant:"iphone5s",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",variant:"iphoneSe",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",variant:"iphone6",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",variant:"iphone6s",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",variant:"iphone6plus",rules:[{res:[1242,2208]}],dpi:401,bw:4,ac:1e3},{type:"ios",variant:"iphone6splus",rules:[{res:[1242,2208]}],dpi:401,bw:4,ac:1e3},{type:"ios",variant:"iphone7plus",rules:[{res:[1242,2208]}],dpi:401,bw:4,ac:1e3},{type:"ios",variant:"iphone7",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",variant:"iphone8plus",rules:[{res:[1242,2208]}],dpi:401,bw:4,ac:1e3},{type:"ios",variant:"iphone8",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",variant:"iphonex",rules:[{res:[1125,2436]}],dpi:458,bw:0,ac:1e3},{type:"ios",variant:"iphonexs",rules:[{res:[1125,2436]}],dpi:458,bw:1,ac:1e3},{type:"ios",variant:"iphonexsmax",rules:[{res:[1242,2688]}],dpi:458,bw:1,ac:1e3},{type:"ios",variant:"iphonexr",rules:[{res:[828,1792]}],dpi:326,bw:1,ac:1e3},{type:"android",rules:[{ua:"Mi Note 3"}],dpi:403,bw:1.5,maxDim:1920},{type:"android",rules:[{ua:"Redmi Note 5A"}],dpi:267,bw:3,maxDim:1280},{type:"android",rules:[{ua:"Redmi 4A"}],dpi:296,bw:4,maxDim:1280},{type:"android",rules:[{ua:"MIX 2"}],dpi:403,bw:2,maxDim:2160},{type:"android",rules:[{ua:"ASUS_X018D"}],dpi:424,bw:4,maxDim:2160},{type:"android",rules:[{ua:"ASUS_T00I"}],dpi:401,bw:2.5,maxDim:1920},{type:"android",rules:[{ua:"ASUS_X00ID"}],dpi:267,bw:4,maxDim:1280},{type:"android",rules:[{ua:"ASUS_Z01GD"}],dpi:401,bw:2,maxDim:1920},{type:"android",rules:[{ua:"ASUS_T00J"}],dpi:402,bw:3,maxDim:2246},{type:"android",rules:[{ua:"ASUS_T00Q"}],dpi:402,bw:3,maxDim:2246},{type:"android",rules:[{ua:"ASUS_Z01GD"}],dpi:401,bw:2,maxDim:1920},{type:"android",rules:[{ua:"HTC U11"}],dpi:534,bw:3,maxDim:2560},{type:"android",rules:[{ua:"HTC U11 Plus"}],dpi:538,bw:2,maxDim:2880},{type:"android",rules:[{ua:"HTC U Ultra"}],dpi:513,bw:3,maxDim:2560},{type:"android",rules:[{ua:"HTC U Play"}],dpi:428,bw:4,maxDim:1920},{type:"android",rules:[{ua:"BND-L24"}],dpi:407,bw:3,maxDim:2160},{type:"android",rules:[{ua:"STF-TL10"}],dpi:428,bw:2,maxDim:1920},{type:"android",rules:[{ua:"BKL-L09"}],dpi:403,bw:2,maxDim:2160},{type:"android",rules:[{ua:"ALP-L09"}],dpi:499,bw:2,maxDim:2560},{type:"android",rules:[{ua:"RNE-L22"}],dpi:409,bw:2,maxDim:2160},{type:"android",rules:[{ua:"BLA-L29"}],dpi:402,bw:1,maxDim:2160},{type:"android",rules:[{ua:"ALE-L21"}],dpi:424,bw:3.5,maxDim:1920},{type:"android",rules:[{ua:"WAS-TL10"}],dpi:424,bw:2,maxDim:1920},{type:"android",rules:[{ua:"PH-1"}],dpi:504,bw:5,maxDim:2560},{type:"android",rules:[{ua:"LG-M250"}],dpi:227,bw:4,maxDim:1280},{type:"android",rules:[{ua:"LG-H930"}],dpi:537,bw:2,maxDim:2880},{type:"android",rules:[{ua:"XT1710-02"}],dpi:401,bw:2,maxDim:1920},{type:"android",rules:[{ua:"XT1789-05"}],dpi:534,bw:3,maxDim:2560},{type:"android",rules:[{ua:"moto x4"}],dpi:424,bw:2.5,maxDim:1920},{type:"android",rules:[{ua:"A5000"}],dpi:401,bw:2,maxDim:1920},{type:"android",rules:[{ua:"A5010"}],dpi:401,bw:2,maxDim:2160},{type:"android",rules:[{ua:"Pixel 2"}],dpi:441,bw:1.5,maxDim:1920},{type:"android",rules:[{ua:"Pixel 2 XL"}],dpi:538,bw:4,maxDim:2880},{type:"android",rules:[{ua:"Razer Phone"}],dpi:515,bw:3,maxDim:2560},{type:"android",rules:[{ua:"SM-N935"}],dpi:515,bw:.5,maxDim:2560},{type:"android",rules:[{ua:"SM-A320"}],dpi:312,bw:4,maxDim:1280},{type:"android",rules:[{ua:"SM-A520"}],dpi:424,bw:3,maxDim:1920},{type:"android",rules:[{ua:"SM-A720"}],dpi:386,bw:3,maxDim:1920},{type:"android",rules:[{ua:"SM-A530"}],dpi:441,bw:4,maxDim:2220},{type:"android",rules:[{ua:"SM-A730"}],dpi:411,bw:4,maxDim:2220},{type:"android",rules:[{ua:"SM-C5000"}],dpi:424,bw:3,maxDim:1920},{type:"android",rules:[{ua:"SM-C5010"}],dpi:424,bw:3,maxDim:1920},{type:"android",rules:[{ua:"SM-C7000"}],dpi:386,bw:2,maxDim:1920},{type:"android",rules:[{ua:"SM-C701"}],dpi:386,bw:2,maxDim:1920},{type:"android",rules:[{ua:"SM-C900"}],dpi:367,bw:2,maxDim:1920},{type:"android",rules:[{ua:"GT-N5110"}],dpi:521,bw:0,maxDim:2960},{type:"android",rules:[{ua:"SM-J530"}],dpi:282,bw:2,maxDim:1280},{type:"android",rules:[{ua:"SM-G570"}],dpi:294,bw:3,maxDim:1280},{type:"android",rules:[{ua:"SM-S727"}],dpi:401,bw:1,maxDim:1920},{type:"android",rules:[{ua:"SM-J701"}],dpi:267,bw:5,maxDim:1280},{type:"android",rules:[{ua:"SM-J730"}],dpi:401,bw:1,maxDim:1920},{type:"android",rules:[{ua:"SM-G610"}],dpi:401,bw:3,maxDim:1920},{type:"android",rules:[{ua:"SM-G615"}],dpi:386,bw:4,maxDim:1920},{type:"android",rules:[{ua:"SM-G960"}],dpi:570,bw:0,maxDim:2960},{type:"android",rules:[{ua:"SM-G965"}],dpi:529,bw:0,maxDim:2960},{type:"android",rules:[{ua:"G3121"}],dpi:294,bw:1,maxDim:1280},{type:"android",rules:[{ua:"G3421"}],dpi:401,bw:2,maxDim:1920},{type:"android",rules:[{ua:"H3113"}],dpi:424,bw:2,maxDim:1920},{type:"android",rules:[{ua:"H4233"}],dpi:367,bw:1.5,maxDim:1920},{type:"android",rules:[{ua:"G8141"}],dpi:807,bw:3,maxDim:2160},{type:"android",rules:[{ua:"G8341"}],dpi:424,bw:5,maxDim:1920},{type:"android",rules:[{ua:"G8441"}],dpi:319,bw:3,maxDim:1280},{type:"android",rules:[{ua:"H8216"}],dpi:424,bw:3,maxDim:2160},{type:"android",rules:[{ua:"H8314"}],dpi:483,bw:4,maxDim:2160},{type:"android",rules:[{ua:"G8231"}],dpi:424,bw:4,maxDim:1920},{type:"android",rules:[{ua:"CPH1727"}],dpi:402,bw:3,maxDim:2160},{type:"android",rules:[{ua:"CPH1725"}],dpi:402,bw:3,maxDim:2160},{type:"android",rules:[{ua:"CPH1729"}],dpi:282,bw:3,maxDim:1440},{type:"android",rules:[{ua:"CPH1717"}],dpi:282,bw:4,maxDim:1280},{type:"android",rules:[{ua:"vivo 1716"}],dpi:269,bw:2.5,maxDim:1440},{type:"android",rules:[{ua:"vivo 1718"}],dpi:282,bw:2,maxDim:1440},{type:"android",rules:[{ua:"Micromax C1"}],dpi:294,bw:3,maxDim:1280},{type:"android",rules:[{ua:"Micromax HS2"}],dpi:279,bw:4,maxDim:1440},{type:"android",rules:[{ua:"Micromax Bharat 5"}],dpi:282,bw:5,maxDim:1280},{type:"android",rules:[{ua:"BBA100-2"}],dpi:534,bw:3,maxDim:2560},{type:"android",rules:[{ua:"BBD100-1"}],dpi:403,bw:3,maxDim:1920},{type:"android",rules:[{ua:"TA-1028"}],dpi:294,bw:3,maxDim:1280},{type:"android",rules:[{ua:"TA-1053"}],dpi:282,bw:3,maxDim:1280},{type:"android",rules:[{ua:"TA-1000"}],dpi:403,bw:4,maxDim:1920},{type:"android",rules:[{ua:"Nokia 7 plus"}],dpi:403,bw:3,maxDim:2160},{type:"android",rules:[{ua:"TA-1004"}],dpi:554,bw:3,maxDim:2560},{type:"android",rules:[{ua:"Nokia 8 Sirocco"}],dpi:534,bw:3,maxDim:2560}]}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FusionPoseSensor=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(9),u=n(7),c=n(11),d=n(30),h=n(39),f=n(212),_=n(216),p=n(130);t.FusionPoseSensor=function(){function e(t){var n=this;(0,a.default)(this,e),this._onDeviceMotionChange=function(e){var t=e.accelerationIncludingGravity,i=e.rotationRate,r=e.timeStamp/1e3;n._isFirefoxAndroid&&!n._isFirefoxAndroid54OrHigher&&(r/=1e3);var a=r-n._previousTimestampS;return a<=p.MIN_TIMESTEP||a>p.MAX_TIMESTEP?(l.Context.logger.info(n,"Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic"),void(n._previousTimestampS=r)):(n._accelerometer.set(-t.x,-t.y,-t.z),u.Util.isR7()?n._gyroscope.set(-i.beta,i.alpha,i.gamma):n._gyroscope.set(i.alpha,i.beta,i.gamma),n._isDeviceMotionInRadians||n._gyroscope.mult(Math.PI/180),n._filter.addAccelMeasurement(n._accelerometer,r),n._filter.addGyroMeasurement(n._gyroscope,r),void(n._previousTimestampS=r))},this._onScreenOrientationChange=function(){n._setScreenTransform()},this._deviceId="webvr-polyfill:fused",this._deviceName="VR Position Device (webvr-polyfill:fused)",this._accelerometer=new c.Vector3,this._gyroscope=new c.Vector3,this._filter=new f.ComplementaryFilter(u.Util.getParam(t,"kFactor",.99)),this._posePredictor=new _.PosePredictor(u.Util.getParam(t,"predictionTime",.025)),this._filterToWorldQ=new d.Quaternion,this._isFirefoxAndroid=u.Util.isFirefoxAndroid(),this._isIOS=u.Util.isIOS(),this._isFirefoxAndroid54OrHigher=this._isFirefoxAndroid&&u.Util.getFirefoxVersion()>=54,this._isDeviceMotionInRadians=!this._isIOS&&u.Util.isChrome()&&u.Util.getChromeVersion()<66,this._isIOS?this._filterToWorldQ.fromAxisAngle(new c.Vector3(1,0,0),Math.PI/2):this._filterToWorldQ.fromAxisAngle(new c.Vector3(1,0,0),-Math.PI/2),this._inverseWorldToScreenQ=new d.Quaternion,this._worldToScreenQ=new d.Quaternion,this._setScreenTransform(),u.Util.isLandscapeMode()&&this._filterToWorldQ.mult(this._inverseWorldToScreenQ),this._resetQ=new d.Quaternion,this._predictedQ=new d.Quaternion,this._tmpQ=new d.Quaternion,this._orientationOut=new Float32Array(4),this._previousTimestampS=(new Date).getTime(),l.Context.windowEventDispatcher.addEventListener(h.GlobalEvent.DEVICE_MOTION,this._onDeviceMotionChange),l.Context.windowEventDispatcher.addEventListener(h.GlobalEvent.ORIENTATION_CHANGE,this._onScreenOrientationChange)}return(0,s.default)(e,[{key:"dtor",value:function(){l.Context.windowEventDispatcher.removeEventListener(h.GlobalEvent.DEVICE_MOTION,this._onDeviceMotionChange),l.Context.windowEventDispatcher.removeEventListener(h.GlobalEvent.ORIENTATION_CHANGE,this._onScreenOrientationChange)}},{key:"getPosition",value:function(e){return null}},{key:"getOrientation",value:function(e){return this._predictedQ=this._posePredictor.getPrediction(this._filter.getOrientation(),this._gyroscope,this._previousTimestampS),this._tmpQ.copyFrom(this._filterToWorldQ),this._tmpQ.mult(this._resetQ),this._tmpQ.mult(this._predictedQ),this._tmpQ.mult(this._worldToScreenQ),e?this._tmpQ:(this._orientationOut[0]=this._tmpQ.x,this._orientationOut[1]=this._tmpQ.y,this._orientationOut[2]=this._tmpQ.z,this._orientationOut[3]=this._tmpQ.w,this._orientationOut)}},{key:"resetPose",value:function(){this._resetQ.copyFrom(this._filter.getOrientation()),this._resetQ.x=0,this._resetQ.y=0,this._resetQ.z*=-1,this._resetQ.normalize(),u.Util.isLandscapeMode()&&this._resetQ.mult(this._inverseWorldToScreenQ)}},{key:"_setScreenTransform",value:function(){switch(this._worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this._worldToScreenQ.fromAxisAngle(c.Vector3.Z_AXIS,-Math.PI/2);break;case-90:this._worldToScreenQ.fromAxisAngle(c.Vector3.Z_AXIS,Math.PI/2);break;case 180:}this._inverseWorldToScreenQ.copyFrom(this._worldToScreenQ),this._inverseWorldToScreenQ.invert()}},{key:"deviceId",get:function(){return this._deviceId}},{key:"deviceName",get:function(){return this._deviceName}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PosePredictor=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(30),u=n(11),c=n(14);t.PosePredictor=function(){function e(t){(0,a.default)(this,e),this._predictionTimeS=t,this._previousQ=new l.Quaternion,this._previousTimestampS=null,this._deltaQ=new l.Quaternion,this._outQ=new l.Quaternion,this._tmpVec=new u.Vector3}return(0,s.default)(e,[{key:"getPrediction",value:function(e,t,n){if(!this._previousTimestampS)return this._previousQ.copyFrom(e),this._previousTimestampS=n,e;this._tmpVec.copyFrom(t),this._tmpVec.normalize();var i=t.magnitude();if(i<c.MathUtil.degToRad(20))return this._outQ.copyFrom(e),this._previousQ.copyFrom(e),this._outQ;var r=i*this._predictionTimeS;return this._deltaQ.fromAxisAngle(this._tmpVec,r),this._outQ.copyFrom(this._previousQ),this._outQ.mult(this._deltaQ),this._previousQ.copyFrom(e),this._outQ}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SensorSample=void 0;var r=n(1),a=i(r),o=n(2),s=i(o);t.SensorSample=function(){function e(t,n){(0,a.default)(this,e),this.set(t,n)}return(0,s.default)(e,[{key:"set",value:function(e,t){this._sample=e,this._timestampS=t}},{key:"copyFrom",value:function(e){this.set(e.sample,e.timestampS)}},{key:"sample",get:function(){return this._sample}},{key:"timestampS",get:function(){return this._timestampS}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SkyboxMaterial=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(7),A=n(29),g=n(14),v=n(63),y=n(143),b=n(20),E=t.SkyboxMaterial=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._textureLoaded=function(){n._updateModeInEffect(n._effect),n._texture&&"function"==typeof n._texture.removeEventListener&&n._texture.removeEventListener(n._textureLoaded)},n._texture=m.Util.getParam(e,"texture"),n._texture&&"function"==typeof n._texture.addEventListener&&n._texture.addEventListener(A.Resource.LOADED,n._textureLoaded),n._color=m.Util.getParam(e,"color",new b.ColorRGBA(1,1,1,1)),n._mode=m.Util.getParam(e,"mode",t.CUBE),n._stereoFormat=m.Util.getParam(e,"stereoFormat",t.STEREO_FORMAT_180_LR_SPHERICAL),n._useMipmappedTexture=m.Util.getParam(e,"useMipmappedTexture",!1),n._useFlippedY=m.Util.getParam(e,"useFlippedY",!1),n._convertToBGRA=m.Util.getParam(e,"convertToBGRA",!1),n._shCoeffs=m.Util.getParam(e,"shCoeffs",new Array(9)),n._gammaSpace=m.Util.getParam(e,"gammaSpace",!1),n._formatParams=m.Util.getParam(e,"formatParams"),n._lockToCamera=m.Util.getParam(e,"lockToCamera",!0),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"SkyboxMaterial",params:{texture:this._texture,color:this._color,mode:this._mode,stereoFormat:this._stereoFormat,useMipmappedTexture:this._useMipmappedTexture,useFlippedY:this._useFlippedY,shCoeffs:this._shCoeffs,gammaSpace:this._gammaSpace,convertToBGRA:this._convertToBGRA,formatParams:this._formatParams}}}}]),(0,f.default)(t,[{key:"_updateColorInEffect",value:function(e){e&&e.isConfigurable&&(this.color?(e.setUnlitColorEnabled(!0),e.params.color=this._color):e.setUnlitColorEnabled(!1))}},{key:"_updateGammaSpaceInEffect",value:function(e){e&&e.isConfigurable&&e.setGammaSpaceEnabled(this._gammaSpace)}},{key:"_updateLockToCameraInEffect",value:function(e){e&&e.isConfigurable&&e.setLockToCameraPositionEnabled(this._lockToCamera)}},{key:"_updateModeInEffect",value:function(e){if(e&&e.isConfigurable){if(e.setConvertToBGRAEnabled(this._convertToBGRA),this._mode===t.CUBE)e.setSkyBoxEnabled(!0),e.setCubemapFormatEnabled(!0),e.setEnvHasMipmapsEnabled(this._useMipmappedTexture),e.textures.skyTexture=this._texture;else if(this._mode===t.LATLONG)e.setSkyBoxEnabled(!0),e.setLatlongFormatEnabled(!0),e.setEnvHasMipmapsEnabled(this._useMipmappedTexture),e.setFlippedLatlongYEnabled(this._useFlippedY),e.textures.skyTexture=this._texture;else if(this._mode===t.LATLONG_180)e.setSkyBoxEnabled(!0),e.setLatlongFormatEnabled(!0),e.setMono180Enabled(!0),e.setEnvHasMipmapsEnabled(this._useMipmappedTexture),e.setFlippedLatlongYEnabled(this._useFlippedY),e.textures.skyTexture=this._texture;else if(this._mode===t.SH)e.setSkyBoxSHEnabled(!0),e.params.shCoeffs=this._shCoeffs;else if(this._mode===t.STEREOSCOPIC)if(e.setSkyBoxEnabled(!0),e.setStereoscopicFormatEnabled(!0),e.textures.skyTexture=this._texture,e.setStereoscopicPreSeparatedEnabled(this._texture instanceof y.VrUniform),e.setFlippedLatlongYEnabled(this._useFlippedY),this._stereoFormat===t.STEREO_FORMAT_180_LR_SPHERICAL)e.setStereoscopic180LrSphericalEnabled(!0);else if(this._stereoFormat===t.STEREO_FORMAT_360_LR)e.setStereoscopic360LrEnabled(!0);else if(this._stereoFormat===t.STEREO_FORMAT_180_TB_SPHERICAL)e.setStereoscopic180TbSphericalEnabled(!0);else if(this._stereoFormat===t.STEREO_FORMAT_360_TB)e.setStereoscopic360TbEnabled(!0);else if(this._stereoFormat===t.STEREO_FORMAT_180_LR)e.setStereoscopic180LrEnabled(!0);else if(this._stereoFormat===t.STEREO_FORMAT_180_TB)e.setStereoscopic180TbEnabled(!0);else if(this._stereoFormat===t.STEREO_FORMAT_FISHEYE_LR){e.setStereoscopicFisheyeLrEnabled(!0);var n=1;this._texture.width&&this._texture.height&&(n=.5*this._texture.width/this._texture.height);var i=180;this._formatParams&&this._formatParams.fov&&(i=this._formatParams.fov);var r=180;this._formatParams&&this._formatParams.magnification&&(r=this._formatParams.magnification),e.params.fisheyeParams=[g.MathUtil.degToRad(i),r,n]}else{if(this._stereoFormat!==t.STEREO_FORMAT_CUBEMAP)throw new Error("invalid stereo format supplied: "+this._stereoFormat);e.setStereoscopicCubemapEnabled(!0)}var a=this._texture instanceof y.VrUniform?this._texture.left:this._texture;a&&a.isRgbm?(e.params.rgbmMaxRange=a.rgbmFactor,e.setRgbmInputEnabled(!0)):e.setRgbmInputEnabled(!1)}}},{key:"_configureEffect",value:function(e){e.setUnlitEnabled(!0),this._updateModeInEffect(e),this._updateColorInEffect(e),this._updateGammaSpaceInEffect(e),this._updateLockToCameraInEffect(e),this._overwriteSurface=!1,this._writeDepth=!1,this._readDepth=!0,(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"_configureEffect",this).call(this,e)}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture&&"function"==typeof this._texture.removeEventListener&&this._texture.removeEventListener(this._textureLoaded),this._texture=e,this._texture&&"function"==typeof this._texture.addEventListener&&this._texture.addEventListener(A.Resource.LOADED,this._textureLoaded),this._updateModeInEffect(this._effect)}},{key:"opacity",set:function(e){this._color.a=e,this._updateColorInEffect(this._effect)},get:function(){return this._color.a}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this._updateColorInEffect(this._effect)}},{key:"convertToBGRA",set:function(e){this._convertToBGRA=e,this._updateModeInEffect(this._effect)},get:function(){return this._convertToBGRA}},{key:"mode",set:function(e){this._mode=e,this._updateModeInEffect(this._effect)},get:function(){return this._mode}},{key:"stereoFormat",set:function(e){this._stereoFormat=e,this._updateModeInEffect(this._effect)},get:function(){return this._stereoFormat}},{key:"gammaSpace",set:function(e){this._gammaSpace=e,this._updateGammaSpaceInEffect(this._effect)},get:function(){return this._gammaSpace}},{key:"lockToCamera",set:function(e){this._lockToCamera=e,this._updateLockToCameraInEffect(this._effect)},get:function(){return this._lockToCamera}}]),t}(v.SurfaceMaterial);E.LATLONG="LATLONG",E.LATLONG_180="LATLONG_180",E.STEREOSCOPIC="STEREOSCOPIC",E.STEREO_FORMAT_180_LR_SPHERICAL="STEREO_180_LR_SPHERICAL",E.STEREO_FORMAT_360_LR="STEREO_360_LR",E.STEREO_FORMAT_180_TB_SPHERICAL="STEREO_180_TB_SPHERICAL",E.STEREO_FORMAT_360_TB="STEREO_360_TB",E.STEREO_FORMAT_180_LR="STEREO_180_LR",E.STEREO_FORMAT_180_TB="STEREO_180_TB",E.STEREO_FORMAT_FISHEYE_LR="STEREO_FISHEYE_LR",E.STEREO_FORMAT_CUBEMAP="STEREO_CUBEMAP",E.CUBE="CUBE",E.SH="SH",E.UNIFORM="UNIFORM"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Plane3=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(11),p=n(7),m=n(13);t.Plane3=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._normal=new _.Vector3,n._normal.copyFrom(p.Util.getParamRequired(e,"normal")),n._d=p.Util.getParamRequired(e,"d"),n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"Plane3",params:{normal:this._normal,d:this._d}}}}]),(0,d.default)(t,[{key:"distanceToPoint",value:function(e){return this._normal.dot(e)-this._d}},{key:"toString",value:function(){return"d = "+this._d+" n = "+this._normal.toString()}},{key:"normal",get:function(){return this._normal},set:function(e){this._normal.copyFrom(e)}},{key:"d",get:function(){return this._d},set:function(e){this._d=e}}]),t}(m.Serializable)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceInfo=void 0;var r=n(2),a=i(r),o=n(1),s=i(o),l=n(7),u=n(14),c=n(221),d=n(9),h=n(93),f=n(82),_=function e(t){(0,s.default)(this,e),this.width=t.width||l.Util.getScreenWidth(),this.height=t.height||l.Util.getScreenHeight(),this.widthMeters=t.widthMeters,this.heightMeters=t.heightMeters,this.bevelMeters=t.bevelMeters},p=new _({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),m=new _({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004});t.DeviceInfo=function(){function e(t){(0,s.default)(this,e),this._viewer=h.ViewerLibrary.get("CardboardV2"),this.updateDeviceParams(t),this._distortion=new c.Distortion(this._viewer.distortionCoefficients),d.Context.eventEmitter.emit(this._viewer,f.CardboardViewer.EVENT_VR_VIEWER_CHANGED)}return(0,a.default)(e,[{key:"updateDeviceParams",value:function(e){this._device=this._determineDevice(e)||this._device}},{key:"_determineDevice",value:function(e){if(!e)return l.Util.isIOS()?(d.Context.logger.warn(this,"Using fallback Android device measurements."),m):(d.Context.logger.warn(this,"Using fallback iOS device measurements."),p);var t=window.devicePixelRatio*Math.max(window.screen.width,window.screen.height),n=.0254,i=n/(e.xdpi/e.maxDim*t),r=n/(e.ydpi/e.maxDim*t),a=l.Util.getScreenWidth(),o=l.Util.getScreenHeight();return new _({widthMeters:i*a,heightMeters:r*o,bevelMeters:.001*e.bevelMm})}},{key:"getDistortedFieldOfViewLeftEye",value:function(){var e=this._viewer,t=this._device,n=this._distortion,i=e.screenLensDistance,r=(t.widthMeters-e.interLensDistance)/2,a=e.interLensDistance/2,o=e.baselineLensDistance-t.bevelMeters,s=t.heightMeters-o,l=u.MathUtil.radToDeg(Math.atan(n.distort(r/i))),c=u.MathUtil.radToDeg(Math.atan(n.distort(a/i))),d=u.MathUtil.radToDeg(Math.atan(n.distort(o/i))),h=u.MathUtil.radToDeg(Math.atan(n.distort(s/i)));return{leftDegrees:Math.min(l,e.fov),rightDegrees:Math.min(c,e.fov),downDegrees:Math.min(d,e.fov),upDegrees:Math.min(h,e.fov)}}},{key:"getLeftEyeVisibleTanAngles",value:function(){var e=this._viewer,t=this._device,n=this._distortion,i=Math.tan(-u.MathUtil.degToRad(e.fov)),r=Math.tan(u.MathUtil.degToRad(e.fov)),a=Math.tan(u.MathUtil.degToRad(e.fov)),o=Math.tan(-u.MathUtil.degToRad(e.fov)),s=t.widthMeters/4,l=t.heightMeters/2,c=e.baselineLensDistance-t.bevelMeters-l,d=e.interLensDistance/2-s,h=-c,f=e.screenLensDistance,_=n.distort((d-s)/f),p=n.distort((h+l)/f),m=n.distort((d+s)/f),A=n.distort((h-l)/f),g=new Float32Array(4);return g[0]=Math.max(i,_),g[1]=Math.min(r,p),g[2]=Math.min(a,m),g[3]=Math.max(o,A),g}},{key:"getLeftEyeNoLensTanAngles",value:function(){var e=this._viewer,t=this._device,n=this._distortion,i=new Float32Array(4),r=n.distortInverse(Math.tan(-u.MathUtil.degToRad(e.fov))),a=n.distortInverse(Math.tan(u.MathUtil.degToRad(e.fov))),o=n.distortInverse(Math.tan(u.MathUtil.degToRad(e.fov))),s=n.distortInverse(Math.tan(-u.MathUtil.degToRad(e.fov))),l=t.widthMeters/4,c=t.heightMeters/2,d=e.baselineLensDistance-t.bevelMeters-c,h=e.interLensDistance/2-l,f=-d,_=e.screenLensDistance,p=(h-l)/_,m=(f+c)/_,A=(h+l)/_,g=(f-c)/_;return i[0]=Math.max(r,p),i[1]=Math.min(a,m),i[2]=Math.min(o,A),i[3]=Math.max(s,g),i}},{key:"getLeftEyeVisibleScreenRect",value:function(e){var t=this._viewer,n=this._device,i=t.screenLensDistance,r=(n.widthMeters-t.interLensDistance)/2,a=t.baselineLensDistance-n.bevelMeters,o=(e[0]*i+r)/n.widthMeters,s=(e[1]*i+a)/n.heightMeters,l=(e[2]*i+r)/n.widthMeters,u=(e[3]*i+a)/n.heightMeters;return{x:o,y:u,width:l-o,height:s-u}}},{key:"getFieldOfViewLeftEye",value:function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()}},{key:"getFieldOfViewRightEye",value:function(e){var t=this.getFieldOfViewLeftEye(e);return{leftDegrees:t.rightDegrees,rightDegrees:t.leftDegrees,upDegrees:t.upDegrees,downDegrees:t.downDegrees}}},{key:"getProjectionMatrixLeftEye",value:function(e,t){var n=this.getFieldOfViewLeftEye(t),i=.1,r=1e3,a=Math.tan(u.MathUtil.degToRad(n.leftDegrees))*i,o=Math.tan(u.MathUtil.degToRad(n.rightDegrees))*i,s=Math.tan(u.MathUtil.degToRad(n.downDegrees))*i,l=Math.tan(u.MathUtil.degToRad(n.upDegrees))*i;return e.frustum(-a,o,-s,l,i,r),e}},{key:"getUndistortedViewportLeftEye",value:function(){var e=this._getUndistortedParams(),t=this._viewer,n=this._device,i=t.screenLensDistance,r=n.widthMeters/i,a=n.heightMeters/i,o=n.width/r,s=n.height/a,l=Math.round((e.eyePosX-e.outerDist)*o),u=Math.round((e.eyePosY-e.bottomDist)*s);return{x:l,y:u,width:Math.round((e.eyePosX+e.innerDist)*o)-l,height:Math.round((e.eyePosY+e.topDist)*s)-u}}},{key:"getUndistortedFieldOfViewLeftEye",value:function(){var e=this._getUndistortedParams();return{leftDegrees:u.MathUtil.radToDeg(Math.atan(e.outerDist)),rightDegrees:u.MathUtil.radToDeg(Math.atan(e.innerDist)),downDegrees:u.MathUtil.radToDeg(Math.atan(e.bottomDist)),upDegrees:u.MathUtil.radToDeg(Math.atan(e.topDist))}}},{key:"_getUndistortedParams",value:function(){var e=this._viewer,t=this._device,n=this._distortion,i=e.screenLensDistance,r=e.interLensDistance/2/i,a=t.widthMeters/i,o=t.heightMeters/i,s=a/2-r,l=(e.baselineLensDistance-t.bevelMeters)/i,c=e.fov,d=n.distortInverse(Math.tan(u.MathUtil.degToRad(c))),h=Math.min(s,d),f=Math.min(r,d),_=Math.min(l,d),p=Math.min(o-l,d);return{outerDist:h,innerDist:f,topDist:p,bottomDist:_,eyePosX:s,eyePosY:l}}},{key:"device",get:function(){return this._device}},{key:"viewer",get:function(){return this._viewer},set:function(e){this._viewer=e,this._distortion=new c.Distortion(this._viewer.distortionCoefficients)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Distortion=void 0;var r=n(1),a=i(r),o=n(2),s=i(o);t.Distortion=function(){function e(t){(0,
a.default)(this,e),this._coefficients=t}return(0,s.default)(e,[{key:"distortInverse",value:function(e){for(var t=0,n=1,i=e-this.distort(t);Math.abs(n-t)>1e-4;){var r=e-this.distort(n),a=n-r*((n-t)/(r-i));t=n,n=a,i=r}return n}},{key:"distort",value:function(e){for(var t=e*e,n=0,i=this._coefficients.length-1;i>=0;i--)n=t*(n+this._coefficients[i]);return(n+1)*e}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LegacyVRDisplay=void 0;var r=n(33),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(2),d=i(c),h=n(5),f=i(h),_=n(4),p=i(_),m=n(7),A=n(11),g=n(92);t.LegacyVRDisplay=function(e){function t(e,n){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this));i._hmd=e,i._sensor=n,i._displayId=e.deviceId,i._displayName=e.deviceName,i._isConnected=!!e,i._pose={position:[0,0,0],orientation:[0,0,0,1],linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null};var r=null;return i._sensor&&(r=i._sensor.getState()),i._capabilities={hasPosition:!!r,hasOrientation:!!r,hasExternalDisplay:!1,canPresent:!0,maxLayers:1},i}return(0,p.default)(t,e),(0,d.default)(t,[{key:"requestPresent",value:function(e){var t=this;return e instanceof Array||(e=[e]),new a.default(function(n,i){if(!t.capabilities.canPresent)return void i(new Error("VRDisplay is not capable of presenting."));if(0===e.length||e.length>t.capabilities.maxLayers)return void i(new Error("Invalid number of layers."));if(t._layer=e[0],t._waitingForPresent)return void i(new Error("Already waiting for present."));if(t.isPresenting)return void i(new Error("Already presenting."));if(t._layer&&t._layer.source){var r=t._layer.source,a=function(){var e=m.Util.getFullscreenElement();this._isPresenting=r===e,this._fireVRDisplayPresentChange(),this.isPresenting?this._waitingForPresent=!1:m.Util.removeFullscreenListeners()}.bind(t),o=function(){this._waitingForPresent&&(m.Util.removeFullscreenListeners(),this._waitingForPresent=!1,this._isPresenting=!1,i(new Error("Unable to present. 1")))}.bind(t);m.Util.addFullscreenListeners(r,a,o),m.Util.requestFullscreen(r,t._hmd)&&(t._waitingForPresent=!0)}return t._waitingForPresent?(t._isPresenting=!0,void n()):(m.Util.exitFullscreen(),void i(new Error("Unable to present. 2")))})}},{key:"exitPresent",value:function(){var e=this.isPresenting;return this._isPresenting=!1,this._layer=null,new a.default(function(t,n){e?t():n(new Error("Was not presenting to VRDisplay."))})}},{key:"getEyeParameters",value:function(e){var t=void 0,n=[0,0,0],i=new A.Vector3;if("getEyeParameters"in this._hmd){var r=this._hmd.getEyeParameters(e);t=r.recommendedFieldOfView,n[0]=r.eyeTranslation.x,n[1]=r.eyeTranslation.y,n[2]=r.eyeTranslation.z,i=r.renderRect}else{t=this._hmd.getRecommendedEyeFieldOfView(e);var a=this._hmd.getEyeTranslation(e);n[0]=a.x,n[1]=a.y,n[2]=a.z,"getRecommendedEyeRenderRect"in this._hmd&&(i=this._hmd.getRecommendedEyeRenderRect(e))}var o=i.width,s=i.height;return m.Util.isFirefox()&&!m.Util.isMobileBrowser()&&this._hmd.deviceId.indexOf("0x100")!==-1&&(s=2*o*9/16),{fieldOfView:t,offset:n,renderWidth:o,renderHeight:s}}},{key:"getImmediatePose",value:function(){if(this._sensor){var e=this._sensor.getState();e.position&&(this._pose.position[0]=e.position.x,this._pose.position[1]=e.position.y,this._pose.position[2]=e.position.z),e.orientation&&(this._pose.orientation[0]=e.orientation.x,this._pose.orientation[1]=e.orientation.y,this._pose.orientation[2]=e.orientation.z,this._pose.orientation[3]=e.orientation.w)}return this._pose}}]),t}(g.VRDisplay)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WebVRPolyfill=void 0;var r=n(33),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(7),d=n(91),h=n(92),f=n(222);t.WebVRPolyfill=function(){function e(){(0,s.default)(this,e),this._displays=[],this._devicesPopulated=!1;var t=this.isWebVRAvailable(),n=this.isLegacyWebVRAvailable();n?this._enableLegacyPolyfill():t||this._enablePolyfill(),this._enableOneOneShim()}return(0,u.default)(e,[{key:"isWebVRAvailable",value:function(){return"getVRDisplays"in navigator}},{key:"isLegacyWebVRAvailable",value:function(){return"getVRDevices"in navigator||"mozGetVRDevices"in navigator}},{key:"_enableOneOneShim",value:function(e){!e&&"depthNear"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthNear=.01),!e&&"depthFar"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthFar=1e4),!e&&"VRFrameData"in window||(window.VRFrameData=function(){this.pose=null},window.VRDisplay.prototype.getFrameData=function(){return function(e){var t=this.getPose();return!!t&&(e.pose=t,e.timestamp=t.timestamp,!0)}}())}},{key:"_enableLegacyPolyfill",value:function(){navigator.getVRDisplays=this._getLegacyVRDisplays.bind(this),window.VRDisplay=f.LegacyVRDisplay}},{key:"_enablePolyfill",value:function(){navigator.getVRDisplays=this._getVRDisplays.bind(this),window.VRDisplay=h.VRDisplay}},{key:"_getVRDisplays",value:function(){var e=this;return this._populateDevices(),new a.default(function(t,n){try{t(e._displays)}catch(e){n(e)}})}},{key:"_getLegacyVRDisplays",value:function(){var e=this;return new a.default(function(t,n){if(navigator.getVRDevices){var i=navigator.getVRDevices();i.then(e._enumerateVRDevices.bind(e)).then(t).catch(n)}else navigator.mozGetVRDevices&&navigator.mozGetVRDevices(function(){try{e._enumerateVRDevices.bind(e),t(e._displays)}catch(e){n(e)}})})}},{key:"_enumerateVRDevices",value:function(e){for(var t=e.length,n=null,i=null,r=0;r<t;++r)if(e[r]instanceof HMDVRDevice){n=e[r];break}if(n)for(var a=0;a<t;++a)if(e[a]instanceof PositionSensorVRDevice&&n.hardwareUnitId===e[a].hardwareUnitId){i=e[a];break}return this._devicesPopulated||this._displays.push(new f.LegacyVRDisplay(n,i)),this._devicesPopulated=!0,this._displays}},{key:"_populateDevices",value:function(){this._devicesPopulated||(this._isCardboardCompatible()&&this._displays.push(new d.CardboardVRDisplay),this._devicesPopulated=!0)}},{key:"_isCardboardCompatible",value:function(){return c.Util.isMobileBrowser()}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Culler=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(11),u=n(26),c=n(219),d=n(53);t.Culler=function(){function e(t){(0,a.default)(this,e),this._planeCount=d.Camera.PLANE_COUNT,this._planes=[new c.Plane3({normal:new l.Vector3(0,0,0),d:0}),new c.Plane3({normal:new l.Vector3(0,0,0),d:0}),new c.Plane3({normal:new l.Vector3(0,0,0),d:0}),new c.Plane3({normal:new l.Vector3(0,0,0),d:0}),new c.Plane3({normal:new l.Vector3(0,0,0),d:0}),new c.Plane3({normal:new l.Vector3(0,0,0),d:0})],this._loc=new l.Vector3(0,0,0),this._dVec=new l.Vector3(0,0,-1),this._uVec=new l.Vector3(0,1,0),this._rVec=new l.Vector3(1,0,0),this._tmp=new l.Vector3,this._tmp2=new l.Vector3,this._viewProjectionMatrix=new u.Matrix4,this._enabled=!0}return(0,s.default)(e,[{key:"onUpdatePlanesFromCamera",value:function(e){this._camera=e,this._frustum=this._camera.frustum;var t=this._frustum[d.Camera.DMIN]*this._frustum[d.Camera.DMIN],n=this._frustum[d.Camera.RMIN]*this._frustum[d.Camera.RMIN],i=this._frustum[d.Camera.RMAX]*this._frustum[d.Camera.RMAX],r=this._frustum[d.Camera.UMIN]*this._frustum[d.Camera.UMIN],a=this._frustum[d.Camera.UMAX]*this._frustum[d.Camera.UMAX],o=this._frustum[d.Camera.DMIN],s=this._frustum[d.Camera.DMAX],l=this._frustum[d.Camera.RMIN],u=this._frustum[d.Camera.RMAX],c=this._frustum[d.Camera.UMIN],h=this._frustum[d.Camera.UMAX];this._loc.copyFrom(e.location),this._dVec.copyFrom(e.dVector),this._uVec.copyFrom(e.uVector),this._rVec.copyFrom(e.rVector);var f=this._dVec.dot(this._loc);if(this._camera.perspective){this._planes[d.Camera.DMIN].normal=this._dVec,this._planes[d.Camera.DMIN].d=f+o,this._tmp.copyFrom(this._dVec),this._tmp.neg(),this._planes[d.Camera.DMAX].normal=this._tmp,this._planes[d.Camera.DMAX].d=-(f+s);var _=1/Math.sqrt(t+r),p=-c*_,m=+o*_;this._tmp.copyFrom(this._dVec),this._tmp.mult(p),this._tmp2.copyFrom(this._uVec),this._tmp2.mult(m),this._tmp.add(this._tmp2),this._planes[d.Camera.UMIN].normal=this._tmp,this._planes[d.Camera.UMIN].d=this._loc.dot(this._tmp),_=1/Math.sqrt(t+a),p=+h*_,m=-o*_,this._tmp.copyFrom(this._dVec),this._tmp.mult(p),this._tmp2.copyFrom(this._uVec),this._tmp2.mult(m),this._tmp.add(this._tmp2),this._planes[d.Camera.UMAX].normal=this._tmp,this._planes[d.Camera.UMAX].d=this._loc.dot(this._tmp),_=1/Math.sqrt(t+n),p=-l*_,m=+o*_,this._tmp.copyFrom(this._dVec),this._tmp.mult(p),this._tmp2.copyFrom(this._rVec),this._tmp2.mult(m),this._tmp.add(this._tmp2),this._planes[d.Camera.RMIN].normal=this._tmp,this._planes[d.Camera.RMIN].d=this._loc.dot(this._tmp),_=1/Math.sqrt(t+i),p=+u*_,m=-o*_,this._tmp.copyFrom(this._dVec),this._tmp.mult(p),this._tmp2.copyFrom(this._rVec),this._tmp2.mult(m),this._tmp.add(this._tmp2),this._planes[d.Camera.RMAX].normal=this._tmp,this._planes[d.Camera.RMAX].d=this._loc.dot(this._tmp)}else this._planes[d.Camera.DMIN].normal=this._dVec,this._planes[d.Camera.DMIN].d=f+o,this._tmp.copyFrom(this._dVec),this._tmp.neg(),this._planes[d.Camera.DMAX].normal=this._tmp,this._planes[d.Camera.DMAX].d=-(f+s),this._planes[d.Camera.UMIN].normal=this._uVec,this._planes[d.Camera.UMIN].d=this._loc.dot(this._uVec)+c,this._tmp.copyFrom(this._uVec),this._tmp.neg(),this._planes[d.Camera.UMAX].normal=this._tmp,this._planes[d.Camera.UMAX].d=-(this._loc.dot(this._uVec)+h),this._planes[d.Camera.RMIN].normal=this._rVec,this._planes[d.Camera.RMIN].d=this._loc.dot(this._rVec)+l,this._tmp.copyFrom(this._rVec),this._tmp.neg(),this._planes[d.Camera.RMAX].normal=this._tmp,this._planes[d.Camera.RMAX].d=-(this._loc.dot(this._rVec)+u)}},{key:"isVisible",value:function(e){if(!e.valid||!this._enabled)return!0;for(var t=0,n=this._planeCount;t<n;t++)if(e.whichSide(this._planes[t])<0)return!1;return!0}},{key:"enabled",set:function(e){this._enabled=e},get:function(){return this._enabled}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GLExtensionManager=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(9);t.GLExtensionManager=function(){function e(){(0,a.default)(this,e),this._extensions={},this._extensionsSupport={};for(var t={ANGLE_instanced_arrays:"instancedArrays",EXT_texture_filter_anisotropic:"textureFilterAnisotropic",EXT_shader_texture_lod:"shaderTextureLod",OES_element_index_uint:"elementIndexUint",OES_standard_derivatives:"standardDerivatives",OES_texture_float:"textureFloat",OES_texture_float_linear:"textureFloatLinear",OES_texture_half_float:"textureHalfFloat",OES_texture_half_float_linear:"textureHalfFloatLinear",OES_vertex_array_object:"vertexArrayObject",WEBGL_compressed_texture_s3tc:"compressedTextureS3TC",WEBGL_debug_renderer_info:"debugRendererInfo",WEBGL_debug_shaders:"debugShaders",WEBGL_depth_texture:"depthTexture",WEBGL_lose_context:"loseContext",WEBGL_draw_buffers:"drawBuffers",WEBGL_compressed_texture_pvrtc:"compressedTexturePVRTC",EXT_blend_minmax:"blendMinMax",EXT_frag_depth:"fragDepth"},n=l.Context.gl.getSupportedExtensions(),i=/^(WEBKIT_|MOZ_)/,r=0;r<n.length;++r){var o=n[r].replace(i,"");this._extensions[t[o]]=l.Context.gl.getExtension(n[r]),this._extensionsSupport[t[o]]=!0,l.Context.logger.info("WebGL Extension Supported: "+t[o])}this.has.standardDerivatives&&l.Context.gl.hint(this.get.standardDerivatives.FRAGMENT_SHADER_DERIVATIVE_HINT_OES,l.Context.gl.NICEST)}return(0,s.default)(e,[{key:"get",get:function(){return this._extensions}},{key:"has",get:function(){return this._extensionsSupport}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Renderbuffer=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(9);t.Renderbuffer=function(){function e(t,n,i){(0,a.default)(this,e),this._loaded=!1,this._internalFormat=t,this._width=n,this._height=i,this._id=null}return(0,s.default)(e,[{key:"allocate",value:function(){this._loaded||(l.Context.logger.debug(this,"creating renderbuffer "+l.Context.getError()),this._id=l.Context.gl.createRenderbuffer(),this._loaded=!0,l.Context.gl.bindRenderbuffer(l.Context.gl.RENDERBUFFER,this._id),l.Context.gl.renderbufferStorage(l.Context.gl.RENDERBUFFER,this._internalFormat,this._width,this._height),l.Context.gl.bindRenderbuffer(l.Context.gl.RENDERBUFFER,null))}},{key:"dtor",value:function(){this._loaded&&(l.Context.gl.deleteRenderbuffer(this._id),this._id=null)}},{key:"enable",value:function(){this._loaded||this.allocate(),l.Context.gl.bindRenderbuffer(l.Context.gl.RENDERBUFFER,this._id)}},{key:"disable",value:function(){l.Context.gl.bindRenderbuffer(l.Context.gl.RENDERBUFFER,null)}},{key:"id",get:function(){return this._id}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UiIconButton=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(66),p=n(7),m=n(20),A=n(21),g=n(36),v=n(32),y=n(64),b=n(38),E=n(24),w=n(112),S=n(18),T=i(S);t.UiIconButton=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));n._backgroundColor=p.Util.getParamRequired(e,"backgroundColor",new m.ColorRGBA(m.ColorRGBA.BLACK)),n._imageSrc=p.Util.getParamRequired(e,"imageSrc"),n._texSize=Math.min(p.Util.getParam(e,"texSize",2048),g.Renderer.MAX_TEXTURE_SIZE);var i=n._width/n._height,r=n._width>n._height;n._canvas=document.createElement("canvas"),n._canvas.width=Math.round(r?n._texSize:n._texSize*i),n._canvas.height=Math.round(r?n._texSize/i:n._texSize),n._padding=p.Util.getParam(e,"imagePadding",0)*(r?n._canvas.height:n._canvas.width),n._texture=n.addActiveResource(new E.Texture({type:E.Texture.CANVAS,flipY:!0,generateMipmaps:!1,data:[n._canvas]})),n._image=document.createElement("img"),n._image.onload=n._updateTexture.bind(n),n._image.src=n._imageSrc,n._updateTexture();var o=p.Util.getParam(e,"opaque",!1),l=p.Util.getParam(e,"smoothBorder",!1),u=b.GeometryUtil.makeCenteredSizedQuad(n._width,n._height,!0);n._material=n.addActiveResource(new y.UiMaterial({texture:n._texture,opaque:o,billboarded:!1,twoSided:!1,smoothBorder:l}));var c={};return c[A.Scene.RENDERPASS_UI_1]=n._material,n.addChild(new v.RenderableNode({geometry:u,materialByPass:c,sortPassData:{zIndex:n._zIndex}})),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"$onUpdateZIndex",value:function(){this.firstChild.sortPassData.zIndex=this._zIndex}},{key:"_updateTexture",value:function(){var e=this._canvas,t=e.getContext("2d");t.save(),t.clearRect(0,0,e.width,e.height),t.fillStyle=this._backgroundColor.style,p.Util.roundRect(t,0,0,e.width,e.height,3);var n=this._image.width/this._image.height,i=e.width/e.height,r=2*this._padding;if(n<i){var a=e.height/n;t.drawImage(this._image,.5*(e.width-a)+this._padding,this._padding,a-r,e.height-r)}else{var o=e.width*n;t.drawImage(this._image,this._padding,.5*(e.height-o)+this._padding,e.width-r,o-r)}t.restore(),this._texture.updateCanvas()}},{key:"depth",set:function(e){this.firstChild.transform.position.z=e},get:function(){return this.firstChild.constTransform.position.z}},{key:"opacity",set:function(e){this.firstChild.materialByPass[A.Scene.RENDERPASS_UI_1].opacity=e},get:function(){return this.firstChild.materialByPass[A.Scene.RENDERPASS_UI_1].opacity}}]),t}((0,T.default)(_.UiNode,w.UiClickable))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UiImageButton=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(112),p=n(167),m=n(18),A=i(m);t.UiImageButton=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"click",value:function(){this._onClick()}}]),t}((0,A.default)(p.UiImage,_.UiClickable))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AndroidWakeLock=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(96),A=n(7);t.AndroidWakeLock=function(e){function t(){(0,s.default)(this,t);var e=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e._video=document.createElement("video"),e._video.addEventListener("ended",function(){e._video.play()}),e}return(0,p.default)(t,e),(0,u.default)(t,[{key:"request",value:function(){if((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"request",this).call(this),this._video.paused){var e=A.Util.getVideoSupport();e.webm?this._video.src="data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAN7BFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1Osgg3P7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU3LjI1LjEwMFdBjUxhdmY1Ny4yNS4xMDBzpJDK8dM8tC77MVxWOlu/q8prRImIQPqcgAAAAAAWVK5rAQAAAAAAAEOuAQAAAAAAADrXgQFzxYEBnIEAIrWcg2VuZ4aFVl9WUDiDgQEj44OEO5rKAOABAAAAAAAADrCBCLqBCFSwgQtUuoEIH0O2dQEAAAAAAAF254EAo0DugQAAgDAHAJ0BKggACAAABwiFhYiZhIgAKBbgP8B6gH8AeoH+AzAH+QdoH+A3IH/AeQL/JfwHjH/66LYznGiA/gD+gINTbYD+/3Tf/+////2PFvTX8q//lX/Lk2Xs0g//yuX//2Af+nAqCn/Ph/cY8fP/zCj2/299/98bnJ5f+WpWdg8UT73ojKVD6OP3aogydhu1RBk/6b76VZg4Snf9A+P3+nQ3/rTPfmUpXwG8uJ3+aEPKuAczS3S6KnYCIZorL6+kUkDQBszrOf/+fffo0CL/Jvxb79GgRf5N+OVH/+iVH//olRr0YwG9//oioKOVgQPoALEBAAQQnAAYABhYL/QACAAAo6GBB9AA8QEABBANEADAZoaNuY3cgBAAm63U8R0ClV9D1MCjloELuADRAQAEEA0QAMAAwsF/oABAAACjloEPoADRAQAEEA0QAMAAwsF/oABAAACjloETiADRAQAEEA0QAMAAwsF/oABAAAAfQ7Z1AQAAAAAAAJvnghdwo5aBAAAA0QEABBANEADAAMLBf6AAQAAAo52BA+gA8QEABBABQKNv/gAdMX04sAIAt+j/PBw0AKOWgQfQANEBAAQQDRAAwADCwX+gAEAAAKOWgQu4ANEBAAQQDRAAwADCwX+gAEAAAKOWgQ+gANEBAAQQDRAAwADCwX+gAEAAAKOWgROIANEBAAQQDRAAwADCwX+gAEAAAB9DtnUBAAAAAAAAlOeCLuCjloEAAADRAQAEEA0QAMAAwsF/oABAAACjloED6ADRAQAEEA0QAMAAwsF/oABAAACjloEH0ADRAQAEEA0QAMAAwsF/oABAAACjloELuADRAQAEEA0QAMAAwsF/oABAAACjloEPoADRAQAEEA0QAMAAwsF/oABAAACjloETiADRAQAEEA0QAMAAwsF/oABAAAAfQ7Z1AQAAAAAAAJPngkZQo5WBAAAAsQEABBABQKMAAwsF/oABAACjloED6ADRAQAEEA0QAMAAwsF/oABAAACjloEH0ADRAQAEEA0QAMAAwsF/oABAAACjloELuADRAQAEEA0QAMAAwsF/oABAAACjloEPoADRAQAEEA0QAMAAwsF/oABAAACjloETiADRAQAEEA0QAMAAwsF/oABAAAAfQ7Z1AQAAAAAAAJPngl3Ao5aBAAAA0QEABBANEADAAMLBf6AAQAAAo5aBA+gA0QEABBANEADAAMLBf6AAQAAAo5aBB9AA0QEABBANEADAAMLBf6AAQAAAo5aBC7gA0QEABBANEADAAMLBf6AAQAAAo5aBD6AA0QEABBANEADAAMLBf6AAQAAAo5WBE4gAsQEABBABQKMAAwsF/oABAAAfQ7Z1AQAAAAAAAJTngnUwo5aBAAAA0QEABBANEADAAMLBf6AAQAAAo5aBA+gA0QEABBANEADAAMLBf6AAQAAAo5aBB9AA0QEABBANEADAAMLBf6AAQAAAo5aBC7gA0QEABBANEADAAMLBf6AAQAAAo5aBD6AA0QEABBANEADAAMLBf6AAQAAAo5aBE4gA0QEABBANEADAAMLBf6AAQAAAH0O2dQEAAAAAAACT54KMoKOWgQAAANEBAAQQDRAAwADCwX+gAEAAAKOWgQPoANEBAAQQDRAAwADCwX+gAEAAAKOWgQfQANEBAAQQDRAAwADCwX+gAEAAAKOWgQu4ANEBAAQQDRAAwADCwX+gAEAAAKOVgQ+gALEBAAQQAUCjAAMLBf6AAQAAo5aBE4gA0QEABBANEADAAMLBf6AAQAAAH0O2dQEAAAAAAACU54KkEKOWgQAAANEBAAQQDRAAwADCwX+gAEAAAKOWgQPoANEBAAQQDRAAwADCwX+gAEAAAKOWgQfQANEBAAQQDRAAwADCwX+gAEAAAKOWgQu4ANEBAAQQDRAAwADCwX+gAEAAAKOWgQ+gANEBAAQQDRAAwADCwX+gAEAAAKOWgROIANEBAAQQDRAAwADCwX+gAEAAAB9DtnUBAAAAAAAAk+eCu4CjloEAAADRAQAEEA0QAMAAwsF/oABAAACjloED6ADRAQAEEA0QAMAAwsF/oABAAACjloEH0ADRAQAEEA0QAMAAwsF/oABAAACjlYELuACxAQAEEAFAowADCwX+gAEAAKOWgQ+gANEBAAQQDRAAwADCwX+gAEAAAKOWgROIANEBAAQQDRAAwADCwX+gAEAAAB9DtnUBAAAAAAAAlOeC0vCjloEAAADRAQAEEA0QAMAAwsF/oABAAACjloED6ADRAQAEEA0QAMAAwsF/oABAAACjloEH0ADRAQAEEA0QAMAAwsF/oABAAACjloELuADRAQAEEA0QAMAAwsF/oABAAACjloEPoADRAQAEEA0QAMAAwsF/oABAAACjloETiADRAQAEEA0QAMAAwsF/oABAAAAfQ7Z1AQAAAAAAAJPngupgo5aBAAAA0QEABBANEADAAMLBf6AAQAAAo5aBA+gA0QEABBANEADAAMLBf6AAQAAAo5WBB9AAsQEABBABQKMAAwsF/oABAACjloELuADRAQAEEA0QAMAAwsF/oABAAACjloEPoADRAQAEEA0QAMAAwsF/oABAAACjloETiADRAQAEEA0QAMAAwsF/oABAAAAfQ7Z1AQAAAAAAAJXngwEB0KOWgQAAANEBAAQQDRAAwADCwX+gAEAAAKOWgQPoANEBAAQQDRAAwADCwX+gAEAAAKOWgQfQANEBAAQQDRAAwADCwX+gAEAAAKOWgQu4ANEBAAQQDRAAwADCwX+gAEAAAKOWgQ+gANEBAAQQDRAAwADCwX+gAEAAAKOWgROIANEBAAQQDRAAwADCwX+gAEAAAB9DtnUBAAAAAAAAlOeDARlAo5aBAAAA0QEABBANEADAAMLBf6AAQAAAo5WBA+gAsQEABBABQKMAAwsF/oABAACjloEH0ADRAQAEEA0QAMAAwsF/oABAAACjloELuADRAQAEEA0QAMAAwsF/oABAAACjloEPoADRAQAEEA0QAMAAwsF/oABAAACjloETiADRAQAEEA0QAMAAwsF/oABAAAAfQ7Z1AQAAAAAAAJXngwEwsKOWgQAAANEBAAQQDRAAwADCwX+gAEAAAKOWgQPoANEBAAQQDRAAwADCwX+gAEAAAKOWgQfQANEBAAQQDRAAwADCwX+gAEAAAKOWgQu4ANEBAAQQDRAAwADCwX+gAEAAAKOWgQ+gANEBAAQQDRAAwADCwX+gAEAAAKOWgROIANEBAAQQDRAAwADCwX+gAEAAAB9DtnUBAAAAAAAAlOeDAUggo5WBAAAAsQEABBABQKMAAwsF/oABAACjloED6ADRAQAEEA0QAMAAwsF/oABAAACjloEH0ADRAQAEEA0QAMAAwsF/oABAAACjloELuADRAQAEEA0QAMAAwsF/oABAAACjloEPoADRAQAEEA0QAMAAwsF/oABAAACjloETiADRAQAEEA0QAMAAwsF/oABAAAAfQ7Z1AQAAAAAAAJTngwFfkKOWgQAAANEBAAQQDRAAwADCwX+gAEAAAKOWgQPoANEBAAQQDRAAwADCwX+gAEAAAKOWgQfQANEBAAQQDRAAwADCwX+gAEAAAKOWgQu4ANEBAAQQDRAAwADCwX+gAEAAAKOWgQ+gANEBAAQQDRAAwADCwX+gAEAAAKOVgROIALEBAAQQAUCjAAMLBf6AAQAAH0O2dQEAAAAAAACV54MBdwCjloEAAADRAQAEEA0QAMAAwsF/oABAAACjloED6ADRAQAEEA0QAMAAwsF/oABAAACjloEH0ADRAQAEEA0QAMAAwsF/oABAAACjloELuADRAQAEEA0QAMAAwsF/oABAAACjloEPoADRAQAEEA0QAMAAwsF/oABAAACjloETiADRAQAEEA0QAMAAwsF/oABAAAAfQ7Z1AQAAAAAAAJTngwGOcKOWgQAAANEBAAQQDRAAwADCwX+gAEAAAKOWgQPoANEBAAQQDRAAwADCwX+gAEAAAKOWgQfQANEBAAQQDRAAwADCwX+gAEAAAKOWgQu4ANEBAAQQDRAAwADCwX+gAEAAAKOVgQ+gALEBAAQQAUCjAAMLBf6AAQAAo5aBE4gA0QEABBANEADAAMLBf6AAQAAAH0O2dQEAAAAAAAAd54MBpeCjloEAAADRAQAEEA0QAMAAwsF/oABAAAAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBf/CBAw==":this._video.src="data:video/mp4;base64,AAAAGGZ0eXBpc29tAAAAAG1wNDFhdmMxAAAIA21vb3YAAABsbXZoZAAAAADSa9v60mvb+gABX5AAlw/gAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAdkdHJhawAAAFx0a2hkAAAAAdJr2/rSa9v6AAAAAQAAAAAAlw/gAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAQAAAAHAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAJcP4AAAAAAAAQAAAAAG3G1kaWEAAAAgbWRoZAAAAADSa9v60mvb+gAPQkAGjneAFccAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAABodtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAZHc3RibAAAAJdzdHNkAAAAAAAAAAEAAACHYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAMABwASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADFhdmNDAWQAC//hABlnZAALrNlfllw4QAAAAwBAAAADAKPFCmWAAQAFaOvssiwAAAAYc3R0cwAAAAAAAAABAAAAbgAPQkAAAAAUc3RzcwAAAAAAAAABAAAAAQAAA4BjdHRzAAAAAAAAAG4AAAABAD0JAAAAAAEAehIAAAAAAQA9CQAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEALcbAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAABuAAAAAQAAAcxzdHN6AAAAAAAAAAAAAABuAAADCQAAABgAAAAOAAAADgAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABMAAAAUc3RjbwAAAAAAAAABAAAIKwAAACt1ZHRhAAAAI6llbmMAFwAAdmxjIDIuMi4xIHN0cmVhbSBvdXRwdXQAAAAId2lkZQAACRRtZGF0AAACrgX//6vcRem95tlIt5Ys2CDZI+7veDI2NCAtIGNvcmUgMTQyIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDEzIG1lPWhleCBzdWJtZT03IHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTEgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0xIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9MTIgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1hYnIgbWJ0cmVlPTEgYml0cmF0ZT0xMDAgcmF0ZXRvbD0xLjAgcWNvbXA9MC42MCBxcG1pbj0xMCBxcG1heD01MSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAU2WIhAAQ/8ltlOe+cTZuGkKg+aRtuivcDZ0pBsfsEi9p/i1yU9DxS2lq4dXTinViF1URBKXgnzKBd/Uh1bkhHtMrwrRcOJslD01UB+fyaL6ef+DBAAAAFEGaJGxBD5B+v+a+4QqF3MgBXz9MAAAACkGeQniH/+94r6EAAAAKAZ5hdEN/8QytwAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFomUwIIf/+4QAAAApBnoZFESw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAOQZrwSahBbJlMCCH//uEAAAAKQZ8ORRUsP/++gQAAAAgBny10Q3/EgQAAAAgBny9qQ3/EgAAAAA5BmzRJqEFsmUwIIf/+4AAAAApBn1JFFSw//76BAAAACAGfcXRDf8SAAAAACAGfc2pDf8SAAAAADkGbeEmoQWyZTAgh//7hAAAACkGflkUVLD//voAAAAAIAZ+1dEN/xIEAAAAIAZ+3akN/xIEAAAAOQZu8SahBbJlMCCH//uAAAAAKQZ/aRRUsP/++gQAAAAgBn/l0Q3/EgAAAAAgBn/tqQ3/EgQAAAA5Bm+BJqEFsmUwIIf/+4QAAAApBnh5FFSw//76AAAAACAGePXRDf8SAAAAACAGeP2pDf8SBAAAADkGaJEmoQWyZTAgh//7gAAAACkGeQkUVLD//voEAAAAIAZ5hdEN/xIAAAAAIAZ5jakN/xIEAAAAOQZpoSahBbJlMCCH//uEAAAAKQZ6GRRUsP/++gQAAAAgBnqV0Q3/EgQAAAAgBnqdqQ3/EgAAAAA5BmqxJqEFsmUwIIf/+4AAAAApBnspFFSw//76BAAAACAGe6XRDf8SAAAAACAGe62pDf8SAAAAADkGa8EmoQWyZTAgh//7hAAAACkGfDkUVLD//voEAAAAIAZ8tdEN/xIEAAAAIAZ8vakN/xIAAAAAOQZs0SahBbJlMCCH//uAAAAAKQZ9SRRUsP/++gQAAAAgBn3F0Q3/EgAAAAAgBn3NqQ3/EgAAAAA5Bm3hJqEFsmUwIIf/+4QAAAApBn5ZFFSw//76AAAAACAGftXRDf8SBAAAACAGft2pDf8SBAAAADkGbvEmoQWyZTAgh//7gAAAACkGf2kUVLD//voEAAAAIAZ/5dEN/xIAAAAAIAZ/7akN/xIEAAAAOQZvgSahBbJlMCCH//uEAAAAKQZ4eRRUsP/++gAAAAAgBnj10Q3/EgAAAAAgBnj9qQ3/EgQAAAA5BmiRJqEFsmUwIIf/+4AAAAApBnkJFFSw//76BAAAACAGeYXRDf8SAAAAACAGeY2pDf8SBAAAADkGaaEmoQWyZTAgh//7hAAAACkGehkUVLD//voEAAAAIAZ6ldEN/xIEAAAAIAZ6nakN/xIAAAAAOQZqsSahBbJlMCCH//uAAAAAKQZ7KRRUsP/++gQAAAAgBnul0Q3/EgAAAAAgBnutqQ3/EgAAAAA5BmvBJqEFsmUwIIf/+4QAAAApBnw5FFSw//76BAAAACAGfLXRDf8SBAAAACAGfL2pDf8SAAAAADkGbNEmoQWyZTAgh//7gAAAACkGfUkUVLD//voEAAAAIAZ9xdEN/xIAAAAAIAZ9zakN/xIAAAAAOQZt4SahBbJlMCCH//uEAAAAKQZ+WRRUsP/++gAAAAAgBn7V0Q3/EgQAAAAgBn7dqQ3/EgQAAAA5Bm7xJqEFsmUwIIf/+4AAAAApBn9pFFSw//76BAAAACAGf+XRDf8SAAAAACAGf+2pDf8SBAAAADkGb4EmoQWyZTAgh//7hAAAACkGeHkUVLD//voAAAAAIAZ49dEN/xIAAAAAIAZ4/akN/xIEAAAAOQZokSahBbJlMCCH//uAAAAAKQZ5CRRUsP/++gQAAAAgBnmF0Q3/EgAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFsmUwIIf/+4QAAAApBnoZFFSw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAPQZruSahBbJlMFEw3//7B",this._video.play()}}},{key:"release",value:function(){(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"release",this).call(this),this._video.pause(),this._video.src=""}}]),t}(m.WakeLock)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.IOSWakeLock=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(96),p=n(7);t.IOSWakeLock=function(e){function t(){(0,s.default)(this,t);var e=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this));if(e._oldIOS=!p.Util.isIOS10OrHigher(),e._oldIOS)e._timer=null;else{var n="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA=";
e._noSleepVideo=document.createElement("video"),e._noSleepVideo.setAttribute("playsinline",""),e._noSleepVideo.setAttribute("src",n),e._noSleepVideo.addEventListener("timeupdate",function(t){e._noSleepVideo.currentTime>.5&&(e._noSleepVideo.currentTime=Math.random())})}return e}return(0,f.default)(t,e),(0,u.default)(t,[{key:"request",value:function(){this._oldIOS?this._timer||(this._timer=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4)):this._noSleepVideo.play()}},{key:"release",value:function(){this._oldIOS?this._timer&&(clearInterval(this._timer),this._timer=null):this._noSleepVideo.pause()}}]),t}(_.WakeLock)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubActionCompositeFilter=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(7),p=n(58);t.HubActionCompositeFilter=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._filters=[],_.Util.getParam(e,"filters",[]).forEach(function(e){return n.push(e)}),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"push",value:function(e){if(e.for===this.for)return this._filters.push(e);throw new Error("Cannot add filter with for="+e.for+" to composite filter with for="+this.for)}},{key:"equals",value:function(e){if(e.filters.length!==this._filters.length)return!1;for(var t=0;t<e.filters.length;++t)if(!e.filters[t].equals(this._filters[t]))return!1;return!0}},{key:"filters",get:function(){return this._filters}}]),t}(p.HubAction)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubActionCompositeSorter=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(7),p=n(58);t.HubActionCompositeSorter=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._sorters=[],_.Util.getParam(e,"sorters",[]).forEach(function(e){return n.push(e)}),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"push",value:function(e){if(e.for===this.for)return this._sorters.push(e);throw new Error("Cannot add sorter with for="+e.for+" to composite sorter with for="+this.for)}},{key:"equals",value:function(e){if(e.sorters.length!==this._sorters.length)return!1;for(var t=0;t<e.sorters.length;++t)if(!e.sorters[t].equals(this._sorters[t]))return!1;return!0}},{key:"sorters",get:function(){return this._sorters}}]),t}(p.HubAction)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubActionFilter=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(7),A=n(58);t.HubActionFilter=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._filter=m.Util.getParamRequired(e,"filter"),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"equals",value:function(e){return(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"equals",this).call(this,e)&&e.filter===this._filter}},{key:"filter",get:function(){return this._filter}}]),t}(A.HubAction)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubActionItem=void 0;var r=n(15),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(7),d=n(195),h=n(197),f=n(196),_=n(233),p=n(313),m=n(312),A=n(231),g=n(232);t.HubActionItem=function(){function e(t){(0,s.default)(this,e),this._domChildren=c.Util.getParamRequired(t,"domChildren"),this._hub=c.Util.getParamRequired(t,"hub"),this._actions=[],this._initContent()}return(0,u.default)(e,[{key:"_initContent",value:function(){var e=this,t=new a.default,n=new a.default;this._domChildren.forEach(function(i){i.domElement instanceof d.Dl8HubActionFilterElement?c.Util.lazySetMapLazyVal(t,i.for,function(){return new A.HubActionCompositeFilter({for:i.for})}).push(new _.HubActionFilter(i)):i.domElement instanceof h.Dl8HubActionSortElement?c.Util.lazySetMapLazyVal(n,i.for,function(){return new g.HubActionCompositeSorter({for:i.for})}).push(new p.HubActionSort(i)):i.domElement instanceof f.Dl8HubActionSetTitleElement&&e._actions.push(new m.HubActionSetTitle(i))}),t.forEach(function(t){e._actions.push(t)}),n.forEach(function(t){e._actions.push(t)})}},{key:"dispatchActions",value:function(){var e=this;this._actions.forEach(function(t){e._hub.dispatchAction(t)})}}]),e}()},,function(e,t,n){e.exports={default:n(238),__esModule:!0}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(10),a=i(r);t.default=a.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}},function(e,t,n){n(101),n(75),n(257),n(259),n(258),e.exports=n(17).WeakMap},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i,r=n(37),a=n(148)(0),o=n(177),s=n(99),l=n(245),u=n(174),c=n(40),d=n(67),h=n(67),f=!r.ActiveXObject&&"ActiveXObject"in r,_="WeakMap",p=s.getWeak,m=Object.isExtensible,A=u.ufstore,g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(e){if(c(e)){var t=p(e);return t===!0?A(d(this,_)).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(d(this,_),e,t)}},y=e.exports=n(150)(_,g,v,u,!0,!0);h&&f&&(i=u.getConstructor(g,_),l(i.prototype,v),s.NEED=!0,a(["delete","has","get","set"],function(e){var t=y.prototype,n=t[e];o(t,e,function(t,r){if(c(t)&&!m(t)){this._f||(this._f=new i);var a=this._f[e](t,r);return"set"==e?this:a}return n.call(this,t,r)})}))},function(e,t,n){n(155)("WeakMap")},function(e,t,n){n(156)("WeakMap")},,,,,,,,,,,,,function(e,t,n){"use strict";function i(){var e=(0,r.getBatch)(),t=[],n=[];return{clear:function(){n=a,t=a},notify:function(){var i=t=n;e(function(){for(var e=0;e<i.length;e++)i[e]()})},get:function(){return n},subscribe:function(e){var i=!0;return n===t&&(n=t.slice()),n.push(e),function(){i&&t!==a&&(i=!1,n===t&&(n=t.slice()),n.splice(n.indexOf(e),1))}}}}t.__esModule=!0,t.default=void 0;var r=n(367),a=null,o={notify:function(){}},s=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=o,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=i())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=o)},e}();t.default=s},function(e,t,n){"use strict";var i=function(e,t,n,i,r,a,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,a,o,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=i},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAGFBMVEVHcEz///////////////////////////8dS1W+AAAAB3RSTlMAnIgBA3hGfPUJVAAAAbtJREFUeNrt3c1pxDAQQGFlt4QN5OrbXLeElLAluIUYFrWfYIzxPwkk8wh+cxZIfAId9Ur5g7m2hZ2Xjt3/+lYbFqDWDgaoKMEXAErQA5AEPQBIMABwBAMARjACUAQjAEQwAWAIJgAIwQyAIJgBAAQLgHyCBUA6wQogm2AFkEywAZBLsAGQSrAJkEmwCZBIsAOQR7ADkEawC5BFsAuQRHAAkENwAJBCcAhQa8sC1CcN8BDg5AANDNAJIIAAAggggAACCCCAAAIIcEKAjzsMcBNAAAEEEEAAAQQQQAABBBDghACvNMC7AAIIIIAAAggggAACCCCAAAIIIMCvz4U+QAn4CiSQQAIJJJBAAgkkkEACCSSQQAIJfkpwpwluEkgggQQSSCCBBBJIIIEEEkgwm4YmyPgVUwIJJJBAAgkkkEACCSSQQIL/RPDECR4SSJCQkDgmSOmIBPsSHBIktWSCBTggSOsJBQuwS5DYlAoWYIcgtSsWLMAmQXJbLliADYL0vmCwACsCoDEZLMCCAOmMBgswI4Bas8ECTAiw3nCwACMB2JwOFmAgQLvjwQL0BHB7PuD0fLnAAKW031/6CYerMsWAnjpzAAAAAElFTkSuQmCC"},function(e,t,n){e.exports=n.p+"84c5666f3b28e4018f8e95b996ff9ca5.png"},,,function(e,t){(function(t){e.exports=t}).call(t,{})},,function(e,t){},function(e,t){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}e.exports=n},function(e,t){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}e.exports=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(2),d=i(c),h=n(5),f=i(h),_=n(4),p=i(_),m=n(16),A=(i(m),n(46)),g=(i(A),n(34)),v=i(g),y=n(672),b=i(y),E=v.default.bind(b.default),w=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.description,n=e.name,i=e.price,r=e.thumbnail,o=e.url,s=e.style,l=null;return r&&(l=(0,a.default)("img",{src:r})),(0,a.default)("a",{href:o,target:"_blank",title:n,className:E({root:!0}),style:s},void 0,(0,a.default)("div",{},void 0,l),(0,a.default)("div",{},void 0,(0,a.default)("span",{className:E({name:!0})},void 0,n),(0,a.default)("span",{className:E({desc:!0})},void 0,t),(0,a.default)("span",{className:E({price:!0})},void 0,i)),(0,a.default)("div",{},void 0,(0,a.default)("i",{className:E({dl8Icon:!0,iconUrl:!0})})))}}]),t}(m.PureComponent);t.default=w},,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DelightVR=void 0;var a=n(28),o=r(a),s=n(237),l=r(s),u=n(1),c=r(u),d=n(2),h=r(d),f=n(16),_=(r(f),n(359)),p=n(122),m=n(121),A=n(395),g=r(A),v=n(7),y=n(49),b=n(81),E=n(144),w=n(320),S=n(59),T=n(93),x=n(19),C=i(x),M=n(478),P=r(M),I=n(78),R=n(628),k=r(R),D=n(627),V=r(D),B=(0,o.default)(g.default,{});t.DelightVR=function(){function e(){(0,c.default)(this,e);var t=v.Util.isMobileBrowser(),n=(0,y.isTablet)(),i=v.Util.isChromeWithoutDeviceMotion();t&&!b.IFrameManager.isInIFrame()&&document.body.classList.add("x-dl8-mobile");var r=v.Util.getLocalStorageItemSafe("x-dl8-settings-phone");null!==r&&(w.PhoneLibrary.get(r)||(v.Util.removeLocalStorageItemSafe("x-dl8-settings-phone"),v.Util.removeLocalStorageItemSafe("x-dl8-settings-wizard-complete"),r=void 0));var a=v.Util.getLocalStorageItemSafe("x-dl8-settings-hmd")||"CardboardV2";T.ViewerLibrary.get(a)||(v.Util.removeLocalStorageItemSafe("x-dl8-settings-hmd"),v.Util.removeLocalStorageItemSafe("x-dl8-settings-wizard-complete"),a="CardboardV2");var o=null===v.Util.getLocalStorageItemSafe("x-dl8-settings-wizard-complete"),s="false"!==v.Util.getLocalStorageItemSafe("x-dl8-settings-gaze-interaction");null===v.Util.getLocalStorageItemSafe("x-dl8-settings-gaze-interaction")&&(s=!0),this._store=(0,P.default)({ui:{turnedOff:!0,controls:!t||n||i?C.DRAG_CONTROLS:C.MAGIC_WINDOW_CONTROLS,portrait:!1,vr:!1,hardwareVr:!1,hasWebVr:(0,y.hasWebVr)(),vrActive:!1,vrShouldRotate:!1,vrShouldActivate:!1,vrShouldDeactivate:!1,fullscreen:!1,noWebGL:!1,seekbarPressed:!1,hudToggled:!0,shouldResetPose:!1,idle:!1,loading:!0,mouseInApp:!0,showImmediateVr:!1,resettingResolution:!1,standing:!1,roomScaleVr:!1,getVrDialogOpen:!1,iOSWithoutDeviceMotionDialogOpen:!1,firstTimeVr:!0,forceShowPlayButton:!1,useNativeVideoFallback:(0,E.shouldNeverStartEngine)(),recommendationsLoading:!1,mobile:t,tablet:n,chromeWithoutDeviceMotion:i,IOSWithoutDeviceMotion:!1,android:v.Util.isAndroid(),supportsFullscreen:document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled,ios:v.Util.isIOS(),ie:v.Util.isIE(),safari:v.Util.isSafari(),firefoxAndroid:v.Util.isFirefoxAndroid(),samsungInternet:v.Util.isSamsungInternet(),oculusBrowser:v.Util.isOculusBrowser(),chromeDaydream:v.Util.isChromeDaydream(),edgeMr:v.Util.isEdgeMr(),vrBrowser:(0,y.isVrBrowser)(),savedScrollPos:void 0,useIFrameRedirect:(0,E.shouldUseIFrameRedirect)(),appWidth:0,appHeight:0,settingsOpen:!1,cameraSettingsChooserVisible:!1,qualitySettingsChooserVisible:!1,vrWizardActive:!1,oldViewports:[],firstTimeWizard:o,hmd:a,phone:r,useGazeBasedInteraction:s,tapToUnmute:!0,hudEnabled:!0,isWizardDomain:(0,S.isWizardDomain)()},data:{contents:[],activeContentIdx:-1},customization:{whiteLabel:(0,E.getWhiteLabel)(),brandLogo:(0,E.getBrandLogo)(),brandWatermarkLogo:(0,E.getBrandWatermarkLogo)()||(0,E.getBrandLogo)(),brandUrl:(0,E.getBrandUrl)(),brandName:(0,E.getBrandName)(),displayBrandLogo:(0,E.shouldDisplayBrandLogo)(),displayBrandWatermarkLogo:(0,E.shouldDisplayBrandWatermarkLogo)(),displayContentBadge:(0,E.shouldDisplayContentBadge)(),displayCarmelLink:(0,E.shouldDisplayCarmelDirectLink)(),displaySamsungVRLink:(0,E.shouldDisplaySamsungVRDirectLink)(),displayExitButton:(0,E.shouldDisplayExitButton)(),displayVrButton:(0,E.shouldDisplayVrButton)(),displaySettingsButton:(0,E.shouldDisplaySettingsButton)(),displayFullscreenButton:(0,E.shouldDisplayFullscreenButton)(),displayControls:(0,E.shouldDisplayControls)(),displayTitle:(0,E.shouldDisplayTitle)(),displayCompass:(0,E.shouldDisplayCompass)(),displayMuteButton:(0,E.shouldDisplayMuteButton)(),skipWizard:(0,E.shouldSkipWizard)(),saveAdaptiveQuality:(0,E.shouldSaveAdaptiveQuality)(),forceNativeVrResolution:(0,E.forceNativeVrResolution)(),useShaderResourceHack:(0,E.shouldUseShaderResourceHack)(),shouldNeverStartEngine:(0,E.shouldNeverStartEngine)()}}),this.initCustomization((0,E.getPrimaryColor)(),(0,E.getSecondaryColor)()),this.initLocalization((0,E.getLanguage)()),this.IOSWithoutDeviceMotionCheck()}return(0,h.default)(e,[{key:"_getContent",value:function(e){var t=this._store.getState();if(t&&t.data){var n=t.data.contents.findIndex(function(t){return t.id===e});return n!==-1?t.data.contents[n]:void 0}}},{key:"initLocalization",value:function(e){this._store.dispatch((0,m.initialize)(C.SUPPORTED_LANGUAGES,{defaultLanguage:e})),this._store.dispatch((0,m.addTranslationForLanguage)(k.default,"en")),this._store.dispatch((0,m.addTranslationForLanguage)(V.default,"de"))}},{key:"initCustomization",value:function(e,t){this._store.dispatch((0,I.initCustomization)(e,t))}},{key:"IOSWithoutDeviceMotionCheck",value:function(){var e=this;v.Util.isIOSWithoutDeviceMotion().then(function(t){t&&e._store.dispatch((0,I.IOSWithoutDeviceMotionCheck)())})}},{key:"addContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._store.dispatch((0,I.addContent)(e,t))}},{key:"removeContent",value:function(e){this._callActionIfActiveContent(e,I.exit),this._store.dispatch((0,I.removeContent)(e))}},{key:"setDisplayMode",value:function(e){this._store.dispatch((0,I.setDisplayMode)(e))}},{key:"activateContent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._store.dispatch((0,I.startContent)(e,t,n))}},{key:"exit",value:function(e){this._callActionIfActiveContent(e,I.exit)}},{key:"play",value:function(e){this._callActionIfActiveContent(e,I.play)}},{key:"pause",value:function(e){this._callActionIfActiveContent(e,I.pause)}},{key:"seek",value:function(e,t){this._callActionIfActiveContent(e,function(){return(0,I.seek)(t)})}},{key:"mute",value:function(e){this._callActionIfActiveContent(e,function(){return(0,I.mute)()})}},{key:"unmute",value:function(e){this._callActionIfActiveContent(e,function(){return(0,I.unmute)()})}},{key:"enterFullscreen",value:function(){this._store.dispatch((0,I.enterFullscreen)())}},{key:"exitFullscreen",value:function(){this._store.dispatch((0,I.exitFullscreen)())}},{key:"enableInterface",value:function(){this._store.dispatch((0,I.enableInterface)())}},{key:"disableInterface",value:function(){this._store.dispatch((0,I.disableInterface)())}},{key:"showContent",value:function(e,t){var n=(0,y.createElementFromDesc)(this._transformContentDescNode(e)).content;window.__dl8__delightVrApp.addContent(n,{originatorId:t}),window.__dl8__delightVrApp.activateContent(n.id,void 0,!1)}},{key:"_transformContentDescNode",value:function(e){var t=this;return(0,l.default)({tagName:e.tagName},e.attributes,{_children:e.children&&e.children.map(function(e){return t._transformContentDescNode(e)})})}},{key:"_callActionIfActiveContent",value:function(e,t){var n=this._store.getState().data,i=n.contents,r=n.activeContentIdx,a=i[r];!a||a.id!==e&&a.parentIds.originatorId!==e&&a.parentIds.hubId!==e||this._store.dispatch(t())}},{key:"renderContainer",value:function(e){(0,_.render)((0,o.default)(p.Provider,{style:{width:"100%",height:"100%"},store:this._store},void 0,B),e)}}]),e}()},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(172),o=r(a),s=n(44),l=r(s),u=n(10),c=r(u),d=n(170),h=r(d),f=n(15),_=r(f),p=n(3),m=r(p),A=n(33),g=r(A),v=n(1),y=r(v),b=n(5),E=r(b),w=n(8),S=r(w),T=n(2),x=r(T),C=n(4),M=r(C),P=n(138),I=n(125),R=n(166),k=n(204),D=n(205),V=n(7),B=n(39),O=n(9),N=n(55),L=n(80),F=n(437),U=n(441),H=n(442),G=n(439),z=n(438),Q=n(440),W=n(106),j=n(29),X=n(42),Y=n(11),q=n(30),Z=n(48),K=n(20),J=n(14),$=n(38),ee=n(21),te=n(32),ne=n(61),ie=n(36),re=n(302),ae=n(25),oe=n(448),se=n(110),le=n(449),ue=n(447),ce=n(450),de=n(451),he=n(27),fe=n(218),_e=n(165),pe=n(64),me=n(66),Ae=n(303),ge=n(167),ve=n(139),ye=n(168),be=n(228),Ee=n(455),we=n(452),Se=n(24),Te=n(62),xe=n(54),Ce=n(53),Me=n(82),Pe=n(107),Ie=n(93),Re=n(457),ke=n(56),De=n(81),Ve=n(43),Be=n(470),Oe=n(471),Ne=n(306),Le=n(79),Fe=n(68),Ue=n(49),He=n(18),Ge=r(He),ze=n(19),Qe=i(ze),We=n(695),je=r(We),Xe=n(275),Ye=r(Xe),qe=n(690),Ze=r(qe),Ke=5.5,Je=3,$e=.45*Ke,et=.65,tt=1,nt=2.5,it=.65,rt=.3,at=.005,ot=new K.ColorRGBA(0,0,0,.9),st=new K.ColorRGBA(1,1,1,1),lt=new K.ColorRGBA(0,0,0,1),ut=new K.ColorRGBA(.5,.5,.5,1),ct=function(e){function t(e){(0,y.default)(this,t);var n=(0,E.default)(this,(t.__proto__||(0,m.default)(t)).call(this,e));n._activateContent=function(e,t){n._onActivateContent(e)},n._onVrDeviceActivatedImpl=function(){n._updateObjectsForRoomscale(),n.resetPose(),n._onVrDeviceActivated()},n._onVrDeviceDeactivatedImpl=function(){n._updateObjectsForRoomscale(),n._deactivateGamepad(),n._onVrDeviceDeactivated()},n._onVrDeviceMountedImpl=function(){n._isHMDUnmounted&&n._uiState.vrActive&&(n._isHMDUnmounted=!1,n.resetPose(),n._content&&n._content.type===Qe.CONTENT_TYPE_VIDEO&&n._hud&&n._hud.show(),n._onVrDeviceMounted())},n._onVrDeviceUnmountedImpl=function(){n._uiState.vrActive&&(n._onPause(),n._isHMDUnmounted=!0,n._onVrDeviceUnmounted())},n._resetHub=function(){n.$scene.remove(n._hub),n._hub.dtor(),n._createHubContent()},n._onAspectChangedEvent=function(){n._content&&n._content.lockNonVrView&&O.Context.vrDeviceManager.state!==Te.VRDeviceManager.STATE_ACTIVE&&n._adjustCinemaScreenPositionForFullscreen()},n._handleGamepadConnect=function(e){n._initializeGamepad(e.gamepad,e.gamepad.index)},n._handleGamepadDisconnect=function(e){if(t._isGamepadModelSupported(e.gamepad)){var i=n.$scene.findByName(e.gamepad.id);i&&(i.dtor(),n.$scene.remove(i)),n._hud&&(n._hud.useCustomPickRay=!1),n._fresnelOutlineMaterial&&(n._fresnelOutlineMaterial.dtor(),n._fresnelOutlineMaterial=null)}n._connectedGamepads.delete(e.gamepad.id)},n._handleMouseContextMenu=function(e){if(e.target===n.canvas)return e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0,!1},n._handleOrientationChange=function(){0===window.orientation||180===window.orientation?n._onRotatedToPortrait():n._onRotatedToLandscape(),n.resize()},n._onFirstLoadFinished=function(){n.resize()},n._onVrDeviceReady=V.Util.getParamRequired(e,"onVrDeviceReady"),n._onVrDeviceActivated=V.Util.getParamRequired(e,"onVrDeviceActivated"),n._onVrDeviceDeactivated=V.Util.getParamRequired(e,"onVrDeviceDeactivated"),n._onVrDeviceMounted=V.Util.getParamRequired(e,"onVrDeviceMounted"),n._onVrDeviceUnmounted=V.Util.getParamRequired(e,"onVrDeviceUnmounted"),n._onRotatedToPortrait=V.Util.getParamRequired(e,"onRotatedToPortrait"),n._onRotatedToLandscape=V.Util.getParamRequired(e,"onRotatedToLandscape"),n._onToggleHud=V.Util.getParamRequired(e,"onToggleHud"),n._onPhoneChanged=V.Util.getParamRequired(e,"onPhoneChanged"),n._onShowVrHud=V.Util.getParamRequired(e,"onShowVrHud"),n._onHideVrHud=V.Util.getParamRequired(e,"onHideVrHud"),n._onPause=V.Util.getParamRequired(e,"onPause"),n._onPlay=V.Util.getParamRequired(e,"onPlay"),n._onSeek=V.Util.getParamRequired(e,"onSeek"),n._onUpdateVolume=V.Util.getParamRequired(e,"onUpdateVolume"),n._onUnmute=V.Util.getParamRequired(e,"onUnmute"),n._onEnd=V.Util.getParamRequired(e,"onEnd"),n._onContentError=V.Util.getParamRequired(e,"onContentError"),n._onQualityChanged=V.Util.getParamRequired(e,"onQualityChanged"),n._onChangeQuality=V.Util.getParamRequired(e,"onChangeQuality"),n._onUpdateBuffering=V.Util.getParamRequired(e,"onUpdateBuffering"),n._customization=V.Util.getParamRequired(e,"customization"),n._translate=V.Util.getParamRequired(e,"translate"),n._uiState=V.Util.getParamRequired(e,"uiState"),n._onError=V.Util.getParamRequired(e,"onError"),n._onTourProbeChanged=V.Util.getParamRequired(e,"onTourProbeChanged"),n._onActivateContent=V.Util.getParamRequired(e,"onActivateContent"),n._onReplaceContent=V.Util.getParamRequired(e,"onReplaceContent"),n._onTourContentPortalClicked=V.Util.getParamRequired(e,"onTourContentPortalClicked"),n._onDisableGazeBasedInteraction=V.Util.getParamRequired(e,"onDisableGazeBasedInteraction"),n._onCloseSettings=V.Util.getParamRequired(e,"onCloseSettings"),n._onBackButton=V.Util.getParamRequired(e,"onBackButton"),n._debugMode=V.Util.getParam(e,"debugMode"),n._dragCameraController=void 0,n._parallaxCameraController=void 0,n._vrCameraController=void 0,n._vrOrbitCameraController=void 0,n._orbitCameraController=void 0,n._magicWindowCameraController=void 0,n._cameraStartPosition=new Y.Vector3,n._isIOS10=V.Util.isIOSVersion(10),n._isIOS11=V.Util.isIOSVersion(11),n._useIOSHack=!V.Util.isIOS10OrHigher()&&!V.Util.isIPad()&&V.Util.isIOS(),n._isIOS=V.Util.isIOS(),n._hasChromeMacFlickeringBug=V.Util.isChromeMacOS()&&"72.0.3626.109"===V.Util.getChromeRevision(),n._iOSAudioEmulationElement=null,n._lastBufferPos=0,n._qualityChangeTargetTime=null,n._tmpVec=new Y.Vector3,n._curT=0,n._startPointerPos=new X.Vector2,n._startPointerTime=V.Util.performanceNow(),n._endPointerPos=new X.Vector2,n._pointerPosition=new X.Vector2,n._content=void 0,n._playing=!1,n._isMobile=V.Util.isMobileBrowser(),n._isSamsungInternet=V.Util.isSamsungInternet(),n._isOculusBrowser=V.Util.isOculusBrowser(),n._isSafari=V.Util.isSafari(),n._activeEnvironment=null,n._hud=null,n._hub=null,n._savedHubActions=new _.default,n._loadingIndicator=null,n._setLoadingTransformOnNextUpdate=!1,n._minFocalLength=10,n._maxFocalLength=80,n._focalLength=15,n._dragControlsDamping=.1,n._enableVerticalMagicWindowDragging=!1,n._disableVerticalMouseDragging=!1,n._disableVerticalTouchDragging=!1,n._captureWheelEvents=!0,n._captureTouchEvents=!0,n._captureMouseEvents=!0,n._trackingThrottleT=0,n._cameraTrackingEvents=[],n._contentLoading=!1,n._preventMouseUpEvent=!1,n._preventMouseUpTimeout=null,n._connectedGamepads=new _.default,n._activeGamepad=null,n._fresnelOutlineMaterial=null,n._torsoDirection=(new Y.Vector3).copyFrom(Y.Vector3.NEG_Z_AXIS),n._isHMDUnmounted=!1;var i=n._customization.secondaryColorDark.desaturate(.5);return i.color[2]+=3,n._customizationSecondaryColorMult=new K.ColorRGBA(i.hex()),i.color[2]+=20,n._customizationSecondaryColorMultHalf=new K.ColorRGBA(i.hex()),n._loadingController=new R.ClosureController({closure:function(e,t){t.animationT-=1.5*e,t.animationT<0&&(t.animationT=1+t.animationT)}}),n._tmpArray=[1,0,0,0,1,0,0,0,1],n._lastDVector=new Y.Vector3,n._activeInfoHotspot=null,n._audioContext=null,n._audioElementSource=null,n._foaAudioRenderer=null,n._foaRunning=!1,n._8BallAudioRenderer=null,n._8BallRunning=!1,n._8BallUpdateAccum=0,n._bypassNode=null,n}return(0,M.default)(t,e),(0,x.default)(t,null,[{key:"_isGamepadModelSupported",value:function(e){return!!t.CONTROLLER_MODEL_PATHS.get(e.id)}},{key:"Omnitone",get:function(){return new g.default(function(e,t){n.e(4,function(t){e(n(321).Omnitone)})})}}]),(0,x.default)(t,[{key:"refreshRecommendations",value:function(e){this._hud&&this._hud.refreshRecommendations(e)}},{key:"showLeftHudAdvertisement",value:function(e){this._hud&&this._hud.showLeftHudAdvertisement(e)}},{key:"showRightHudAdvertisement",value:function(e){this._hud&&this._hud.showRightHudAdvertisement(e)}},{key:"showTopHudAdvertisement",value:function(e){this._hud&&this._hud.showTopHudAdvertisement(e)}},{key:"showBottomHudAdvertisement",value:function(e){this._hud&&this._hud.showBottomHudAdvertisement(e)}},{key:"qualityChanged",value:function(e,t){var n=this._content.sources[0];this.useIOSHack&&this._setupIOSAudioEmulation(this._content.audioElement),this._isSafari&&(this._qualityChangeTargetTime=e),this._hud&&this._hud.qualityChanged(t),this._setupAudio(n);var i=this.$scene.findByName("Environment");if(i&&n){i.texture.fps=n.fps||this._content.fps;var r=n.format||this._content.format;this._content.isFlatVideo||this._content.dl8Cinema||this.useIOSHack?r===Qe.CONTENT_MODE_MONO_FLAT?i.material.mode=_e.UnlitMaterial.MONO:(i.material.stereoFormat=r,i.material.mode=_e.UnlitMaterial.STEREOSCOPIC):r===Qe.CONTENT_MODE_MONO_360?i.material.mode=fe.SkyboxMaterial.LATLONG:r===Qe.CONTENT_MODE_MONO_180?i.material.mode=fe.SkyboxMaterial.LATLONG_180:(i.material.stereoFormat=r,i.material.mode=fe.SkyboxMaterial.STEREOSCOPIC)}this._onQualityChanged()}},{key:"qualityListUpdated",value:function(){this._hud&&this._hud.qualityListUpdated()}},{key:"videoSizeChanged",value:function(e,t){if(this._content.isFlatVideo||this._content.dl8Cinema){var n=e||1920,i=t||1080,r=this.$scene.findByName("Environment");if(r){this._content.format===Qe.CONTENT_MODE_STEREO_FLAT_LR_SQUARE?n*=.5:this._content.format===Qe.CONTENT_MODE_STEREO_FLAT_TB_SQUARE&&(i*=.5);var a=n/i,o=2.5,s=1.5;this._content.dl8Cinema&&(o=this._content.screenWidth,s=this._content.screenHeight),n>=i?(r.transform.scale.x=o,r.transform.scale.y=o/a):(r.transform.scale.x=s*a,r.transform.scale.y=s),O.Context.vrDeviceManager.state!==Te.VRDeviceManager.STATE_ACTIVE&&this._content.lockNonVrView&&this._adjustCinemaScreenPositionForFullscreen()}}}},{key:"resetPose",value:function(){this._dragCameraController.minFocalLength=this._minFocalLength,this._dragCameraController.maxFocalLength=this._maxFocalLength,this._dragCameraController.drag=this._dragControlsDamping,this._dragCameraController.lookSensitivity=this._calcLookSensitivityFromDamping(this._dragControlsDamping),this._dragCameraController.captureWheelEvents=this._captureWheelEvents,this._dragCameraController.captureTouchEvents=this._captureTouchEvents,this._dragCameraController.captureMouseEvents=this._captureMouseEvents,this._dragCameraController.lockedVertically=this._isMobile&&this._disableVerticalTouchDragging||!this._isMobile&&this._disableVerticalMouseDragging,this._parallaxCameraController.minFocalLength=this._minFocalLength,this._parallaxCameraController.maxFocalLength=this._maxFocalLength,this._parallaxCameraController.captureWheelEvents=this._captureWheelEvents,this._parallaxCameraController.captureTouchEvents=this._captureTouchEvents,this._parallaxCameraController.captureMouseEvents=this._captureMouseEvents,this._magicWindowCameraController.minFocalLength=this._minFocalLength,this._magicWindowCameraController.maxFocalLength=this._maxFocalLength,this._magicWindowCameraController.captureTouchEvents=this._captureTouchEvents,this._magicWindowCameraController.captureMouseEvents=this._captureMouseEvents,this._magicWindowCameraController.lockedVertically=!this._enableVerticalMagicWindowDragging,this._magicWindowCameraController.resetPose(),this._vrCameraController.resetPose(),this._vrOrbitCameraController.resetPose(),this._orbitCameraController.resetPose(this._cameraStartPosition),this._orbitCameraController.captureWheelEvents=this._captureWheelEvents,this._orbitCameraController.captureTouchEvents=this._captureTouchEvents,this._orbitCameraController.captureMouseEvents=this._captureMouseEvents,this._dragCameraController.resetPose();var e=this.$scene.findByName(L.Application.DEFAULT_CAMERA_NAME);return e.transform.position.copyFrom(this._cameraStartPosition),this._resetZoom(),!0}},{key:"saveHubActions",value:function(){this._hub&&this._content&&this._savedHubActions.set(this._content.id,this._hub.saveActions())}},{key:"clearHubActions",value:function(){this._hub&&this._content&&this._savedHubActions.delete(this._content.id)}},{key:"enabledVr",value:function(){this._content.type===Qe.CONTENT_TYPE_VIDEO&&!this.playing&&this._hud&&this._hud.show()}},{key:"disabledVr",value:function(){this._hud&&this._hud.hide()}},{key:"_showGamepadModels",value:function(){var e=!0,n=!1,i=void 0;try{for(var r,a=(0,h.default)(t.CONTROLLER_MODEL_PATHS.keys());!(e=(r=a.next()).done);e=!0){var o=r.value,s=this.$scene.findByName(o);s&&(s.visible=!0,this._hud&&(this._hud.useCustomPickRay=!0))}}catch(e){n=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(n)throw i}}}},{key:"_hideGamepadModels",value:function(){var e=!0,n=!1,i=void 0;try{for(var r,a=(0,h.default)(t.CONTROLLER_MODEL_PATHS.keys());!(e=(r=a.next()).done);e=!0){var o=r.value,s=this.$scene.findByName(o);s&&(s.visible=!1,this._hud&&(this._hud.useCustomPickRay=!1))}}catch(e){n=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(n)throw i}}}},{key:"_updateObjectsForRoomscale",value:function(){this._content&&(this._content.type===Qe.CONTENT_TYPE_MODEL||this._content.type===Qe.CONTENT_TYPE_IBR)&&this._activeEnvironment}},{key:"_teardownScene",value:function(){this.dtorActiveResources(),this._activeEnvironment&&(this.$scene.remove(this._activeEnvironment),this._activeEnvironment.dtor(),this._activeEnvironment=null),this._iOSAudioEmulationElement&&(this._iOSAudioEmulationElement.pause(),this._iOSAudioEmulationElement.src=void 0,this._iOSAudioElementLoaded=!1),this._hud&&(this.$scene.remove(this._hud),this._hud.dtor(),this._hud=null),this._hub&&(this.$scene.remove(this._hub),this._hub.dtor(),this._hub=null)}},{key:"_createHubContent",value:function(){var e=new Ne.Hub({content:this._content,onError:this._onError,onActivateContent:this._activateContent,onReplaceContent:this._onReplaceContent,customization:this._customization,onReset:this._resetHub}),t=this._savedHubActions.get(this._content.id);t&&(e.restoreActions(t),this._savedHubActions.delete(this._content.id)),this._hub=this.$scene.add(e),this._showGamepadModels()}},{key:"_createTourContent",value:function(){var e=this;this._activeEnvironment=this.$scene.add(new ae.SpatialNode({name:"TourEnvironment"})),this._content.dl8TourImgs.forEach(function(t){var n=new ae.SpatialNode({name:t.probeId});(0,Ue.createImageSkybox)(e.addActiveResource.bind(e),t).then(function(i){n.addChild(i);var r=void 0;t.dl8TourPortals.length>0&&(r=e.addActiveResource(new Se.Texture({type:Se.Texture.IMAGE,data:[je.default],flipY:!0,generateMipmaps:!1}))),t.dl8TourPortals.forEach(function(i){if(i.icon){var a=i.iconKeepAspect,o=!a,s=!i.iconNoCutoutCircle;V.Util.renderImageToCanvas(i.icon,256,256,o,s,a).then(function(r){var o=a?r.image:r,s=a?r.width/r.height:1,l=e.addActiveResource(new Se.Texture({type:Se.Texture.IMAGE,data:[o],flipY:!0,generateMipmaps:!1
}));n.addChild(e._generateTourHotspot(i,t,l,e._content.probeTransition,s))}).catch(function(){n.addChild(e._generateTourHotspot(i,t,r,e._content.probeTransition))})}else n.addChild(e._generateTourHotspot(i,t,r,e._content.probeTransition))}),t.dl8TourHotspots.forEach(function(i){if(i.icon){var a=i.iconKeepAspect,o=!a,s=!i.iconNoCutoutCircle;V.Util.renderImageToCanvas(i.icon,256,256,o,s,a).then(function(r){var o=a?r.image:r,s=a?r.width/r.height:1,l=e.addActiveResource(new Se.Texture({type:Se.Texture.IMAGE,data:[o],flipY:!0,generateMipmaps:!1}));n.addChild(e._generateTourHotspot(i,t,l,e._content.probeTransition,s))}).catch(function(){n.addChild(e._generateTourHotspot(i,t,r,e._content.probeTransition))})}else n.addChild(e._generateTourHotspot(i,t,r,e._content.probeTransition))}),t.dl8TourContentPortals.forEach(function(i){if(i.icon){var a=i.iconKeepAspect,o=!a,s=!i.iconNoCutoutCircle;V.Util.renderImageToCanvas(i.icon,256,256,o,s,a).then(function(r){var o=a?r.image:r,s=a?r.width/r.height:1,l=e.addActiveResource(new Se.Texture({type:Se.Texture.IMAGE,data:[o],flipY:!0,generateMipmaps:!1}));n.addChild(e._generateTourHotspot(i,t,l,e._content.probeTransition,s))}).catch(function(){n.addChild(e._generateTourHotspot(i,t,r,e._content.probeTransition))})}else n.addChild(e._generateTourHotspot(i,t,r,e._content.probeTransition))});var a=null;e._content.startProbeId?a=e._content.startProbeId:e._content.dl8TourImgs.length>0&&(a=e._content.dl8TourImgs[0].probeId),n.visible=t.probeId===a,e._activeEnvironment.addChild(n),e._onTourProbeChanged(a)}).catch(function(t){O.Context.eventEmitter.emit(e,N.LoadingManager.EVENT_LOADING_END),e._onError(t)})}),this._showGamepadModels()}},{key:"_createTourHotspotImage",value:function(e,t,n){var i=nt*t,r=0===n?0:rt*t,a=new Ae.UiCover({width:Ke*t,height:i,transform:new he.Transform({position:new Y.Vector3(0,.5*-r,0)}),poster:e.src,smoothBorder:!1,backgroundColor:lt,drawLabel:!1});return 0===n?a:new me.UiNode({width:Ke*t,height:i+r,children:[new ve.UiLabel({width:Ke*t,height:r,transform:new he.Transform({position:new Y.Vector3(0,.5*i,0)}),texSize:32,text:"",backgroundColor:ot,fontSize:.2375*t,roundRectSize:0}),a]})}},{key:"_createTourHotspotHeading",value:function(e,t){return new ve.UiLabel({width:Ke*t,height:tt*t,autoHeight:!0,lineHeight:1.15,padding:[(rt-.01)*t,rt*t,0,rt*t],texSize:384,text:e.text||"",align:"left",verticalAlign:"top",maxCharacters:250,backgroundColor:ot,fontColor:st,fontFace:this._customization.baseFont,fontWeight:this._customization.baseFontWeight,fontSize:.4*t,roundRectSize:0})}},{key:"_createTourHotspotParagraph",value:function(e,t){return new ve.UiLabel({width:Ke*t,height:Je*t,autoHeight:!0,padding:[(rt-.01)*t,rt*t,0,rt*t],texSize:512,text:e.text,align:"left",verticalAlign:"top",maxCharacters:500,lineHeight:1.25,backgroundColor:ot,fontColor:st,fontFace:this._customization.baseFont,fontWeight:this._customization.baseFontWeight,fontSize:.2375*t,roundRectSize:0})}},{key:"_createTourButton",value:function(e,t,n){return new me.UiNode({width:Ke*t,height:et*t+rt*t,children:[new ve.UiLabel({width:Ke*t,height:et*t+rt*t,texSize:32,text:"",backgroundColor:ot,fontSize:.2375*t,roundRectSize:0}),new ye.UiLabelButton({transform:new he.Transform({position:new Y.Vector3(-Ke*t*.5+$e*t*.5+rt*t,-(.5*rt*t),.001)}),width:$e*t,height:et*t,texSize:256,text:e.label,maxCharacters:18,backgroundColor:ut,fontColor:st,fontFace:this._customization.baseFont,fontWeight:this._customization.baseFontWeight,fontSize:.2375*t,roundRectSize:32,zIndex:1,controllers:[new R.ClosureController({closure:function(e,t){t.hovered?(t.transform.scale.x=1.1,t.transform.scale.y=1.1):(t.transform.scale.x=1,t.transform.scale.y=1)}})],onClick:n})]})}},{key:"_generateTourHotspot",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qe.PROBE_TRANSITION_BLINK,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=void 0,s=void 0;if(e.customPositioning)o=new Y.Vector3(e.positionX,e.positionY,e.positionZ),s=(new q.Quaternion).fromEuler(new Y.Vector3(J.MathUtil.degToRad(e.rotateX),J.MathUtil.degToRad(e.rotateY),J.MathUtil.degToRad(e.rotateZ)));else{o=void 0!==e.longitude||void 0!==e.latitude?J.MathUtil.fromOrbit(new Y.Vector3(J.MathUtil.degToRad(180-e.longitude),J.MathUtil.degToRad(90-e.latitude),e.distance)):J.MathUtil.fromOrbit(new Y.Vector3(J.MathUtil.degToRad(e.lon),J.MathUtil.degToRad(e.lat),e.distance),new Y.Vector3);var l=Y.Vector3.toLookRotationWithHint(o);s=(new q.Quaternion).fromLookRotation(l.forward,l.right,l.up)}var u=e.probeTransition||r,c="hotspotWrapper-"+e.id,d=this._content.dl8TourImgs.find(function(t){return t.probeId===e.to}),h=void 0;d&&(h=d.title);var f=2.5,_="auto"===e.size,p=_?.08:e.size,m=p*(t.probeId===e.to?e.activeScale:1),A=null;(e.title||h)&&(A=new ve.UiLabel({visible:!1,width:3*p,height:p/3,noWrap:!0,autoWidth:!0,padding:[0,.006],texSize:256,text:e.title||h||"",maxCharacters:25,backgroundColor:new K.ColorRGBA(0,0,0,.4),fontFace:this._customization.baseFont,fontWeight:this._customization.baseFontWeight,fontSize:.2375*p,transform:new he.Transform({position:new Y.Vector3(0,.5*-Math.max(m,p*e.hoverScale)-p/6-at,0)})}));var g=void 0,v=void 0;if("DL8-TOUR-HOTSPOT"===e.domElement.tagName){var y=[];e.dl8TourHotspotImages.forEach(function(e,t){return y[e.domElementIdx]=i._createTourHotspotImage(e,p,t)}),e.dl8TourHotspotHeadings.forEach(function(e){return y[e.domElementIdx]=i._createTourHotspotHeading(e,p)}),e.dl8TourHotspotParagraphs.forEach(function(e){return y[e.domElementIdx]=i._createTourHotspotParagraph(e,p)}),e.dl8TourHotspotExtButtons.forEach(function(e){return y[e.domElementIdx]=i._createTourButton(e,p,function(){if(e.url){var t=e.url;De.IFrameManager.isInIFrame()?window.parent.location=t:window.location=t}})}),e.dl8TourHotspotPortalButtons.forEach(function(e){y[e.domElementIdx]=i._createTourButton(e,p,function(t){var n=i.$scene.findByPred(function(e){return e.parent&&e.parent.visible&&e instanceof re.Skybox});i._onTourProbeChanged(e.to),n.parent.addController(i._generateTourFadeOutAnimation(u)),i.$scene.findByName(e.to).addController(i._generateTourFadeInAnimation(u)),i._closeInfoHotspot()})}),y.push(new ve.UiLabel({width:Ke*p,height:rt*p,texSize:32,text:"",backgroundColor:ot,fontSize:.2375*p,roundRectSize:0}));var b=0;y.forEach(function(e){b-=.5*e.autoHeightCalculated,e.transform.position.y=b,b-=.5*e.autoHeightCalculated}),g=new ae.SpatialNode({forceVisible:!0,visible:!1,transform:new he.Transform({position:new Y.Vector3(0,.5*-b,0)}),children:[].concat(y,[new be.UiImageButton({transform:new he.Transform({position:new Y.Vector3(Ke*p*.5-it*p*.5-.5*rt*p,-it*p*.5-.5*rt*p,.001)}),width:it*p,height:it*p,src:Ze.default,hoverText:this._translate("player.close"),zIndex:1,onClick:function(){i._closeInfoHotspot()},controllers:[new R.ClosureController({closure:function(e,t){t.hovered?(t.transform.scale.x=1.2,t.transform.scale.y=1.2):(t.transform.scale.x=1,t.transform.scale.y=1)}})]})])}),v=function(e){var t=i.$scene.findByName(c);t&&t.children.length>=2&&(i._closeInfoHotspot(),t.children[0].visible=!1,t.children[1].visible=!0,i._activeInfoHotspot=c)}}else"DL8-TOUR-CONTENT-PORTAL"===e.domElement.tagName?v=function(t){t.inTransition||i._onTourContentPortalClicked(e)}:"DL8-TOUR-PORTAL"===e.domElement.tagName&&(v=function(e){if(!e.inTransition&&t.probeId!==e.to){A&&(A.visible=!1);var n=i.$scene.findByPred(function(e){return e.parent&&e.parent.visible&&e instanceof re.Skybox});i._onTourProbeChanged(e.to),n.parent.addController(i._generateTourFadeOutAnimation(u)),i.$scene.findByName(e.to).addController(i._generateTourFadeInAnimation(u)),e.fadeOut(),i._closeInfoHotspot()}});return new ae.SpatialNode({name:c,transform:new he.Transform({position:o,rotation:s,scale:new Y.Vector3(_?e.distance:Y.Vector3.ONE)}),children:[new me.UiNode({forceVisible:!0,width:a*f*m,height:f*m,children:[A,new Be.Hotspot({to:e.to,texture:n,hoverText:e.title||h,hoverScale:t.probeId===e.to?1:e.hoverScale,width:a*m,height:m,zIndex:-1,onHover:function(){O.Context.vrDeviceManager.state!==Te.VRDeviceManager.STATE_ACTIVE&&A&&(A.opacity=1,A.visible=!0)},onBlur:function(){A&&(A.opacity=0)},onClick:v})]}),g]})}},{key:"_createModelContent",value:function(){var e=new ae.SpatialNode({name:"ModelContainer"});e.addChild(new ae.SpatialNode({name:"MeshContainer",transform:new he.Transform({position:new Y.Vector3(this._content.position),scale:new Y.Vector3(this._content.scale),rotation:new q.Quaternion(this._content.rotation)}),children:[new le.Model({uri:this._content.src,onError:this._onContentError})]})),this._content.dl8ModelDirectionalLights.forEach(function(t){e.addChild(new ue.DirectionalLight({intensity:t.intensity,direction:new Y.Vector3(t.direction),color:new Z.ColorRGB(t.color)}))}),this._content.dl8ModelPointLights.forEach(function(t){e.addChild(new ce.PointLight({transform:new he.Transform({position:t.position}),intensity:t.intensity,radius:t.radius,color:new Z.ColorRGB(t.color)}))}),this._content.dl8ModelPointLights.forEach(function(t){var n=void 0;t.goboTextureSrc&&(n=new Se.Texture({type:Se.Texture.IMAGE,data:[t.goboTextureSrc],flipY:!0})),e.addChild(new de.SpotLight({transform:new he.Transform({position:t.position}),direction:new Y.Vector3(t.direction),intensity:t.intensity,angle:t.angle,radius:t.radius,color:new Z.ColorRGB(t.color),goboTexture:n}))}),this._content.dl8ModelIbls.forEach(function(t){e.addChild(new se.IBLNode({uri:t.src}))}),this._content.dl8ModelSkyboxs.forEach(function(t){e.addChild(new re.Skybox({texture:new Se.Texture({data:[t.src],type:Se.Texture.IMAGE,generateMipmaps:!1}),color:new K.ColorRGBA(1,1,1,t.intensity),textureMode:fe.SkyboxMaterial.LATLONG,ibl:!1}))});var t=this._content.dl8ModelCameras[0];t&&this._cameraStartPosition.copyFromArray(t.position),this._activeEnvironment=this.$scene.add(e)}},{key:"_createImageContent",value:function(){var e=this;(0,Ue.createImageSkybox)(this.addActiveResource.bind(this),this._content).then(function(t){e._activeEnvironment=e.$scene.add(t),e._activeEnvironment.transform.rotation=(new q.Quaternion).fromEuler(new Y.Vector3(J.MathUtil.degToRad(e._content.startLat),-J.MathUtil.degToRad(e._content.startLon),0))}).catch(function(t){O.Context.eventEmitter.emit(e,N.LoadingManager.EVENT_LOADING_END),e._onError(t)}),this._showGamepadModels()}},{key:"_setupIOSAudioEmulation",value:function(e){var t=this;this._iOSAudioEmulationElement||(this._iOSAudioEmulationElement=e),this._iOSAudioElementLoaded=this._iOSAudioEmulationElement.readyState>3,this._iOSAudioEmulationElement.oncanplay=function(){t._iOSAudioElementLoaded=!0}}},{key:"_set8BallChannels",value:function(e,t){e.type=t;var n=e.splitter,i=e.gainNodes,r=i.gainNodeBackL,a=i.gainNodeBackR,o=i.gainNodeRightL,s=i.gainNodeRightR;t===Qe.AUDIO_FORMAT_8BALL_4CHANNELS?(n.connect(o,3,0),n.connect(s,this._isSafari?1:2,0),n.connect(r,this._isSafari?0:1,0),n.connect(a,this._isSafari?2:0,0)):(n.connect(o,6,0),n.connect(s,7,0),n.connect(r,4,0),n.connect(a,5,0))}},{key:"_enable8BallRendering",value:function(e,t){t.connect(e.input),this._8BallRunning=!0}},{key:"_disable8BallRendering",value:function(e,t){t.disconnect(),this._8BallRunning=!1}},{key:"_enableFoaRendering",value:function(e,t){t.connect(e.input),e.setRenderingMode("ambisonic"),this._foaRunning=!0}},{key:"_disableFoaRendering",value:function(e,t){t.disconnect(),e.setRenderingMode("off"),this._foaRunning=!1}},{key:"_create8BallRenderer",value:function(e,t){var n=e.createGain(),i=e.createChannelMerger(2),r=e.createChannelSplitter(8),a=e.createGain(),o=e.createGain(),s=e.createGain(),l=e.createGain(),u=e.createGain(),c=e.createGain(),d=e.createGain(),h=e.createGain(),f={type:t,splitter:r,gainNodes:{gainNodeFrontL:a,gainNodeFrontR:o,gainNodeLeftL:s,gainNodeLeftR:l,gainNodeBackL:u,gainNodeBackR:c,gainNodeRightL:d,gainNodeRightR:h},frontVol:0,leftVol:0,backVol:0,rightVol:0,input:r,output:n};return a.gain.value=0,o.gain.value=0,s.gain.value=0,l.gain.value=0,u.gain.value=0,c.gain.value=0,d.gain.value=0,h.gain.value=0,r.connect(a,this._isSafari?2:0,0),r.connect(o,this._isSafari?0:1,0),r.connect(s,this._isSafari?1:2,0),r.connect(l,3,0),a.connect(i,0,0),o.connect(i,0,1),s.connect(i,0,0),l.connect(i,0,1),u.connect(i,0,0),c.connect(i,0,1),d.connect(i,0,0),h.connect(i,0,1),i.connect(n),f}},{key:"_update8BallRotation",value:function(e,t,n){if(this._8BallUpdateAccum+=n,!(this._8BallUpdateAccum<.1)){this._8BallUpdateAccum=0;var i=e.gainNodes,r=i.gainNodeFrontL,a=i.gainNodeFrontR,o=i.gainNodeLeftL,s=i.gainNodeLeftR,l=i.gainNodeBackL,u=i.gainNodeBackR,c=i.gainNodeRightL,d=i.gainNodeRightR;t<=Math.PI/2&&t>=0?(e.frontVol=Math.cos(t),e.leftVol=Math.sin(t),e.backVol=0,e.rightVol=0):t>Math.PI/2&&t<=Math.PI?(e.frontVol=0,e.leftVol=Math.cos(t-Math.PI/2),e.backVol=Math.sin(t-Math.PI/2),e.rightVol=0):t<-Math.PI/2&&t>=-Math.PI?(e.frontVol=0,e.leftVol=0,e.backVol=Math.sin(-t-Math.PI/2),e.rightVol=Math.cos(-t-Math.PI/2)):t<0&&t>=-Math.PI/2&&(e.frontVol=Math.cos(-t),e.leftVol=0,e.backVol=0,e.rightVol=Math.sin(-t)),r.gain.value=e.frontVol,a.gain.value=e.frontVol,o.gain.value=e.leftVol,s.gain.value=e.leftVol,l.gain.value=e.backVol,u.gain.value=e.backVol,c.gain.value=e.rightVol,d.gain.value=e.rightVol}}},{key:"_createVideoContent",value:function(){var e=this,t=this._content.sources.find(function(t){return t.src===e._content.element.currentSrc})||this._content.sources[0],n=void 0,i=void 0;t?(n=t.format||this._content.format,i=t.fps||this._content.fps):(n=this._content.format,i=this._content.fps);var r=n===Qe.CONTENT_MODE_STEREO_FLAT_LR||n===Qe.CONTENT_MODE_STEREO_FLAT_TB||n===Qe.CONTENT_MODE_STEREO_FLAT_LR_SQUARE||n===Qe.CONTENT_MODE_STEREO_FLAT_TB_SQUARE,a=n===Qe.CONTENT_MODE_MONO_FLAT||r,o=this.addActiveResource(new Se.Texture({fps:i,type:Se.Texture.VIDEO_STREAM,data:[this._content.element],uploadVideoOnPaused:this.useIOSHack,generateMipmaps:!1,useVideoCanvasFallbackRendering:this._hasChromeMacFlickeringBug||this._isIOS11&&this._content.domElement._hasHlsSources||V.Util.isIE(),flipY:n===Qe.CONTENT_MODE_STEREO_MESH}));O.Context.degradationManager.targetFramerate=Math.max(.5*i,1),this.useIOSHack&&this._setupIOSAudioEmulation(this._content.audioElement);var s=new ae.SpatialNode;if(a){var l=new Ee.UnlitQuad({name:"Environment",width:1,height:1,transform:new he.Transform({position:new Y.Vector3(0,0,-2)}),texture:o,mode:r?_e.UnlitMaterial.STEREOSCOPIC:_e.UnlitMaterial.MONO,stereoFormat:n,smoothBorder:this._content.forceShowCinema,convertToBGRA:this._isIOS10});s.addChild(l),this._content.dl8Cinema&&(l.transform.position.z=-this._content.screenDistance,l.transform.position.y=this._content.screenYOffset,l.transform.position.x=this._content.screenXOffset)}else if(n===Qe.CONTENT_MODE_STEREO_MESH){var u=this._content.formatParams;u.uri&&Ve.XHRRequest.request({uri:u.uri,noCache:!1,onLoad:function(t){if(4!==t.readyState||t.status>=300)return void e._onError(new Error("Error requesting stereo mesh data! readyState: "+t.readyState+", status: "+t.status));try{s.addChild(new we.StereoMesh({type:u.type,name:"Environment",data:JSON.parse(t.response),texture:o,convertToBGRA:e._isIOS10}))}catch(t){e._onError(new Error("Cannot parse stereo mesh data"))}},onError:function(){return e._onError(new Error("Could not request stereo mesh data"))}})}else{var d=void 0,h=void 0;n===Qe.CONTENT_MODE_MONO_360?d=fe.SkyboxMaterial.LATLONG:n===Qe.CONTENT_MODE_MONO_180?d=fe.SkyboxMaterial.LATLONG_180:(h=n,d=fe.SkyboxMaterial.STEREOSCOPIC);var f=new re.Skybox({name:"Environment",gammaSpace:!0,flippedY:!1,textureMode:d,stereoFormat:h,texture:o,convertToBGRA:this._isIOS10,formatParams:this._content.formatParams});s.addChild(f)}this._content.roomFormat&&(0,Ue.createImageSkybox)(this.addActiveResource.bind(this),(0,c.default)({},this._content,{format:this._content.roomFormat}),"CinemaBackdrop",a).then(function(e){s.addChild(e)}).catch(function(t){O.Context.eventEmitter.emit(e,N.LoadingManager.EVENT_LOADING_END),e._onError(t)}),this._activeEnvironment=this.$scene.add(s),this._setupAudio(t),this.videoSizeChanged(this._content.width,this._content.height)}},{key:"_setupAudio",value:function(e){var n=this;if(this._foaAudioRenderer&&this._audioElementSource&&this._disableFoaRendering(this._foaAudioRenderer,this._audioElementSource),this._8BallAudioRenderer&&this._audioElementSource&&this._disable8BallRendering(this._8BallAudioRenderer,this._audioElementSource),this._bypassNode&&this._audioElementSource&&this._audioElementSource.disconnect(),e&&Qe.SPATIAL_AUDIO_FORMATS.has(e.audioFormat)){if(!this._audioContext){var i=window.AudioContext||window.webkitAudioContext;if(!i)throw new Error(this._translate("player.ambiUn"));this._audioContext=new i,this._audioElementSource=this._audioContext.createMediaElementSource(this._content.element)}e.audioFormat===Qe.AUDIO_FORMAT_AMBIX?t.Omnitone.then(function(e){n._foaAudioRenderer?n._enableFoaRendering(n._foaAudioRenderer,n._audioElementSource):(n._foaAudioRenderer=e.createFOARenderer(n._audioContext,{channelMap:n._isSafari?[2,0,1,3]:[0,1,2,3]}),n._foaAudioRenderer.initialize().then(function(){this._foaAudioRenderer.output.connect(this._audioContext.destination),this._enableFoaRendering(this._foaAudioRenderer,this._audioElementSource)}.bind(n)))}).catch(function(e){O.Context.logger.warn(n,"Ambisonics not supported: "+e),n._foaAudioRenderer=null}):e.audioFormat!==Qe.AUDIO_FORMAT_8BALL&&e.audioFormat!==Qe.AUDIO_FORMAT_8BALL_4CHANNELS||(this._8BallAudioRenderer||(this._8BallAudioRenderer=this._create8BallRenderer(this._audioContext,e.audioFormat),this._8BallAudioRenderer.output.connect(this._audioContext.destination)),this._set8BallChannels(this._8BallAudioRenderer,e.audioFormat),this._enable8BallRendering(this._8BallAudioRenderer,this._audioElementSource))}else this._audioElementSource&&this._audioContext&&(this._bypassNode||(this._bypassNode=this._audioContext.createGain(),this._bypassNode.connect(this._audioContext.destination)),this._audioElementSource.connect(this._bypassNode))}},{key:"_createIbrContent",value:function(){var e=this;if(this._content.format===Qe.CONTENT_MODE_LENS_BLUR_PHOTO){var t=new Re.LensBlurPhotoConverter;t.convert(this._content.src).then(function(t){e._addIbrContent(t.src,t.srcDepth,t.near,t.far)})}else{var n=0,i=0;this._content.nearFar&&2===this._content.nearFar.length&&(n=this._content.nearFar[0],i=this._content.nearFar[1]),this._addIbrContent(this._content.src,this._content.srcDepth,n,i)}}},{key:"_addIbrContent",value:function(e,t,n,i){var r=this.addActiveResource(new Se.Texture({type:Se.Texture.IMAGE,data:[e],generateMipmaps:!1})),a=void 0,o=void 0;t&&(a=new Se.Texture({type:Se.Texture.IMAGE,data:[t],generateMipmaps:!1}),n&&i&&(o=new X.Vector2(n,i)));var s=void 0;this._content.srcAlbedo&&(s=this.addActiveResource(new Se.Texture({type:Se.Texture.IMAGE,data:[this._content.srcAlbedo],generateMipmaps:!1})));var l=void 0;this._content.srcRoughness&&(l=this.addActiveResource(new Se.Texture({type:Se.Texture.IMAGE,data:[this._content.srcRoughness],generateMipmaps:!1})));var u=void 0;this._content.srcSpecular&&(u=this.addActiveResource(new Se.Texture({type:Se.Texture.IMAGE,data:[this._content.srcSpecular],generateMipmaps:!1})));var c=void 0;this._content.srcAo&&(c=this.addActiveResource(new Se.Texture({type:Se.Texture.IMAGE,data:[this._content.srcAo],generateMipmaps:!1})));var d=void 0;this._content.srcOpacity&&(d=this.addActiveResource(new Se.Texture({type:Se.Texture.IMAGE,data:[this._content.srcOpacity],generateMipmaps:!1})));var h=void 0;this._content.srcNormal&&(h=this.addActiveResource(new Se.Texture({type:Se.Texture.IMAGE,data:[this._content.srcNormal],generateMipmaps:!1}))),this._activeEnvironment=this.$scene.add(new oe.IBRNode({name:"Environment",irradiance:r,depthTexture:a,albedo:s,microsurface:l,specular:u,aoTexture:c,opacity:d,normalTexture:h,nearFar:o}))}},{key:"_removeAllCameraControllers",value:function(){var e=this.$scene.findByName(L.Application.DEFAULT_CAMERA_NAME);e.removeController(this._dragCameraController),e.removeController(this._parallaxCameraController),e.removeController(this._magicWindowCameraController),e.removeController(this._orbitCameraController),e.removeController(this._vrCameraController),e.removeController(this._vrOrbitCameraController)}},{key:"_setLoadingTransform",value:function(){this._loadingIndicator.transform.position=this._tmpVec.copyFrom(Y.Vector3.NEG_Z_AXIS).mult(.5)}},{key:"_createHud",value:function(e){this._hud=new Oe.Hud({forceHide:this._content.disable3DHud,player:this,customization:this._customization,camera:e,onActivateContent:this._activateContent}),this.$scene.add(this._hud)}},{key:"showContent",value:function(e,t){var n=this;e&&e.type!==Qe.CONTENT_TYPE_EXTERNAL&&O.Context.vrDeviceManager.state===Te.VRDeviceManager.STATE_ACTIVE?(this._fadeInAnimationController.animation.onFinish=function(i){n._fadeInAnimationController.animation.onFinish=null,i.removeController(n._fadeInAnimationController),n._loadingIndicator.visible=!0,n._showContent(e,t);var r=null,a=function(){clearTimeout(r),O.Context.eventEmitter.removeListener(N.LoadingManager.EVENT_INTERMEDIATE_LOADING_FINISHED,a),n._fadeOutAnimationController.animation.onPlay=function(){n._fadeOutAnimationController.animation.onPlay=null,n._loadingIndicator.visible=!1},n._fadeOutAnimationController.animation.onFinish=function(e){n._fadeOutAnimationController.animation.onFinish=null,e.removeController(n._fadeOutAnimationController)},n._blackLoadingQuad.removeController(n._fadeInAnimationController),n._blackLoadingQuad.addController(n._fadeOutAnimationController),a=null};r=setTimeout(a,45e3),O.Context.eventEmitter.on(N.LoadingManager.EVENT_INTERMEDIATE_LOADING_FINISHED,a)},this._blackLoadingQuad.removeController(this._fadeOutAnimationController),this._blackLoadingQuad.addController(this._fadeInAnimationController)):this._showContent(e,t)}},{key:"_showContent",value:function(e,t){if(this.saveHubActions(),this._content=e,this._teardownScene(),this._hideGamepadModels(),this._activeGamepad=null,void 0!==this._content){O.Context.degradationManager.reset(),this._setQuality(),this._minFocalLength=this._content.minFocalLength,this._maxFocalLength=this._content.maxFocalLength,this._focalLength=this._content.focalLength,this._dragControlsDamping=this._content.dragControlsDamping,this._captureWheelEvents=!this._content.disableScrollCapture,this._captureTouchEvents=!this._content.disableTouchCapture,this._captureMouseEvents=!this._content.disableMouseCapture,this._disableVerticalMouseDragging=this._content.disableVerticalMouseDragging,this._disableVerticalTouchDragging=this._content.disableVerticalTouchDragging,this._enableVerticalMagicWindowDragging=this._content.enableVerticalMagicWindowDragging;var n=this.$scene.findByName(L.Application.DEFAULT_CAMERA_NAME);this._setLoadingTransformOnNextUpdate=!0,e.type===Qe.CONTENT_TYPE_MODEL?n.toneMap=xe.PhysicalCamera.TONEMAP_FILMIC:n.toneMap=xe.PhysicalCamera.TONEMAP_SIMPLE,n.keepConstantMagnification=!!e.keepConstantMagnification,this._startOrientation=(new q.Quaternion).fromEuler(new Y.Vector3(J.MathUtil.degToRad(this._content.startLatitude),J.MathUtil.degToRad(-this._content.startLongitude),0)),this._cameraStartPosition.zero(),this._vrCameraController.startOrientation=this._startOrientation,this._magicWindowCameraController.startOrientation=this._startOrientation,this._dragCameraController.startDirection=new Y.Vector3(Y.Vector3.NEG_Z_AXIS).multQuaternion(this._startOrientation),this._parallaxCameraController.baseDirection=new Y.Vector3(Y.Vector3.NEG_Z_AXIS),this._content.type===Qe.CONTENT_TYPE_IBR?(this._content.parentIds.hubId&&this._createHud(n),this._createIbrContent()):this._content.type===Qe.CONTENT_TYPE_VIDEO?(this._content.format!==Qe.CONTENT_MODE_MONO_FLAT||this._content.dl8Cinema||t)&&(this._createHud(n),this._createVideoContent()):this._content.type===Qe.CONTENT_TYPE_IMAGE?(this._content.parentIds.hubId&&this._createHud(n),this._createImageContent()):this._content.type===Qe.CONTENT_TYPE_TOUR?(this._createHud(n),this._createTourContent()):this._content.type===Qe.CONTENT_TYPE_MODEL?(this._content.parentIds.hubId&&this._createHud(n),this._createModelContent()):this._content.type===Qe.CONTENT_TYPE_HUB&&(this._createHud(n),this._createHubContent()),this._activeEnvironment&&(this._activeEnvironment.transform.rotation=(new q.Quaternion).fromEuler(new Y.Vector3(J.MathUtil.degToRad(this._content.startLat),-J.MathUtil.degToRad(this._content.startLon),0))),this.resetPose(),this._content.type===Qe.CONTENT_TYPE_TOUR?this._vrCameraController.positionLock=!0:this._vrCameraController.positionLock=!1}}},{key:"enableVrControls",value:function(){if(this._content){var e=this.$scene.findByName("Environment");if(e){if(this._content.dl8Cinema){e.transform.position.x=this._content.screenXOffset,e.transform.position.y=this._content.screenYOffset,e.transform.position.z=-this._content.screenDistance;var t=this.$scene.findByName("CinemaBackdrop");t&&(t.visible=!0)}else this._content.isFlatVideo&&e.transform.position.set(0,0,-2);(this._content.isFlatVideo||this._content.dl8Cinema)&&(e.material.smoothBorder=!0)}var n=this.$scene.findByName(L.Application.DEFAULT_CAMERA_NAME);this._removeAllCameraControllers(),this._content.type!==Qe.CONTENT_TYPE_MODEL||O.Context.vrDeviceManager.hasPosition?n.addController(this._vrCameraController):n.addController(this._vrOrbitCameraController)}}},{key:"_adjustCinemaScreenPositionForFullscreen",value:function(){var e=this.$scene.findByName(L.Application.DEFAULT_CAMERA_NAME),t=this.$scene.findByName("Environment");if(t){var n=.5*t.transform.scale.x,i=.5*t.transform.scale.y,r=e.camera.frustum,a=r[Ce.Camera.DMIN],o=r[Ce.Camera.DMAX],s=r[Ce.Camera.RMAX],l=r[Ce.Camera.RMAX]/a*o,u=r[Ce.Camera.UMAX],c=r[Ce.Camera.UMAX]/a*o,d=(s-n)/(s-l),h=(u-i)/(u-c);d>h?t.transform.position.z=-J.MathUtil.interpolateLinear(d,a,o):t.transform.position.z=-J.MathUtil.interpolateLinear(h,a,o),t.transform.position.x=0,t.transform.position.y=0,t.material.smoothBorder=!1,this._resetZoom(),e.lookDirection(Y.Vector3.NEG_Z_AXIS);var f=this.$scene.findByName("CinemaBackdrop");f&&(f.visible=!1)}}},{key:"enableDragControls",value:function(){var e=this.$scene.findByName(L.Application.DEFAULT_CAMERA_NAME);this._removeAllCameraControllers(),this._content&&this._content.lockNonVrView?this._adjustCinemaScreenPositionForFullscreen():this._content&&this._content.type===Qe.CONTENT_TYPE_MODEL?e.addController(this._orbitCameraController):this._content&&this._content.type===Qe.CONTENT_TYPE_IBR?e.addController(this._parallaxCameraController):e.addController(this._dragCameraController),this._resetZoom()}},{key:"enableMagicWindowControls",value:function(){var e=this.$scene.findByName(L.Application.DEFAULT_CAMERA_NAME);this._removeAllCameraControllers(),this._content&&this._content.lockNonVrView?this._adjustCinemaScreenPositionForFullscreen():this._content&&this._content.type===Qe.CONTENT_TYPE_MODEL?e.addController(this._orbitCameraController):e.addController(this._magicWindowCameraController),this._resetZoom()}},{key:"seeked",value:function(){if(this._activeEnvironment){var e=this._activeEnvironment.firstChild;e&&(e.texture.enable(!0),e.texture.disable())}}},{key:"$initQuality",value:function(){this._setQuality()}},{key:"_setQuality",value:function(){this._content&&this._content.type===Qe.CONTENT_TYPE_MODEL?(O.Context.qualityManager.set("envBrdfLut",W.QualityManager.AUTOMATIC),O.Context.qualityManager.set("highPrecisionFloat",W.QualityManager.AUTOMATIC),O.Context.qualityManager.set("hdrEnabled",W.QualityManager.AUTOMATIC),O.Context.qualityManager.set("fxaaEnabled",W.QualityManager.AUTOMATIC),O.Context.qualityManager.set("grainEnabled",W.QualityManager.AUTOMATIC),O.Context.qualityManager.set("globalFramebufferScaleRatio",W.QualityManager.AUTOMATIC),O.Context.qualityManager.set("lensDirtEnabled",W.QualityManager.AUTOMATIC),O.Context.qualityManager.set("blurredRefractionsEnabled",W.QualityManager.MANUAL,!0)):(O.Context.qualityManager.set("envBrdfLut",W.QualityManager.MANUAL,!1),O.Context.qualityManager.set("highPrecisionFloat",W.QualityManager.MANUAL,!0),O.Context.qualityManager.set("hdrEnabled",W.QualityManager.MANUAL,!1),O.Context.qualityManager.set("fxaaEnabled",W.QualityManager.MANUAL,!1),O.Context.qualityManager.set("grainEnabled",W.QualityManager.MANUAL,!1),O.Context.qualityManager.set("globalFramebufferScaleRatio",W.QualityManager.MANUAL,1),O.Context.qualityManager.set("lensDirtEnabled",W.QualityManager.MANUAL,!1),O.Context.qualityManager.set("blurredRefractionsEnabled",W.QualityManager.MANUAL,!1)),O.Context.qualityManager.set("supersampleScale",W.QualityManager.MANUAL,1),O.Context.qualityManager.set("lensFlaresEnabled",W.QualityManager.MANUAL,!1),O.Context.qualityManager.set("vignettingEnabled",W.QualityManager.MANUAL,!1),O.Context.qualityManager.set("dynamicColorGradingEnabled",W.QualityManager.MANUAL,!1),O.Context.qualityManager.set("dofEnabled",W.QualityManager.MANUAL,!1),O.Context.qualityManager.set("lowEndDofEnabled",W.QualityManager.MANUAL,!1),O.Context.qualityManager.set("tiltShiftBlurEnabled",W.QualityManager.MANUAL,!1)}},{key:"$init",value:function(){(0,S.default)(t.prototype.__proto__||(0,m.default)(t.prototype),"$init",this).call(this),this.$scene.cullingEnabled=!1,O.Context.degradationManager.enabled=!0,this.$scene.setPassSortFunction(ee.Scene.RENDERPASS_UI_1,ee.Scene.makeSortSeries(function(e,t,n){return n.materialByPass[ee.Scene.RENDERPASS_UI_1].opaque-t.materialByPass[ee.Scene.RENDERPASS_UI_1].opaque},function(e,t,n){return t.sortPassData.zIndex-n.sortPassData.zIndex})),this._setupUI(),this._createLoadingIndicator(),this._setupCamera(),this._setupAnimationControllers(),this._setupEventDispatchers(),this._initializeGamepads()}},{key:"$update",value:function(e){var n=this;if((0,S.default)(t.prototype.__proto__||(0,m.default)(t.prototype),"$update",this).call(this,e),this._content){if(this._setLoadingTransformOnNextUpdate&&(this._setLoadingTransformOnNextUpdate=!1,this._setLoadingTransform()),this._connectedGamepads.size>0&&this._updateGamepadState(e),(this._isSafari||this.useIOSHack)&&this._adjustVideoForQualityChange(),this.useIOSHack){var i=this._content.element;void 0!==i&&(this._updateVideoIOS(e,i),i.buffered&&i.buffered.length>0&&Math.abs(i.buffered.end(0)-this._lastBufferPos)>1&&(this._lastBufferPos=i.buffered.end(0),this._onUpdateBuffering()))}var r=this.$scene.findByName(L.Application.DEFAULT_CAMERA_NAME);this._content.type===Qe.CONTENT_TYPE_VIDEO&&this._audioContext&&this._audioElementSource&&(this._foaRunning?(this._foaAudioRenderer.setRotationMatrix3(r.camera.viewMatrix.copyRotationMatrixToArray(this._tmpArray)),this._isSafari&&(this._foaAudioRenderer.output.gain.value=this._content.element.volume)):this._8BallRunning?(this._update8BallRotation(this._8BallAudioRenderer,this.cameraYawLeftHanded,e),this._isSafari&&(this._8BallAudioRenderer.output.gain.value=this._content.element.volume)):this._bypassNode&&this._isSafari&&(this._bypassNode.gain.value=this._content.element.volume)),r.dVector.equals(this._lastDVector)||(O.Context.eventEmitter.emit(this,t.EVENT_CAMERA_LOOK_AT_CHANGED),this._lastDVector.copyFrom(r.dVector)),this._hud&&(O.Context.vrDeviceManager.state!==Te.VRDeviceManager.STATE_ACTIVE?this._hud.pointerPosition=this._pointerPosition:this._hud.pointerPosition=t.CENTER_POINT),(this._trackingThrottleT+=e)>=t.MIN_THROTTLE_INTERVAL&&(0===this._cameraTrackingEvents.length?this._cameraTrackingEvents[0]=V.Util.performanceNow():this._cameraTrackingEvents.push(V.Util.performanceNow()-this._cameraTrackingEvents[0]),r.dVector.getAsArray().forEach(function(e){return n._cameraTrackingEvents.push(V.Util.enforcePrecision(e,5))}),this._cameraTrackingEvents.push(Math.round(this._content&&this._content.element&&this._content.type===Qe.CONTENT_TYPE_VIDEO?this._content.element.currentTime:0)),this._trackingThrottleT=0,this._cameraTrackingEvents.length/5>8&&(Le.TrackingManager.instance.addEvent(new Fe.TrackingEvent({type:Fe.TrackingEvent.VR_CAMERA,payload:{d:this._cameraTrackingEvents.slice()}})),this._cameraTrackingEvents.length=0))}}},{key:"_initializeGamepad",
value:function(e,n){var i=this;if(e){if(e.pose&&t._isGamepadModelSupported(e)){var r=this.$scene.findByName(e.id);if(!r){if(this._initialElbowPosition=new Y.Vector3,e.pose.position||this._initialElbowPosition.set("left"===e.hand?-.15:.15,-.36,0),this._activeGamepad){var a=this.$scene.findByName(this._activeGamepad.id);if(a){var o=a.findByName("pointer");o&&(o.visible=!1)}}var s=new le.Model({zIndex:9999,ui:!0,uri:this.$makeLocalPath(t.CONTROLLER_MODEL_PATHS.get(e.id))});s.addEventListener(j.Resource.LOADED,function(){i._activateGamepad(e)}),r=this.$scene.add(new ae.SpatialNode({children:[new ae.SpatialNode({name:e.id,transform:new he.Transform({position:new Y.Vector3(this._initialElbowPosition)}),children:[s],visible:!1})]})).firstChild,r.firstChild.addEventListener(j.Resource.LOADED,function(){r.firstChild.findByName("pointer").surfaceMaterial.emissive=new Z.ColorRGB(i._customization.primaryColor.hex())})}}this._connectedGamepads.set(e.id,{index:n,buttonState:new _.default}),this._onDisableGazeBasedInteraction(),Le.TrackingManager.instance.addEvent(new Fe.TrackingEvent({type:Fe.TrackingEvent.NEW_GAMEPAD,payload:{id:e.id,idx:e.index,buttonCount:e.buttons?e.buttons.length:0,axesCount:e.axes?e.axes.length:0,displayId:e.displayId,hand:e.hand,hasHapticActuators:e.hapticActuators&&e.hapticActuators.length>0,hasPosition:e.pose&&e.pose.hasPosition,hasOrientation:e.pose&&e.pose.hasOrientation}}))}}},{key:"_initializeGamepads",value:function(){var e=this;if("function"==typeof navigator.getGamepads){var t=navigator.getGamepads();t&&(0,l.default)(t).forEach(function(t,n){t&&e._initializeGamepad(t,n)})}}},{key:"_preventMouseUp",value:function(){var e=this;this._isSamsungInternet&&(this._preventMouseUpEvent=!0,this._preventMouseUpTimeout&&(clearTimeout(this._preventMouseUpTimeout),this._preventMouseUpTimeout=null),this._preventMouseUpTimeout=setTimeout(function(){e._preventMouseUpTimeout=null,e._preventMouseUpEvent=!1},250))}},{key:"_handleGamepadButtonPressed",value:function(e,t,n){t===this._activeGamepad&&(this._preventMouseUp(),this._hub&&this._hub.gamepadButtonPressed(e,t,n),0!==n&&1!==n||(this._startPointerPos.set(.5,.5),this._startPointerTime=V.Util.performanceNow(),this._hud&&this._hud.interact(.5,.5)),(4===n&&"Oculus Touch (Right)"===t.id&&t.connected===!0||4===n&&"Oculus Touch (Left)"===t.id&&t.connected===!0)&&this._onBackButton())}},{key:"_handleGamepadButtonUnpressed",value:function(e,t,n){t===this._activeGamepad&&(this._preventMouseUp(),this._hub&&this._hub.gamepadButtonUnpressed(e,t,n))}},{key:"_closeInfoHotspot",value:function(){if(this._activeInfoHotspot){var e=this.$scene.findByName(this._activeInfoHotspot);e&&e.children.length>=2&&(e.children[0].visible=!0,e.children[1].visible=!1),this._activeInfoHotspot=null}}},{key:"_updateGamepadState",value:function(e){var t=this,n=navigator.getGamepads(),i=[],r=void 0;if((0,l.default)(this._connectedGamepads.values()).forEach(function(e){var a=e.index;if(void 0!==n[a]){var o=n[a];if(o){var s=o.buttons,l=t._connectedGamepads.get(o.id);if(l||(t._initializeGamepad(o,o.index),l=t._connectedGamepads.get(o.id)),s.length>0&&l){s.forEach(function(e,n){l.buttonState.has(n)||l.buttonState.set(n,e.pressed),!l.buttonState.get(n)&&e.pressed?(l.buttonState.set(n,!0),r=o,i.push(function(){t._handleGamepadButtonPressed(e,o,n)})):l.buttonState.get(n)&&!e.pressed&&(l.buttonState.set(n,!1),i.push(function(){t._handleGamepadButtonUnpressed(e,o,n)}))});var u=o.pose;if(u){var c=t.$scene.findByName(o.id);if(c&&c.firstChild){var d=c.findByName("controller");if(d){t._fresnelOutlineMaterial||(t._fresnelOutlineMaterial=new _e.UnlitMaterial({ui:!0,writeDepth:!1,opaque:!1,color:new K.ColorRGBA("#fff"),useFresnelOutline:!0,fresnelOutlineStrength:.2}));var h=d.materialByPass;h[ee.Scene.RENDERPASS_FORWARD]=t._fresnelOutlineMaterial,h[ee.Scene.RENDERPASS_FORWARD_TRANSLUCENT]=t._fresnelOutlineMaterial,h[ee.Scene.RENDERPASS_UI_1]=t._fresnelOutlineMaterial}if(u.orientation&&!u.position){c.parent.transform.rotation=q.Quaternion.tmp(0).copyFrom(t._vrCameraController.offsetRotation).invert();var f=O.Context.vrDeviceManager.pose;if(f&&f.orientation){if(t._lastVROrientation){var _=(O.Context.vrDeviceManager.timestamp-t._lastVROrientationTimestamp)/1e3;if(_>J.MathUtil.ZERO_TOLERANCE){var p=void 0;p=f.angularVelocity?Y.Vector3.tmp(1).copyFromArray(f.angularVelocity).magnitude():q.Quaternion.tmp(1).copyFrom(t._lastVROrientation).invert().mult(q.Quaternion.tmp(0).copyFromArray(f.orientation)).toEuler(Y.Vector3.tmp(0)).mult(1/_).magnitude();var m=t.$scene.findByName(L.Application.DEFAULT_CAMERA_NAME),A=q.Quaternion.tmp(0).copyFrom(t._vrCameraController.offsetRotation).rotate(Y.Vector3.tmp(0).set(m.dVector.x,0,m.dVector.z)).normalize(),g=J.MathUtil.clamp((p-.2)/45,0,.1);Y.Vector3.slerp(t._torsoDirection,A,g,t._torsoDirection),c.transform.position=q.Quaternion.tmp(0).fromUnitVectors(Y.Vector3.tmp(0).copyFrom(Y.Vector3.NEG_Z_AXIS),t._torsoDirection).invert().rotate(Y.Vector3.tmp(0).copyFrom(t._initialElbowPosition))}}else t._lastVROrientation=new q.Quaternion;t._lastVROrientation.copyFromArray(f.orientation),t._lastVROrientationTimestamp=O.Context.vrDeviceManager.timestamp}c.firstChild.transform.rotation=c.firstChild.transform.rotation.copyFromArray(u.orientation).invert()}else c.firstChild.transform.rotation=c.firstChild.transform.rotation.copyFromArray(u.orientation).invert();u.position&&(c.firstChild.transform.position=c.firstChild.transform.position.copyFromArray(u.position))}}}t._activeGamepad||(r=o)}}}),this._activateGamepad(r),i.forEach(function(e){return e()}),this._activeGamepad){var a=this.$scene.findByName(this._activeGamepad.id);if(a){var o=a.findByName("ray_start"),s=a.findByName("ray_end");if(this._hud&&o&&s){var u=this._hud.customPickRay;u.origin=u.origin.copyFrom(o.worldTransform.position),u.direction=this._tmpVec.copyFrom(s.worldTransform.position).sub(u.origin).normalize(),this._hud.customPickRay=u}}}}},{key:"_activateGamepad",value:function(e){if(e&&this._activeGamepad!==e){if(this._activeGamepad){var n=this.$scene.findByName(this._activeGamepad.id);if(n){var i=n.findByName("pointer");i&&(i.visible=!1)}}this._activeGamepad=e;var r=this.$scene.findByName(e.id);if(r)if(t._isGamepadModelSupported(this._activeGamepad)){var a=r.findByName("pointer");a&&(a.visible=!0),this._hud?(r.visible=this._hud.isUiRootVisible||this._content.type===Qe.CONTENT_TYPE_TOUR||this._content.type===Qe.CONTENT_TYPE_HUB||this._content.type===Qe.CONTENT_TYPE_IMAGE,this._hud.useCustomPickRay=!0):r.visible=!0}else this._hud?(r.visible=!1,this._hud.useCustomPickRay=!1):r.visible=!1}}},{key:"_deactivateGamepad",value:function(){if(this._activeGamepad){var e=this.$scene.findByName(this._activeGamepad.id);e&&(e.visible=!1),this._hud&&(this._hud.useCustomPickRay=!1),this._activeGamepad=null}}},{key:"_handleMouseUp",value:function(e,t){this._endPointerPos.set(e,t),void 0===this._content||this._startPointerPos.distanceSquared(this._endPointerPos.set(e,t))>5e-4||V.Util.performanceNow()-this._startPointerTime>700||this._uiState.hudEnabled&&(O.Context.vrDeviceManager.state!==Te.VRDeviceManager.STATE_ACTIVE&&(this._uiState.settingsOpen?this._onCloseSettings():this._isMobile?this._onToggleHud():this._playOrPauseVideo()),this._deactivateGamepad(),this._hud&&(O.Context.vrDeviceManager.state===Te.VRDeviceManager.STATE_ACTIVE?this._hud.interact(.5,.5):!this._content||this._content.type!==Qe.CONTENT_TYPE_TOUR&&this._content.type!==Qe.CONTENT_TYPE_HUB||this._hud.interact(e,t)))}},{key:"_fadeInHud",value:function(){if(this._content&&this._content.type===Qe.CONTENT_TYPE_VIDEO){this._activeGamepad&&t._isGamepadModelSupported(this._activeGamepad)&&this._showGamepadModels();var e=this.$scene.findByName("Environment");e&&(e instanceof we.StereoMesh&&(e.mono=!0),e.material.vrMonoOverride=!0,e.removeController(this._hudFadeOutHalfAnimationController),e.removeController(this._hudFadeOutAnimationController),e.addController(this._hudFadeInAnimationController));var n=this.$scene.findByName("CinemaBackdrop");n&&(n.material.vrMonoOverride=!0,n.removeController(this._hudFadeOutHalfAnimationController),n.removeController(this._hudFadeOutAnimationController),n.addController(this._hudFadeInAnimationController))}}},{key:"_fadeOutHud",value:function(){if(this._content&&this._content.type===Qe.CONTENT_TYPE_VIDEO){this._activeGamepad&&t._isGamepadModelSupported(this._activeGamepad)&&this._content.type!==Qe.CONTENT_TYPE_TOUR&&this._content.type!==Qe.CONTENT_TYPE_HUB&&this._content.type!==Qe.CONTENT_TYPE_IMAGE&&this._hideGamepadModels();var e=this.$scene.findByName("Environment");e&&(e.material.vrMonoOverride=!1,e instanceof we.StereoMesh&&(e.mono=!1),e.removeController(this._hudFadeOutHalfAnimationController),e.removeController(this._hudFadeInAnimationController),e.addController(this._hudFadeOutAnimationController));var n=this.$scene.findByName("CinemaBackdrop");n&&(n.material.vrMonoOverride=!1,n.removeController(this._hudFadeOutHalfAnimationController),n.removeController(this._hudFadeInAnimationController),n.addController(this._hudFadeOutAnimationController))}}},{key:"_fadeOutHudHalf",value:function(){if(this._content&&this._content.type===Qe.CONTENT_TYPE_VIDEO){var e=this.$scene.findByName("Environment");e&&(e.removeController(this._hudFadeInAnimationController),e.removeController(this._hudFadeOutAnimationController),e.addController(this._hudFadeOutHalfAnimationController));var t=this.$scene.findByName("CinemaBackdrop");t&&(t.removeController(this._hudFadeInAnimationController),t.removeController(this._hudFadeOutAnimationController),t.addController(this._hudFadeOutHalfAnimationController))}}},{key:"_setupUI",value:function(){this._isMobile&&this._handleOrientationChange()}},{key:"_createLoadingIndicator",value:function(){this._blackLoadingQuad=this.$scene.add(new te.RenderableNode({name:"globalFullscreenBlendQuad",geometry:$.GeometryUtil.makeFullscreenQuad(),visible:!1,materialByPass:(0,o.default)({},ee.Scene.RENDERPASS_UI_1,new pe.UiMaterial({color:new K.ColorRGBA(0,0,0,1),opaque:!1,fullscreenQuad:!0,writeDepth:!1,readDepth:!1})),sortPassData:{zIndex:1}})),this._loadingIndicator=this.$scene.add(new ge.UiImage({name:"globalLoadingIndicator",width:.04,height:.04,src:Ye.default,flipY:!1,noHover:!0,animated:!0,animationAtlasWidth:4,animationAtlasHeight:4,visible:this._contentLoading,transform:new he.Transform({position:new Y.Vector3(0,0,-.2)}),controllers:[this._loadingController],zIndex:2}))}},{key:"_setupEventDispatchers",value:function(){var e=this;O.Context.documentEventDispatcher.addEventListener(B.MouseEvent.CONTEXT_MENU,this._handleMouseContextMenu),O.Context.windowEventDispatcher.addEventListener(B.GlobalEvent.ORIENTATION_CHANGE,this._handleOrientationChange),O.Context.eventEmitter.on(Te.VRDeviceManager.EVENT_VR_DEVICE_READY,this._onVrDeviceReady),O.Context.eventEmitter.on(Te.VRDeviceManager.EVENT_VR_DEVICE_ACTIVATED,this._onVrDeviceActivatedImpl),O.Context.eventEmitter.on(Te.VRDeviceManager.EVENT_VR_DEVICE_DEACTIVATED,this._onVrDeviceDeactivatedImpl),O.Context.eventEmitter.onAsync(Te.VRDeviceManager.EVENT_VR_DEVICE_MOUNTED,this._onVrDeviceMountedImpl),O.Context.eventEmitter.onAsync(Te.VRDeviceManager.EVENT_VR_DEVICE_UNMOUNTED,this._onVrDeviceUnmountedImpl),O.Context.eventEmitter.on(Pe.PhoneManager.EVENT_VR_PHONE_CHANGED,function(t){return e._onPhoneChanged(t.selectedPhone)}),O.Context.eventEmitter.on(xe.PhysicalCamera.EVENT_ASPECT_CHANGED,this._onAspectChangedEvent),O.Context.windowEventDispatcher.addEventListener(B.GamepadEvent.CONNECTED,this._handleGamepadConnect),O.Context.windowEventDispatcher.addEventListener(B.GamepadEvent.DISCONNECTED,this._handleGamepadDisconnect),O.Context.eventEmitter.on(Se.Texture.EVENT_MAX_TEXTURE_SIZE_TOO_LOW,function(t){throw new Error(""+e._translate("player.contentSizeP1")+t.width+", "+t.height+e._translate("player.contentSizeP2")+(t.isCubeMap?ie.Renderer.MAX_CUBEMAP_TEXTURE_SIZE:ie.Renderer.MAX_TEXTURE_SIZE)+e._translate("player.contentSizeP3")+(t.isCubeMap?ie.Renderer.MAX_CUBEMAP_TEXTURE_SIZE:ie.Renderer.MAX_TEXTURE_SIZE)+e._translate("player.contentSizeP4"))}),O.Context.eventEmitter.on(Se.Texture.EVENT_VIDEO_STREAM_EXCEPTION_CAUGHT,function(t){e._onError(t.videoStreamException)}),!this._isMobile||this._isSamsungInternet||this._isOculusBrowser?(O.Context.canvasEventDispatcher.addEventListener(B.MouseEvent.MOUSE_DOWN,function(t){e._pointerPosition.set(t.normX,t.normY),e._startPointerPos.set(t.normX,t.normY),e._startPointerTime=V.Util.performanceNow()}),O.Context.canvasEventDispatcher.addEventListener(B.MouseEvent.MOUSE_MOVE,function(t){e._pointerPosition.set(t.normX,t.normY)}),O.Context.canvasEventDispatcher.addEventListener(B.MouseEvent.MOUSE_UP,function(t){return e._preventMouseUpEvent?(e._preventMouseUpTimeout&&(clearTimeout(e._preventMouseUpTimeout),e._preventMouseUpTimeout=null),void(e._preventMouseUpEvent=!1)):void e._handleMouseUp(t.normX,t.normY)})):(O.Context.canvasEventDispatcher.addEventListener(B.TouchEvent.TOUCH_START,function(t){e._pointerPosition.set(t.normX,t.normY),e._startPointerPos.set(t.normX,t.normY),e._startPointerTime=V.Util.performanceNow()}),O.Context.canvasEventDispatcher.addEventListener(B.TouchEvent.TOUCH_MOVE,function(t){e._pointerPosition.set(t.normX,t.normY)}),O.Context.canvasEventDispatcher.addEventListener(B.TouchEvent.TOUCH_END,function(t){e._handleMouseUp(t.normX,t.normY)})),O.Context.eventEmitter.on(N.LoadingManager.EVENT_FIRST_LOADING_FINISHED,this._onFirstLoadFinished)}},{key:"_playOrPauseVideo",value:function(){this._content&&this._content.type!==Qe.CONTENT_TYPE_VIDEO||this.paused||(this._playing?this._onPause():this._onPlay())}},{key:"_setupCamera",value:function(){var e=this.$scene.findByName(L.Application.DEFAULT_CAMERA_NAME);e.shutterSpeed=1/120,e.ghostingThreshold=1,e.ghostingVisibility=.3,this._resetZoom(),this._vrCameraController=new U.VRCameraController({positionLock:!1}),this._vrOrbitCameraController=new H.VROrbitCameraController({radius:.6}),this._orbitCameraController=new G.OrbitCameraController({radiusFar:1,radiusNear:.5,useInnerEllipse:!0,autoRotate:!0,innerEllipseRadii:new Y.Vector3(.05,.05,.15),captureWheelEvents:this._captureWheelEvents,captureTouchEvents:this._captureTouchEvents,captureMouseEvents:this._captureMouseEvents}),this._dragCameraController=new F.FirstPersonCameraController({positionLock:!0,lockedVertically:this._isMobile&&this._disableVerticalTouchDragging||!this._isMobile&&this._disableVerticalMouseDragging,minFocalLength:this._minFocalLength,maxFocalLength:this._maxFocalLength,drag:this._dragControlsDamping,lookSensitivity:this._calcLookSensitivityFromDamping(this._dragControlsDamping),captureWheelEvents:this._captureWheelEvents,captureTouchEvents:this._captureTouchEvents,captureMouseEvents:this._captureMouseEvents}),this._magicWindowCameraController=new z.MagicWindowCameraController({touchAdjust:!0,lockedVertically:!this._enableVerticalMagicWindowDragging,minFocalLength:this._minFocalLength,maxFocalLength:this._maxFocalLength,captureTouchEvents:this._captureTouchEvents,captureMouseEvents:this._captureMouseEvents}),this._parallaxCameraController=new Q.ParallaxCameraController({range:.2,damping:.05,minFocalLength:this._minFocalLength,maxFocalLength:this._maxFocalLength,captureWheelEvents:this._captureWheelEvents,captureTouchEvents:this._captureTouchEvents,captureMouseEvents:this._captureMouseEvents})}},{key:"_resetZoom",value:function(){this._content&&this._content.type===Qe.CONTENT_TYPE_MODEL?this.$scene.findByName(L.Application.DEFAULT_CAMERA_NAME).focalLength=25:this.$scene.findByName(L.Application.DEFAULT_CAMERA_NAME).focalLength=this._focalLength}},{key:"_generateTourFadeInAnimation",value:function(e){var t=this,n=0,i=0;switch(e){case Qe.PROBE_TRANSITION_BLINK:n=.4,i=.5;break;case Qe.PROBE_TRANSITION_CROSSFADE:n=0,i=.9;break;case Qe.PROBE_TRANSITION_CROSSFADE_SLOW:n=0,i=2;break;case Qe.PROBE_TRANSITION_NONE:n=0,i=0}var r=new P.AnimationController({animation:new D.SequenceAnimation({children:[new k.DelayAnimation({duration:n}),new I.ClosureAnimation({easing:ne.Easing.easeInOutExpo,duration:i,closure:function(e,t){t.firstChild.material.opacity=e},onPlay:function(e){e.firstChild.material.opacity=0,e.firstChild.material.opaque=!1,e.visible=!0,t.$scene.findAllByPred(function(t){return t instanceof Be.Hotspot&&t.parent.parent.parent===e}).forEach(function(e){e.visible=!1})},onFinish:function(e){e.removeController(r),t.$scene.findAllByPred(function(t){return t instanceof Be.Hotspot&&t.parent.parent.parent===e}).forEach(function(e){e.visible=!0,e.fadeIn()})}})]})});return r}},{key:"_generateTourFadeOutAnimation",value:function(e){var t=this,n=0,i=0;switch(e){case Qe.PROBE_TRANSITION_BLINK:n=.4,i=.2;break;case Qe.PROBE_TRANSITION_CROSSFADE:n=.4,i=.9;break;case Qe.PROBE_TRANSITION_CROSSFADE_SLOW:n=.4,i=2;break;case Qe.PROBE_TRANSITION_NONE:n=0,i=0}var r=new P.AnimationController({animation:new D.SequenceAnimation({children:[new k.DelayAnimation({duration:n}),new I.ClosureAnimation({easing:ne.Easing.easeInOutExpo,duration:i,closure:function(e,t){t.firstChild.material.opacity=1-e},onPlay:function(e){e.visible=!0,e.firstChild.material.opacity=1,e.firstChild.material.opaque=!1,t.$scene.findAllByPred(function(t){return t instanceof Be.Hotspot&&t.parent.parent.parent===e}).forEach(function(e){e.fadeAway()})},onFinish:function(e){e.visible=!1,e.removeController(r)}})]})});return r}},{key:"_setupAnimationControllers",value:function(){var e=this;this._hudFadeOutAnimationController=new P.AnimationController({animation:new I.ClosureAnimation({easing:ne.Easing.easeInOutExpo,duration:.5,closure:function(e,t,n){t.color.r=J.MathUtil.interpolate(e,ne.Easing.linearTween,n.auxData.initialColor.r,1),t.color.g=J.MathUtil.interpolate(e,ne.Easing.linearTween,n.auxData.initialColor.g,1),t.color.b=J.MathUtil.interpolate(e,ne.Easing.linearTween,n.auxData.initialColor.b,1)},onPlay:function(e,t){t.auxData.initialColor=new K.ColorRGBA(e.color)},onFinish:function(t){t.removeController(e._hudFadeOutAnimationController)},onCancel:function(t){t.removeController(e._hudFadeOutAnimationController)}})}),this._hudFadeOutHalfAnimationController=new P.AnimationController({animation:new I.ClosureAnimation({easing:ne.Easing.easeInOutExpo,duration:.5,closure:function(t,n,i){n.color.r=J.MathUtil.interpolate(t,ne.Easing.linearTween,i.auxData.initialColor.r,e._customizationSecondaryColorMultHalf.r),n.color.g=J.MathUtil.interpolate(t,ne.Easing.linearTween,i.auxData.initialColor.g,e._customizationSecondaryColorMultHalf.g),n.color.b=J.MathUtil.interpolate(t,ne.Easing.linearTween,i.auxData.initialColor.b,e._customizationSecondaryColorMultHalf.b)},onPlay:function(e,t){t.auxData.initialColor=new K.ColorRGBA(e.color)},onFinish:function(t){t.removeController(e._hudFadeOutHalfAnimationController)},onCancel:function(t){t.removeController(e._hudFadeOutHalfAnimationController)}})}),this._hudFadeInAnimationController=new P.AnimationController({animation:new I.ClosureAnimation({easing:ne.Easing.easeInOutExpo,duration:.5,closure:function(t,n,i){n.color.r=J.MathUtil.interpolate(t,ne.Easing.linearTween,i.auxData.initialColor.r,e._customizationSecondaryColorMult.r),n.color.g=J.MathUtil.interpolate(t,ne.Easing.linearTween,i.auxData.initialColor.g,e._customizationSecondaryColorMult.g),n.color.b=J.MathUtil.interpolate(t,ne.Easing.linearTween,i.auxData.initialColor.b,e._customizationSecondaryColorMult.b)},onPlay:function(e,t){t.auxData.initialColor=new K.ColorRGBA(e.color)},onFinish:function(t){t.removeController(e._hudFadeInAnimationController)},onCancel:function(t){t.removeController(e._hudFadeInAnimationController)}})}),this._fadeInAnimationController=new P.AnimationController({animation:new I.ClosureAnimation({easing:ne.Easing.easeInOutExpo,duration:.25,closure:function(e,t,n){t.materialByPass[ee.Scene.RENDERPASS_UI_1].opacity=J.MathUtil.interpolate(e,ne.Easing.linearTween,n.auxData.initialOpacity,1)},onPlay:function(e,t){e.visible=!0,t.auxData.initialOpacity=e.materialByPass[ee.Scene.RENDERPASS_UI_1].opacity},onCancel:function(t){t.visible=!1,t.removeController(e._fadeInAnimationController)}})}),this._fadeOutAnimationController=new P.AnimationController({animation:new D.SequenceAnimation({children:[new k.DelayAnimation({duration:.6}),new I.ClosureAnimation({easing:ne.Easing.easeInOutExpo,duration:.5,closure:function(e,t,n){t.materialByPass[ee.Scene.RENDERPASS_UI_1].opacity=J.MathUtil.interpolate(e,ne.Easing.linearTween,n.auxData.initialOpacity,0)},onPlay:function(e,t){t.auxData.initialOpacity=e.materialByPass[ee.Scene.RENDERPASS_UI_1].opacity},onFinish:function(e){e.visible=!1},onCancel:function(t){t.visible=!1,t.removeController(e._fadeOutAnimationController)}})]})})}},{key:"_adjustVideoForQualityChange",value:function(){var e=this._content.element;void 0!==e&&null!==this._qualityChangeTargetTime&&(e.currentTime<this._qualityChangeTargetTime-1||e.currentTime>this._qualityChangeTargetTime+1?e.currentTime=this._qualityChangeTargetTime:this._qualityChangeTargetTime=null)}},{key:"_updateVideoIOS",value:function(e,t){var n=this,i=this._iOSAudioEmulationElement;if(t.webkitDisplayingFullscreen&&t.webkitExitFullscreen(),!this._seeking&&this._content.seeking)try{i.currentTime=t.currentTime,i.pause(),this._seeking=!0}catch(e){}if(this._playing){this._iOSAudioElementLoaded&&(this._curT+=e);var r=this._content.sources.find(function(e){return e.src===n._content.element.currentSrc}),a=r?r.fps||this._content.fps:this._content.fps;if(this._curT>=1/a)if(t.buffered&&t.buffered.length>0&&Math.min(t.duration,t.currentTime+this._curT)<=t.buffered.end(0)){this._iOSAudioElementLoaded&&(t.currentTime=t.currentTime+this._curT),this._curT=0,i&&i.paused&&i.play();var o=Math.floor(t.currentTime),s=Math.floor(i.currentTime);(s<o-1||s>o+1)&&(this._seeking=!1,i.currentTime=t.currentTime)}else i.pause()}else i&&!i.paused&&i.pause();var l=Math.round(1e4*parseFloat(t.currentTime))/1e4,u=Math.round(1e4*parseFloat(t.duration))/1e4;l>=u&&(this._content.loop||(this._onEnd(),i&&i.pause()),t.currentTime=0,i&&(i.currentTime=0),this._curT=0)}},{key:"_calcLookSensitivityFromDamping",value:function(e){return J.MathUtil.interpolateLinear((e-.025)/.175,1.5,.7)}},{key:"contentLoading",set:function(e){this._contentLoading=e}},{key:"blackLoadingQuadVisible",get:function(){return this._blackLoadingQuad.visible}},{key:"uiState",get:function(){return this._uiState},set:function(e){this._uiState=e}},{key:"hmd",set:function(e){O.Context.eventEmitter.emit(Ie.ViewerLibrary.get(e),Me.CardboardViewer.EVENT_VR_VIEWER_CHANGED)}},{key:"phone",set:function(e){null!==O.Context.phoneManager&&(O.Context.phoneManager.selectedPhone=e)}},{key:"useIOSHack",get:function(){return this._useIOSHack}},{key:"roomScaleStanding",set:function(e){e!==O.Context.vrDeviceManager.standing&&(O.Context.vrDeviceManager.standing=e,this._updateObjectsForRoomscale())}},{key:"useGazeBasedInteraction",set:function(e){this._hud&&(this._hud.useGazeBasedInteraction=e)}},{key:"ended",set:function(e){this._content&&this._content.type===Qe.CONTENT_TYPE_VIDEO&&e&&O.Context.vrDeviceManager.state===Te.VRDeviceManager.STATE_ACTIVE&&this._hud&&this._hud.show()}},{key:"content",set:function(e){this._content=e,this._hub&&(this._hub.content=e)},get:function(){return this._content}},{key:"cameraYaw",get:function(){var e=this.$scene.findByName(L.Application.DEFAULT_CAMERA_NAME);return e?Math.atan2(e.dVector.x,-e.dVector.z):0}},{key:"cameraYawLeftHanded",get:function(){var e=this.$scene.findByName(L.Application.DEFAULT_CAMERA_NAME);return e?Math.atan2(e.dVector.x,e.dVector.z):0}},{key:"playing",get:function(){return this._playing},set:function(e){this._playing=e,this._iOSAudioEmulationElement&&(this._playing?this._iOSAudioEmulationElement.play():this._iOSAudioEmulationElement.pause())}}]),t}((0,Ge.default)(L.Application,ke.ResourceTracker));ct.EVENT_CAMERA_LOOK_AT_CHANGED="EVENT_CAMERA_LOOK_AT_CHANGED",ct.MIN_THROTTLE_INTERVAL=.3,ct.GEAR_VR_CONTROLLER_ID="Gear VR Controller",ct.DAYDREAM_CONTROLLER_ID="Daydream Controller",ct.GO_CONTROLLER_ID="Oculus Go Controller",ct.QUEST_CONTROLLER_LEFT_ID="Oculus Touch (Left)",ct.QUEST_CONTROLLER_RIGHT_ID="Oculus Touch (Right)",ct.CONTROLLER_MODEL_PATHS=new _.default([[ct.GEAR_VR_CONTROLLER_ID,"models/gearvr_controller/gearvr_controller.json"],[ct.DAYDREAM_CONTROLLER_ID,"models/daydream_controller/daydream_controller.json"],[ct.GO_CONTROLLER_ID,"models/go_controller/go_controller.json"],[ct.QUEST_CONTROLLER_LEFT_ID,"models/quest_l_controller/quest_l.json"],[ct.QUEST_CONTROLLER_RIGHT_ID,"models/quest_r_controller/quest_r.json"]]),ct.CENTER_POINT=new X.Vector2(.5,.5),t.default=ct},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Animation=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(13),p=n(7),m=n(9);t.Animation=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._playing=!1,n._finished=!1,n._auxData=p.Util.getParam(e,"auxData",{}),n._loop=p.Util.getParam(e,"loop",!1),n._duration=0,n._t=0,n._interpolation=0,n._easing=function(e){return e},n._onPlay=p.Util.getParam(e,"onPlay"),n._onFinish=p.Util.getParam(e,"onFinish"),n._onProgress=p.Util.getParam(e,"onProgress"),n._onCancel=p.Util.getParam(e,"onCancel"),n._parent=null,n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"Animation",params:{loop:this._loop}}}}]),(0,d.default)(t,[{key:"updateDuration",value:function(){this._parent&&this._parent.onChildDurationChanged()}},{key:"play",value:function(e){this._t=0,this._interpolation=this._easing(this._t,0,1,1),this._playing=!0,this._finished=!1,this._onPlay&&this._onPlay(e,this),this.evaluate(e,this)}},{key:"cancel",value:function(e){this._playing=!1,this._onCancel&&this._onCancel(e,this)}},{key:"finish",value:function(e){this._loop||(this._playing=!1,this._finished=!0),this._onFinish&&this._onFinish(e,this),this._loop&&this.play(e)}},{key:"evaluate",value:function(){}},{key:"update",value:function(e,t){this._t+=e,this._interpolation=this._easing(this._t/this._duration,0,1,1),this._onProgress&&this._onProgress(this._interpolation,t);var n=this._t>=this._duration;n&&(this._t=this._duration,this._interpolation=1),this.evaluate(t,this),n&&this.finish(t)}},{key:"start",value:function(){m.Context.animationManager.playAnimation(this)}},{key:"auxData",get:function(){return this._auxData}},{key:"interpolation",get:function(){return this._interpolation}},{key:"duration",set:function(e){this._duration=e,this.updateDuration()},get:function(){return this._duration}},{key:"playing",get:function(){return this._playing}},{key:"finished",get:function(){return this._finished}},{key:"loop",get:function(){return this._loop},set:function(e){this._loop=e}},{key:"easing",get:function(){return this._easing},set:function(e){this._easing=e}},{key:"onPlay",get:function(){return this._onPlay},set:function(e){this._onPlay=e}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e}},{key:"onFinish",get:function(){return this._onFinish},set:function(e){this._onFinish=e}},{key:"onProgress",get:function(){return this._onProgress},set:function(e){this._onProgress=e}},{key:"onCancel",get:function(){return this._onCancel},set:function(e){this._onCancel=e}}]),t}(_.Serializable)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAnimation=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(115),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(7),A=n(299);t.BaseAnimation=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.duration=m.Util.getParamRequired(e,"duration"),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"BaseAnimation",params:{duration:this.duration}}}}]),(0,f.default)(t,[{key:"duration",set:function(e){(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"duration",e,this)}}]),t}(A.Animation)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.StandardMaterial=void 0;var r=n(31),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(5),d=i(c),h=n(115),f=i(h),_=n(8),p=i(_),m=n(2),A=i(m),g=n(4),v=i(g),y=n(109),b=n(63),E=n(42),w=n(48),S=n(7),T=n(9),x=n(24),C=n(110),M=n(54),P=n(27),I=t.StandardMaterial=function(e){function t(e){(0,u.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n._albedo=S.Util.getParam(e,"albedo",new w.ColorRGB(.5,.5,.5)),n._useMetallicWorkflow=S.Util.getParam(e,"useMetallicWorkflow",!1),n._useMetallicWorkflow?n._metallic=S.Util.getParam(e,"metallic",0):n._specular=S.Util.getParam(e,"specular",new w.ColorRGB(50/255,50/255,50/255)),n._microsurface=S.Util.getParam(e,"microsurface",.2),n._emissive=S.Util.getParam(e,"emissive"),n._irradiance=S.Util.getParam(e,"irradiance"),n._irradianceBoost=S.Util.getParam(e,"irradianceBoost",1),n._clearcoat=S.Util.getParam(e,"clearcoat",0),n._clearcoatRoughness=S.Util.getParam(e,"clearcoatRoughness",0),n._refractionRoughness=S.Util.getParam(e,"refractionRoughness",0),n._albedoInputLinear=S.Util.getParam(e,"albedoInputLinear",!1),n._specularInputLinear=S.Util.getParam(e,"specularInputLinear",!1),n._emissiveInputLinear=S.Util.getParam(e,"emissiveInputLinear",!1),n._irradianceInputLinear=S.Util.getParam(e,"irradianceInputLinear",!1),n._wetness=S.Util.getParam(e,"wetness",0),n._anisotropy=S.Util.getParam(e,"anisotropy",0),n._opacity=S.Util.getParam(e,"opacity",1),n._useFresnelOpacity=S.Util.getParam(e,"useFresnelOpacity",!0),n._emissiveStrength=S.Util.getParam(e,"emissiveStrength",1),n._normalTexture=S.Util.getParam(e,"normalTexture"),n._bentNormalTexture=S.Util.getParam(e,"bentNormalTexture"),n._aoTexture=S.Util.getParam(e,"aoTexture"),n._aoEnabled=S.Util.getParam(e,"aoEnabled",!0),n._microsurfaceWorkflow=S.Util.getParam(e,"microsurfaceWorkflow",t.ROUGHNESS_WORKFLOW),n._usePerVertexNormal=S.Util.getParam(e,"usePerVertexNormal",!1),n._usePerVertexTangentSpace=S.Util.getParam(e,"usePerVertexTangentSpace",!1),n._useNormalMicrosurfacePacking=S.Util.getParam(e,"useNormalMicrosurfacePacking",!1),n._useAoWetnessPacking=S.Util.getParam(e,"useAoWetnessPacking",!1),n._useReflectanceAnisotropyPacking=S.Util.getParam(e,"useReflectanceAnisotropyPacking",!1),n._irradianceIncludingAlbedo=S.Util.getParam(e,"irradianceIncludingAlbedo",!0),n._applyAoOnIrradiance=S.Util.getParam(e,"applyAoOnIrradiance",!1),n._useNormalSwizzling=S.Util.getParam(e,"useNormalSwizzling",!1),n._normalMapStrength=S.Util.getParam(e,"normalMapStrength",1),n._aoBlend=S.Util.getParam(e,"aoBlend",t.AO_BLEND_NORMAL),n._bakedMapsUse2ndUV=S.Util.getParam(e,"bakedMapsUse2ndUV",!1),n._irradianceReplacesDiffuseIbl=S.Util.getParam(e,"irradianceReplacesDiffuseIbl",!0),n._uvBasedRadialOpacity=S.Util.getParam(e,"uvBasedRadialOpacity",!1),n._texCoordOffset=S.Util.getParam(e,"texCoordOffset"),n._environmentRefractionNormalTexture=S.Util.getParam(e,"environmentRefractionNormalTexture"),n._environmentRefractionDepthTexture=S.Util.getParam(e,"environmentRefractionDepthTexture"),n._environmentRefractionTransform=S.Util.getParam(e,"environmentRefractionTransform",new P.Transform),n._environmentRefractionNearFar=S.Util.getParam(e,"environmentRefractionNearFar",new E.Vector2(.001,2)),n._environmentRefractionDispersion=S.Util.getParam(e,"environmentRefractionDispersion",!1),n._hasIbl=!1,n._iblNode=null,n}return(0,v.default)(t,e),(0,A.default)(t,[{key:"$serialize",value:function(){return{name:"StandardMaterial",params:{albedo:this._albedo,useMetallicWorkflow:this._useMetallicWorkflow,metallic:this._metallic,specular:this._specular,microsurface:this._microsurface,emissive:this._emissive,irradiance:this._irradiance,irradianceBoost:this._irradianceBoost,clearcoat:this._clearcoat,clearcoatRoughness:this._clearcoatRoughness,refractionRoughness:this._refractionRoughness,
albedoInputLinear:this._albedoInputLinear,specularInputLinear:this._specularInputLinear,emissiveInputLinear:this._emissiveInputLinear,irradianceInputLinear:this._irradianceInputLinear,wetness:this._wetness,anisotropy:this._anisotropy,opacity:this._opacity,useFresnelOpacity:this._useFresnelOpacity,emissiveStrength:this._emissiveStrength,normalTexture:this._normalTexture,bentNormalTexture:this._bentNormalTexture,aoTexture:this._aoTexture,aoEnabled:this._aoEnabled,microsurfaceWorkflow:this._microsurfaceWorkflow,usePerVertexNormal:this._usePerVertexNormal,usePerVertexTangentSpace:this._usePerVertexTangentSpace,useNormalMicrosurfacePacking:this._useNormalMicrosurfacePacking,useAoWetnessPacking:this._useAoWetnessPacking,useReflectanceAnisotropyPacking:this._useReflectanceAnisotropyPacking,irradianceIncludingAlbedo:this._irradianceIncludingAlbedo,applyAoOnIrradiance:this._applyAoOnIrradiance,useNormalSwizzling:this._useNormalSwizzling,normalMapStrength:this._normalMapStrength,aoBlend:this._aoBlend,bakedMapsUse2ndUV:this._bakedMapsUse2ndUV,irradianceReplacesDiffuseIbl:this._irradianceReplacesDiffuseIbl,uvBasedRadialOpacity:this._uvBasedRadialOpacity,texCoordOffset:this._texCoordOffset,environmentRefractionNormalTexture:this._environmentRefractionNormalTexture,environmentRefractionDepthTexture:this._environmentRefractionDepthTexture,environmentRefractionTransform:this._environmentRefractionTransform,environmentRefractionNearFar:this._environmentRefractionNearFar,environmentRefractionDispersion:this._environmentRefractionDispersion}}}}]),(0,A.default)(t,[{key:"$getConstructorParams",value:function(){return S.Util.merge((0,p.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"$getConstructorParams",this).call(this),{albedo:this._albedo,useMetallicWorkflow:this._useMetallicWorkflow,metallic:this._metallic,specular:this._specular,microsurface:this._microsurface,emissive:this._emissive,irradiance:this._irradiance,irradianceBoost:this._irradianceBoost,clearcoat:this._clearcoat,clearcoatRoughness:this._clearcoatRoughness,refractionRoughness:this._refractionRoughness,albedoInputLinear:this._albedoInputLinear,specularInputLinear:this._specularInputLinear,emissiveInputLinear:this._emissiveInputLinear,irradianceInputLinear:this._irradianceInputLinear,wetness:this._wetness,anisotropy:this._anisotropy,opacity:this._opacity,useFresnelOpacity:this._useFresnelOpacity,emissiveStrength:this._emissiveStrength,normalTexture:this._normalTexture,bentNormalTexture:this._bentNormalTexture,aoTexture:this._aoTexture,microsurfaceWorkflow:this._microsurfaceWorkflow,usePerVertexNormal:this._usePerVertexNormal,usePerVertexTangentSpace:this._usePerVertexTangentSpace,useNormalMicrosurfacePacking:this._useNormalMicrosurfacePacking,useAoWetnessPacking:this._useAoWetnessPacking,useReflectanceAnisotropyPacking:this._useReflectanceAnisotropyPacking,irradianceIncludingAlbedo:this._irradianceIncludingAlbedo,applyAoOnIrradiance:this._applyAoOnIrradiance,useNormalSwizzling:this._useNormalSwizzling,normalMapStrength:this._normalMapStrength,aoBlend:this._aoBlend,bakedMapsUse2ndUV:this._bakedMapsUse2ndUV,irradianceReplacesDiffuseIbl:this._irradianceReplacesDiffuseIbl,uvBasedRadialOpacity:this._uvBasedRadialOpacity,texCoordOffset:this._texCoordOffset,environmentRefractionNormalTexture:this._environmentRefractionNormalTexture,environmentRefractionDepthTexture:this._environmentRefractionDepthTexture,environmentRefractionTransform:this._environmentRefractionTransform,environmentRefractionNearFar:this._environmentRefractionNearFar,environmentRefractionDispersion:this._environmentRefractionDispersion})}},{key:"clone",value:function(){return new t(this.$getConstructorParams())}},{key:"_setupEvents",value:function(e){(0,p.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"_setupEvents",this).call(this,e),T.Context.eventEmitter.on(M.PhysicalCamera.EVENT_CAMERA_PROJECTION_CHANGED,this._updateProjectionInEffect.bind(this,e)),T.Context.eventEmitter.on(y.RenderSystem.EVENT_BRDF_TEXTURE_RENDERED,this._updateBrdfTextureInEffect.bind(this,e)),T.Context.eventEmitter.on(C.IBLNode.EVENT_IBL_NODE_CHANGED,this._updateIBLNodeInEffect.bind(this,e)),T.Context.eventEmitter.on(y.RenderSystem.EVENT_REFRACTIVE_PARAMS_CHANGED,this._updateRefractiveTexturesInEffect.bind(this,e)),T.Context.eventEmitter.on(y.RenderSystem.EVENT_SSAO_PARAMS_CHANGED,this._updateSsaoInEffect.bind(this,e)),T.Context.eventEmitter.on(y.RenderSystem.EVENT_SHADOW_PARAMS_CHANGED,this._updateShadowsInEffect.bind(this,e)),T.Context.eventEmitter.on(y.RenderSystem.EVENT_ENV_MAP_RENDER_ENABLE,this._envMapRenderEnable.bind(this,e)),T.Context.eventEmitter.on(y.RenderSystem.EVENT_ENV_MAP_RENDER_DISABLE,this._envMapRenderDisable.bind(this,e))}},{key:"_configureEffect",value:function(e){(0,p.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"_configureEffect",this).call(this,e),e.setLitEnabled(!0),this._updateAlbedoInEffect(e),this._updateSpecularInEffect(e),this._updateMetallicInEffect(e),this._updateMicrosurfaceInEffect(e),this._updateEmissiveInEffect(e),this._updateOpacityInEffect(e),this._updateIrradianceInEffect(e),this._updateNormalInEffect(e),this._updateAoInEffect(e),this._updateRefractiveInEffect(e),this._updateWetnessInEffect(e),this._updateClearcoatInEffect(e),this._updateAnisotropyInEffect(e),this._updateBentNormalInEffect(e),this._updateTexCoordsInEffect(e),this._updateEnvironmentRefractionInEffect(e),T.Context.eventEmitter.notify(y.RenderSystem.EVENT_REFRACTIVE_PARAMS_CHANGED,this._updateRefractiveTexturesInEffect.bind(this,e))}},{key:"_envMapRenderEnable",value:function(){}},{key:"_envMapRenderDisable",value:function(){}},{key:"_updateProjectionInEffect",value:function(e,t){e&&(e.params.projection=t.projection)}},{key:"_updateIBLNodeInEffect",value:function(e,t){if(T.Context.qualityManager.quality.iblEnabled&&this._iblNode===t){if(void 0===t)return e.setAmbientIBLEnabled(!1),void(this._hasIbl=!1);if(e&&e.isConfigurable){if(this._hasIbl=!0,e.setAmbientIBLEnabled(!0),e.textures.radianceTexture=this._iblNode.radianceTexture,e.textures.irradianceProbeTexture=this._iblNode.irradianceTexture,e.setEnvBrdfLutEnabled(!!T.Context.qualityManager.quality.envBrdfLut&&!!e.textures.brdfTexture),e.params.texelSizeHalf=this._iblNode.radianceTexelSizeHalf,e.setParallaxCorrectionEnabled(this._iblNode.localizedEnvironment),this._iblNode.localizedEnvironment&&(e.params.localizedEnvironmentOffset=this._iblNode.localizedEnvironmentOffset,e.params.localizedEnvironmentMin=this._iblNode.localizedEnvironmentMin,e.params.localizedEnvironmentMax=this._iblNode.localizedEnvironmentMax),e.setEnvRotationEnabled(this._iblNode.rotationEnabled),(this._iblNode.rotationEnabled||this._iblNode.localizedEnvironment)&&(e.params.localizedEnvironmentInverseMatrix=this._iblNode.localizedEnvironmentInverseMatrix),this._irradianceReplacesDiffuseIbl?e.setAmbientDiffuseProbeTextureEnabled(!(this._irradiance instanceof x.Texture)):e.setAmbientDiffuseProbeTextureEnabled(!0),e.setSpecularPowerIblLookupEnabled(this._iblNode.specularPowerLookup),e.params.iblConvData=[Math.floor(Math.log(this._iblNode.radianceTextureWidth)/Math.log(2))+1,this._iblNode.mipOffset,this._iblNode.mipUserScale],e.params.radianceMipLevels=S.Util.getMipCount(this._iblNode.radianceTextureWidth)-3,this._iblNode.radianceTexture.isRgbm&&(e.params.rgbmRadianceProbeMaxRange=this._iblNode.radianceTexture.rgbmFactor,e.setRgbmRadianceProbeInputEnabled(!0)),this._iblNode.irradianceTexture.isRgbm&&(e.params.rgbmIrradianceProbeMaxRange=this._iblNode.irradianceTexture.rgbmFactor,e.setRgbmIrradianceProbeInputEnabled(!0)),this._iblNode.type===C.IBLNode.CUBE)e.setCubemapFormatEnabled(!0);else{if(this._iblNode.type!==C.IBLNode.LAT_LONG)throw new Error("invalid iblnode format selected. only cube and latlong are supported");e.setLatlongFormatEnabled(!0)}e.setEnvHasMipmapsEnabled(!0)}}}},{key:"_updateBrdfTextureInEffect",value:function(e,t){e&&T.Context.qualityManager.quality.envBrdfLut&&(e.setEnvBrdfLutEnabled(!0),e.textures.brdfTexture=t.brdfTexture)}},{key:"_updateAlbedoInEffect",value:function(e){if(e&&e.isConfigurable){var t=this._albedo;if(void 0!==t)if(t instanceof x.Texture)this.opaque?e.setDiffuseTextureEnabled(!0):e.setDiffuseTextureWithAlphaEnabled(!0),e.setGammaSpaceEnabled(!this._albedoInputLinear),t.isRgbm?(e.params.rgbmDiffuseMaxRange=t.rgbmFactor,e.setRgbmDiffuseInputEnabled(!0)):e.setRgbmDiffuseInputEnabled(!1),e.textures.diffuseTexture=t;else{if(!(t instanceof w.ColorRGB))throw new Error("incompatible type for albedo specified. Type was: "+("undefined"==typeof t?"undefined":(0,a.default)(t)));e.setDiffuseColorEnabled(!0),e.setGammaSpaceEnabled(!this._albedoInputLinear),e.params.diffuseColor=t}else e.setDiffuseColorEnabled(!1),e.setDiffuseTextureEnabled(!1),e.setDiffuseTextureWithAlphaEnabled(!1)}}},{key:"_updateMetallicInEffect",value:function(e){if(e&&e.isConfigurable){var t=this._metallic;void 0!==t?t instanceof x.Texture?(e.setMetallicTextureEnabled(!0),e.textures.metallicTexture=t):isFinite(t)&&(e.setMetallicValueEnabled(!0),e.params.metallicValue=t):(e.setMetallicTextureEnabled(!1),e.setMetallicValueEnabled(!1))}}},{key:"_updateSpecularInEffect",value:function(e){if(e&&e.isConfigurable){var t=this._specular;void 0!==t?t instanceof x.Texture?(e.setSpecularTextureEnabled(!0),e.setGammaSpaceSpecularEnabled(!this._specularInputLinear),e.textures.specularTexture=t):t instanceof w.ColorRGB&&(e.setGammaSpaceSpecularEnabled(!this._specularInputLinear),e.setSpecularColorEnabled(!0),e.params.specularColor=t):(e.setSpecularTextureEnabled(!1),e.setSpecularColorEnabled(!1))}}},{key:"_updateMicrosurfaceInEffect",value:function(e){if(e&&e.isConfigurable){var n=this._microsurface;void 0!==n?n instanceof x.Texture?(e.setRoughnessTextureEnabled(!0),e.textures.roughnessTexture=n):isFinite(n)&&(e.setRoughnessValueEnabled(!0),e.params.roughness=n):(e.setRoughnessTextureEnabled(!1),e.setRoughnessValueEnabled(!1)),this.microsurfaceWorkflow===t.ROUGHNESS_WORKFLOW?e.setRoughnessWorkflowEnabled(!0):this.microsurfaceWorkflow===t.GLOSSINESS_WORKFLOW?e.setGlossinessWorkflowEnabled(!0):this.microsurfaceWorkflow===t.SPECULAR_POWER_WORKFLOW&&e.setSpecularPowerWorkflowEnabled(!0)}}},{key:"_updateEmissiveInEffect",value:function(e){if(e&&e.isConfigurable){var t=this._emissive;void 0!==t&&0!==t?(t instanceof x.Texture?(e.setEmissiveTextureEnabled(!0),t.isRgbm===!0&&(e.setRgbmEmissiveInputEnabled(!0),e.params.rgbmEmissiveMaxRange=t.rgbmFactor),e.setGammaSpaceEmissiveEnabled(!this._emissiveInputLinear),e.textures.emissiveTexture=t):t instanceof w.ColorRGB&&(t.equals(w.ColorRGB.BLACK)||(e.setEmissiveColorEnabled(!0),e.setGammaSpaceEmissiveEnabled(!this._emissiveInputLinear),e.params.emissiveColor=t)),e.params.emissiveStrength=this.emissiveStrength):(e.setEmissiveTextureEnabled(!1),e.setEmissiveColorEnabled(!1))}}},{key:"_updateOpacityInEffect",value:function(e){if(e&&e.isConfigurable){var t=this._opacity;this.opaque?(e.setTransparencyEnabled(!1),e.setOpacityTextureEnabled(!1),e.setOpacityValueEnabled(!1)):(e.setTransparencyEnabled(!0),e.setFresnelOpacityEnabled(this._useFresnelOpacity),e.setUvBasedRadialOpacityEnabled(this._uvBasedRadialOpacity),t instanceof x.Texture?(e.setOpacityTextureEnabled(!0),e.textures.opacityTexture=t):isFinite(t)&&(e.setOpacityValueEnabled(!0),e.params.opacity=t))}}},{key:"_updateWetnessInEffect",value:function(e){if(e&&e.isConfigurable){var t=this._wetness;void 0!==t&&0!==t?t instanceof x.Texture?(e.setWetnessTextureEnabled(!0),e.textures.wetnessTexture=t):isFinite(t)&&(e.setWetnessValueEnabled(!0),e.params.wetness=t):(e.setWetnessTextureEnabled(!1),e.setWetnessValueEnabled(!1))}}},{key:"_updateIrradianceInEffect",value:function(e){if(e&&e.isConfigurable){var t=this._irradiance;void 0!==t?(e.params.irradianceTextureBoost=this._irradianceBoost,t instanceof x.Texture?(e.setAmbientDiffuseTextureEnabled(!0),e.setIrradianceIncludingDiffuseEnabled(this._irradianceIncludingAlbedo),e.setApplyAoOnIrradianceEnabled(this._applyAoOnIrradiance),t.isRgbm&&(e.setRgbmIrradianceInputEnabled(!0),e.params.rgbmIrradianceMaxRange=t.rgbmFactor),e.setGammaSpaceIrradianceEnabled(!this._irradianceInputLinear),e.textures.irradianceTexture=t):t instanceof w.ColorRGB&&(t.equals(w.ColorRGB.BLACK)||(e.setAmbientColorEnabled(!0),e.params.ambientColor=t))):(e.setAmbientDiffuseTextureEnabled(!1),e.setAmbientColorEnabled(!1))}}},{key:"_updateClearcoatInEffect",value:function(e){if(e&&e.isConfigurable){var t=this._clearcoat;void 0!==t&&0!==t?(t instanceof x.Texture?(e.setClearcoatTextureEnabled(!0),e.textures.clearcoatTexture=t):isFinite(t)&&(e.params.clearcoatValue=t,e.setClearcoatValueEnabled(!0)),e.params.clearcoatRoughness=this._clearcoatRoughness):(e.setClearcoatTextureEnabled(!1),e.setClearcoatValueEnabled(!1))}}},{key:"_updateNormalInEffect",value:function(e){if(e&&e.isConfigurable){var t=this._normalTexture;void 0!==t?(e.setNormalMappingEnabled(!0),e.setNormalMapWithRoughnessEnabled(this._useNormalMicrosurfacePacking),e.setNormalMapWithRoughnessRABGEnabled(this._useNormalSwizzling),t.isRgbm?(e.params.rgbmNormalMaxRange=t.rgbmFactor,e.setRgbmNormalInputEnabled(!0)):e.setRgbmNormalInputEnabled(!1),e.textures.normalTexture=t,e.params.normalMapStrength=this._normalMapStrength):e.setNormalMappingEnabled(!1),e.setPerVertexNormalEnabled(this._usePerVertexNormal),e.setPerVertexTangentSpaceEnabled(this._usePerVertexTangentSpace)}}},{key:"_updateEnvironmentRefractionInEffect",value:function(e){if(e&&e.isConfigurable){var t=this._environmentRefractionNormalTexture,n=this._environmentRefractionDepthTexture;void 0!==t&&void 0!==n?(e.setEnvironmentRefractionEnabled(!0),e.textures.environmentRefractionNormalTexture=t,e.textures.environmentRefractionDepthTexture=n,e.params.environmentRefractionMatrix=this._environmentRefractionTransform.matrix,e.params.environmentRefractionNearFar=this._environmentRefractionNearFar,e.setEnvironmentRefractionDispersionEnabled(this._environmentRefractionDispersion&&T.Context.qualityManager.quality.refractionDispersionEnabled)):e.setEnvironmentRefractionEnabled(!1)}}},{key:"_updateBentNormalInEffect",value:function(e){if(e&&e.isConfigurable){var t=this._bentNormalTexture;void 0!==t?(e.setBentNormalMappingEnabled(!0),e.textures.bentNormalTexture=t):e.setBentNormalMappingEnabled(!1)}}},{key:"_updateAoInEffect",value:function(e){if(e&&e.isConfigurable){if(!this._aoEnabled)return e.setStaticAmbientOcclusionEnabled(!1),void e.setDynamicAmbientOcclusionEnabled(!1);var n=this._aoTexture;void 0!==n?(e.setStaticAmbientOcclusionEnabled(!0),e.setBakedMapsUse2ndUVEnabled(this._bakedMapsUse2ndUV),e.setAoWithWetnessEnabled(this._useAoWetnessPacking),e.textures.aoTextureStatic=n):(e.setStaticAmbientOcclusionEnabled(!1),e.setDynamicAmbientOcclusionEnabled(!!T.Context.qualityManager.quality.ssaoEnabled)),this._aoBlend===t.AO_BLEND_SOFT?e.setAoBlendSoftEnabled(!0):this._aoBlend===t.AO_BLEND_STRONG?e.setAoBlendStrongEnabled(!0):(e.setAoBlendSoftEnabled(!1),e.setAoBlendStrongEnabled(!1))}}},{key:"_updateRefractiveTexturesInEffect",value:function(e,t){if(this.refractive&&T.Context.qualityManager.quality.blurredRefractionsEnabled&&e){var n=t.refractionBlurTextures,i=t.refractionBlurPassCount;n&&void 0!==i&&(e.textures.refractionTexture=n[Math.round(this._refractionRoughness*i)])}}},{key:"_updateRefractiveInEffect",value:function(e){e&&e.isConfigurable&&e.setRefractionEnabled(this.refractive)}},{key:"_updateAnisotropyInEffect",value:function(e){if(e&&e.isConfigurable){var t=this._anisotropy;void 0!==t&&0!==t?(e.setReflectanceWithAnisotropyEnabled(!1),t instanceof x.Texture?(e.setAnisotropyTextureEnabled(!0),e.textures.anisotropyTexture=t):isFinite(t)&&(e.setAnisotropyValueEnabled(!0),e.params.anisotropy=t)):(e.setAnisotropyTextureEnabled(!1),e.setAnisotropyValueEnabled(!1),this._useReflectanceAnisotropyPacking&&e.setReflectanceWithAnisotropyEnabled(!0))}}},{key:"_updateSsaoInEffect",value:function(e,t){e&&(e.textures.aoTextureDynamic=t.ssaoTexture)}},{key:"_updateShadowsInEffect",value:function(e,t){e&&(e.textures.shadowedDirectionalLightShadowMap=t.shadowMapTextures,e.params.shadowedDirectionalLightShadowMapSize=t.shadowMapSizes,e.params.shadowedDirectionalLightShadowMapViewProjectionMatrix=t.shadowMapViewProjectionMatrix,e.params.shadowBlendFactor=t.shadowBlendFactor)}},{key:"_updateTexCoordsInEffect",value:function(e){e&&e.isConfigurable&&(void 0!==this._texCoordOffset?(e.setTexCoordOffsetEnabled(!0),e.params.texCoordOffset=this._texCoordOffset):e.setTexCoordOffsetEnabled(!1))}},{key:"iblNode",get:function(){return this._iblNode},set:function(e){this._iblNode!==e&&(this._iblNode=e,this._updateIBLNodeInEffect(this._effect,e))}},{key:"albedo",get:function(){return this._albedo},set:function(e){this._albedo=e,this._updateAlbedoInEffect(this._effect)}},{key:"specular",get:function(){return this._specular},set:function(e){this._specular=e,this._updateSpecularInEffect(this._effect)}},{key:"metallic",get:function(){return this._metallic},set:function(e){this._metallic=e,this._updateMetallicInEffect(this._effect)}},{key:"anisotropy",get:function(){return this._anisotropy},set:function(e){this._anisotropy=e,this._updateAnisotropyInEffect(this._effect)}},{key:"microsurface",get:function(){return this._microsurface},set:function(e){this._microsurface=e,this._updateMicrosurfaceInEffect(this._effect)}},{key:"emissive",get:function(){return this._emissive},set:function(e){this._emissive=e,this._updateEmissiveInEffect(this._effect)}},{key:"emissiveStrength",get:function(){return this._emissiveStrength},set:function(e){this._emissiveStrength=e,this._updateEmissiveInEffect(this._effect)}},{key:"wetness",get:function(){return this._wetness},set:function(e){this._wetness=e,this._updateWetnessInEffect(this._effect)}},{key:"useAoWetnessPacking",get:function(){return this._useAoWetnessPacking},set:function(e){this._useAoWetnessPacking=e,this._updateWetnessInEffect(this._effect)}},{key:"opacity",get:function(){return this._opacity},set:function(e){this._opacity=e,this._updateOpacityInEffect(this._effect)}},{key:"uvBasedRadialOpacity",get:function(){return this._uvBasedRadialOpacity},set:function(e){this._uvBasedRadialOpacity=e,this._updateOpacityInEffect(this._effect)}},{key:"useFresnelOpacity",get:function(){return this._useFresnelOpacity},set:function(e){this._useFresnelOpacity=e,this._updateOpacityInEffect(this._effect)}},{key:"irradiance",get:function(){return this._irradiance},set:function(e){this._irradiance=e,this._updateIrradianceInEffect(this._effect)}},{key:"irradianceBoost",get:function(){return this._irradianceBoost},set:function(e){this._irradianceBoost=e,this._updateIrradianceInEffect(this._effect)}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat=e,this._updateClearcoatInEffect(this._effect)}},{key:"clearcoatRoughness",get:function(){return this._clearcoatRoughness},set:function(e){this._clearcoatRoughness=e,this._updateClearcoatInEffect(this._effect)}},{key:"refractionRoughness",get:function(){return this._refractionRoughness},set:function(e){this._clearcoatRoughness=e,this._updateRefractiveInEffect(this._effect)}},{key:"normalTexture",get:function(){return this._normalTexture},set:function(e){this._normalTexture=e,this._updateNormalInEffect(this._effect)}},{key:"environmentRefractionNormalTexture",get:function(){return this._environmentRefractionNormalTexture},set:function(e){this._environmentRefractionNormalTexture=e,this._updateEnvironmentRefractionInEffect(this._effect)}},{key:"environmentRefractionDepthTexture",get:function(){return this._environmentRefractionDepthTexture},set:function(e){this._environmentRefractionDepthTexture=e,this._updateEnvironmentRefractionInEffect(this._effect)}},{key:"environmentRefractionNearFar",get:function(){return this._environmentRefractionNearFar},set:function(e){this._environmentRefractionNearFar=e,this._updateEnvironmentRefractionInEffect(this._effect)}},{key:"environmentRefractionDispersion",get:function(){return this._environmentRefractionDispersion},set:function(e){this._environmentRefractionDispersion=e,this._updateEnvironmentRefractionInEffect(this._effect)}},{key:"environmentRefractionTransform",get:function(){return this._environmentRefractionTransform},set:function(e){this._environmentRefractionTransform=e,this._updateEnvironmentRefractionInEffect(this._effect)}},{key:"bentNormalTexture",get:function(){return this._bentNormalTexture},set:function(e){this._bentNormalTexture=e,this._updateBentNormalInEffect(this._effect)}},{key:"aoTexture",get:function(){return this._aoTexture},set:function(e){this._aoTexture=e,this._updateAoInEffect(this._effect)}},{key:"aoEnabled",get:function(){return this._aoEnabled},set:function(e){this._aoEnabled=e,this._updateAoInEffect(this._effect)}},{key:"useMetallicWorkflow",get:function(){return this._useMetallicWorkflow},set:function(e){this._useMetallicWorkflow=e,this._updateMetallicInEffect(this._effect)}},{key:"microsurfaceWorkflow",get:function(){return this._microsurfaceWorkflow},set:function(e){this._microsurfaceWorkflow=e,this._updateMicrosurfaceInEffect(this._effect)}},{key:"usePerVertexNormal",get:function(){return this._usePerVertexNormal},set:function(e){this._usePerVertexNormal=e,this._updateNormalInEffect(this._effect)}},{key:"usePerVertexTangentSpace",get:function(){return this._usePerVertexTangentSpace},set:function(e){this._usePerVertexTangentSpace=e,this._updateNormalInEffect(this._effect)}},{key:"useNormalMicrosurfacePacking",get:function(){return this._useNormalMicrosurfacePacking},set:function(e){this._useNormalMicrosurfacePacking=e,this._updateNormalInEffect(this._effect)}},{key:"opaque",set:function(e){e!==this._opaque&&(this._overwriteSurface=!e&&this._discard!==b.SurfaceMaterial.DISCARD_TRANSPARENT,(0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"opaque",e,this),this._updateOpacityInEffect(this._effect),this._updateAlbedoInEffect(this._effect))},get:function(){return this._opaque}},{key:"refractive",get:function(){return this._refractive},set:function(e){e!==this.refractive&&((0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"refractive",e,this),this._updateRefractiveInEffect(this._effect))}},{key:"irradianceReplacesDiffuseIbl",get:function(){return this._irradianceReplacesDiffuseIbl},set:function(e){e!==this._irradianceReplacesDiffuseIbl&&(this._irradianceReplacesDiffuseIbl=e,this._updateIBLNodeInEffect(this._effect,this._iblNode))}},{key:"aoBlend",get:function(){return this._aoBlend},set:function(e){e!==this._aoBlend&&(this._aoBlend=e,this._updateAoInEffect(this._effect))}},{key:"texCoordOffset",get:function(){return this._texCoordOffset},set:function(e){e!==this._texCoordOffset&&(this._texCoordOffset=e,this._updateTexCoordsInEffect(this._effect))}}]),t}(b.SurfaceMaterial);I.AO_BLEND_SOFT="aoBlendSoft",I.AO_BLEND_NORMAL="aoBlendNormal",I.AO_BLEND_STRONG="aoBlendStrong",I.ROUGHNESS_WORKFLOW="roughnessWorkflow",I.GLOSSINESS_WORKFLOW="glossinessWorkflow",I.SPECULAR_POWER_WORKFLOW="specularPowerWorkflow"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Skybox=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(9),A=n(56),g=n(7),v=n(38),y=n(218),b=n(21),E=n(25),w=n(32),S=n(110),T=n(18),x=i(T);t.Skybox=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e)),i=g.Util.getParam(e,"texture"),r=g.Util.getParam(e,"color"),o=g.Util.getParam(e,"opaque",!0),l=g.Util.getParam(e,"textureMode"),c=g.Util.getParam(e,"stereoFormat"),d=g.Util.getParam(e,"mipmappedTexture"),h=g.Util.getParam(e,"shCoeffs"),f=g.Util.getParam(e,"flippedY"),_=g.Util.getParam(e,"gammaSpace"),p=g.Util.getParam(e,"convertToBGRA"),A=g.Util.getParam(e,"formatParams"),E=g.Util.getParam(e,"lockToCamera",!0);if(n._useIbl=g.Util.getParam(e,"ibl",!1),(l===y.SkyboxMaterial.CUBE||l===y.SkyboxMaterial.LATLONG)&&void 0===i)throw new Error("Non SH Skyboxes need a texture to render properly");n._material=n.addActiveResource(new y.SkyboxMaterial({mode:l,stereoFormat:c,useMipmappedTexture:d,color:r,opaque:o,texture:i,shCoeffs:h,useFlippedY:f,gammaSpace:_,convertToBGRA:p,formatParams:A,lockToCamera:E}));var T={};return T[b.Scene.RENDERPASS_FORWARD]=n._material,T[b.Scene.RENDERPASS_FORWARD_TRANSLUCENT]=n._material,n.addChild(new w.RenderableNode({geometry:v.GeometryUtil.makeNDCCubeCW(),materialByPass:T})),n._useIbl&&m.Context.eventEmitter.on(S.IBLNode.EVENT_IBL_NODE_CHANGED,n._updateFromIblTexture.bind(n)),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"Skybox",params:{texture:this._material._texture,color:this._material._color,opaque:this._material._opaque,textureMode:this._material._mode,stereoFormat:this._material._stereoFormat,useMipmappedTexture:this._material._useMipmappedTexture,useFlippedY:this._material._useFlippedY,shCoeffs:this._material._shCoeffs,gammaSpace:this._material._gammaSpace,convertToBGRA:this._material._convertToBGRA,ibl:this._useIbl},aux:{children:[]}}}}]),(0,f.default)(t,[{key:"dtor",value:function(){this.dtorActiveResources(),(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"dtor",this).call(this)}},{key:"_updateFromIblTexture",value:function(e){this.firstChild.surfaceMaterial.mode=e.type===S.IBLNode.CUBE?y.SkyboxMaterial.CUBE:y.SkyboxMaterial.LATLONG,this.firstChild.surfaceMaterial.texture=e.irradianceTexture}},{key:"color",get:function(){return this.firstChild.surfaceMaterial.color},set:function(e){this.firstChild.surfaceMaterial.color=e}},{key:"material",get:function(){return this.firstChild.surfaceMaterial}},{key:"texture",get:function(){return this.firstChild.surfaceMaterial.texture},set:function(e){this.firstChild.surfaceMaterial.texture=e}},{key:"shCoeffs",get:function(){return this.firstChild.surfaceMaterial.shCoeffs},set:function(e){this.firstChild.surfaceMaterial.shCoeffs=e}}]),t}((0,x.default)(E.SpatialNode,A.ResourceTracker))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UiCover=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(66),p=n(7),m=n(9),A=n(20),g=n(21),v=n(32),y=n(64),b=n(38),E=n(24),w=n(36);t.UiCover=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));n._poster=p.Util.getParamRequired(e,"poster"),n._label=p.Util.getParam(e,"label"),n._fontFace=p.Util.getParam(e,"fontFace","sans-serif"),n._fontWeight=p.Util.getParam(e,"fontWeight","normal"),n._fontSize=p.Util.getParam(e,"fontSize",12),n._fontColor=p.Util.getParam(e,"fontColor",new A.ColorRGBA(A.ColorRGBA.WHITE)),n._backgroundColor=p.Util.getParam(e,"backgroundColor",new A.ColorRGBA(A.ColorRGBA.BLACK_TRANSPARENT)),n._labelBackgroundColor=p.Util.getParam(e,"labelBackgroundColor",new A.ColorRGBA(A.ColorRGBA.BLACK_TRANSPARENT)),n._lineHeight=p.Util.getParam(e,"lineHeight",1.5),n._align=p.Util.getParam(e,"align","center"),n._texSize=p.Util.getParam(e,"texSize",512),n._drawLabel=p.Util.getParam(e,"drawLabel",!0),n._horizontalLabelPadding=p.Util.getParam(e,"horizontalLabelPadding",0),n._canvas=document.createElement("canvas");var i=n._width/n._height,r=n._width>n._height,o=Math.min(n._texSize,w.Renderer.MAX_TEXTURE_SIZE);n._canvas.width=Math.round(r?o:o*i),n._canvas.height=Math.round(r?o/i:o),n._horizontalLabelPadding=n._horizontalLabelPadding/n._width*n._canvas.width,n._updateFontSize(),n._texture=n.addActiveResource(new E.Texture({type:E.Texture.CANVAS,flipY:!0,generateMipmaps:!1,data:[n._canvas]})),n._imageLoaded=!1,n._image=document.createElement("img"),n._image.onload=function(){n._imageLoaded=!0,n._updateTexture()},n._setCrossOrigin(n._image,n._poster),n._image.src=n._poster,n._updateTexture();var l=p.Util.getParam(e,"opaque",!1),c=p.Util.getParam(e,"smoothBorder",!1),d=b.GeometryUtil.makeCenteredSizedQuad(n._width,n._height,!0);n._material=n.addActiveResource(new y.UiMaterial({texture:n._texture,opaque:l,billboarded:!1,twoSided:!1,smoothBorder:c}));var h={};return h[g.Scene.RENDERPASS_UI_1]=n._material,n.addChild(new v.RenderableNode({geometry:d,materialByPass:h,sortPassData:{zIndex:n._zIndex}})),n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"UiCover"}}},{key:"_setCrossOrigin",value:function(e,t){void 0!==m.Context.crossOrigin&&!t.startsWith("data:")&&(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//"))?e.crossOrigin=m.Context.crossOrigin:e.crossOrigin=null}}]),(0,d.default)(t,[{key:"$onUpdateZIndex",value:function(){this.firstChild.sortPassData.zIndex=this._zIndex}},{key:"_updateFontSize",value:function(){this._pixelFontSize=this._canvas.height/this._height*this._fontSize}},{key:"_updateTexture",value:function(){var e=this._canvas,t=e.getContext("2d");if(t.save(),t.fillStyle=this._backgroundColor.style,t.fillRect(0,0,e.width,e.height),this._imageLoaded&&p.Util.drawImageCover(t,this._image,0,0,e.width,e.height),this._drawLabel&&this._label){t.font="normal normal "+this._fontWeight+" "+Math.round(this._pixelFontSize)+"px "+this._fontFace,t.textAlign=this._align;var n=this._horizontalLabelPadding,i=e.width-2*n;t.fillStyle=this._labelBackgroundColor.style,t.fillRect(0,e.height-this._pixelFontSize*this._lineHeight,e.width,this._pixelFontSize*this._lineHeight),t.fillStyle=this._fontColor.style,t.shadowBlur=0;var r=p.Util.truncateString(this._label,p.Util.measureTextLimit(e,this._label,i)),a="left"===this._align?n:.5*e.width,o=e.height-this._pixelFontSize+.25*this._pixelFontSize*(this._lineHeight-1);t.fillText(r,a,o)}this._texture.updateCanvas(),t.restore()}},{key:"label",set:function(e){this._label!==e&&(this._label=e,this._updateTexture())},get:function(){return this._label}},{key:"fontSize",set:function(e){this._fontSize=e,this._updateFontSize(),this._updateTexture()},get:function(){return this._fontSize}},{key:"fontFace",set:function(e){this._fontFace=e,this._updateTexture()},get:function(){return this._fontFace}},{key:"fontWeight",set:function(e){this._fontWeight=e,this._updateTexture()},get:function(){return this._fontWeight}},{key:"fontColor",set:function(e){this._fontColor=e,this._updateTexture()},get:function(){return this._fontColor}},{key:"backgroundColor",set:function(e){this._labelBackgroundColor=e,this._updateTexture()},get:function(){return this._labelBackgroundColor}},{key:"opacity",set:function(e){this.firstChild.materialByPass[g.Scene.RENDERPASS_UI_1].opacity=e},get:function(){return this.firstChild.materialByPass[g.Scene.RENDERPASS_UI_1].opacity}},{key:"depth",set:function(e){this.firstChild.transform.position.z=e},get:function(){return this.firstChild.constTransform.position.z}}]),t}(_.UiNode)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UiCoverButton=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(4),d=i(c),h=n(112),f=n(303),_=n(18),p=i(_);t.UiCoverButton=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,d.default)(t,e),t}((0,p.default)(f.UiCover,h.UiClickable))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UiScrollBar=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(66),p=n(7),m=n(20),A=n(14),g=n(11),v=n(21),y=n(32),b=n(64),E=n(38),w=n(24),S=n(36),T=n(27);t.UiScrollBar=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));n._color=p.Util.getParamRequired(e,"color",new m.ColorRGBA(m.ColorRGBA.WHITE)),n._backgroundColor=p.Util.getParamRequired(e,"backgroundColor",new m.ColorRGBA(m.ColorRGBA.BLACK_TRANSPARENT)),n._scrollPosition=p.Util.getParam(e,"scrollPosition",0),n._size=p.Util.getParam(e,"size",1),n._texSize=Math.min(p.Util.getParam(e,"texSize",2048),S.Renderer.MAX_TEXTURE_SIZE);
var i=p.Util.getParam(e,"depth",0),r=p.Util.getParam(e,"smoothBorder",!1),o=p.Util.getParam(e,"smoothStrength"),l=n._width/n._height,u=n._width>n._height;n._canvas=document.createElement("canvas"),n._canvas.width=Math.round(u?n._texSize:n._texSize*l),n._canvas.height=Math.round(u?n._texSize/l:n._texSize),n._texture=new w.Texture({type:w.Texture.CANVAS,flipY:!0,generateMipmaps:!1,data:[n._canvas]}),n._updateTexture();var c=p.Util.getParam(e,"opaque",!1),h=E.GeometryUtil.makeCenteredSizedQuad(n._width,n._height,!0);n._material=new b.UiMaterial({texture:n._texture,opaque:c,billboarded:!1,twoSided:!1,smoothBorder:r,smoothStrength:o});var f={};return f[v.Scene.RENDERPASS_UI_1]=n._material,n.addChild(new y.RenderableNode({geometry:h,materialByPass:f,sortPassData:{zIndex:n._zIndex},transform:new T.Transform({position:new g.Vector3(0,0,i)})})),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"$onUpdateZIndex",value:function(){this.firstChild.sortPassData.zIndex=this._zIndex}},{key:"_updateTexture",value:function(){var e=this._canvas,t=e.getContext("2d");t.save(),t.clearRect(0,0,e.width,e.height),t.fillStyle=this._backgroundColor.style,t.fillRect(0,0,e.width,e.height),t.fillStyle=this._color.style;var n=this._scrollPosition*e.width;p.Util.roundRect(t,n,0,A.MathUtil.clamp(e.width*this._size,0,e.width),e.height,.5*e.height),t.restore(),this._texture.updateCanvas()}},{key:"size",set:function(e){this._size=e,this._updateTexture()}},{key:"scrollPosition",set:function(e){this._scrollPosition=e,this._updateTexture()},get:function(){return this._scrollPosition}},{key:"depth",set:function(e){this.firstChild.transform.position.z=e},get:function(){return this.firstChild.constTransform.position.z}}]),t}(_.UiNode)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Hub=void 0;var r=n(114),a=i(r),o=n(113),s=i(o),l=n(44),u=i(l),c=n(10),d=i(c),h=n(15),f=i(h),_=n(3),p=i(_),m=n(1),A=i(m),g=n(5),v=i(g),y=n(8),b=i(y),E=n(2),w=i(E),S=n(4),T=i(S),x=n(45),C=i(x),M=n(9),P=n(55),I=n(56),R=n(25),k=n(7),D=n(49),V=(n(164),n(462)),B=n(459),O=n(461),N=n(460),L=n(463),F=n(464),U=n(316),H=n(468),G=n(318),z=n(469),Q=n(314),W=(n(234),n(231)),j=n(309),X=n(232),Y=n(312),q=n(307),Z=n(308),K=n(310),J=n(311),$=n(19),ee=n(18),te=i(ee),ne=67108864,ie=new C.default(["dl8-img","dl8-tour","dl8-video","dl8-cinema","dl8-live-video","dl8-ibr","dl8-model","dl8-external-content","dl8-hub-group"]),re=t.Hub=function(e){function t(e){(0,A.default)(this,t);var n=(0,v.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.reset=function(){n._onReset()},n._content=k.Util.getParamRequired(e,"content"),n._onError=k.Util.getParamRequired(e,"onError"),n._onActivateContent=k.Util.getParamRequired(e,"onActivateContent"),n._onReplaceContent=k.Util.getParamRequired(e,"onReplaceContent"),n._onReset=k.Util.getParamRequired(e,"onReset"),n._customization=k.Util.getParamRequired(e,"customization"),n._vizors=[],n._sorters=new f.default,n._filters=new f.default,n._views=new f.default,n._viewToFiltersMap=new f.default,n._viewToSortersMap=new f.default,n._contents=[],n._components=[],n._actionPerViewQueue=new f.default,n._actionPerViewQueueHistory=new f.default,n._needActionDispatch=!1,n._actionDiffMap=new f.default,n._initFromContent(),n}return(0,T.default)(t,e),(0,w.default)(t,[{key:"$serialize",value:function(){return{name:"Hub",params:{}}}}]),(0,w.default)(t,[{key:"_initBackdrop",value:function(e){var t=this;(e.src||e.srcLeft&&e.srcRight)&&(0,D.createImageSkybox)(this.addActiveResource.bind(this),(0,d.default)({},e,{format:e.roomFormat}),"HubBackdrop").then(function(e){t.addChild(e)}).catch(function(e){M.Context.eventEmitter.emit(t,P.LoadingManager.EVENT_LOADING_END),t._onError(e)})}},{key:"_initFilters",value:function(e){var n=this;this._filters.set(t.DEFAULT_FILTER,new U.HubFilterAbstract({filterId:t.DEFAULT_FILTER})),e.dl8HubFilters.forEach(function(e){e.dl8HubFilterAttrIss.forEach(function(e){return n._filters.set(e.filterId,new V.HubFilterAttrIs(e))}),e.dl8HubFilterAttrContainss.forEach(function(e){return n._filters.set(e.filterId,new B.HubFilterAttrContains(e))}),e.dl8HubFilterAttrContainsAllOfs.forEach(function(e){return n._filters.set(e.filterId,new N.HubFilterAttrContainsAllOf(e))}),e.dl8HubFilterAttrContainsOneOfs.forEach(function(e){return n._filters.set(e.filterId,new O.HubFilterAttrContainsOneOf(e))}),e.dl8HubFilterElementIss.forEach(function(e){return n._filters.set(e.filterId,new L.HubFilterElementIs(e))}),e.dl8HubFilterElementIsOneOfs.forEach(function(e){return n._filters.set(e.filterId,new F.HubFilterElementIsOneOf(e))}),e.dl8HubFilterDynamics.forEach(function(e){return n._filters.set(e.filterId,new U.HubFilterAbstract(e))})})}},{key:"_initSorters",value:function(e){var n=this;this._sorters.set(t.DEFAULT_SORTER,new G.HubSorterAbstract({sorterId:t.DEFAULT_SORTER})),e.dl8HubSorters.forEach(function(e){e.dl8HubSorterAttrs.forEach(function(e){return n._sorters.set(e.sorterId,new H.HubSorterAttr(e))}),e.dl8HubSorterDynamics.forEach(function(e){return n._sorters.set(e.sorterId,new G.HubSorterAbstract(e))})})}},{key:"_initLayout",value:function(e){if(0===e.dl8HubVizors.length)throw new Error("dl8-hub is missing dl8-hub-vizor for view layouting!");if(e.dl8HubVizors.length>1)throw new Error("dl8-hub is only allowed to have one layouting system!");var t=this._content.dl8HubContents[0],n=new z.HubVizor((0,d.default)({},e.dl8HubVizors[0],{hub:this,dynamicContent:t.mode===$.HUB_CONTENT_DYNAMIC,onActivateContent:this._onActivateContent,customization:this._customization,memoryLimit:ne}));this._vizors.push(n),this.addChild(n)}},{key:"_initContents",value:function(e){var t=this;if(e.dl8HubContents.length>1)throw new Error("Cannot have multiple dl8-hub-content children");e.dl8HubContents.forEach(function(e){e.mode===$.HUB_CONTENT_STATIC&&e.domChildren.forEach(function(e){t._contents.push(e)})})}},{key:"_initFromContent",value:function(){var e=this._content;this._initContents(e),this._initBackdrop(e),this._initFilters(e),this._initSorters(e),this._initLayout(e),this._initComponents()}},{key:"_applyContent",value:function(e,t,n){if(!Array.isArray(n))throw new Error("contentCallback must be passed an array");var i=n.map(function(e){return(0,D.createElementFromDesc)(e,!0,ie).content});this._onReplaceContent(e.content,i,{hubId:this._content.id}),e.loading=!1,t?e.content=i:e.pageContent=i}},{key:"registerComponent",value:function(e){e.viewId&&this._views.set(e.viewId,e),this._components.push(e)}},{key:"_initComponents",value:function(){this._components.forEach(function(e){return e.init()})}},{key:"dispatchAction",value:function(e){var t=this._views.get(e.for);if(t){var n=t.viewId,i=k.Util.lazySetMapLazyVal(this._actionPerViewQueueHistory,n,function(){return new f.default}),r=k.Util.lazySetMapLazyVal(this._actionDiffMap,n,function(){return[]}),a=i.get(e.constructor);(a&&!a.equals(e)||void 0===a)&&(r.push(e),i.set(e.constructor,e),this._needActionDispatch=!0)}else M.Context.logger.warn(this,"action dispatched that does not reference an existing view "+e.for)}},{key:"gamepadButtonPressed",value:function(e,t,n){this._vizors.forEach(function(i){i.gamepadButtonPressed(e,t,n)})}},{key:"gamepadButtonUnpressed",value:function(e,t,n){this._vizors.forEach(function(i){i.gamepadButtonUnpressed(e,t,n)})}},{key:"update",value:function(e){var n=this;if((0,b.default)(t.prototype.__proto__||(0,p.default)(t.prototype),"update",this).call(this,e),this._needActionDispatch){this._needActionDispatch=!1;var i=[];this._actionPerViewQueueHistory.forEach(function(e,t){var r=n._views.get(t);if(!r)return void M.Context.logger.warn(n,"invalid viewId "+t+" referenced");var a=(0,u.default)(e.values()),o=n._actionDiffMap.get(t)||[];if(r instanceof Q.HubContentWidget){var l=n._contents.slice(),c=[],d=[];a.filter(function(e){return e instanceof j.HubActionCompositeTagFilter}).forEach(function(e){e.filters.forEach(function(e){var t=n._filters.get(e.filter);if(!t)throw Error("Invalid filter referenced "+e.filter);c.push(t)})}),a.filter(function(e){return e instanceof W.HubActionCompositeFilter}).forEach(function(e){e.filters.forEach(function(e){var t=n._filters.get(e.filter);if(!t)throw Error("Invalid filter referenced "+e.filter);c.push(t)})}),a.filter(function(e){return e instanceof X.HubActionCompositeSorter}).forEach(function(e){e.sorters.forEach(function(e){var t=n._sorters.get(e.sorter);if(!t)throw Error("Invalid sorter referenced "+e.sorter);d.push(t)})}),n._viewToFiltersMap.set(r,c),n._viewToSortersMap.set(r,d);var h=n._content.dl8HubContents[0];if(h.mode===$.HUB_CONTENT_DYNAMIC){r.loading=!0;var f=c.filter(function(e){return"string"==typeof e.filterId}).map(function(e){return e.filterId}),_=d.filter(function(e){return"string"==typeof e.sorterId}).map(function(e){return e.sorterId});o.find(function(e){return e instanceof W.HubActionCompositeFilter||e instanceof X.HubActionCompositeSorter||e instanceof J.HubActionSetPage||e instanceof j.HubActionCompositeTagFilter})&&(!o.find(function(e){return e instanceof J.HubActionSetPage})&&r.content&&r.content.length>0&&i.push(t),h.onRequestContentCount(f,function(e){r.itemCount=e;var t=a.find(function(e){return e instanceof J.HubActionSetPage});t&&(r.page=t.page),h.onRequestContent(r.page*r.pageSize,r.page*r.pageSize+r.pageSize-1,f,_,function(e){var t=a.find(function(e){return e instanceof J.HubActionSetPage});n._applyContent(r,!t,e),t&&(r.page=t.page)})}))}else o.find(function(e){return e instanceof W.HubActionCompositeFilter||e instanceof X.HubActionCompositeSorter||e instanceof J.HubActionSetPage||e instanceof j.HubActionCompositeTagFilter})&&(c.forEach(function(e){l=e.filter(l)}),d.forEach(function(e){l=e.sort(l)}),!o.find(function(e){return e instanceof J.HubActionSetPage})&&r.content&&r.content.length>0&&i.push(t),r.content=l)}o.forEach(function(e){e instanceof Y.HubActionSetTitle?r.title=e.value:e instanceof q.HubActionActivateMenuItem?(0,s.default)(function(){r.activateMenuItem(e.index)}):e instanceof K.HubActionMenuScrollTo?r.scrollPos=e.scrollPos:e instanceof J.HubActionSetPage?r.page=e.page:e instanceof Z.HubActionCompositeActivateTag&&(0,s.default)(function(){r.activateTag(e.actions.map(function(e){return e.index}))})})}),this._actionDiffMap.clear(),i.forEach(function(e){n.dispatchAction(new J.HubActionSetPage({page:0,for:e}))})}}},{key:"dtor",value:function(){this._filters.clear(),this._sorters.clear(),this._contents.length=0,this._vizors.length=0,this.dtorActiveResources(),(0,b.default)(t.prototype.__proto__||(0,p.default)(t.prototype),"dtor",this).call(this)}},{key:"saveActions",value:function(){return this._actionPerViewQueueHistory}},{key:"restoreActions",value:function(e){var t=this;this._actionDiffMap.clear(),this._actionPerViewQueueHistory=e,this._actionPerViewQueueHistory.forEach(function(e,n){var i=k.Util.lazySetMapLazyVal(t._actionDiffMap,n,function(){return[]});t._actionDiffMap.set(n,i.concat((0,u.default)(e.values())))}),this._needActionDispatch=!0}},{key:"content",set:function(e){this._content=e}}]),t}((0,te.default)(R.SpatialNode,I.ResourceTracker));re.DEFAULT_SORTER=(0,a.default)("DEFAULT_SORTER"),re.DEFAULT_FILTER=(0,a.default)("DEFAULT_FILTER")},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubActionActivateMenuItem=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(7),A=n(58);t.HubActionActivateMenuItem=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._index=m.Util.getParamRequired(e,"index"),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"equals",value:function(e){return(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"equals",this).call(this,e)&&e.index===this._index}},{key:"index",get:function(){return this._index}}]),t}(A.HubAction)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubActionCompositeActivateTag=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(7),p=n(58);t.HubActionCompositeActivateTag=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._actions=[],_.Util.getParam(e,"actions",[]).forEach(function(e){return n.push(e)}),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"push",value:function(e){if(e.for===this.for)return this._actions.push(e);throw new Error("Cannot add action with for="+e.for+" to composite action with for="+this.for)}},{key:"equals",value:function(e){if(e.actions.length!==this._actions.length)return!1;for(var t=0;t<e.actions.length;++t)if(!e.actions[t].equals(this._actions[t]))return!1;return!0}},{key:"actions",get:function(){return this._actions}}]),t}(p.HubAction)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubActionCompositeTagFilter=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(7),p=n(58);t.HubActionCompositeTagFilter=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._filters=[],_.Util.getParam(e,"filters",[]).forEach(function(e){return n.push(e)}),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"push",value:function(e){if(e.for===this.for)return this._filters.push(e);throw new Error("Cannot add filter with for="+e.for+" to composite tag filter with for="+this.for)}},{key:"equals",value:function(e){if(e.filters.length!==this._filters.length)return!1;for(var t=0;t<e.filters.length;++t)if(!e.filters[t].equals(this._filters[t]))return!1;return!0}},{key:"filters",get:function(){return this._filters}}]),t}(p.HubAction)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubActionMenuScrollTo=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(7),A=n(58);t.HubActionMenuScrollTo=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._scrollPos=m.Util.getParamRequired(e,"scrollPos"),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"equals",value:function(e){return(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"equals",this).call(this,e)&&e.scrollPos===this._scrollPos}},{key:"scrollPos",get:function(){return this._scrollPos}}]),t}(A.HubAction)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubActionSetPage=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(7),A=n(58);t.HubActionSetPage=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._page=m.Util.getParamRequired(e,"page"),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"equals",value:function(e){return(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"equals",this).call(this,e)&&e.page===this._page}},{key:"page",get:function(){return this._page}}]),t}(A.HubAction)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubActionSetTitle=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(7),A=n(58);t.HubActionSetTitle=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._value=m.Util.getParamRequired(e,"value"),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"equals",value:function(e){return(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"equals",this).call(this,e)&&e.value===this._value}},{key:"value",get:function(){return this._value}}]),t}(A.HubAction)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubActionSort=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(7),A=n(58);t.HubActionSort=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._sorter=m.Util.getParamRequired(e,"sorter"),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"equals",value:function(e){return(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"equals",this).call(this,e)&&e.sorter===this._sorter}},{key:"sorter",get:function(){return this._sorter}}]),t}(A.HubAction)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubContentWidget=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(319),p=n(313),m=n(233),A=n(231),g=n(232),v=n(7),y=n(306);t.HubContentWidget=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._dynamic=v.Util.getParam(e,"dynamic",!1),n._sorter=v.Util.getParam(e,"sorter"),n._filter=v.Util.getParam(e,"filter"),n._sorterList=v.Util.getParam(e,"sorter-list",[]),n._content=[],n._page=0,n._pageSize=1,n._itemCountOverride=0,n._loading=!1,n._initDefaultSorter(),n._initDefaultFilter(),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"$onUpdateContent",value:function(e){}},{key:"$onUpdatePageContent",value:function(e){}},{key:"_initDefaultSorter",value:function(){this.hub.dispatchAction(new g.HubActionCompositeSorter({for:this._viewId,sorters:[new p.HubActionSort({for:this._viewId,sorter:void 0===this._sorter?y.Hub.DEFAULT_SORTER:this._sorter})]}))}},{key:"_initDefaultFilter",value:function(){this.hub.dispatchAction(new A.HubActionCompositeFilter({for:this._viewId,filters:[new m.HubActionFilter({for:this._viewId,filter:void 0===this._filter?y.Hub.DEFAULT_FILTER:this._filter})]}))}},{key:"loading",set:function(e){this._loading=e},get:function(){return this._loading}},{key:"content",set:function(e){this._content=e,this._page=0,this.$onUpdateContent(this._content)},get:function(){return this._content}},{key:"pageContent",set:function(e){this._content=e,this.$onUpdatePageContent(this._content)}},{key:"dynamic",get:function(){return this._dynamic}},{key:"page",set:function(e){e<0||e>=Math.ceil(this.itemCount/this._pageSize)||(this._page=e,this.$onUpdatePage(this._page))},get:function(){return this._page}},{key:"pageSize",set:function(e){this._pageSize=e},get:function(){return this._pageSize}},{key:"itemCount",set:function(e){this._itemCountOverride=e},get:function(){return this._dynamic?this._itemCountOverride:this._content.length}}]),t}(_.HubWidget)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubFilter=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(7),p=n(316);t.HubFilter=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._value=_.Util.getParamRequired(e,"value"),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"$filterImpl",value:function(){return!0}},{key:"filter",value:function(e){return e.filter(this.$filterImpl.bind(this))}}]),t}(p.HubFilterAbstract)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubFilterAbstract=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(7);t.HubFilterAbstract=function(){function e(t){(0,a.default)(this,e),this._filterId=l.Util.getParamRequired(t,"filterId"),this._name=l.Util.getParam(t,"name")}return(0,s.default)(e,[{key:"filter",value:function(e){return e}},{key:"filterId",get:function(){return this._filterId},set:function(e){this._filterId=e}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubFilterElement=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(4),d=i(c),h=n(7),f=n(315);t.HubFilterElement=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._value=h.Util.getParamRequired(e,"value"),n}return(0,d.default)(t,e),t}(f.HubFilter)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubSorterAbstract=void 0;var r=n(1),a=i(r),o=n(2),s=i(o),l=n(7);t.HubSorterAbstract=function(){function e(t){(0,a.default)(this,e),this._sorterId=l.Util.getParamRequired(t,"sorterId")}return(0,s.default)(e,[{key:"sort",value:function(e){return e}},{key:"sorterId",get:function(){return this._sorterId},set:function(e){this._sorterId=e}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubWidget=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(25),p=n(7);t.HubWidget=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._domChildren=p.Util.getParamRequired(e,"domChildren"),n._viewId=p.Util.getParamRequired(e,"viewId"),n._hub=p.Util.getParamRequired(e,"hub"),n._width=p.Util.getParamRequired(e,"width"),n._height=p.Util.getParamRequired(e,"height"),n._positionX=p.Util.getParamRequired(e,"positionX"),n._positionY=p.Util.getParamRequired(e,"positionY"),n._title=p.Util.getParamRequired(e,"title"),n._hub.registerComponent(n),n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"HubWidget",params:{domChildren:this._domChildren,width:this._width,height:this._height,positionX:this._positionX,positionY:this._positionY,title:this._title}}}}]),(0,d.default)(t,[{key:"$onUpdateContent",value:function(){}},{key:"$onUpdateTitle",value:function(){}},{key:"init",value:function(){this.$init()}},{key:"$init",value:function(){}},{key:"viewId",get:function(){return this._viewId}},{key:"content",set:function(e){this._content=e,this.$onUpdateContent(this._content)}},{key:"title",get:function(){return this._title},set:function(e){this._title=e,this.$onUpdateTitle()}},{key:"hub",get:function(){return this._hub}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"positionX",get:function(){return this._positionX}},{key:"positionY",get:function(){return this._positionY}},{key:"domChildren",get:function(){return this._domChildren}}]),t}(_.SpatialNode)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneLibrary=void 0;var r=n(15),a=i(r);t.PhoneLibrary=new a.default([["IPHONE_4",{label:"Apple iPhone 4",thumbnail:n(6)}],["IPHONE_4S",{label:"Apple iPhone 4s",thumbnail:n(6)}],["IPHONE_5",{label:"Apple iPhone 5",thumbnail:n(6)}],["IPHONE_5S",{label:"Apple iPhone 5s",thumbnail:n(6)}],["IPHONE_SE",{label:"Apple iPhone SE",thumbnail:n(6)}],["IPHONE_6",{label:"Apple iPhone 6",thumbnail:n(6)}],["IPHONE_6S",{label:"Apple iPhone 6s",thumbnail:n(6)}],["IPHONE_6_PLUS",{label:"Apple iPhone 6 Plus",thumbnail:n(6)}],["IPHONE_6S_PLUS",{label:"Apple iPhone 6s Plus",thumbnail:n(6)}],["IPHONE_7",{label:"Apple iPhone 7",thumbnail:n(6)}],["IPHONE_7_PLUS",{label:"Apple iPhone 7 Plus",thumbnail:n(6)}],["IPHONE_8",{label:"Apple iPhone 8",thumbnail:n(6)}],["IPHONE_8_PLUS",{label:"Apple iPhone 8 Plus",thumbnail:n(6)}],["IPHONE_X",{label:"Apple iPhone X",thumbnail:n(6)}],["IPHONE_XS",{label:"Apple iPhone XS",thumbnail:n(6)}],["IPHONE_XS_MAX",{label:"Apple iPhone XS Max",thumbnail:n(6)}],["IPHONE_XR",{label:"Apple iPhone XR",thumbnail:n(6)}],["HTC6435LVW",{label:"HTC DROID DNA",thumbnail:n(6)}],["HTC_ONE_XL",{label:"HTC One XL",thumbnail:n(6)}],["HTC_ONE_M8",{label:"HTC One M8",thumbnail:n(6)}],["HTC_ONE_M9",{label:"HTC One M9",thumbnail:n(6)}],["HTC_ONE",{label:"HTC One",thumbnail:n(6)}],["HTC_10",{label:"HTC 10",thumbnail:n(6)}],["HTC_U_11",{label:"HTC U 11",thumbnail:n(6)}],["HTC_U_11_PLUS",{label:"HTC U 11+",thumbnail:n(6)}],["HTC_U_ULTRA",{label:"HTC U Ultra",thumbnail:n(6)}],["HTC_U_PLAY",{label:"HTC U Play",thumbnail:n(6)}],["HUAWEI_HONOR_8",{label:"Huawei Honor 8",thumbnail:n(6)}],["HUAWEI_HONOR_8_PRO",{label:"Huawei Honor 8 Pro",thumbnail:n(6)}],["HUAWEI_MATE_9",{label:"Huawei Mate 9",thumbnail:n(6)}],["HUAWEI_P9",{label:"Huawei P9",thumbnail:n(6)}],["HUAWEI_P10",{label:"Huawei P10",thumbnail:n(6)}],["HUAWEI_P10_PLUS",{label:"Huawei P10 Plus",thumbnail:n(6)}],["HUAWEI_P10_LITE",{label:"Huawei P10 Lite",thumbnail:n(6)}],["HUAWEI_P8_LITE",{label:"Huawei P8 Lite",thumbnail:n(6)}],["HUAWEI_HONOR_7X",{label:"Huawei Honor 7X",thumbnail:n(6)}],["HUAWEI_HONOR_9",{label:"Huawei Honor 9",thumbnail:n(6)}],["HUAWEI_HONOR_VIEW_10",{label:"Huawei Honor View 10",thumbnail:n(6)}],["HUAWEI_MATE_10",{label:"Huawei Mate 10",thumbnail:n(6)}],["HUAWEI_MATE_10_LITE",{label:"Huawei Mate 10 Lite",thumbnail:n(6)}],["HUAWEI_MATE_10_PRO",{label:"Huawei Mate 10 Pro",thumbnail:n(6)}],["PH_1",{label:"Essential Phone",thumbnail:n(6)}],["LGMS345",{label:"LG Leon LTE",thumbnail:n(6)}],["LG_D800",{label:"LG G2",thumbnail:n(6)}],["LG_D850",{label:"LG G3",thumbnail:n(6)}],["VS985_4G",{label:"LG G3 (CDMA)",thumbnail:n(6)}],["LG_H815",{label:"LG G4",thumbnail:n(6)}],["LG_H831",{label:"LG G5",thumbnail:n(6)}],["LG_LS993",{label:"LG G6",thumbnail:n(6)}],["LG_P769",{label:"LG Optimus L9",thumbnail:n(6)}],["LGMS323",{label:"LG Optimus L70",thumbnail:n(6)}],["LGLS996",{label:"LG G Flex2",thumbnail:n(6)}],["LG_M250",{label:"LG K10 (2017)",thumbnail:n(6)}],["LG_H900",{label:"LG V10",thumbnail:n(6)}],["LG_H910",{label:"LG V20",thumbnail:n(6)}],["LG_H930",{label:"LG V30",thumbnail:n(6)}],["4560MMX",{label:"Micromax 4560MMX",thumbnail:n(6)}],["MICROMAX_A250",{label:"Micromax A250",thumbnail:n(6)}],["MICROMAX_AQ4501",{label:"Micromax AQ4501",thumbnail:n(6)}],["MICROMAX_C1",{label:"Micromax Canvas 1",thumbnail:n(6)}],["MICROMAX_HS2",{label:"Micromax Canvas Infinity",thumbnail:n(6)}],["MICROMAX_BHARAT_5",{label:"Micromax Bharat 5",thumbnail:n(6)}],["BBA100_2",{label:"Blackberry DTEK60",thumbnail:n(6)}],["BBD100_1",{label:"Blackberry Motion",thumbnail:n(6)}],["XT830C",{label:"Straight Talk Moto E (XT830C)",thumbnail:n(6)}],["XT1021",{label:"Motorola Moto E",thumbnail:n(6)}],["XT1023",{label:"Motorola Moto E",thumbnail:n(6)}],["XT1028",{label:"Motorola Moto G",thumbnail:n(6)}],["XT1034",{label:"Motorola Moto G",thumbnail:n(6)}],["XT1053",{label:"Motorola Moto X",thumbnail:n(6)}],["XT1562",{label:"Motorola Moto X Play",thumbnail:n(6)}],["XT1063",{label:"Motorola Moto G 2nd Gen",thumbnail:n(6)}],["XT1064",{label:"Motorola Moto G 2nd Gen",thumbnail:n(6)}],["XT1676",{label:"Motorola Moto G5",thumbnail:n(6)}],["XT1686",{label:"Motorola Moto G5 Plus",thumbnail:n(6)}],["XT1092",{label:"Motorola Moto X 2nd Gen",thumbnail:n(6)}],["XT1095",{label:"Motorola Moto X 2nd Gen Pure Edition",thumbnail:n(6)}],["XT1650",{label:"Motorola Moto Z",thumbnail:n(6)}],["XT1710_02",{label:"Motorola Moto Z2 Play",thumbnail:n(6)}],["XT1789_05",{label:"Motorola Moto Z2 Force",thumbnail:n(6)}],["MOTO_X4",{label:"Motorola Moto X4",thumbnail:n(6)}],["NEXUS_9",{label:"Nexus 9",thumbnail:n(6)}],["NEXUS_7",{label:"Nexus 7",thumbnail:n(6)}],["NEXUS_6P",{label:"Nexus 6P",thumbnail:n(6)}],["NEXUS_5X",{label:"Nexus 5X",thumbnail:n(6)}],["NEXUS_5_",{label:"Nexus 5",thumbnail:n(6)}],["NEXUS_4",{label:"Nexus 4",thumbnail:n(6)}],["NEXUS_6_",{label:"Nexus 6",thumbnail:n(6)}],["NEXUS_S",{label:"Nexus S",thumbnail:n(6)}],["A0001",{label:"OnePlus One",thumbnail:n(6)}],["A5000",{label:"OnePlus 5",thumbnail:n(6)}],["A5010",{label:"OnePlus 5T",thumbnail:n(6)}],["ONE_E1005",{label:"OnePlus One (E1005)",thumbnail:n(6)}],["ONE_A2005",{label:"OnePlus 2",thumbnail:n(6)}],["ONE_A300",{label:"OnePlus 3",thumbnail:n(6)}],["ONE_A3010",{label:"OnePlus 3T",thumbnail:n(6)}],["PIXEL",{label:"Pixel",thumbnail:n(6)}],["PIXEL_XL",{label:"Pixel XL",thumbnail:n(6)}],["PIXEL_2",{label:"Pixel 2",thumbnail:n(6)}],["PIXEL_2_XL",{label:"Pixel 2 XL",thumbnail:n(6)}],["RAZER_PHONE",{label:"Razer Phone",thumbnail:n(6)}],["GALAXY_NEXUS",{label:"Samsung Galaxy Nexus",thumbnail:n(6)}],["GT_I9082",{label:"Samsung Galaxy Grand",thumbnail:n(6)}],["SM_G360",{label:"Samsung Galaxy Core Prime LTE",thumbnail:n(6)}],["SGH_T399",{label:"Samsung Galaxy Light",thumbnail:n(6)}],["GT_I9300",{label:"Samsung Galaxy S3",thumbnail:n(6)}],["GT_I950",{label:"Samsung Galaxy S4",thumbnail:n(6)}],["GT_I9195",{label:"Samsung Galaxy S4 Mini",thumbnail:n(6)}],["SPH_L520",{label:"Samsung Galaxy S4 Mini",thumbnail:n(6)}],["SM_G900",{label:"Samsung Galaxy S5",thumbnail:n(6)}],["SM_G800",{label:"Samsung Galaxy S5 Mini",thumbnail:n(6)}],["SM_G906",{label:"Samsung Galaxy S5 Prime",thumbnail:n(6)}],["SM_T535",{label:"Samsung Galaxy Tab 4 10.1",thumbnail:n(6)}],["SPH_D710",{label:"Samsung Galaxy S2 Epic 4G Touch",thumbnail:n(6)}],["SM_G130",{label:"Samsung Galaxy Young 2 Duos",thumbnail:n(6)}],["SM_G920",{label:"Samsung Galaxy S6",thumbnail:n(6)}],["SM_G925",{label:"Samsung Galaxy S6 Edge",thumbnail:n(6)}],["SM_G928",{label:"Samsung Galaxy S6 edge+ (SM-G928I)",thumbnail:n(6)}],["SM_G930",{label:"Samsung Galaxy S7",thumbnail:n(6)}],["SM_G935",{label:"Samsung Galaxy S7 Edge",thumbnail:n(6)}],["SM_G950",{label:"Samsung Galaxy S8",thumbnail:n(6)}],["SM_G955",{label:"Samsung Galaxy S8+",thumbnail:n(6)}],["SM_G960",{label:"Samsung Galaxy S9",thumbnail:n(6)}],["SM_G965",{label:"Samsung Galaxy S9+",thumbnail:n(6)}],["SM_T230",{label:"Samsung Galaxy Tab 4",thumbnail:n(6)}],["SGH_I717",{label:"Samsung Galaxy Note",thumbnail:n(6)}],["GT_N7100",{label:"Samsung Galaxy Note 2",thumbnail:n(6)}],["SCH_I605",{label:"Samsung Galaxy Note 2",thumbnail:n(6)}],["SM_N900",{label:"Samsung Galaxy Note 3",thumbnail:n(6)}],["SM_N910",{label:"Samsung Galaxy Note 4",thumbnail:n(6)}],["SM_N920",{label:"Samsung Galaxy Note 5",thumbnail:n(6)}],["SM_N930",{label:"Samsung Galaxy Note 7",thumbnail:n(6)}],["SM_N935",{label:"Samsung Galaxy Note FE",thumbnail:n(6)}],["SM_A320",{label:"Samsung Galaxy A3",thumbnail:n(6)}],["SM_A520",{label:"Samsung Galaxy A5",thumbnail:n(6)}],["SM_A720",{label:"Samsung Galaxy A7",thumbnail:n(6)}],["SM_A530",{label:"Samsung Galaxy A8",thumbnail:n(6)}],["SM_A730",{label:"Samsung Galaxy A8+",thumbnail:n(6)}],["SM_C5000",{label:"Samsung Galaxy C5",thumbnail:n(6)}],["SM_C5010",{label:"Samsung Galaxy C5 Pro",thumbnail:n(6)}],["SM_C7000",{label:"Samsung Galaxy C7",thumbnail:n(6)}],["SM_C701",{label:"Samsung Galaxy C7 Pro",thumbnail:n(6)}],["SM_C900",{label:"Samsung Galaxy C9 Pro",thumbnail:n(6)}],["GT_N5110",{label:"Samsung Galaxy Note 8",thumbnail:n(6)}],["SM_J530",{label:"Samsung Galaxy J5",thumbnail:n(6)}],["SM_G570",{label:"Samsung Galaxy J5 Prime",thumbnail:n(6)}],["SM_S727",{label:"Samsung Galaxy J7",thumbnail:n(6)}],["SM_J701",{label:"Samsung Galaxy J7 Nxt",thumbnail:n(6)}],["SM_J730",{label:"Samsung Galaxy J7 Pro",thumbnail:n(6)}],["SM_G610",{label:"Samsung Galaxy J7 Prime",thumbnail:n(6)}],["SM_G615",{label:"Samsung Galaxy J7 Max",thumbnail:n(6)}],["C6903",{label:"Sony Xperia Z1",thumbnail:n(6)}],["D6653",{label:"Sony Xperia Z3",thumbnail:n(6)}],["E6653",{label:"Sony Xperia Z5",thumbnail:n(6)}],["E6853",{label:"Sony Xperia Z5 Premium",thumbnail:n(6)}],["F5121",{label:"Sony Xperia X",thumbnail:n(6)}],["F833",{label:"Sony Xperia XZ",thumbnail:n(6)}],["SGP321",{label:"Sony Xperia Tablet Z",thumbnail:n(6)}],["G3121",{label:"Sony Xperia XA1",thumbnail:n(6)}],["G3421",{label:"Sony Xperia XA1+",thumbnail:n(6)}],["H3113",{label:"Sony Xperia XA2",thumbnail:n(6)}],["H4233",{label:"Sony Xperia XA2 Ultra",thumbnail:n(6)}],["G8141",{label:"Sony Xperia XZ Premium",
thumbnail:n(6)}],["G8341",{label:"Sony Xperia XZ1",thumbnail:n(6)}],["G8441",{label:"Sony Xperia XZ1 Compact",thumbnail:n(6)}],["H8216",{label:"Sony Xperia XZ2",thumbnail:n(6)}],["H8314",{label:"Sony Xperia XZ2 Compact",thumbnail:n(6)}],["G8231",{label:"Sony Xperia XZs",thumbnail:n(6)}],["XIAOMI_MI_5",{label:"Xiaomi Mi 5",thumbnail:n(6)}],["XIAOMI_MI_6",{label:"Xiaomi Mi 6",thumbnail:n(6)}],["XIAOMI_REDMI_3",{label:"Xiaomi Redmi 3",thumbnail:n(6)}],["XIAOMI_MI_NOTE_3",{label:"Xiaomi Mi Note 3",thumbnail:n(6)}],["XIAOMI_REDMI_NOTE_5A",{label:"Xiaomi Redmi Note 5A",thumbnail:n(6)}],["XIAOMI_Redmi_4A",{label:"Xiaomi Redmi 4A",thumbnail:n(6)}],["XIAOMI_MIX_2",{label:"Xiaomi Mi Mix 2",thumbnail:n(6)}],["ZTE_AXON_7",{label:"ZTE Axon 7",thumbnail:n(6)}],["ZTE_BLADE_L2",{label:"ZTE Blade L2",thumbnail:n(6)}],["DROID_RAZR",{label:"Droid Razr",thumbnail:n(6)}],["X909",{label:"OPPO Find 5",thumbnail:n(6)}],["CPH1727",{label:"OPPO F5",thumbnail:n(6)}],["CPH1725",{label:"OPPO F5 Youth",thumbnail:n(6)}],["CPH1729",{label:"OPPO A83",thumbnail:n(6)}],["CPH1717",{label:"OPPO A71",thumbnail:n(6)}],["THL_5000",{label:"ThL 5000",thumbnail:n(6)}],["ALCATEL_ONE_TOUCH_FIERCE",{label:"Alcatel One Touch Fierce",thumbnail:n(6)}],["ALCATEL_IDOL_4",{label:"Alcatel Idol 4",thumbnail:n(6)}],["ALCATEL_IDOL_4S",{label:"Alcatel Idol 4S",thumbnail:n(6)}],["ASUS_Z00AD",{label:"Asus ZenFone 2",thumbnail:n(6)}],["ASUS_Z012S",{label:"Asus ZenFone 3",thumbnail:n(6)}],["ASUS_X018D",{label:"Asus ZenFone Max+ (M1)",thumbnail:n(6)}],["ASUS_T00I",{label:"Asus ZenFone 4",thumbnail:n(6)}],["ASUS_X00ID",{label:"Asus ZenFone 4 Max",thumbnail:n(6)}],["ASUS_Z01GD",{label:"Asus ZenFone 4 Pro",thumbnail:n(6)}],["ASUS_T00Q",{label:"Asus Zenfone 5",thumbnail:n(6)}],["LENOVO_P2",{label:"Lenovo P2",thumbnail:n(6)}],["VIVO_1716",{label:"Vivo V7",thumbnail:n(6)}],["VIVO_1718",{label:"Vivo V7+",thumbnail:n(6)}],["TA_1028",{label:"Nokia 3 (2017)",thumbnail:n(6)}],["TA_1053",{label:"Nokia 5 (2017)",thumbnail:n(6)}],["TA_1000",{label:"Nokia 6 (2017)",thumbnail:n(6)}],["NOKIA_7_PLUS",{label:"Nokia 7+",thumbnail:n(6)}],["TA_1004",{label:"Nokia 8",thumbnail:n(6)}],["NOKIA_8_SIROCCO",{label:"Nokia 8 Sirocco",thumbnail:n(6)}]])},,,,function(e,t,n){var i,r;/*!
    Copyright (c) 2017 Jed Watson.
    Licensed under the MIT License (MIT), see
    http://jedwatson.github.io/classnames
  */
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)&&i.length){var o=n.apply(null,i);o&&e.push(o)}else if("object"===r)for(var s in i)a.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?(n.default=n,e.exports=n):(i=[],r=function(){return n}.apply(t,i),!(void 0!==r&&(e.exports=r)))}()},function(e,t,n){function i(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}var r=n(326),a={};for(var o in r)r.hasOwnProperty(o)&&(a[r[o]]=o);var s=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var l in s)if(s.hasOwnProperty(l)){if(!("channels"in s[l]))throw new Error("missing channels property: "+l);if(!("labels"in s[l]))throw new Error("missing channel labels property: "+l);if(s[l].labels.length!==s[l].channels)throw new Error("channel and label counts mismatch: "+l);var u=s[l].channels,c=s[l].labels;delete s[l].channels,delete s[l].labels,Object.defineProperty(s[l],"channels",{value:u}),Object.defineProperty(s[l],"labels",{value:c})}s.rgb.hsl=function(e){var t,n,i,r=e[0]/255,a=e[1]/255,o=e[2]/255,s=Math.min(r,a,o),l=Math.max(r,a,o),u=l-s;return l===s?t=0:r===l?t=(a-o)/u:a===l?t=2+(o-r)/u:o===l&&(t=4+(r-a)/u),t=Math.min(60*t,360),t<0&&(t+=360),i=(s+l)/2,n=l===s?0:i<=.5?u/(l+s):u/(2-l-s),[t,100*n,100*i]},s.rgb.hsv=function(e){var t,n,i,r=e[0],a=e[1],o=e[2],s=Math.min(r,a,o),l=Math.max(r,a,o),u=l-s;return n=0===l?0:u/l*1e3/10,l===s?t=0:r===l?t=(a-o)/u:a===l?t=2+(o-r)/u:o===l&&(t=4+(r-a)/u),t=Math.min(60*t,360),t<0&&(t+=360),i=l/255*1e3/10,[t,n,i]},s.rgb.hwb=function(e){var t=e[0],n=e[1],i=e[2],r=s.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(n,i));return i=1-1/255*Math.max(t,Math.max(n,i)),[r,100*a,100*i]},s.rgb.cmyk=function(e){var t,n,i,r,a=e[0]/255,o=e[1]/255,s=e[2]/255;return r=Math.min(1-a,1-o,1-s),t=(1-a-r)/(1-r)||0,n=(1-o-r)/(1-r)||0,i=(1-s-r)/(1-r)||0,[100*t,100*n,100*i,100*r]},s.rgb.keyword=function(e){var t=a[e];if(t)return t;var n,o=1/0;for(var s in r)if(r.hasOwnProperty(s)){var l=r[s],u=i(e,l);u<o&&(o=u,n=s)}return n},s.keyword.rgb=function(e){return r[e]},s.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var r=.4124*t+.3576*n+.1805*i,a=.2126*t+.7152*n+.0722*i,o=.0193*t+.1192*n+.9505*i;return[100*r,100*a,100*o]},s.rgb.lab=function(e){var t,n,i,r=s.rgb.xyz(e),a=r[0],o=r[1],l=r[2];return a/=95.047,o/=100,l/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,t=116*o-16,n=500*(a-o),i=200*(o-l),[t,n,i]},s.hsl.rgb=function(e){var t,n,i,r,a,o=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return a=255*l,[a,a,a];n=l<.5?l*(1+s):l+s-l*s,t=2*l-n,r=[0,0,0];for(var u=0;u<3;u++)i=o+1/3*-(u-1),i<0&&i++,i>1&&i--,a=6*i<1?t+6*(n-t)*i:2*i<1?n:3*i<2?t+(n-t)*(2/3-i)*6:t,r[u]=255*a;return r},s.hsl.hsv=function(e){var t,n,i=e[0],r=e[1]/100,a=e[2]/100,o=r,s=Math.max(a,.01);return a*=2,r*=a<=1?a:2-a,o*=s<=1?s:2-s,n=(a+r)/2,t=0===a?2*o/(s+o):2*r/(a+r),[i,100*t,100*n]},s.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,a=t-Math.floor(t),o=255*i*(1-n),s=255*i*(1-n*a),l=255*i*(1-n*(1-a));switch(i*=255,r){case 0:return[i,l,o];case 1:return[s,i,o];case 2:return[o,i,l];case 3:return[o,s,i];case 4:return[l,o,i];case 5:return[i,o,s]}},s.hsv.hsl=function(e){var t,n,i,r=e[0],a=e[1]/100,o=e[2]/100,s=Math.max(o,.01);return i=(2-a)*o,t=(2-a)*s,n=a*s,n/=t<=1?t:2-t,n=n||0,i/=2,[r,100*n,100*i]},s.hwb.rgb=function(e){var t,n,i,r,a=e[0]/360,o=e[1]/100,s=e[2]/100,l=o+s;l>1&&(o/=l,s/=l),t=Math.floor(6*a),n=1-s,i=6*a-t,0!==(1&t)&&(i=1-i),r=o+i*(n-o);var u,c,d;switch(t){default:case 6:case 0:u=n,c=r,d=o;break;case 1:u=r,c=n,d=o;break;case 2:u=o,c=n,d=r;break;case 3:u=o,c=r,d=n;break;case 4:u=r,c=o,d=n;break;case 5:u=n,c=o,d=r}return[255*u,255*c,255*d]},s.cmyk.rgb=function(e){var t,n,i,r=e[0]/100,a=e[1]/100,o=e[2]/100,s=e[3]/100;return t=1-Math.min(1,r*(1-s)+s),n=1-Math.min(1,a*(1-s)+s),i=1-Math.min(1,o*(1-s)+s),[255*t,255*n,255*i]},s.xyz.rgb=function(e){var t,n,i,r=e[0]/100,a=e[1]/100,o=e[2]/100;return t=3.2406*r+a*-1.5372+o*-.4986,n=r*-.9689+1.8758*a+.0415*o,i=.0557*r+a*-.204+1.057*o,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,t=Math.min(Math.max(0,t),1),n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),[255*t,255*n,255*i]},s.xyz.lab=function(e){var t,n,i,r=e[0],a=e[1],o=e[2];return r/=95.047,a/=100,o/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,t=116*a-16,n=500*(r-a),i=200*(a-o),[t,n,i]},s.lab.xyz=function(e){var t,n,i,r=e[0],a=e[1],o=e[2];n=(r+16)/116,t=a/500+n,i=n-o/200;var s=Math.pow(n,3),l=Math.pow(t,3),u=Math.pow(i,3);return n=s>.008856?s:(n-16/116)/7.787,t=l>.008856?l:(t-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,t*=95.047,n*=100,i*=108.883,[t,n,i]},s.lab.lch=function(e){var t,n,i,r=e[0],a=e[1],o=e[2];return t=Math.atan2(o,a),n=360*t/2/Math.PI,n<0&&(n+=360),i=Math.sqrt(a*a+o*o),[r,i,n]},s.lch.lab=function(e){var t,n,i,r=e[0],a=e[1],o=e[2];return i=o/360*2*Math.PI,t=a*Math.cos(i),n=a*Math.sin(i),[r,t,n]},s.rgb.ansi16=function(e){var t=e[0],n=e[1],i=e[2],r=1 in arguments?arguments[1]:s.rgb.hsv(e)[2];if(r=Math.round(r/50),0===r)return 30;var a=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===r&&(a+=60),a},s.hsv.ansi16=function(e){return s.rgb.ansi16(s.hsv.rgb(e),e[2])},s.rgb.ansi256=function(e){var t=e[0],n=e[1],i=e[2];if(t===n&&n===i)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;var r=16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5);return r},s.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];var n=.5*(~~(e>50)+1),i=(1&t)*n*255,r=(t>>1&1)*n*255,a=(t>>2&1)*n*255;return[i,r,a]},s.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}e-=16;var n,i=Math.floor(e/36)/5*255,r=Math.floor((n=e%36)/6)/5*255,a=n%6/5*255;return[i,r,a]},s.rgb.hex=function(e){var t=((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2])),n=t.toString(16).toUpperCase();return"000000".substring(n.length)+n},s.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map(function(e){return e+e}).join(""));var i=parseInt(n,16),r=i>>16&255,a=i>>8&255,o=255&i;return[r,a,o]},s.rgb.hcg=function(e){var t,n,i=e[0]/255,r=e[1]/255,a=e[2]/255,o=Math.max(Math.max(i,r),a),s=Math.min(Math.min(i,r),a),l=o-s;return t=l<1?s/(1-l):0,n=l<=0?0:o===i?(r-a)/l%6:o===r?2+(a-i)/l:4+(i-r)/l+4,n/=6,n%=1,[360*n,100*l,100*t]},s.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,i=1,r=0;return i=n<.5?2*t*n:2*t*(1-n),i<1&&(r=(n-.5*i)/(1-i)),[e[0],100*i,100*r]},s.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,i=t*n,r=0;return i<1&&(r=(n-i)/(1-i)),[e[0],100*i,100*r]},s.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,i=e[2]/100;if(0===n)return[255*i,255*i,255*i];var r=[0,0,0],a=t%1*6,o=a%1,s=1-o,l=0;switch(Math.floor(a)){case 0:r[0]=1,r[1]=o,r[2]=0;break;case 1:r[0]=s,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=o;break;case 3:r[0]=0,r[1]=s,r[2]=1;break;case 4:r[0]=o,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=s}return l=(1-n)*i,[255*(n*r[0]+l),255*(n*r[1]+l),255*(n*r[2]+l)]},s.hcg.hsv=function(e){var t=e[1]/100,n=e[2]/100,i=t+n*(1-t),r=0;return i>0&&(r=t/i),[e[0],100*r,100*i]},s.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100,i=n*(1-t)+.5*t,r=0;return i>0&&i<.5?r=t/(2*i):i>=.5&&i<1&&(r=t/(2*(1-i))),[e[0],100*r,100*i]},s.hcg.hwb=function(e){var t=e[1]/100,n=e[2]/100,i=t+n*(1-t);return[e[0],100*(i-t),100*(1-i)]},s.hwb.hcg=function(e){var t=e[1]/100,n=e[2]/100,i=1-n,r=i-t,a=0;return r<1&&(a=(i-r)/(1-r)),[e[0],100*r,100*a]},s.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},s.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},s.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},s.gray.hsl=s.gray.hsv=function(e){return[0,0,e[0]]},s.gray.hwb=function(e){return[0,100,e[0]]},s.gray.cmyk=function(e){return[0,0,0,e[0]]},s.gray.lab=function(e){return[e[0],0,0]},s.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=(t<<16)+(t<<8)+t,i=n.toString(16).toUpperCase();return"000000".substring(i.length)+i},s.rgb.gray=function(e){var t=(e[0]+e[1]+e[2])/3;return[t/255*100]}},function(e,t){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";function n(e,t,n){t="number"==typeof t?l(t.toString()):"string"==typeof t?l(t):t;var i=function(e,t,n,r){var a,o=t[r];return t.length>r?(Array.isArray(e)?(o=s(o,e),a=e.slice()):a=Object.assign({},e),a[o]=i(void 0!==e[o]?e[o]:{},t,n,r+1),a):"function"==typeof n?n(e):n};return i(e,t,n,0)}function i(e,t,n){t="number"==typeof t?l(t.toString()):"string"==typeof t?l(t):t;for(var i=0;i<t.length;i++){if("object"!=typeof e)return n;var r=t[i];Array.isArray(e)&&"$end"===r&&(r=e.length-1),e=e[r]}return"undefined"==typeof e?n:e}function r(e,t){t="number"==typeof t?l(t.toString()):"string"==typeof t?l(t):t;var n=function(e,t,i){var r,a=t[i];return"object"!=typeof e||!Array.isArray(e)&&void 0===e[a]?e:t.length-1>i?(Array.isArray(e)?(a=s(a,e),r=e.slice()):r=Object.assign({},e),r[a]=n(e[a],t,i+1),r):(Array.isArray(e)?(a=s(a,e),r=[].concat(e.slice(0,a),e.slice(a+1))):(r=Object.assign({},e),delete r[a]),r)};return n(e,t,0)}function a(e,t){var r=i(e,t);return n(e,t,!Boolean(r))}function o(e,t,r){var a=i(e,t);if("object"==typeof a){if(Array.isArray(a))return n(e,t,a.concat(r));if(null===a)return n(e,t,r);var o=Object.assign({},a,r);return n(e,t,o)}return"undefined"==typeof a?n(e,t,r):e}function s(e,t){if("$end"===e&&(e=Math.max(t.length-1,0)),!/^\+?\d+$/.test(e))throw new Error("Array index '"+e+"' has to be an integer");return parseInt(e)}function l(e){return e.split(".").reduce(function(e,t,n,i){var r=n>0&&i[n-1];return r&&/(?:^|[^\\])\\$/.test(r)?(e.pop(),e.push(r.slice(0,-1)+"."+t)):e.push(t),e},[])}e.exports={set:n,get:i,delete:r,toggle:a,merge:o}},,function(e,t,n){"use strict";function i(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}i(),e.exports=n(637)},function(e,t,n){"use strict";e.exports=n(639)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.warning=t.storeDidChange=t.getTranslationsForLanguage=t.validateOptions=t.objectValuesToString=t.getIndexForLanguageCode=t.templater=t.hasHtmlTags=t.getLocalizedElement=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n(16),s=i(o),l=n(189),u=(t.getLocalizedElement=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l.defaultTranslateOptions,a=function(){return r.missingTranslationCallback&&r.missingTranslationCallback(e,i.code),r.showMissingTranslationMsg===!1?"":c(r.missingTranslationMsg||"",{key:e,code:i.code})},o=t[e]||a(),d=c(o,n);return r.renderInnerHtml&&u(d)?s.default.createElement("span",{dangerouslySetInnerHTML:{__html:d}}):d},t.hasHtmlTags=function(e){var t=/(&[^\s]*;|<\/?\w+((\s+\w+(\s*=\s*(?:".*?"|'.*?'|[\^'">\s]+))?)+\s*|\s*)\/?>)/;return e.search(t)>=0}),c=t.templater=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in t){var i="\\${\\s*"+n+"\\s*}",r=new RegExp(i,"gmi");e=e.replace(r,t[n])}return e},d=t.getIndexForLanguageCode=function(e,t){return t.map(function(e){return e.code}).indexOf(e)};t.objectValuesToString=function(e){return Object.values?Object.values(e).toString():Object.keys(e).map(function(t){return e[t].toString()}).toString()},t.validateOptions=function(e){if(void 0!==e.translationTransform&&"function"!=typeof e.translationTransform)throw new Error("react-localize-redux: Invalid translationTransform function.");return e},t.getTranslationsForLanguage=function(e,t,n){if(!e)return{};var i=e.code,o=d(i,t);return Object.keys(n).reduce(function(e,t){return a({},e,r({},t,n[t][o]))},{})},t.storeDidChange=function(e,t){function n(){var n=e.getState();n!==i&&(t(i),i=n)}var i=void 0,r=e.subscribe(n);return n(),r},t.warning=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function r(e){var t=[];return f.forEach(function(n){e[n]&&t.push(n)}),t}function a(e,t){var n={};if(t.indexOf("client")>-1&&(n.client={top:e.clientTop,left:e.clientLeft,width:e.clientWidth,height:e.clientHeight}),t.indexOf("offset")>-1&&(n.offset={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}),t.indexOf("scroll")>-1&&(n.scroll={top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}),t.indexOf("bounds")>-1){var i=e.getBoundingClientRect();n.bounds={top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height}}if(t.indexOf("margin")>-1){var r=getComputedStyle(e);n.margin={top:r?parseInt(r.marginTop):0,right:r?parseInt(r.marginRight):0,bottom:r?parseInt(r.marginBottom):0,left:r?parseInt(r.marginLeft):0}}return n}function o(e){return function(t){var n,i;return i=n=function(n){function i(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=n.call.apply(n,[this].concat(o))||this,t.state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},t._animationFrameID=null,t._resizeObserver=null,t._node=null,t.measure=function(n){var i=a(t._node,e||r(t.props));n&&(i.entry=n[0].contentRect),t._animationFrameID=window.requestAnimationFrame(function(){null!==t._resizeObserver&&(t.setState({contentRect:i}),"function"==typeof t.props.onResize&&t.props.onResize(i))})},t._handleRef=function(e){null!==t._resizeObserver&&null!==t._node&&t._resizeObserver.unobserve(t._node),t._node=e,null!==t._resizeObserver&&null!==t._node&&t._resizeObserver.observe(t._node);var n=t.props.innerRef;n&&("function"==typeof n?n(t._node):n.current=t._node)},t}u(i,n);var o=i.prototype;return o.componentDidMount=function(){this._resizeObserver=new h(this.measure),null!==this._node&&(this._resizeObserver.observe(this._node),"function"==typeof this.props.onResize&&this.props.onResize(a(this._node,e||r(this.props))))},o.componentWillUnmount=function(){null!==this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null),window.cancelAnimationFrame(this._animationFrameID)},o.render=function(){var e=this.props,n=(e.innerRef,e.onResize,l(e,["innerRef","onResize"]));return c.createElement(t,s({},n,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))},i}(c.Component),n.propTypes={client:d.bool,offset:d.bool,scroll:d.bool,bounds:d.bool,margin:d.bool,innerRef:d.oneOfType([d.object,d.func]),onResize:d.func},i}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(162)),l=i(n(163)),u=i(n(281)),c=n(16),d=i(n(46)),h=i(n(661)),f=["client","offset","scroll","bounds","margin"],_=o()(function(e){var t=e.measure,n=e.measureRef,i=e.contentRect,r=e.children;return r({measure:t,measureRef:n,contentRect:i})});_.displayName="Measure",_.propTypes.children=d.func,t.default=_,t.withContentRect=o},function(e,t,n){"use strict";function i(e,t){var n=e[1];return[t.payload,n+1]}function r(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,a=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,o=n.methodName,v=void 0===o?"connectAdvanced":o,y=n.renderCountProp,b=void 0===y?void 0:y,E=n.shouldHandleStateChanges,w=void 0===E||E,S=n.storeKey,T=void 0===S?"store":S,x=n.withRef,C=void 0!==x&&x,M=n.forwardRef,P=void 0!==M&&M,I=n.context,R=void 0===I?_.ReactReduxContext:I,k=(0,l.default)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);(0,c.default)(void 0===b,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),(0,c.default)(!C,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var D="To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";(0,c.default)("store"===T,"storeKey has been removed and does not do anything. "+D);var V=R;return function(t){function n(t){return e(t.dispatch,y)}function r(e){var r=(0,d.useMemo)(function(){var t=e.forwardedRef,n=(0,l.default)(e,["forwardedRef"]);return[e.context,t,n]},[e]),a=r[0],o=r[1],u=r[2],v=(0,d.useMemo)(function(){return a&&a.Consumer&&(0,h.isContextConsumer)(d.default.createElement(a.Consumer,null))?a:V},[a,V]),y=(0,d.useContext)(v),b=Boolean(e.store),E=Boolean(y)&&Boolean(y.store);(0,c.default)(b||E,'Could not find "store" in the context of '+('"'+_+'". Either wrap the root component in a <Provider>, ')+"or pass a custom React context provider to <Provider> and the corresponding "+("React context consumer to "+_+" in connect options."));var T=e.store||y.store,x=(0,d.useMemo)(function(){return n(T)},[T]),C=(0,d.useMemo)(function(){if(!w)return m;var e=new f.default(T,b?null:y.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[T,b,y]),M=C[0],P=C[1],I=(0,d.useMemo)(function(){return b?y:(0,s.default)({},y,{subscription:M})},[b,y,M]),R=(0,d.useReducer)(i,p,A),k=R[0],D=k[0],B=R[1];if(D&&D.error)throw D.error;var O=(0,d.useRef)(),N=(0,d.useRef)(u),L=(0,d.useRef)(),F=(0,d.useRef)(!1),U=S(function(){return L.current&&u===N.current?L.current:x(T.getState(),u)},[T,D,u]);g(function(){N.current=u,O.current=U,F.current=!1,L.current&&(L.current=null,P())}),g(function(){if(w){var e=!1,t=null,n=function(){if(!e){var n,i,r=T.getState();try{n=x(r,N.current)}catch(e){i=e,t=e}i||(t=null),n===O.current?F.current||P():(O.current=n,L.current=n,F.current=!0,B({type:"STORE_UPDATED",payload:{latestStoreState:r,error:i}}))}};M.onStateChange=n,M.trySubscribe(),n();var i=function(){if(e=!0,M.tryUnsubscribe(),t)throw t};return i}},[T,M,x]);var H=(0,d.useMemo)(function(){return d.default.createElement(t,(0,s.default)({},U,{ref:o}))},[o,t,U]),G=(0,d.useMemo)(function(){return w?d.default.createElement(v.Provider,{value:I},H):H},[v,H,I]);return G}var o=t.displayName||t.name||"Component",_=a(o),y=(0,s.default)({},k,{getDisplayName:a,methodName:v,renderCountProp:b,shouldHandleStateChanges:w,storeKey:T,displayName:_,wrappedComponentName:o,WrappedComponent:t}),E=k.pure,S=E?d.useMemo:function(e){return e()},x=E?d.default.memo(r):r;if(x.WrappedComponent=t,x.displayName=_,P){var C=d.default.forwardRef(function(e,t){return d.default.createElement(x,(0,s.default)({},e,{forwardedRef:t}))});return C.displayName=_,C.WrappedComponent=t,(0,u.default)(C,t)}return(0,u.default)(x,t)}}var a=n(282),o=n(47);t.__esModule=!0,t.default=r;var s=o(n(162)),l=o(n(163)),u=o(n(623)),c=o(n(273)),d=a(n(16)),h=n(360),f=o(n(272)),_=n(190),p=[],m=[null,null],A=function(){return[null,0]},g="undefined"!=typeof window&&"undefined"!=typeof window.document&&"undefined"!=typeof window.document.createElement?d.useLayoutEffect:d.useEffect},function(e,t,n){"use strict";function i(e){return function(t,n){function i(){return r}var r=e(t,n);return i.dependsOnOwnProps=!1,i}}function r(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function a(e,t){return function(t,n){var i=(n.displayName,function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e)});return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=r(e);var a=i(t,n);return"function"==typeof a&&(i.mapToProps=a,i.dependsOnOwnProps=r(a),a=i(t,n)),a},i}}var o=n(47);t.__esModule=!0,t.wrapMapToPropsConstant=i,t.getDependsOnOwnProps=r,t.wrapMapToPropsFunc=a;o(n(369))},function(e,t,n){"use strict";function i(){var e=(0,a.useContext)(s.ReactReduxContext);return(0,o.default)(e,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),e}var r=n(47);t.__esModule=!0,t.useReduxContext=i;var a=n(16),o=r(n(273)),s=n(190)},function(e,t,n){"use strict";function i(){var e=(0,r.useReduxContext)(),t=e.store;return t}t.__esModule=!0,t.useStore=i;var r=n(365)},function(e,t){"use strict";function n(e){e()}t.__esModule=!0,t.getBatch=t.setBatch=void 0;var i=n,r=function(e){return i=e};t.setBatch=r;var a=function(){return i};t.getBatch=a},function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function i(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var o=0;o<i.length;o++)if(!r.call(t,i[o])||!n(e[i[o]],t[i[o]]))return!1;return!0}t.__esModule=!0,t.default=i;var r=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function i(e,t,n){(0,a.default)(e)||(0,o.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")}var r=n(47);t.__esModule=!0,t.default=i;var a=r(n(651)),o=r(n(370))},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(46),u=i(l),c=n(16),d=i(c),h=n(687),f=i(h),_=n(188),p=i(_),m=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props.swipeOptions;this.swipe=(0,f.default)(this.container,e)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.childCount,i=t.swipeOptions;e.childCount!==n&&(this.swipe.kill(),this.swipe=(0,f.default)(this.container,i))}},{key:"componentWillUnmount",value:function(){this.swipe.kill(),this.swipe=void 0}},{key:"next",value:function(){this.swipe.next()}},{key:"prev",value:function(){this.swipe.prev()}},{key:"slide",value:function(){var e;(e=this.swipe).slide.apply(e,arguments)}},{key:"getPos",value:function(){return this.swipe.getPos()}},{key:"getNumSlides",value:function(){return this.swipe.getNumSlides()}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,i=t.className,r=t.style,a=t.children;return d.default.createElement("div",{ref:function(t){return e.container=t},id:n,className:"react-swipe-container "+i,style:r.container},d.default.createElement("div",{style:r.wrapper},d.default.Children.map(a,function(e){if(!e)return null;var t=e.props.style?(0,p.default)({},r.child,e.props.style):r.child;return d.default.cloneElement(e,{style:t})})))}}]),t}(c.Component);m.propTypes={swipeOptions:u.default.shape({startSlide:u.default.number,speed:u.default.number,auto:u.default.number,continuous:u.default.bool,disableScroll:u.default.bool,stopPropagation:u.default.bool,swiping:u.default.func,callback:u.default.func,transitionEnd:u.default.func}),style:u.default.shape({container:u.default.object,wrapper:u.default.object,child:u.default.object}),id:u.default.string,className:u.default.string,childCount:u.default.number},m.defaultProps={swipeOptions:{},style:{container:{overflow:"hidden",visibility:"hidden",position:"relative"},wrapper:{overflow:"hidden",position:"relative"},child:{float:"left",width:"100%",position:"relative",transitionProperty:"transform"}},className:"",childCount:0},t.default=m,e.exports=t.default},,function(e,t,n){var i=n(597);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},,function(e,t,n){var i=n(599);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){e.exports=n.p+"ddf3fca0e6bd6979c64025807f22e84b.jpg"},function(e,t){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),a=i(r),o=n(16),s=(i(o),n(46)),l=(i(s),n(380)),u=i(l),c=n(379),d=i(c),h=n(34),f=i(h),_=n(667),p=i(_),m=f.default.bind(p.default),A=function(e){var t=e.advertisement,n=e.onDismissAdvertisement,i=e.isMobile,r=(e.appWidth,e.appHeight,e.hasMinWidthToCenter),o=e.hasMinHeightToCenter,s=e.hasBottomAddons;return(0,a.default)("div",{className:m({root:!0})},void 0,(0,a.default)("div",{className:m({container:!0,isMobile:i,hasBottomAddons:s,hasMinWidthToCenter:r,hasMinHeightToCenter:o})},void 0,(0,a.default)("div",{className:m({advertisement:!0})},void 0,"image"===t.type&&(0,a.default)(u.default,{payload:t.payload}),"iframe"===t.type&&(0,a.default)(d.default,{payload:t.payload})),(0,a.default)("div",{className:m({bottom:!0})},void 0,(0,a.default)("p",{className:m({bottomText:!0})},void 0,"Advertisement"),(0,a.default)("button",{className:m({dl8Btn:!0,dl8AdvertisementBtn:!0}),title:"Dismiss Advertisement",onClick:n},void 0,(0,a.default)("i",{className:m({dl8Icon:!0,iconCross:!0,dl8AdvertisementIconCross:!0})})))))};t.default=A},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),a=i(r),o=n(16),s=(i(o),n(46)),l=(i(s),n(34)),u=i(l),c=n(668),d=i(c),h=u.default.bind(d.default),f=function(e){var t=e.payload.uri;return(0,a.default)("iframe",{className:h({root:!0}),src:t})};t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(2),d=i(c),h=n(5),f=i(h),_=n(4),p=i(_),m=n(16),A=(i(m),n(46)),g=(i(A),n(381)),v=i(g),y=n(382),b=i(y),E=n(34),w=i(E),S=n(669),T=i(S),x=w.default.bind(T.default),C=(0,a.default)(v.default,{}),M=(0,a.default)(b.default,{}),P=function(e){function t(e){(0,u.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.onLoad=function(){n.setState({imageLoading:!1})},n.onError=function(){console.error("Advertisement image couldn't be loaded, please check the image source"),n.setState({imageHasError:!0})},n.img=void 0,n.state={imageLoading:!0,imageHasError:!1},n}return(0,p.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.payload.uri;this.img=new Image,this.img.onload=this.onLoad,this.img.onerror=this.onError,this.img.src=e}},{key:"componentWillUnmount",value:function(){this.img.onload=null,this.img.onerror=null,this.img=null}},{key:"render",value:function(){var e=this.state,t=e.imageLoading,n=e.imageHasError;
if(n)return C;if(t)return M;var i=this.props.payload,r=i.uri,o=i.adLink,s=i.alt;return(0,a.default)("a",{className:x({imageContainer:!0}),href:o},void 0,(0,a.default)("img",{className:x({image:!0}),src:r,alt:s||"image"}))}}]),t}(m.Component);t.default=P},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),a=i(r),o=n(16),s=(i(o),n(34)),l=i(s),u=n(670),c=i(u),d=l.default.bind(c.default),h=(0,a.default)("p",{},void 0,"The advertisement could not be loaded or is invalid."),f=function(){return(0,a.default)("div",{className:d({root:!0})},void 0,(0,a.default)("i",{className:d({dl8FaultyTag:!0})}),h)};t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),a=i(r),o=n(16),s=(i(o),n(34)),l=i(s),u=n(671),c=i(u),d=l.default.bind(c.default),h=function(){return(0,a.default)("div",{className:d({root:!0})})};t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),a=i(r),o=n(113),s=i(o),l=n(3),u=i(l),c=n(1),d=i(c),h=n(2),f=i(h),_=n(5),p=i(_),m=n(4),A=i(m),g=n(16),v=(i(g),n(46)),y=(i(v),n(14)),b=n(9),E=n(298),w=i(E);n(77);var S=n(34),T=i(S),x=n(673),C=i(x),M=T.default.bind(C.default),P=function(e){function t(e){(0,d.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n._onCameraDirectionChanged=function(e){null!==n._idleTimeoutId&&clearTimeout(n._idleTimeoutId),n._idleTimeoutId=setTimeout(n._checkCameraIdle,2e3),null===n._throttleTimeoutId?(n.setState({heading:e.cameraYaw,idle:!1}),n._throttleTimeoutId=setTimeout(n._throttleHeadingUpdate,60)):n._savedHeading=e.cameraYaw},n._throttleHeadingUpdate=function(){n.setState({heading:n._savedHeading,idle:!1}),n._savedHeading=null,n._throttleTimeoutId=null},n._checkCameraIdle=function(){n._idleTimeoutId=null,n.setState({idle:!0})},n.state={heading:0,idle:!0},n._idleTimeoutId=null,n._throttleTimeoutId=null,n._savedHeading=null,n}return(0,A.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,s.default)(function(){e.listenToCameraLookAt()})}},{key:"listenToCameraLookAt",value:function(){b.Context.eventEmitter?b.Context.eventEmitter.on(w.default.EVENT_CAMERA_LOOK_AT_CHANGED,this._onCameraDirectionChanged):setTimeout(this.listenToCameraLookAt,1e3)}},{key:"componentWillUnmount",value:function(){this._savedHeading=null,null!==this._idleTimeoutId&&(clearTimeout(this._idleTimeoutId),this._idleTimeoutId=null),null!==this._throttleTimeoutId&&(clearTimeout(this._throttleTimeoutId),this._throttleTimeoutId=null),b.Context.eventEmitter&&b.Context.eventEmitter.removeListener(w.default.EVENT_CAMERA_LOOK_AT_CHANGED,this._onCameraDirectionChanged)}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,i=e.onResetClicked,r=e.translate,o=this.state,s=o.heading,l=o.idle;return(0,a.default)("button",{title:r("hud.resetPose"),onClick:i,className:M({dl8Btn:!0,root:!0,active:!l}),style:{width:t+"px",height:n+"px"}},void 0,(0,a.default)("div",{className:M({base:!0})}),(0,a.default)("div",{className:M({fov:!0}),style:{transform:"rotate("+y.MathUtil.radToDeg(s)+"deg)"}},void 0))}}]),t}(g.PureComponent);P.defaultProps={width:32,height:32},t.default=P},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(172),a=i(r),o=n(28),s=i(o),l=n(486),u=i(l),c=n(3),d=i(c),h=n(1),f=i(h),_=n(2),p=i(_),m=n(5),A=i(m),g=n(4),v=i(g),y=n(16),b=i(y),E=n(324),w=i(E);n(49);n(77);var S=n(674),T=i(S),x=function(e){function t(){var e,n,i,r;(0,f.default)(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=i=(0,A.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(o))),i.state={inTransition:!1,inPageTransition:!1,rotationInProgress:!0,playCountdownActive:!1},i._horizontalSwipeTouchStartPos=0,i._horizontalSwipeStartPos=0,i._horizontalSwipePos=0,i._horizontalTS=0,i._horizontalVel=0,i._curItem=0,i._countdownTime=0,i._itemCache=new u.default,i._receivedSwipeMoveEvent=!1,i._handleHorizontalSwipeStart=function(e){i._resetCountdown(),i._horizontalSwipeTouchStartPos=e.changedTouches[0].clientX,i._horizontalSwipeStartPos=i._horizontalSwipePos},i._handleHorizontalSwipeMove=function(e){i._receivedSwipeMoveEvent=!0;var t=i._horizontalSwipeTouchStartPos-e.changedTouches[0].clientX,n=e.timeStamp;i._horizontalVel=t/(n-i._horizontalTS),i._horizontalTS=n,i._horizontalSwipePos=i._horizontalSwipeStartPos+t,requestAnimationFrame(function(){return i._setWrapperTransform()})},i._handleHorizontalSwipeEnd=function(e){var n=i.props.appWidth;if(i._receivedSwipeMoveEvent){var r=i._getThumbWidth();i._horizontalSwipePos+=i._horizontalVel*t.SWIPE_VELOCITY,i._horizontalSwipePos=Math.max(.5*-n+.5*r+t.REPLAY_BUTTON_WIDTH+t.SIDE_MARGIN,Math.min(i._horizontalSwipePos,i._getGridWidth()+t.SIDE_MARGIN-.5*n-.5*r)),requestAnimationFrame(function(){return i._setWrapperTransform(!0)}),i._receivedSwipeMoveEvent=!1}i._startCountdown()},i._setWrapperTransform=function(e){if(i._wrapper){var n=i.props,r=n.appWidth,a=n.safeAreaLeft,o=i._getThumbWidth(),s=Math.round((r/2-o/2+i._horizontalSwipePos-t.REPLAY_BUTTON_WIDTH)/o),l=s*o+t.REPLAY_BUTTON_WIDTH+.5*o-.5*r+t.SIDE_MARGIN+a;e&&(i._horizontalSwipePos=l),i._curItem=s,i._wrapper.style.transform="translateX("+-i._horizontalSwipePos+"px)"}},i._countdownAttached=function(e){i._countdownRef=e},i._countdownTimeAttached=function(e){i._countdownTimeRef=e},i._wrapperAttached=function(e){i._wrapper=e},i._nextPage=function(){i._curItem++,i._resetCountdown(),i._startCountdown(),i.forceUpdate()},i._prevPage=function(){i._curItem--,i._resetCountdown(),i._startCountdown(),i.forceUpdate()},i._updateCountdown=function(e){if(i._countdownTimeoutId&&(i._countdownTimeoutId=clearTimeout(i._countdownTimeoutId)),i._countdownTime<=0||e){if(i._countdownRef&&(i._countdownRef.style.opacity="0"),!e){var t=i.props,n=t.recommendations,r=t.onActivateContent,a=n[i._curItem];a&&r(a,!0)}}else i._countdownRef&&(i._countdownRef.style.opacity="1"),i._countdownTimeRef&&(i._countdownTimeRef.innerText=" "+parseInt(i._countdownTime,10)+" "),i._countdownTime--,i._countdownTimeoutId=setTimeout(i._updateCountdown,1e3)},i._resetCountdown=function(){i._countdownDelayTimeoutId&&(i._countdownDelayTimeoutId=clearTimeout(i._countdownDelayTimeoutId)),i.props.autoplay&&i._updateCountdown(!0),i.setState({playCountdownActive:!1,inTransition:!0,inPageTransition:!0})},i._startCountdown=function(){var e=i.props,t=e.autoplay,n=e.autoplayDelay,r=e.autoplayCountdownDelay;i.setState({inTransition:!1}),t&&(i._countdownDelayTimeoutId&&(i._countdownDelayTimeoutId=clearTimeout(i._countdownDelayTimeoutId)),i._countdownDelayTimeoutId=setTimeout(function(){i._countdownTime=n,i.setState({playCountdownActive:!0}),i._updateCountdown()},1e3*r)),i._pageDelayTimeoutId&&(i._pageDelayTimeoutId=clearTimeout(i._pageDelayTimeoutId)),i._pageDelayTimeoutId=setTimeout(function(){i.setState({inPageTransition:!1})},200)},r=n,(0,A.default)(i,r)}return(0,v.default)(t,e),(0,p.default)(t,[{key:"_getThumbWidth",value:function(){return this._getThumbHeight()*t.THUMB_ASPECT+2*t.THUMB_MARGIN}},{key:"_getThumbHeight",value:function(){return Math.max(Math.min(this.props.appHeight*t.THUMB_HEIGHT_PERCENT,t.THUMB_HEIGHT_MAX),t.THUMB_HEIGHT_MIN)}},{key:"_getGridWidth",value:function(){var e=this.props.recommendations;return e.length*this._getThumbWidth()+t.REPLAY_BUTTON_WIDTH}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.opened!==e.opened||(this.props.appWidth!==e.appWidth||(this.props.appHeight!==e.appHeight||(this.props.isPortrait!==e.isPortrait||(this.props.safeAreaLeft!==e.safeAreaLeft||(this.props.autoplay!==e.autoplay||(this.props.autoplayDelay!==e.autoplayDelay||(this.props.autoplayCountdownDelay!==e.autoplayCountdownDelay||(this.state.inTransition!==t.inTransition||(this.state.inPageTransition!==t.inPageTransition||(this.state.rotationInProgress!==t.rotationInProgress||(this.props.recommendations.length!==e.recommendations.length||!this.props.recommendations.reduce(function(t,n,i){return t&&n.id===e.recommendations[i].id},!0)||this.state.playCountdownActive!==t.playCountdownActive)))))))))))}},{key:"componentDidMount",value:function(){var e=this,n=this.props,i=n.appWidth,r=n.safeAreaLeft,a=n.opened;if(a){var o=this._getThumbWidth();this._horizontalSwipePos=.5*-i+.5*o+t.REPLAY_BUTTON_WIDTH+t.SIDE_MARGIN+r,this._resetCountdown(),this._startCountdown(),setTimeout(function(){e.setState({rotationInProgress:!1})},1e3)}else this.setState({rotationInProgress:!1})}},{key:"componentDidUpdate",value:function(e){var n=this,i=this.props,r=i.appWidth,a=i.opened,o=i.safeAreaLeft,s=i.isPortrait;if(e.appWidth!==r){var l=this._getThumbWidth();this._horizontalSwipePos=.5*-r+.5*l+t.REPLAY_BUTTON_WIDTH+t.SIDE_MARGIN+o}if(!e.opened&&a){var u=this._getThumbWidth();this._horizontalSwipePos=.5*-r+.5*u+t.REPLAY_BUTTON_WIDTH+t.SIDE_MARGIN+o,this._resetCountdown(),this._startCountdown()}e.isPortrait!==s&&(this._deviceRotationInProgressTimeoutId=clearTimeout(this._deviceRotationInProgressTimeoutId),this._deviceRotationInProgressTimeoutId=setTimeout(function(){n.setState({rotationInProgress:!1}),n._resetCountdown(),n._startCountdown()},1e3),this.setState({rotationInProgress:!0}))}},{key:"componentWillUnmount",value:function(){this._countdownDelayTimeoutId&&(this._countdownDelayTimeoutId=clearTimeout(this._countdownDelayTimeoutId)),this._countdownTimeoutId&&(this._countdownTimeoutId=clearTimeout(this._countdownTimeoutId)),this._deviceRotationInProgressTimeoutId&&(this._deviceRotationInProgressTimeoutId=clearTimeout(this._deviceRotationInProgressTimeoutId))}},{key:"render",value:function(){var e,n=this,i=this.props,r=i.opened,o=i.hasTouch,l=i.recommendations,u=i.onActivateContent,c=i.onReplayContent,d=i.customization,h=i.translate,f=i.autoplayDelay,_=i.autoplay,p=i.appWidth,m=this.state,A=m.inTransition,g=m.inPageTransition,v=m.rotationInProgress,y=m.playCountdownActive,E=this._getGridWidth(),S=this._getThumbWidth(),x=1,C=this._horizontalSwipePos,M=null,P=null,I=this._curItem,R=S/t.THUMB_ASPECT;if(!o){C=I*S+t.REPLAY_BUTTON_WIDTH+.5*S-.5*p+t.SIDE_MARGIN;var k=Math.ceil(l.length/x);I>0&&(M=(0,s.default)("button",{title:h("recommend.prev"),style:{backgroundColor:d.secondaryColorDark.string(0),opacity:r?1:0},className:(0,w.default)("dl8Btn",T.default.arrow,T.default.arrowLeft),onClick:this._prevPage},void 0,(0,s.default)("i",{className:(0,w.default)("dl8Icon","iconBack")}))),I+1<k&&(P=(0,s.default)("button",{title:h("recommend.next"),style:{backgroundColor:d.secondaryColorDark.string(0),opacity:r?1:0},className:(0,w.default)("dl8Btn",T.default.arrow,T.default.arrowRight,"dl8Grow"),onClick:this._nextPage},void 0,(0,s.default)("i",{className:(0,w.default)("dl8Icon","iconForward")})))}var D=l.map(function(e,i){var l=void 0,c=void 0;return e.headingTag?(l=e.headingTag,c=e.title):l=e.title,(0,s.default)("div",{className:(0,w.default)(T.default.item,"dl8FadeInUp",(0,a.default)({},T.default.itemMobile,o)),style:{width:S+"px",animationDuration:.1*i+"s",padding:"0 "+t.THUMB_MARGIN+"px"},onClick:function(t){if(r)return u(e),t.preventDefault(),!1}},e.id,(0,s.default)("div",{className:(0,w.default)(T.default.itemBorder)},void 0,(0,s.default)("div",{className:(0,w.default)(T.default.thumb,(0,a.default)({},T.default.thumbNoInfo,!e.date&&!e.duration)),style:{backgroundImage:"url("+e.poster+")",height:R+"px"}},void 0,e.date&&(0,s.default)("h6",{className:(0,w.default)(T.default.thumbDate)},void 0,e.date),e.duration&&(0,s.default)("h6",{className:(0,w.default)(T.default.thumbDuration)},void 0,e.duration)),(0,s.default)("div",{className:(0,w.default)(T.default.itemText),style:{opacity:r?1:0}},void 0,l&&b.default.createElement("h3",{className:(0,w.default)(T.default.itemHeadingTag),ref:function(e){e&&(n._itemCache.has(e)||(n._itemCache.add(e),e.children[0].offsetHeight>15&&e.classList.add(T.default.itemHeadingTagMultiline)))}},(0,s.default)("span",{className:T.default.itemHeadingTagSpan},void 0,l)),c&&b.default.createElement("h5",{className:(0,w.default)(T.default.itemTitle),ref:function(e){e&&(n._itemCache.has(e)||n._itemCache.add(e))}},c))))}),V=(0,s.default)("div",{className:(0,w.default)(T.default.replayButton),onClick:c,style:{width:t.REPLAY_BUTTON_WIDTH+"px"}},void 0,(0,s.default)("i",{className:(0,w.default)(T.default.replayIcon),style:{background:d.primaryColor.string(0)}}),h("recommend.replay"));return(0,s.default)("div",{className:(0,w.default)(T.default.root,(e={},(0,a.default)(e,T.default.opened,r),(0,a.default)(e,T.default.touchActive,A),e)),style:{marginTop:"-"+(R/2+32)+"px"},onTouchStart:o&&r?this._handleHorizontalSwipeStart:void 0,onTouchMove:o&&r?this._handleHorizontalSwipeMove:void 0,onTouchEnd:o&&r?this._handleHorizontalSwipeEnd:void 0},void 0,(0,s.default)("div",{className:(0,w.default)(T.default.itemHighlight,(0,a.default)({},T.default.itemHighlightInTransition,!r||v||(o?A:g))),style:{boxShadow:"inset 0 0 0 1px "+d.primaryColor.string(0),width:S-2+"px",marginLeft:"-"+(S-2)/2+"px"}},void 0,_&&(0,s.default)("svg",{className:(0,w.default)(T.default.playCountdown,(0,a.default)({},T.default.playCountdownActive,r&&y&&!v)),style:{width:S+"px",height:R+"px"},width:S-t.ITEM_HIGHLIGHT_MARGIN,height:R,viewBox:"0 0 "+(S-t.ITEM_HIGHLIGHT_MARGIN)+" "+R,xmlns:"http://www.w3.org/2000/svg"},void 0,(0,s.default)("circle",{cx:""+(S/2-t.ITEM_HIGHLIGHT_MARGIN),cy:""+(R/2-5),r:t.PLAY_PROGRESS_CIRCLE_RADIUS,fill:"none",stroke:d.primaryColor.string(0),strokeWidth:"2",style:{transitionDuration:f+"s"}}))),b.default.createElement("div",{ref:this._countdownAttached,className:(0,w.default)(T.default.countdown)},(0,s.default)("span",{},void 0,h("recommend.autoplay1")," "),b.default.createElement("span",{ref:this._countdownTimeAttached,className:(0,w.default)(T.default.countdownNumber)}),(0,s.default)("span",{},void 0," ",h("recommend.autoplay2"))),b.default.createElement("div",{ref:this._wrapperAttached,className:(0,w.default)(T.default.wrapper),style:{transform:"translateX("+-C+"px)",transition:o&&A?"none":"transform 0.4s ease-out",width:E+"px",margin:"0 "+t.SIDE_MARGIN+"px"}},V,D),M,P)}}]),t}(y.Component);x.REPLAY_BUTTON_WIDTH=110,x.THUMB_HEIGHT_MAX=85,x.THUMB_HEIGHT_MIN=78,x.THUMB_HEIGHT_PERCENT=.23,x.THUMB_ASPECT=16/9,x.THUMB_MARGIN=1,x.ITEM_HIGHLIGHT_MARGIN=2,x.SIDE_MARGIN=15,x.SWIPE_VELOCITY=10,x.PLAY_PROGRESS_CIRCLE_RADIUS=19,t.default=x},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(172),a=i(r),o=n(28),s=i(o),l=n(3),u=i(l),c=n(1),d=i(c),h=n(2),f=i(h),_=n(5),p=i(_),m=n(4),A=i(m),g=n(16),v=i(g),y=n(324),b=i(y);n(77);var E=n(675),w=i(E),S=function(e){function t(){var e,n,i,r;(0,d.default)(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=i=(0,p.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(o))),i.state={horizontalSwipeTouchStartPos:0,horizontalSwipeStartPos:0,horizontalTS:0,touchActive:!1,curPage:0},i._horizontalSwipePos=0,i._horizontalTS=0,i._horizontalVel=0,i._handleHorizontalSwipeStart=function(e){i.setState({horizontalSwipeTouchStartPos:e.changedTouches[0].clientX,horizontalSwipeStartPos:i._horizontalSwipePos,touchActive:!0})},i._handleHorizontalSwipeMove=function(e){var t=i.state,n=t.horizontalSwipeTouchStartPos,r=t.horizontalSwipeStartPos;e.stopPropagation(),e.preventDefault(),i._receivedSwipeMoveEvent=!0;var a=n-e.changedTouches[0].clientX,o=e.timeStamp;return i._horizontalVel=a/(o-i._horizontalTS),i._horizontalTS=o,i._horizontalSwipePos=r+a,requestAnimationFrame(i._setWrapperTransform),!1},i._handleHorizontalSwipeEnd=function(e){i._receivedSwipeMoveEvent&&(i._horizontalSwipePos+=i._horizontalVel*t.SWIPE_VELOCITY,i._horizontalSwipePos=Math.max(0,Math.min(i._horizontalSwipePos,i._getGridWidth()-i.props.appWidth+2*t.SIDE_MARGIN)),i._setWrapperTransform()),i._receivedSwipeMoveEvent=!1,i.setState({touchActive:!1})},i._setWrapperTransform=function(){i._wrapper&&(i._wrapper.style.transform="translateX("+-i._horizontalSwipePos+"px)")},i._wrapperAttached=function(e){i._wrapper=e},i._nextPage=function(){i.setState({curPage:i.state.curPage+1})},i._prevPage=function(){i.setState({curPage:i.state.curPage-1})},r=n,(0,p.default)(i,r)}return(0,A.default)(t,e),(0,f.default)(t,[{key:"_getThumbHeight",value:function(){return Math.min(this.props.appHeight*t.THUMB_HEIGHT_PERCENT,t.THUMB_HEIGHT_MAX)}},{key:"_getGridWidth",value:function(){return this.props.recommendations.length*(this._getThumbHeight()*t.THUMB_ASPECT+2*t.THUMB_MARGIN)}},{key:"render",value:function(){var e=this.props,n=e.opened,i=e.hasTouch,r=e.recommendations,o=e.onActivateContent,l=e.appWidth,u=e.customization,c=e.fadeOut,d=e.translate,h=this.state,f=h.touchActive,_=h.curPage,p=this._getGridWidth(),m=this._getThumbHeight()*t.THUMB_ASPECT,A=1,g=this._horizontalSwipePos,y=null,E=null;if(!i){var S=l-2*t.SIDE_MARGIN;A=Math.floor(S/(m+2*t.THUMB_MARGIN)),m=S/A-2*t.THUMB_MARGIN,g=_*S,p=r.length*(m+2*t.THUMB_MARGIN)}var T=m/t.THUMB_ASPECT,x=T+(i?47:65),C=n?x:t.VERTICAL_SWIPE_MIN;if(!i){var M=Math.ceil(r.length/A);_>0&&(y=(0,s.default)("button",{title:d("recommend.prev"),style:{backgroundColor:u.secondaryColorDark.string(0),opacity:n?1:0},className:(0,b.default)("dl8Btn",w.default.arrow,w.default.arrowLeft),onClick:this._prevPage},void 0,(0,s.default)("i",{className:(0,b.default)("dl8Icon","iconBack")}))),_+1<M&&(E=(0,s.default)("button",{title:d("recommend.next"),style:{backgroundColor:u.secondaryColorDark.string(0),opacity:n?1:0},className:(0,b.default)("dl8Btn",w.default.arrow,w.default.arrowRight,"dl8Grow"),onClick:this._nextPage},void 0,(0,s.default)("i",{className:(0,b.default)("dl8Icon","iconForward")})))}var P=r.map(function(e,r){return(0,s.default)("div",{className:(0,b.default)(w.default.thumb,"dl8FadeInUp",(0,a.default)({},w.default.thumbMobile,i)),style:{width:m+"px",height:T+"px",backgroundImage:"linear-gradient(to bottom, rgba(0,0,0,0.3) 0%,rgba(0,0,0,0) 40%), url("+e.poster+")",animationDuration:.1*r+"s",margin:"0 "+t.THUMB_MARGIN+"px"},onClick:function(t){if(n)return o(e),t.preventDefault(),!1}},e.id,(0,s.default)("p",{className:(0,b.default)(w.default.thumbTitle),style:{opacity:n?1:0}},void 0,e.title))});return(0,s.default)("div",{className:(0,b.default)(w.default.root,(0,a.default)({},w.default.hasTouch,i)),style:{transform:"translateY("+-C+"px)",transition:f?"none":"transform 0.2s ease-in-out, opacity 0.3s ease-in-out 0.1s",bottom:"-"+T+"px",opacity:c?.1:1,zIndex:c?-1:10,pointerEvents:c?"none":"auto"},onTouchStart:i&&n?this._handleHorizontalSwipeStart:void 0,onTouchMove:i&&n?this._handleHorizontalSwipeMove:void 0,onTouchEnd:i&&n?this._handleHorizontalSwipeEnd:void 0},void 0,v.default.createElement("div",{ref:this._wrapperAttached,className:(0,b.default)(w.default.wrapper),style:{transform:"translateX("+-g+"px)",transition:f?"none":"transform 0.4s ease-out",width:p+"px",margin:"0 "+t.SIDE_MARGIN+"px"}},P),y,E)}}]),t}(g.PureComponent);S.THUMB_HEIGHT_MAX=100,S.THUMB_HEIGHT_PERCENT=.23,S.THUMB_ASPECT=16/9,S.THUMB_MARGIN=3,S.SIDE_MARGIN=15,S.VERTICAL_SWIPE_MIN=3,S.SWIPE_VELOCITY=40,t.default=S},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),a=i(r),o=n(323),s=i(o),l=n(3),u=i(l),c=n(1),d=i(c),h=n(2),f=i(h),_=n(5),p=i(_),m=n(4),A=i(m),g=n(16),v=i(g);n(375),n(373);var y=n(34),b=i(y),E=n(676),w=i(E),S=n(371),T=i(S),x=n(698),C=i(x),M=n(123),P=i(M),I=b.default.bind(w.default),R=(0,a.default)("img",{src:C.default}),k=(0,a.default)("div",{},void 0,"›"),D=(0,a.default)("span",{},void 0,"Settings"),V=(0,a.default)("span",{},void 0,"Safari"),B=function(e){function t(){var e,n,i,r;(0,d.default)(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=i=(0,p.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(o))),i.state={iosMotionInstructionPageSelected:0},r=n,(0,p.default)(i,r)}return(0,A.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.translate,i=t.appWidth,r=t.appHeight,o=t.customization,l=t.onClose,u=t.contentElementId,c=this.state.iosMotionInstructionPageSelected,d=[[n("iosWithoutDeviceMotion.flightmode")],[n("iosWithoutDeviceMotion.wifi")],[n("iosWithoutDeviceMotion.bt")],[n("iosWithoutDeviceMotion.mobile_network")],[n("iosWithoutDeviceMotion.personal_hotspot")],[],[n("iosWithoutDeviceMotion.notifications")],[n("iosWithoutDeviceMotion.sound")],[n("iosWithoutDeviceMotion.dnd")],[n("iosWithoutDeviceMotion.screentime")],[],[n("iosWithoutDeviceMotion.general")],[n("iosWithoutDeviceMotion.controlcenter")],[n("iosWithoutDeviceMotion.display")],[n("iosWithoutDeviceMotion.wallpaper")],[n("iosWithoutDeviceMotion.siri")],[n("iosWithoutDeviceMotion.touchid")],[n("iosWithoutDeviceMotion.sos")],[n("iosWithoutDeviceMotion.privacy")],[],[n("iosWithoutDeviceMotion.itunes")],[n("iosWithoutDeviceMotion.wallet")],[],[n("iosWithoutDeviceMotion.passwords")],[n("iosWithoutDeviceMotion.mail")],[n("iosWithoutDeviceMotion.contacts")],[n("iosWithoutDeviceMotion.calendar")],[n("iosWithoutDeviceMotion.notes")],[n("iosWithoutDeviceMotion.reminders")],[n("iosWithoutDeviceMotion.speechmode")],[n("iosWithoutDeviceMotion.telephone")],[n("iosWithoutDeviceMotion.messages")],[n("iosWithoutDeviceMotion.facetime")],[n("iosWithoutDeviceMotion.map")],[n("iosWithoutDeviceMotion.compass")],[n("iosWithoutDeviceMotion.measuringtape")],[n("iosWithoutDeviceMotion.safari"),void 0,!0],[n("iosWithoutDeviceMotion.stocks")],[],[n("iosWithoutDeviceMotion.music")],[n("iosWithoutDeviceMotion.stocks")]],h=[[],[n("iosWithoutDeviceMotion.siri")],[],[n("iosWithoutDeviceMotion.safari_searchengines")],[n("iosWithoutDeviceMotion.safari_searchengineSuggestions")],[n("iosWithoutDeviceMotion.safari_safariSuggestions")],[n("iosWithoutDeviceMotion.safari_quickWebsiteSearch")],[n("iosWithoutDeviceMotion.safari_preload")],[],[n("iosWithoutDeviceMotion.safari_autofill")],[n("iosWithoutDeviceMotion.safari_frequentlyVisited")],[n("iosWithoutDeviceMotion.safari_favorites")],[n("iosWithoutDeviceMotion.safari_links")],[n("iosWithoutDeviceMotion.safari_tabIcons")],[n("iosWithoutDeviceMotion.safari_blockPopups"),!0],[],[n("iosWithoutDeviceMotion.safari_crossSiteTracking"),!0],[n("iosWithoutDeviceMotion.safari_blockCookies"),!1],[n("iosWithoutDeviceMotion.safari_fraudulentWarning"),!0],[n("iosWithoutDeviceMotion.safari_motionAccess"),!1,!0],[n("iosWithoutDeviceMotion.safari_cameraMicAccess"),!1],[n("iosWithoutDeviceMotion.safari_checkApplePay"),!0]],f=function(){var e=window.location.href;u&&""!==u?(window.location.href=e.replace(window.location.hash,"")+"#"+u,window.location.reload()):window.location.href=e+"?dl8-autostart-player=true"},_=function(e,t){var n=t.targetPage,i=t.assignIcons,r=void 0!==i&&i,o=t.touchCirclePos,l=void 0===o?"left":o,u=0;return e.map(function(e,t){var i=(0,s.default)(e,3),o=i[0],d=i[1],h=i[2],f=null,_=null,p=null;if(h&&(f=(0,a.default)("div",{className:I({touchCircle:!0,touching:c===n}),style:{right:"right"===l?"3px":""}})),void 0!==d&&(_=(0,a.default)("div",{className:I({appleSwitch:!0,toggled:d,toggleAnim:c===n&&h})})),o||void 0!==d){if(r){var m=16,A=4,g=100/(m-1)*(u&m-1),v=100/A*Math.floor(u/m);u++,p=(0,a.default)("div",{className:I({settingsIcon:!0}),style:{backgroundPosition:g+"% "+v+"%"}})}return(0,a.default)("div",{className:I({mockIOSSettingsItem:!0,safariSettingsItem:!0})},"safariSettingsItem_"+t+"_"+o,"left"===l?f:null,p,(0,a.default)("div",{className:I({settingsName:!0})},void 0,o),_,"right"===l?f:null)}return(0,a.default)("div",{className:I({mockIOSSettingsItem:!0,mockIOSSettingsItemSeparator:!0})})})},p=_(d,{targetPage:1,touchCirclePos:"left",assignIcons:!0}),m=_(h,{targetPage:2,touchCirclePos:"right"}),A=void 0,g=void 0,y=(0,a.default)("div",{className:I({mockIOSSettings:!0})},void 0,v.default.createElement("div",{className:I({mockIOSSettingsList:!0,mockMainSettingsListScrollAnimation:1===c}),ref:function(e){e&&(A=e)}},(0,a.default)("div",{className:I({mockIOSSettingsUser:!0})},void 0,R,(0,a.default)("div",{className:I({mockIOSSettingsUserText:!0})},void 0,(0,a.default)("span",{},void 0,n("iosWithoutDeviceMotion.fullname")),(0,a.default)("span",{},void 0,n("iosWithoutDeviceMotion.appleID"))),k),p)),b=(0,a.default)("div",{className:I({mockIOSSettings:!0})},void 0,v.default.createElement("div",{className:I({mockIOSSettingsList:!0,mockSafariSettingsListScrollAnimation:2===c}),ref:function(e){e&&(g=e)}},m)),E=[(0,a.default)("div",{},"step1",(0,a.default)("div",{className:I({fullSizeInstruction:!0})},void 0,(0,a.default)("div",{className:I({instructionHeadline:!0})},void 0,(0,a.default)("p",{className:I({instructionHeadlineStepNumber:!0})},void 0,n("iosWithoutDeviceMotion.step1")),(0,a.default)("p",{className:I({instructionHeadlineStepHeadline:!0})},void 0,n("iosWithoutDeviceMotion.step1_headline"))),(0,a.default)("div",{className:I({iphoneOutline:!0,iphoneImage:!0})},void 0,(0,a.default)("div",{className:I({appIconGrid:!0})},void 0,(0,a.default)("div",{className:I({touchCircle:!0,touching:0===c}),style:{transform:"translate(-6px, -4px)"}}),(0,a.default)("div",{className:I({appIcon:!0}),style:{backgroundPosition:"80% 70%"}},void 0)),(0,a.default)("div",{className:I({appIconDock:!0})},void 0,(0,a.default)("div",{className:I({appIcon:!0})}),(0,a.default)("div",{className:I({appIcon:!0})}),(0,a.default)("div",{className:I({appIcon:!0})}),(0,a.default)("div",{className:I({appIcon:!0})}))))),(0,a.default)("div",{},"step2",(0,a.default)("div",{className:I({fullSizeInstruction:!0})},void 0,(0,a.default)("div",{className:I({instructionHeadline:!0})},void 0,(0,a.default)("p",{className:I({instructionHeadlineStepNumber:!0})},void 0,n("iosWithoutDeviceMotion.step2")),(0,a.default)("p",{className:I({instructionHeadlineStepHeadline:!0})},void 0,n("iosWithoutDeviceMotion.step2_headline"))),(0,a.default)("div",{className:I({mockIOSSettingsMainHeader:!0})},void 0,D),(0,a.default)("div",{className:I({iphoneOutline:!0})},void 0,y))),(0,a.default)("div",{},"step3",(0,a.default)("div",{className:I({fullSizeInstruction:!0})},void 0,(0,a.default)("div",{className:I({instructionHeadline:!0})},void 0,(0,a.default)("p",{className:I({instructionHeadlineStepNumber:!0})},void 0,n("iosWithoutDeviceMotion.step3")),(0,a.default)("p",{className:I({instructionHeadlineStepHeadline:!0})},void 0,n("iosWithoutDeviceMotion.step3_headline"))),(0,a.default)("div",{className:I({mockIOSSettingsMainHeader:!0})},void 0,V),(0,a.default)("div",{className:I({iphoneOutline:!0})},void 0,b))),(0,a.default)("div",{},"step4",(0,a.default)("div",{className:I({fullSizeInstruction:!0})},void 0,(0,a.default)("div",{className:I({instructionHeadline:!0})},void 0,(0,a.default)("p",{className:I({instructionHeadlineStepNumber:!0})},void 0,n("iosWithoutDeviceMotion.step4")),(0,a.default)("p",{className:I({instructionHeadlineStepHeadline:!0})},void 0,n("iosWithoutDeviceMotion.step4_headline"))),(0,a.default)(P.default,{title:n("iosWithoutDeviceMotion.reloadButton"),customization:o,primary:!0,lightBg:!0,small:!0,autoWidth:!0,className:I({button:!0,reloadButton:!0}),onClick:f})))],w=void 0,S={startSlide:this.state.iosMotionInstructionPageSelected,callback:function(t){e.setState({iosMotionInstructionPageSelected:t}),A.scrollTo(0,0),g.scrollTo(0,0)}},x=(0,a.default)("div",{className:I({instructionList:!0,carouselWrapper:!0})},void 0,v.default.createElement(T.default,{key:"l"+E.length+"w"+i+"h"+r,swipeOptions:S,ref:function(e){return w=e}},E)),C=Array(E.length).fill().map(function(t,n){return(0,a.default)("div",{className:I({posCircle:!0}),style:{opacity:e.state.iosMotionInstructionPageSelected===n?1:.35}},"indicatorCircle_"+n)}),M=(0,a.default)("div",{className:I({instructionNavigation:!0})},void 0,(0,a.default)(P.default,{title:n("iosWithoutDeviceMotion.prev"),customization:o,small:!0,primary:0!==c,lightBg:0!==c,autoWidth:!0,disabled:0===c,className:I({button:!0,navButton:!0}),onClick:function(){w&&w.prev()}}),(0,a.default)("div",{className:I({posIndicator:!0})},void 0,C),(0,a.default)(P.default,{title:n(c===E.length-1?"iosWithoutDeviceMotion.replay":"iosWithoutDeviceMotion.next"),customization:o,primary:!0,lightBg:!0,small:!0,autoWidth:!0,className:I({button:!0,navButton:!0}),onClick:function(){w&&w.next()}}));return(0,a.default)("div",{className:I({root:!0,receivesEvents:!0}),style:{backgroundColor:o.secondaryClearColorDark.string(0),color:o.invertedSecondaryColor.string(0)}},void 0,(0,a.default)("button",{className:I({dl8Btn:!0,closeButton:!0}),onClick:l},void 0,(0,a.default)("i",{className:I({dl8Icon:!0,iconCross:!0})})),(0,a.default)("div",{className:I({mainInstructionContainer:!0})},void 0,x,M))}}]),t}(g.PureComponent);t.default=B},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(2),d=i(c),h=n(5),f=i(h),_=n(4),p=i(_),m=n(16),A=(i(m),n(34)),g=i(A),v=n(677),y=i(v);n(77);var b=n(123),E=i(b),w=g.default.bind(y.default),S=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.description,n=void 0===t?"":t,i=e.title,r=void 0===i?"":i,o=e.style,s=e.onDismiss,l=e.onClick,u=e.buttonText,c=void 0===u?"":u,d=e.customization;return(0,a.default)("div",{className:w({root:!0}),style:o},void 0,(0,a.default)("div",{className:w({iconContainer:!0})},void 0,(0,a.default)("div",{className:w({icon:!0})},void 0," "),(0,a.default)("div",{className:w({topRightIcon:!0})},void 0,"!")),(0,a.default)("div",{className:w({main:!0})},void 0,(0,a.default)("p",{className:w({title:!0})},void 0,r),(0,a.default)("p",{className:w({desc:!0})},void 0,n),(0,a.default)(E.default,{title:c,customization:d,primary:!0,lightBg:!0,small:!0,autoWidth:!0,className:w({button:!0}),onClick:l})),(0,a.default)("div",{className:w({closeButtonArea:!0}),onClick:s},void 0,(0,a.default)("i",{className:w({dl8Icon:!0,iconCross:!0})})))}}]),t}(m.PureComponent);t.default=S},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(2),d=i(c),h=n(5),f=i(h),_=n(4),p=i(_),m=n(16),A=i(m),g=n(46),v=(i(g),n(362)),y=i(v),b=n(49),E=n(14);n(77);var w=n(34),S=i(w),T=n(678),x=i(T),C=S.default.bind(x.default),M=(0,a.default)("div",{}),P=function(e){function t(){var e,n,i,r;(0,u.default)(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return n=i=(0,f.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(o))),i.state={pointerX:0,pointerHovered:!1,seekTime:0,seekbarWidth:0,seekbarLeft:0},i._handleSeekStart=function(e){i.props.seekable&&(i.props.onSeekbarPressed(!0),i._updateSeekHead(e,!1),document.body.addEventListener("mousemove",i._handleDocumentMove,!0),document.body.addEventListener("mouseup",i._handleSeekEnd,!0),i.props.hasTouch&&(i.setState({pointerHovered:!0}),i.props.onPointerHovered(!0)))},i._handleSeekMove=function(e){if(i.props.seekable)return!i.props.mouseMoveDisabled&&void(i.props.seekbarPressed&&!i.props.hasTouch||i._updateSeekHead(e,!1))},i._handleDocumentMove=function(e){i.props.seekbarPressed&&i._updateSeekHead(e,!1)},i._handleSeekEnd=function(e){i.props.seekable&&(i._updateSeekHead(e,!0),i.props.onSeekbarPressed(!1),document.body.removeEventListener("mousemove",i._handleDocumentMove,!0),document.body.removeEventListener("mouseup",i._handleSeekEnd,!0),i.props.hasTouch&&(i.setState({pointerHovered:!1}),i.props.onPointerHovered(!1)))},i._handleMouseEnter=function(){i.setState({pointerHovered:!0}),i.props.onPointerHovered(!0)},i._handleMouseLeave=function(){
i.props.seekbarPressed||(i.setState({pointerX:0,pointerHovered:!1}),i.props.onPointerHovered(!1))},i._onResize=function(e){i.setState({seekbarWidth:e.bounds.width,seekbarLeft:e.bounds.left})},r=n,(0,f.default)(i,r)}return(0,p.default)(t,e),(0,d.default)(t,[{key:"_updateSeekHead",value:function(e,t){var n=this.props,i=n.onSeek,r=n.duration,a=this.state,o=a.seekbarWidth,s=a.seekbarLeft,l=e.clientX;void 0===l&&(l=e.changedTouches[0].clientX);var u=(l-s)/o;if(this.setState({pointerX:u}),t){var c=u*r;i(c),this.setState({seekTime:c})}}},{key:"render",value:function(){var e=this,n=this.props,i=n.curTime,r=n.duration,o=n.hasTouch,s=n.seeking,l=n.seekbarPressed,u=n.buffering,c=n.accentColor,d=n.textColor,h=n.previewSprite,f=n.thumbnailTrack,_=n.seekable,p=n.live,m=this.state,g=m.seekbarWidth,v=m.pointerX,w=m.seekTime,S=m.pointerHovered,T=0===r?0:(s?w:i)/r,x=Math.max(0,Math.min(l?v:T,1)),P=0===r?0:u[0]/r,I=0===r?0:u[1]/r-P,R=null,k=!!f,D=h&&h.dl8VideoPreviewSpriteSheets&&h.dl8VideoPreviewSpriteSheets.length>0;if(D){var V=h.dl8VideoPreviewSpriteSheets,B=(0,b.getCurrentImageSprite)(V,v),O=B.spriteIdx,N=B.relativeT,L=V[O],F=Math.floor(N*L.columns*L.rows),U=t.THUMB_WIDTH/h.frameAspect,H=F%L.columns*t.THUMB_WIDTH,G=Math.floor(F/L.columns)*U;R=(0,a.default)("div",{className:C({thumb:!0}),style:{width:t.THUMB_WIDTH+"px",height:U+"px",overflow:"hidden"}},void 0,(0,a.default)("div",{style:{backgroundImage:"url("+L.src+")",backgroundRepeat:"no-repeat",backgroundSize:t.THUMB_WIDTH*L.columns+"px "+U*L.rows+"px",width:t.THUMB_WIDTH*L.columns+"px",height:U*L.rows+"px",transform:"translate(-"+H+"px, -"+G+"px)"}}))}else if(k){var z=v*r,Q=f.domElement.track;if(2===Q.readyState){var W=(0,b.getCurrentTrackThumbnail)(Q,z);W&&(R=(0,a.default)("img",{className:C({thumb:!0}),src:W.text,style:{width:t.THUMB_WIDTH+"px"}}))}}var j=null,X=null;if(_){var Y=E.MathUtil.saturate(v)*r;j=(0,a.default)("div",{className:C({handle:!0,grow:o,visible:l}),style:{transform:"translateX("+(x*g-25)+"px)"},onTouchStart:this._handleSeekStart,onTouchMove:this._handleSeekMove,onTouchEnd:this._handleSeekEnd},void 0,M);var q=E.MathUtil.saturate(v)*g-25,Z=E.MathUtil.clamp(v*g,.5*t.THUMB_WIDTH-10,g-.5*t.THUMB_WIDTH+17)-25;X=(0,a.default)("div",{className:C({seekTime:!0,visible:o?l:S,withThumb:D||k}),style:{transform:"translateX("+(R?Z:q)+"px)",color:d}},void 0,R,(0,a.default)("span",{},void 0,(0,b.convertSecondsToDisplayString)(p?Y-r:Y)),(0,a.default)("div",{className:C({arrow:!0}),style:{transform:"translateX("+(R?q-Z:0)+"px)"}}))}return(0,a.default)(y.default,{bounds:!0,onResize:this._onResize},void 0,function(t){var n=t.measureRef;return A.default.createElement("div",{className:C({bar:!0,grow:!o,fullWidth:!o,dl8FadeInUp:!0,noSeek:!_}),ref:n,onMouseDown:e._handleSeekStart,onMouseUp:e._handleSeekEnd,onMouseMove:e._handleSeekMove,onMouseEnter:e._handleMouseEnter,onMouseLeave:e._handleMouseLeave,onTouchStart:e._handleSeekStart,onTouchMove:e._handleSeekMove,onTouchEnd:e._handleSeekEnd},X,j,(0,a.default)("div",{className:C({bg:!0,barCommon:!0,noSeek:!_})}),(0,a.default)("div",{className:C({preview:!0,barCommon:!0,noSeek:!_}),style:{width:E.MathUtil.saturate(v)*g+"px"}}),(0,a.default)("div",{className:C({buffering:!0,barCommon:!0,noSeek:!_}),style:{transform:"translateX("+P*g+"px)",transformOrigin:"0 0",width:I*g+"px"}}),(0,a.default)("div",{className:C({progress:!0,barCommon:!0,noSeek:!_}),style:{width:(p&&!_?1:x)*g+"px",backgroundColor:c}}))})}}]),t}(m.PureComponent);P.THUMB_WIDTH=120,t.default=P},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(2),d=i(c),h=n(5),f=i(h),_=n(4),p=i(_),m=n(16),A=(i(m),n(123)),g=i(A),v=n(19),y=n(34),b=i(y),E=n(679),w=i(E),S=b.default.bind(w.default),T=function(e){function t(){var e,n,i,r;(0,u.default)(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return n=i=(0,f.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(o))),i._handleQualitySelect=function(e){var t=i.props,n=t.selectedQuality,r=t.onQualitySelected,a=t.onHideQualityOverlay;e!==n&&r(e),a()},i._handleCameraSelect=function(e){var t=i.props,n=t.selectedCameraMode,r=t.onCameraSelected,a=t.onHideCameraOverlay;e!==n&&r(e),a()},i._handleCloseOverlay=function(){i.props.onHideQualityOverlay(),i.props.onHideCameraOverlay()},r=n,(0,f.default)(i,r)}return(0,p.default)(t,e),(0,d.default)(t,[{key:"_mapControlEnumToLabel",value:function(e){return e===v.MAGIC_WINDOW_CONTROLS?this.props.translate("setPanel.magWindow"):e===v.DRAG_CONTROLS?this.props.translate("setPanel.dragCtrl"):"-"}},{key:"render",value:function(){var e=this,t=this.props,n=t.qualities,i=t.selectedQuality,r=t.mobile,o=t.cameraModes,s=t.selectedCameraMode,l=t.customization,u=t.qualityOverlayVisible,c=t.cameraOverlayVisible,d=t.onShowCameraOverlay,h=t.onShowQualityOverlay,f=t.translate,_=null,p=null,m=null;if(n.length>1){var A=n.find(function(e){return e.id===i});r?(p=(0,a.default)("div",{className:S({select:!0}),onClick:h},void 0,A.value),m=n.map(function(t){return(0,a.default)("li",{className:S({disabled:t.disabled})},t.id,(0,a.default)(g.default,{onClick:function(){t.disabled||e._handleQualitySelect(t.id)},title:t.value,customization:l,ghost:t.id!==i,primary:!0,fullWidth:!0}))})):(m=n.map(function(e){return(0,a.default)("option",{value:e.id,disabled:e.disabled},e.id,e.value)}),p=(0,a.default)("select",{defaultValue:A.id,onChange:function(t){e._handleQualitySelect(t.target.value)}},void 0,m)),_=(0,a.default)("li",{style:{borderBottom:"1px solid "+l.invertedClearSecondaryColor.string(0)},className:S({quality:!0})},void 0,(0,a.default)("span",{},void 0,f("setPanel.qual")),p)}var v=null,y=null,b=null;o.length>1&&(r?(b=o.map(function(t){return(0,a.default)("li",{},t,(0,a.default)(g.default,{onClick:function(){return e._handleCameraSelect(t)},title:e._mapControlEnumToLabel(t),customization:l,ghost:t!==s,primary:!0,fullWidth:!0}))}),y=(0,a.default)("div",{className:S({select:!0}),onClick:d},void 0,this._mapControlEnumToLabel(s))):(b=o.map(function(t){return(0,a.default)("option",{value:t},t,e._mapControlEnumToLabel(t))}),y=(0,a.default)("select",{defaultValue:s,onChange:function(t){return e._handleCameraSelect(t.target.value||t.target.innerHTML)}},void 0,b)),v=(0,a.default)("li",{style:{borderBottom:"1px solid "+l.invertedClearSecondaryColor.string(0)}},void 0,(0,a.default)("span",{},void 0,f("setPanel.controls")),y));var E=(0,a.default)("li",{className:S({info:!0})},void 0,(0,a.default)("span",{},void 0,f("setPanel.delightVer"),"1.6.8")),w=null;if(r){var T=null;u?T=(0,a.default)("h2",{},void 0,f("setPanel.chooseQual")):c&&(T=(0,a.default)("h2",{},void 0,f("setPanel.chooseCtrl"))),w=(0,a.default)("div",{style:{backgroundColor:l.secondaryClearColorDark.string(0)},className:S({selectOverlay:!0,hidden:!u&&!c})},void 0,(0,a.default)("button",{className:S({dl8Btn:!0}),title:f("setPanel.cancel"),onClick:this._handleCloseOverlay},void 0,(0,a.default)("i",{className:S({dl8Icon:!0,iconCross:!0})})),(0,a.default)("div",{},void 0,T,(0,a.default)("ul",{},void 0,u?m:c?b:null)))}return(0,a.default)("div",{className:S({root:!0,receivesEvents:!0,mobile:r})},void 0,(0,a.default)("ul",{className:S({dl8FadeInUp:!0}),style:{backgroundColor:l.secondaryColorDark.string(0),color:l.invertedSecondaryColor.string(0),display:c||u?"none":"block"}},void 0,_,v,E),w)}}]),t}(m.PureComponent);t.default=T},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(2),d=i(c),h=n(5),f=i(h),_=n(4),p=i(_),m=n(16),A=i(m),g=n(46);i(g);n(77);var v=n(34),y=i(v),b=n(680),E=i(b),w=y.default.bind(E.default),S=function(e){function t(){var e,n,i,r;(0,u.default)(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return n=i=(0,f.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(o))),i.state={barPressed:!1,barHovered:!1,hovered:!1,oldVolume:1},i._handleWidgetEnter=function(){i.setState({hovered:!0})},i._handleWidgetLeave=function(){i.setState({hovered:!1})},i._updateVolumeHandle=function(e){if(i._bar){var t=i._bar.getBoundingClientRect(),n=e.clientX;void 0===n&&(n=e.changedTouches[0].clientX);var r=(n-t.left)/t.width;i.props.onVolumeChanged(Math.max(Math.min(r,1),0))}},i._handleVolumeBarStart=function(e){i.setState({barPressed:!0}),i._updateVolumeHandle(e),document.body.addEventListener("mousemove",i._handleDocumentMove,!0),document.body.addEventListener("mouseup",i._handleVolumeBarEnd,!0)},i._handleDocumentMove=function(e){i.state.barPressed&&i._updateVolumeHandle(e)},i._handleVolumeBarEnd=function(e){i._updateVolumeHandle(e),i.setState({barPressed:!1}),document.body.removeEventListener("mousemove",i._handleDocumentMove,!0),document.body.removeEventListener("mouseup",i._handleVolumeBarEnd,!0)},i._handleMouseEnter=function(){i.setState({barHovered:!0})},i._handleMouseLeave=function(){},i._handleMuteButtonClicked=function(){var e=i.props,t=e.muted,n=e.onUnmute,r=e.volume,a=e.onVolumeChanged;return t?void n():void(r>0?(i.setState({oldVolume:r}),a(0)):a(i.state.oldVolume))},i._assignBarRef=function(e){i._bar=e},r=n,(0,f.default)(i,r)}return(0,p.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.volume,n=e.accentColor,i=e.muted,r=e.translate,o=this.state,s=o.hovered,l=o.barPressed,u=i?0:t;return(0,a.default)("div",{onMouseEnter:this._handleWidgetEnter,onMouseLeave:this._handleWidgetLeave,className:w({root:!0,hovered:s||l})},void 0,(0,a.default)("div",{className:w({wrapper:!0})},void 0,(0,a.default)("button",{onClick:this._handleMuteButtonClicked,className:w({dl8Btn:!0}),title:r(t>0?"sndCtrl.mute":"sndCtrl.unmute")},void 0,(0,a.default)("i",{className:w({dl8Icon:!0,iconVolume:t>0&&!i,iconMute:0===t||i})})),A.default.createElement("div",{className:w({bar:!0}),ref:this._assignBarRef,onMouseDown:this._handleVolumeBarStart,onMouseUp:this._handleVolumeBarEnd,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},(0,a.default)("div",{className:w({handle:!0}),style:{left:"calc("+100*u+"% - 6px)"},onTouchStart:this._handleVolumeBarStart,onTouchEnd:this._handleVolumeBarEnd}),(0,a.default)("div",{className:w({bg:!0,barCommon:!0})}),(0,a.default)("div",{className:w({progress:!0,barCommon:!0}),style:{width:100*u+"%",backgroundColor:n}}))))}}]),t}(m.PureComponent);t.default=S},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(2),d=i(c),h=n(5),f=i(h),_=n(4),p=i(_),m=n(16),A=(i(m),n(46)),g=(i(A),n(34)),v=i(g),y=n(682),b=i(y),E=v.default.bind(b.default),w=(0,a.default)("br",{}),S=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.description,n=e.title,i=e.thumbnail,r=e.url,o=e.style,s=e.onDismiss,l=e.translate,u=null;return i&&(u=(0,a.default)("img",{src:i})),(0,a.default)("div",{className:E({root:!0}),style:o},void 0,(0,a.default)("div",{},void 0,u),(0,a.default)("div",{},void 0,(0,a.default)("span",{className:E({name:!0})},void 0,n),(0,a.default)("span",{className:E({desc:!0})},void 0,t,w,(0,a.default)("a",{href:r,target:"_blank",title:n},void 0,l("warning.learn")))),(0,a.default)("div",{onClick:s},void 0,(0,a.default)("i",{className:E({dl8Icon:!0,iconCross:!0})})))}}]),t}(m.PureComponent);t.default=S},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),a=i(r),o=n(19);t.default=new a.default([[o.DESKTOP_PAUSE_CENTRE_RECTANGLE_300X250,{platform:"desktop",types:["image","iframe"]}],[o.MOBILE_PAUSE_CENTRE_RECTANGLE_300X250,{platform:"mobile",types:["image","iframe"]}],[o.VR_HUD_TOP_BANNER_468X60,{platform:"vr",types:["image"]}],[o.VR_HUD_BOTTOM_BANNER_468X60,{platform:"vr",types:["image"]}],[o.VR_HUD_LEFT_SKYSCRAPER_160X600,{platform:"vr",types:["image"]}],[o.VR_HUD_RIGHT_SKYSCRAPER_160X600,{platform:"vr",types:["image"]}]])},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return{turnedOff:e.ui.turnedOff,vrWizardActive:e.ui.vrWizardActive}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),o=i(a),s=n(3),l=i(s),u=n(1),c=i(u),d=n(2),h=i(d),f=n(5),_=i(f),p=n(4),m=i(p),A=n(16),g=i(A),v=n(46),y=(i(v),n(122)),b=n(362),E=i(b),w=n(78),S=n(397),T=i(S),x=n(396),C=i(x),M=n(398),P=i(M);n(375),n(373);var I=n(34),R=i(I),k=n(683),D=i(k),V=R.default.bind(D.default),B=(0,o.default)(P.default,{}),O=(0,o.default)(T.default,{}),N=(0,o.default)(C.default,{}),L=function(e){function t(e){(0,c.default)(this,t);var n=(0,_.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n._embedContainer=void 0,n}return(0,m.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props,t=e.turnedOff,n=e.vrWizardActive,i=e.mouseEnterApp,r=e.mouseLeaveApp,a=e.changeAppSize,s=null;return n&&(s=B),(0,o.default)(E.default,{bounds:!0,onResize:function(){var e=document.querySelector("#dl8-content-container > div").getBoundingClientRect();a(e.width,e.height)}},void 0,function(e){var n=e.measureRef;return g.default.createElement("div",{ref:n,className:V({root:!0,hidden:t}),onMouseEnter:i,onMouseLeave:r},O,t?null:N,t?null:s)})}},{key:"embedContainer",get:function(){return this._embedContainer},set:function(e){this._embedContainer=e}}]),t}(A.Component);t.default=(0,y.connect)(r,{mouseEnterApp:w.mouseEnterApp,mouseLeaveApp:w.mouseLeaveApp,changeAppSize:w.changeAppSize})(L)},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{ui:e.ui,data:e.data,customization:e.customization,translate:(0,C.getTranslate)(e.locale)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(71),s=r(o),l=n(10),u=r(l),c=n(28),d=r(c),h=n(3),f=r(h),_=n(1),p=r(_),m=n(2),A=r(m),g=n(5),v=r(g),y=n(4),b=r(y),E=n(16),w=r(E),S=n(122),T=n(635),x=r(T),C=n(121),M=n(662),P=r(M),I=n(388),R=r(I),k=n(390),D=r(k),V=n(123),B=r(V),O=n(389),N=r(O),L=n(383),F=r(L),U=n(283),H=r(U),G=n(391),z=r(G),Q=n(387),W=r(Q),j=n(386),X=r(j),Y=n(49),q=n(59),Z=n(7),K=n(93),J=n(385),$=r(J),ee=n(384),te=r(ee),ne=n(378),ie=r(ne),re=n(78),ae=r(re),oe=n(19),se=i(oe),le=n(276),ue=r(le),ce=n(707),de=r(ce),he=n(192),fe=r(he);n(374),n(77);var _e=n(34),pe=r(_e),me=n(684),Ae=r(me),ge=pe.default.bind(Ae.default),ve=(0,q.isIOS13OrHigher)(),ye=(0,d.default)("br",{}),be=(0,d.default)("br",{}),Ee=function(e){function t(e){(0,p.default)(this,t);var n=(0,v.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return n._hudWasVisible=!1,n.state={hideWarningView:!1,pauseAffiliates:{},noVrScreenAffiliates:{},seekbarHovered:!1,iosMotionInstructionPageSelected:0},n._togglePlay=function(){var e=n.props,t=e.data,i=t.contents,r=t.activeContentIdx,a=e.pause,o=e.play,s=i[r];s&&(s.playing?a():o())},n._handleCameraModeSelected=function(e){e===se.DRAG_CONTROLS?n.props.activateDragControls():(n.setState({hideWarningView:!1}),e===se.MAGIC_WINDOW_CONTROLS&&n.props.activateMagicWindowControls()),Z.Util.setLocalStorageItemSafe("x-dl8-settings-preferred-control-mode",e)},n._handleShowHud=function(){n.props.showHud(),n.props.pause()},n._handleFullscreenClick=function(){var e=n.props,t=e.ui.fullscreen,i=e.exitFullscreen,r=e.enterFullscreen;try{n._fullscreenButton&&n._fullscreenButton.blur()}catch(e){}t?i():r()},n._handleVrButton=function(){var e=n.props,t=e.data,i=e.ui,r=e.customization,a=e.openGetVRDialog,o=e.tryDeactivateVr,s=e.seek,l=e.pause,u=e.showVrWizard,c=e.tryActivateVr,d=e.openIOSWithoutDeviceMotionVrOverlay,h=e.closeSettings,f=i.IOSWithoutDeviceMotion,_=t.contents[t.activeContentIdx];try{n._vrButton&&n._vrButton.blur()}catch(e){}h();var p=f&&_&&!_.isFlatVideo&&"https:"===location.protocol;if(p)return n.setState({hideWarningView:!0}),void d();if(!i.vr||i.tablet||i.error||i.noWebGL)return void a();if(i.vrActive)o();else{var m="true"===Z.Util.getLocalStorageItemSafe("x-dl8-settings-wizard-complete")||!i.firstTimeWizard,A=null!==Z.Util.getLocalStorageItemSafe("x-dl8-settings-gaze-interaction");_&&!_.dl8LiveVideo&&(i.firstTimeVr&&s(0),l());var g=Z.Util.isGearVrHmd(i.hmd)&&(r.displayCarmelLink||r.displaySamsungVRLink);m&&(!m||A)&&!g||i.hardwareVr||r.skipWizard?c():u()}},n._startTouchAutoHideCheck=function(){n._touchAutoHideTimeout=setTimeout(n.props.hideHud,se.HUD_AUTO_HIDE_DELAY)},n._stopTouchAutoHideCheck=function(){n._touchAutoHideTimeout&&clearTimeout(n._touchAutoHideTimeout)},n._handleBottomBarTouchStart=function(){var e=n.props.data,t=e.contents[e.activeContentIdx];n._touchAutoHideTimeout&&t&&t.playing&&n._stopTouchAutoHideCheck()},n._handleBottomBarTouchEnd=function(){var e=n.props.data,t=e.contents[e.activeContentIdx];n._touchAutoHideTimeout&&t&&t.playing&&n._startTouchAutoHideCheck()},n._startAutoHideCheck=function(){document.body.addEventListener("mousemove",n._handleMouseMove,!0),n._autoHideTimeout=setTimeout(n._startAutoHide,se.HUD_AUTO_HIDE_DELAY/2)},n._stopAutoHideCheck=function(){n._autoHideTimeout&&clearTimeout(n._autoHideTimeout),n._noActionDuration>0&&n.props.userActive(),n._noActionDuration=0,document.body.removeEventListener("mousemove",n._handleMouseMove,!0)},n._startAutoHide=function(){n._noActionDuration<se.HUD_AUTO_HIDE_DELAY&&n.props.userIdle(),n._noActionDuration+=se.HUD_AUTO_HIDE_DELAY/2,n.forceUpdate(),n._autoHideTimeout=setTimeout(n._startAutoHide,se.HUD_AUTO_HIDE_DELAY/2)},n._handleMouseMove=function(){n._noActionDuration>0&&n.props.userActive(),n._noActionDuration=0},n._handleDirectEnterVR=function(){n.props.tryActivateVr();var e=n.props.data.contents[n.props.data.activeContentIdx];e&&e.type===se.CONTENT_TYPE_VIDEO&&n.props.play()},n._handleQualitySelect=function(e){n.props.changeQuality(e.target.value)},n._showVrWizard=function(){n.props.pause(),n.props.showVrWizard()},n._assignFullscreenButtonRef=function(e){n._fullscreenButton=e},n._assignVrButtonRef=function(e){n._vrButton=e},n._assignBrandIconRef=function(e){if(e){var t=90/28,i=n.props.customization.brandWatermarkLogo?e.width/e.height:1;i<t?e.height>0&&(e.style.height=e.height+"px",e.style.width="auto"):e.width>0&&(e.style.width=e.width+"px",e.style.height="auto")}},n._seekbarWasHovered=function(e){n.setState({seekbarHovered:e})},n._dismissAdvertisement=function(e){n.props.dismissAdvertisement(e)},n._activateRecommendation=function(e,t){var i=n.props,r=i.startContent,a=i.data,o=a.contents,s=a.activeContentIdx,l=o[s],u=l.dl8Recommendations&&l.dl8Recommendations[0];u&&u.onSelectRecommendation&&!u.onSelectRecommendation(e,t,"inplayer-list")||r(e.id)},n._replayContent=function(){var e=n.props,t=e.seek,i=e.play;t(0),i()},n._autoHideTimeout=null,n._touchAutoHideTimeout=null,n._noActionDuration=0,n}return(0,b.default)(t,e),(0,A.default)(t,[{key:"componentWillUnmount",value:function(){this._stopAutoHideCheck(),this._stopTouchAutoHideCheck()}},{key:"componentWillMount",value:function(){var e=this.props.data.contents[this.props.data.activeContentIdx];e&&this._updateAffiliates(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.data.contents[this.props.data.activeContentIdx],n=e.data.contents[e.data.activeContentIdx];void 0!==t&&t.playing||void 0===n||!n.playing?void 0!==t&&!t.playing||void 0===n||n.playing||(this._stopAutoHideCheck(),this._stopTouchAutoHideCheck()):(e.ui.hudToggled&&this._startTouchAutoHideCheck(),this._startAutoHideCheck()),!this.props.ui.hudToggled&&e.ui.hudToggled?void 0!==n&&n.playing&&this._startTouchAutoHideCheck():this.props.ui.hudToggled&&!e.ui.hudToggled&&this._stopTouchAutoHideCheck(),!n||void 0!==t&&t.id===n.id||this._updateAffiliates(n)}},{key:"_updateAffiliates",value:function(e){var t=this.state,n=t.pauseAffiliates,i=t.noVrScreenAffiliates,r=n.items&&n.spot&&i.items&&i.spot;e.dl8Affiliates?r||this.setState({pauseAffiliates:(0,Y.getRandomAffiliatesForSpot)(e.dl8Affiliates,se.AFFILIATE_SPOT_PAUSE,1),noVrScreenAffiliates:(0,Y.getRandomAffiliatesForSpot)(e.dl8Affiliates,se.AFFILIATE_SPOT_NO_VR_SCREEN,3)}):r&&this.setState({pauseAffiliates:{},noVrScreenAffiliates:{}})}},{key:"_getHudVisibilityState",value:function(e){var t=e.ui,n=t.ios,i=t.firefoxAndroid,r=t.vrShouldRotate,a=t.mobile,o=t.hudToggled,s=t.displayMode,l=t.vrActive,u=t.settingsOpen,c=t.forceShowPlayButton,d=t.vrWizardActive,h=t.error,f=t.mouseInApp,_=t.useNativeVideoFallback,p=t.loading,m=t.qualitySettingsChooserVisible,A=t.iOSWithoutDeviceMotionDialogOpen,g=t.getVrDialogOpen,v=t.iOSWithoutDeviceMotionVrOverlayOpen,y=t.cameraSettingsChooserVisible,b=t.hudEnabled,E=t.tapToUnmute,w=t.hardwareVr;if(!b)return!1;var S=e.data,T=S.contents,x=S.activeContentIdx,C=T[x];if(!C)return!1;if(C.useNativeControls)return!1;var M=C.playing,P=C&&C.type===se.CONTENT_TYPE_VIDEO&&C.loading&&c&&a,I=C&&C.seeking,R=_&&C&&C.type===se.CONTENT_TYPE_VIDEO,k=C&&C.contentError,D=!1;return D=a?o:!M||this._noActionDuration<se.HUD_AUTO_HIDE_DELAY&&("inline"!==s||f),((I||P)&&!l||l&&o||l&&!a||u||C.ended)&&(D=!0),(!R&&(k||h)||r||d||!n&&!i&&p||A||g||v||y||m||E&&!C.ended&&C.type===se.CONTENT_TYPE_VIDEO||l&&!w&&C.ended)&&(D=!1),null!==this._hudWasVisible&&this._hudWasVisible===D||(D?document.dispatchEvent(new CustomEvent("x-dl8-evt-show-hud",{detail:{id:C.id}})):document.dispatchEvent(new CustomEvent("x-dl8-evt-hide-hud",{detail:{id:C.id}}))),this._hudWasVisible=D,D}},{key:"render",value:function(){var e=this,n=this.props,i=n.tryDeactivateVr,r=n.seek,a=n.updateVolume,o=n.mute,l=n.unmute,c=n.seekbarWasPressed,h=n.tryResetPose,f=n.activateSeatedVr,_=n.activateRoomScaleVr,p=n.closeGetVRDialog,m=n.openIOSWithoutDeviceMotionDialog,A=n.closeIOSWithoutDeviceMotionDialog,g=n.closeIOSWithoutDeviceMotionVrOverlay,v=n.exit,y=n.changeQuality,b=n.openSettings,E=n.closeSettings,S=n.showCameraSettingsChooser,T=n.hideCameraSettingsChooser,C=n.showQualitySettingsChooser,M=n.hideQualitySettingsChooser,I=n.hideHud,k=n.startContent,V=n.translate,O=this.props.ui,L=O.vr,U=O.vrActive,G=O.fullscreen,Q=O.displayMode,j=O.mobile,J=O.vrShouldRotate,ee=O.noWebGL,ne=O.error,re=O.seekbarPressed,ae=O.hudToggled,oe=O.vrWizardActive,le=O.loading,ce=O.hardwareVr,he=O.standing,_e=O.hmd,pe=O.resettingResolution,me=O.iOSWithoutDeviceMotionDialogOpen,Ae=O.getVrDialogOpen,Ee=O.settingsOpen,we=O.controls,Se=O.ios,Te=O.ie,xe=O.samsungInternet,Ce=O.forceShowPlayButton,Me=O.supportsFullscreen,Pe=O.useNativeVideoFallback,Ie=O.tablet,Re=O.cameraSettingsChooserVisible,ke=O.qualitySettingsChooserVisible,De=O.appWidth,Ve=O.appHeight,Be=O.chromeWithoutDeviceMotion,Oe=O.IOSWithoutDeviceMotion,Ne=O.tapToUnmute,Le=O.vrBrowser,Fe=O.hasWebVr,Ue=O.hudEnabled,He=O.portrait,Ge=O.iOSWithoutDeviceMotionVrOverlayOpen,ze=this.props.data,Qe=ze.contents,We=ze.activeContentIdx,je=this.props.customization,Xe=je.primaryColor,Ye=je.secondaryClearColorDark,qe=je.secondaryClearMediumColorDark,Ze=je.secondaryClearerColorDark,Ke=je.secondaryColorDark,Je=je.invertedSecondaryColor,$e=je.brandWatermarkLogo,et=je.brandUrl,tt=je.brandName,nt=je.displayBrandWatermarkLogo,it=je.displayCompass,rt=je.displayVrButton,at=je.displaySettingsButton,ot=je.displayControls,st=je.displayFullscreenButton,lt=je.displayTitle,ut=je.displayExitButton,ct=je.displayMuteButton,dt=this.state,ht=dt.pauseAffiliates,ft=dt.noVrScreenAffiliates,_t=dt.seekbarHovered,pt=this._getHudVisibilityState(this.props),mt=(0,d.default)("button",{className:ge({dl8Btn:!0,mobile:j,resetPoseButton:!0}),title:V("hud.resetPose"),onClick:h},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconPose:!0})})),At=mt,gt=null;G&&j||!rt||Le||(gt=w.default.createElement("button",{ref:this._assignVrButtonRef,className:ge({dl8Btn:!0,vrButton:!0,mobile:j}),onClick:this._handleVrButton,title:V(!L||Ie||ne||ee?"hud.getVR":U?"hud.exitVR":"hud.enterVR")},(0,d.default)("i",{className:ge({dl8Icon:!0,iconVR:!U,iconVROff:U})})));var vt=null,yt=null,bt=null,Et=null,wt=null,St=null,Tt=null,xt=null,Ct=null,Mt=null,Pt=null,It=null,Rt=null,kt=null,Dt=!1,Vt=!1,Bt=!1,Ot=!1,Nt=se.CONTENT_TYPE_NAVIGATION,Lt=!1,Ft=null,Ut=Qe[We],Ht=Pe&&Ut&&Ut.type===se.CONTENT_TYPE_VIDEO,Gt=null,zt=Pe&&!Me&&Ut&&Ut.forceEmulatedFullscreen&&"force-inline"===Q,Qt=Pe&&!Me&&Ut&&!Ut.forceEmulatedFullscreen;!U&&st&&(zt||Qt||Me)&&(Gt=w.default.createElement("button",{className:ge({dl8Btn:!0,fullscreenButton:!0}),onClick:this._handleFullscreenClick,ref:this._assignFullscreenButtonRef,title:V(G?"hud.exitFull":"hud.enterFull")},(0,d.default)("i",{className:ge({dl8Icon:!0,iconFullscreenEnter:!G,iconFullscreenExit:G})})));var Wt=Oe&&Ut&&!Ut.isFlatVideo&&"https:"===location.protocol;if(Wt){var jt=Ut.preferredControls||Z.Util.getLocalStorageItemSafe("x-dl8-settings-preferred-control-mode");Wt=Wt&&(we!==se.DRAG_CONTROLS||jt!==se.DRAG_CONTROLS)}!Be||this.state.hideWarningView||Ge||me?!Wt||this.state.hideWarningView||Ge||me||(Ft=(0,d.default)("div",{className:ge({warningSpot:!0,dl8FadeInUp:!0,receivesEvents:!0,isMobile:j})},void 0,(0,d.default)(W.default,{title:V("iosWithoutDeviceMotion.warning_title"),buttonText:V(ve?"iosWithoutDeviceMotion.warning_13_btntext":"iosWithoutDeviceMotion.warning_btntext"),onClick:function(){return e.setState({hideWarningView:!0}),ve&&"function"==typeof DeviceMotionEvent.requestPermission?(DeviceMotionEvent.requestPermission().then(function(t){"granted"===t&&e.props.activateIosDevicemotion()}),void("function"==typeof DeviceOrientationEvent.requestPermission&&DeviceOrientationEvent.requestPermission().then(function(t){"granted"===t&&e.props.activateIosDevicemotion()}))):void m()},description:V("iosWithoutDeviceMotion.warning_desc"),customization:this.props.customization,onDismiss:function(){e.setState({hideWarningView:!0})},translate:V}))):Ft=(0,d.default)("div",{className:ge({warningSpot:!0,dl8FadeInUp:!0,receivesEvents:!0,isMobile:j})},void 0,(0,d.default)(z.default,{title:V("iosWithoutDeviceMotion.warning_title"),buttonText:V("iosWithoutDeviceMotion.warning_btntext"),url:"https://delight-xr.com/incidents/?utm_source=dvr-incidents#chrome65devicemotion",thumbnail:fe.default,description:V("iosWithoutDeviceMotion.warning_desc"),onDismiss:function(){e.setState({hideWarningView:!0})},translate:V}));var Xt=null;me&&(Xt=(0,d.default)(X.default,{translate:V,appWidth:De,appHeight:Ve,customization:this.props.customization,onClose:function(){e.setState({hideWarningView:!0}),A()},mobile:j,contentElementId:Ut&&Ut.dl8ElementId?Ut.dl8ElementId:""}));var Yt=[],qt=null;Ut&&Ut.type===se.CONTENT_TYPE_VIDEO&&(Yt=Ut.qualities,qt=Ut.selectedQuality);var Zt=[],Kt=Ut&&Ut.lockNonVrView;Ut&&j&&!Kt&&Ut.type!==se.CONTENT_TYPE_MODEL&&Ut.format!==se.CONTENT_MODE_MONO_FLAT&&(Zt=t.MOBILE_CAMERA_MODES);var Jt=null,$t=null,en=null;if(U){if(Yt.length>1&&j){var tn=Yt.map(function(e){return(0,d.default)("option",{value:e.id},e.id,e.value)});en=(0,d.default)("select",{className:ge({dl8Btn:!0,mobile:j,qualitySwitchButton:!0}),title:V("hud.switchQual"),defaultValue:qt,onChange:this._handleQualitySelect},void 0,tn)}}else Ee&&($t=(0,d.default)(N.default,{qualities:Yt,selectedQuality:qt,cameraModes:Zt,selectedCameraMode:we,cameraOverlayVisible:Re,qualityOverlayVisible:ke,onQualitySelected:y,onResetPoseClicked:h,onCameraSelected:this._handleCameraModeSelected,onShowCameraOverlay:S,onHideCameraOverlay:T,onShowQualityOverlay:C,onHideQualityOverlay:M,mobile:j,customization:this.props.customization,translate:V})),(Yt.length>1||Zt.length>1)&&at&&(Jt=(0,d.default)("button",{className:ge({dl8Btn:!0,mobile:j,settingsButton:!0,settingsOpen:Ee}),title:V("hud.settings"),onClick:Ee?E:b},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconSettings:!0})})));var nn=null;ce&&!j&&Ut&&Ut.positional&&(nn=(0,d.default)("button",{className:ge({dl8Btn:!0,mobile:j,resetPoseButton:!0}),title:V(he?"hud.activateSeated":"hud.activateRoomScale"),onClick:he?f:_},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconSeated:!he,iconRoomScale:he})})));var rn=null,an=null,on=null,sn=null,ln=null,un=!1,cn=!1,dn=document.head.querySelectorAll('meta[name="viewport"]'),hn=dn[dn.length-1],fn=!1;if(hn){var _n=hn.getAttribute("content");_n&&_n.indexOf("cover")!==-1&&(fn=!0)}var pn=fn?P.default.top:0,mn=fn?P.default.right:0,An=fn?P.default.bottom:0,gn=fn?P.default.left:0,vn=De/Ve;if(vn<1&&Se&&document.body.classList.contains("x-dl8-fullscreen")&&(An+=30),0===An&&vn>=1&&Se&&document.body.classList.contains("x-dl8-fullscreen")&&(An+=25),Ut&&Ut.element&&Ut.type===se.CONTENT_TYPE_VIDEO){var yn=Ut.element.videoWidth,bn=Ut.element.videoHeight;if(Ut.format===se.CONTENT_MODE_MONO_FLAT&&j&&(!G&&"force-inline"===Q||G)){var En=yn/bn;if(yn&&bn)if(En>vn){if(vn>=1){var wn=Math.max(De/En,200);pn=Math.max((Ve-wn)/2,pn),An=Math.max((Ve-wn)/2,An)}}else{var Sn=Math.max(Ve*En,300);mn=Math.max((De-Sn)/2,mn),gn=Math.max((De-Sn)/2,gn)}}}var Tn=!1,xn=void 0;if(Ut){var Cn=Ut.title,Mn=Ut.headingTag,Pn=Ut.date,In=Ut.type,Rn=Ut.playing,kn=Ut.ended,Dn=Ut.seeking,Vn=Ut.duration,Bn=Ut.volume,On=Ut.muted,Nn=Ut.contentError,Ln=Ut.isFlatVideo,Fn=Ut.advertisements,Un=Ut.dl8Recommendations,Hn=Ut.id,Gn=Ut.useNativeControls;if(Dt=Dn,Vt=Rn,Bt=kn,Nt=In,Lt=Ln,ln=Nn,xn=Un&&Un[0],!Vt&&!Ee&&!Ft){var zn=ht.items,Qn=ht.spot;if(zn&&zn[0]&&Qn){var Wn=zn[0];rn=(0,d.default)("div",{className:ge({affiliatePauseSpot:!0,dl8FadeInUp:!0,receivesEvents:!0,isMobile:j})},void 0,(0,d.default)(H.default,{name:Wn.name,url:Wn.url,price:Wn.price,thumbnail:Wn.thumbnail,description:Wn.description}))}}if(Nt===se.CONTENT_TYPE_VIDEO&&xn&&!xn.hideDuringPlayback&&pt&&!ht.spot&&!Bt){var jn=!Vt&&!Ee;an=(0,d.default)($.default,{contentPlaying:Vt,recommendations:Qe.filter(function(e){return e.parentIds.originatorId===Hn}),hasTouch:j,opened:jn,appWidth:De,appHeight:Ve,fadeOut:_t&&jn,onActivateContent:this._activateRecommendation,customization:this.props.customization,translate:V})}Nt===se.CONTENT_TYPE_VIDEO&&xn&&!xn.hideAfterPlayback&&pt&&(Tn=Bt,on=(0,d.default)(te.default,{recommendations:Qe.filter(function(e){return e.parentIds.originatorId===Hn}),hasTouch:j,opened:Bt,appWidth:De,appHeight:Ve,isPortrait:He,safeAreaLeft:gn,autoplay:xn.autoplay,autoplayDelay:xn.autoplayDelay,autoplayCountdownDelay:xn.autoplayCountdownDelay,onActivateContent:this._activateRecommendation,onReplayContent:this._replayContent,customization:this.props.customization,translate:V}));var Xn=!!an||!!rn||!!Ft,Yn=De>=400,qn=Ve>=320,Zn=Yn,Kn=qn;j&&(Zn=Ve>=470?De>=320:Yn,Kn=De>=452?qn:Ve>=470,Xn&&(Zn=Ve>=568?De>=320:Yn,Kn=De>=452?qn:Ve>=568));var Jn=!(oe||ke||me||Ae||Re||U||J),$n=Fn&&Zn&&Kn&&Jn,ei=660,ti=Xn?568:470,ni=De>=ei,ii=Ve>=ti;if(Nt===se.CONTENT_TYPE_VIDEO&&!Vt&&$n){var ri=void 0;ri=j?se.MOBILE_PAUSE_CENTRE_RECTANGLE_300X250:se.DESKTOP_PAUSE_CENTRE_RECTANGLE_300X250;var ai=Fn[ri];pt&&ai&&!ai.dismissed&&!ai.loading&&ai.valid&&(sn=(0,d.default)(ie.default,{advertisement:ai,isMobile:j,hasMinWidthToCenter:ni,hasMinHeightToCenter:ii,hasBottomAddons:Xn,onDismissAdvertisement:function(){return e._dismissAdvertisement(ri)}}))}var oi=void 0,si=[0,0];if(In===se.CONTENT_TYPE_VIDEO){oi=Ut.element.currentTime,(0,Y.convertBufferState)(Ut.element.buffered,oi,si);var li=Ce&&j;Ot=Ut.loading&&!li}Ut.positional&&ce&&!j&&(At=null);var ui=Ut.dl8LiveVideo&&oi-Vn>-20;cn=Ut.dl8LiveVideo,un=cn&&!Ut.seekable;var ci=Ut.notPausable;if(cn){var di=Ut.element.seekable;di&&0===di.length&&(ui=!0);var hi=(0,d.default)("div",{className:ge({time:!0,liveBadge:!0,isLive:ui,dl8FadeInUp:j}),onClick:function(){return ui?void 0:r(Vn)}},void 0,(0,d.default)("span",{style:{color:ui?Xe.string(0):"white"}},void 0,""),V("hud.live"));j?wt=hi:Et=hi}j||In!==se.CONTENT_TYPE_VIDEO||cn||(vt=(0,d.default)("div",{className:ge({time:!0})},void 0,(0,Y.convertSecondsToDisplayString)(oi)+" / "+(0,Y.convertSecondsToDisplayString)(Vn))),j&&In===se.CONTENT_TYPE_VIDEO&&!cn&&(yt=(0,d.default)("div",{
className:ge({time:!0,dl8FadeInUp:!0})},void 0,(0,Y.convertSecondsToDisplayString)(oi))),j&&In===se.CONTENT_TYPE_VIDEO&&!cn&&(bt=(0,d.default)("div",{className:ge({time:!0,dl8FadeInUp:!0})},void 0,(0,Y.convertSecondsToDisplayString)(cn?oi-Vn:Vn))),j||ci||In!==se.CONTENT_TYPE_VIDEO||(St=(0,d.default)("button",{className:ge({dl8Btn:!0,mobile:j,playButton:!0}),onClick:this._togglePlay,title:V(Rn?"hud.pause":"hud.play")},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconPlay:!Rn&&!kn,iconPause:Rn&&!kn&&!un,iconReplay:kn,iconStop:un&&Rn})}))),ct&&In===se.CONTENT_TYPE_VIDEO&&j&&(xt=(0,d.default)("button",{className:ge({dl8Btn:!0,muteButton:!0}),title:V(Bn>0?"sndCtrl.mute":"sndCtrl.unmute"),onClick:function(){return Bn>0?o():l()},style:{background:qe.string(0)}},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconVolume:Bn>0&&!On,iconMute:0===Bn||On})}))),j||In!==se.CONTENT_TYPE_VIDEO||(Tt=(0,d.default)(D.default,{accentColor:Xe.string(0),volume:Bn,muted:On||Ne,onUnmute:l,onVolumeChanged:a,translate:V})),In===se.CONTENT_TYPE_VIDEO&&Ne&&!kn&&Ue&&!Gn&&(Ct=(0,d.default)("div",{className:ge({tapToUnmute:!0}),id:"dl8-tap-to-unmute",onClick:l},void 0,(0,d.default)("button",{className:ge({dl8Btn:!0,mobile:j}),style:{backgroundColor:Ye.string(0)}},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconVolume:!0})}),V(j?"hud.tapToUnmute":"hud.clickToUnmute"))));var fi=Qe.filter(function(e){return e.parentIds.originatorId===Hn})[0];xn&&(Pt=(0,d.default)("button",{onClick:function(){xn.onSelectRecommendation&&!xn.onSelectRecommendation(fi,!1,"inplayer-next")||k(fi.id)},className:ge({dl8Btn:!0,onScreenPlayButton:!0,nextButton:!0,mobile:j,invisible:!xn.showNextButton||!fi,hasMinHeightToCenter:ii,hasBottomAddons:Xn,hasAdvertisement:!!sn})},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconNextVideo:!0}),style:{backgroundColor:Dt?"transparent":qe.string(0),fontSize:""+(De>500?"45px":"8vw"),padding:""+(De>500?"14px":80/33+"vw")}})));var _i=Qe.find(function(e){return e.id===Ut.parentIds.originatorId});if(xn&&(It=(0,d.default)("button",{onClick:function(){xn.onSelectRecommendation&&!xn.onSelectRecommendation(_i,!1,"inplayer-prev")||k(_i.id)},className:ge({dl8Btn:!0,onScreenPlayButton:!0,prevButton:!0,invisible:!xn.showPrevButton||!_i,mobile:j,hasMinHeightToCenter:ii,hasBottomAddons:Xn,hasAdvertisement:!!sn})},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconPreviousVideo:!0}),style:{backgroundColor:Dt?"transparent":qe.string(0),fontSize:""+(De>500?"45px":"8vw"),padding:""+(De>500?"14px":80/33+"vw")}}))),j&&!ci&&In===se.CONTENT_TYPE_VIDEO){var pi=void 0;U&&pt||(pi={backgroundColor:Dt?"transparent":qe.string(0),fontSize:""+(De>500?"60px":"10vw"),padding:""+(De>500?"20px":100/33+"vw")}),Mt=(0,d.default)("button",{onClick:this._togglePlay,className:ge({dl8Btn:!0,dl8WiderTouch:!0,onScreenPlayButton:!0,mobile:j,hasMinHeightToCenter:ii,hasBottomAddons:Xn,hasAdvertisement:!!sn})},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconPlay:!(Rn||kn||Dt||Ot),iconPause:Rn&&!kn&&!Dt&&!Ot&&!un,iconStop:Rn&&!kn&&!Dt&&!Ot&&un,iconReplay:kn&&!Dt&&!Ot}),style:pi}))}if(In===se.CONTENT_TYPE_VIDEO){var mi=void 0;Ut.dl8VideoPreviewSprites&&Ut.dl8VideoPreviewSprites.length>0&&(mi=Ut.dl8VideoPreviewSprites[0]);var Ai=void 0;Ut.dl8Tracks&&Ut.dl8Tracks.length>0&&(Ai=Ut.dl8Tracks.find(function(e){return"thumbs"===e.metadataKind})),kt=(0,d.default)(R.default,{accentColor:Xe.string(0),backgroundColor:Ye.string(0),textColor:Je.string(0),curTime:oi,duration:Vn||0,seeking:Dn,hasTouch:j,onSeek:r,seekbarPressed:re,onSeekbarPressed:c,onPointerHovered:this._seekbarWasHovered,buffering:si,mouseMoveDisabled:!1,previewSprite:mi,previewVideo:Ut.dl8VideoPreviewVideos&&Ut.dl8VideoPreviewVideos[0],thumbnailTrack:Ai,live:Ut.dl8LiveVideo,seekable:Ut.seekable||!Ut.dl8LiveVideo})}if(lt){var gi=Cn;In===se.CONTENT_TYPE_TOUR&&Ut.activeProbeIdx>=0&&(gi=Ut.dl8TourImgs[Ut.activeProbeIdx].title||gi);var vi={color:Je.string(0)};nt||(vi.marginLeft="4px"),Rt=(0,d.default)("div",{className:ge({titleView:!0}),style:vi},void 0,Mn&&(0,d.default)("h4",{className:ge({dl8FadeInDown:!0}),style:{background:Xe.string(0)}},void 0,Mn),(0,d.default)("h2",{className:ge({dl8FadeInDown:!0,singleLine:!Mn&&!Pn})},void 0,gi||""),Pn&&(0,d.default)("h6",{className:ge({dl8FadeInDown:!0})},void 0,Pn))}}var yi=null,bi=null;U||(ut&&(yi=(0,d.default)("button",{className:ge({dl8Btn:!0}),title:V("hud.exitPlayer"),onClick:v},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconCross:!0})}))),Nt!==se.CONTENT_TYPE_VIDEO&&Nt!==se.CONTENT_TYPE_IMAGE&&Nt!==se.CONTENT_TYPE_HUB&&Nt!==se.CONTENT_TYPE_TOUR||!it||Lt||Ht||(bi=(0,d.default)("div",{className:ge({compass:!0})},void 0,(0,d.default)(F.default,{onResetClicked:h,translate:V}))));var Ei=null;ae&&U&&(Ei=(0,d.default)("button",{className:ge({dl8Btn:!0}),title:V("hud.hideHud"),onClick:I},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconCross:!0})})));var wi=(0,d.default)("div",{className:ge({systemActions:!0,fullWidth:Nt===se.CONTENT_TYPE_NAVIGATION,dl8FadeInDown:!0,noTitle:!lt})},void 0,yi,xt,Ei),Si=null,Ti=null,xi=null,Ci=null,Mi=null;if(U&&!ce&&(Mi=(0,d.default)("button",{className:ge({dl8Btn:!0,mobile:j,wizardButton:!0}),title:V("hud.setupHmd"),onClick:this._showVrWizard},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconWizard:!0})})),!ae)){Si=(0,d.default)("button",{className:ge({dl8Btn:!0,mobile:j,exitVrButton:!0}),title:V("hud.exitVR"),onClick:i},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconVROff:!0})})),xi=(0,d.default)("div",{className:ge({vrActionsBottom:!0})},void 0,Mi),Ti=(0,d.default)("div",{className:ge({vrActionsTop:!0})},void 0,(0,d.default)("button",{className:ge({dl8Btn:!0,mobile:j,hudButton:!0}),title:V("hud.showHud"),onClick:this._handleShowHud},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconDots:!0})})));var Pi=K.ViewerLibrary.get(_e);Pi&&!Pi.phoneFixed&&(Ci=(0,d.default)("div",{className:ge({cardboardSeparator:!0})}))}var Ii=le||Ot,Ri=!1;Ri=Nt===se.CONTENT_TYPE_VIDEO?pe&&!Ht||Dt||le||Ot&&Vt:pe||Ii;var ki=null;if(Ut&&Ut.parentIds.hubId)ki=(0,d.default)("button",{className:ge({dl8Btn:!0}),title:V("hud.home"),onClick:function(){return k(Ut.parentIds.hubId)}},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconBack:!0})}));else if(nt){var Di=null,Vi=null;$e?(Vi=tt,Di=et):(Vi=V("hud.delightVRPlayer"),Di="https://delight-xr.com/?utm_source=dvr-watermark-logo"),ki=(0,d.default)("a",{className:ge({branding:!0,dl8FadeInDown:!0}),href:Di,target:"_blank",title:Vi},void 0,w.default.createElement("img",{ref:this._assignBrandIconRef,src:$e||ue.default}))}var Bi=null;!(!U||U&&ae)||oe||!Ri||J||ne||ln||(Bi=(0,d.default)("div",{className:ge({overlay:!0,receivesEvents:le,loaderWrapper:!0}),id:"dl8-overlay",style:{backgroundColor:le||pe?Ke.string(0):Ze.string(0),color:Je.string(0)}},void 0,(0,d.default)("div",{className:ge({loader:!0}),style:{borderLeft:"0.5em solid "+Xe.string(0)}})));var Oi=null;J&&!oe&&(Oi=(0,d.default)("div",{className:ge({overlay:!0,receivesEvents:!Ri}),style:{backgroundColor:Ye.string(0),color:Je.string(0)}},void 0,(0,d.default)("div",{},void 0,(0,d.default)("img",{style:{width:"100px"},src:de.default,width:"100"}),(0,d.default)("ul",{},void 0,(0,d.default)("li",{},void 0,V("hud.rotateDevice")),ye,(0,d.default)("li",{},void 0,V("hud.attachToHMD")),be,(0,d.default)("li",{},void 0,V("hud.mountHMD"))))));var Ni=null;Ge&&(Ni=(0,d.default)("div",{className:ge({overlay:!0,receivesEvents:!Ri}),style:{backgroundColor:Ye.string(0),color:Je.string(0),zIndex:1}},void 0,(0,d.default)("button",{className:ge({dl8Btn:!0,closeButton:!0,mobile:j}),onClick:g},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconCross:!0})})),(0,d.default)("div",{},void 0,(0,d.default)("h4",{},void 0,V("iosWithoutDeviceMotion.warning_title")),(0,d.default)("p",{},void 0,V("iosWithoutDeviceMotion.warning_desc")),(0,d.default)(B.default,{title:V(ve?"iosWithoutDeviceMotion.warning_13_btntext":"iosWithoutDeviceMotion.warning_btntext"),customization:this.props.customization,primary:!0,lightBg:!0,small:!0,autoWidth:!0,className:ge({button:!0}),onClick:function(){return g(),ve&&"function"==typeof DeviceMotionEvent.requestPermission?(DeviceMotionEvent.requestPermission().then(function(t){"granted"===t&&e.props.activateIosDevicemotion()}),void("function"==typeof DeviceOrientationEvent.requestPermission&&DeviceOrientationEvent.requestPermission().then(function(t){"granted"===t&&e.props.activateIosDevicemotion()}))):void m()}}))));var Li=null;!j&&Ue&&Ut&&Ut.type===se.CONTENT_TYPE_VIDEO&&(Li=(0,d.default)("div",{className:ge({overlay:!0,indicatorOverlay:!0})},void 0,(0,d.default)("i",{className:ge({iconPlay:Vt,iconPause:!Vt&&!Bt&&!un,iconReplay:Bt&&!U&&(!xn||xn.hideAfterPlayback),iconStop:!Vt&&un,dl8Icon:!0})},void 0)));var Fi=null,Ui=null,Hi=null;if(!Ht){if(ne&&!ee){var Gi=(0,u.default)({},this.props.ui,{error:void 0},this.props.data,{stack:ne.stack,ua:navigator.userAgent,url:location.toString()});Fi=(0,d.default)("div",{className:ge({overlay:!0,noWebglOverlay:!0,receivesEvents:!0}),style:{backgroundColor:Ke.string(0),color:Je.string(0)}},void 0,(0,d.default)("button",{className:ge({dl8Btn:!0,closeButton:!0,mobile:j}),onClick:v},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconCross:!0})})),(0,d.default)("h2",{},void 0,V("hud.encounterError")),(0,d.default)("p",{},void 0,ne.message),(0,d.default)("a",{className:ge({buttonLink:!0}),href:"mailto:support@delight-xr.com?subject=Error Report&body=Report data: "+encodeURIComponent(ne.message)+"%0D%0A%0D%0A"+Z.Util.base64EncodeUnicode((0,s.default)(Gi))},void 0,(0,d.default)(B.default,{title:V("hud.report"),customization:this.props.customization})," "))}ne&&ee&&(Ui=(0,d.default)("div",{className:ge({overlay:!0,noWebglOverlay:!0,receivesEvents:!0}),style:{backgroundColor:Ke.string(0),color:Je.string(0)}},void 0,(0,d.default)("button",{className:ge({dl8Btn:!0,closeButton:!0,mobile:j}),onClick:v},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconCross:!0})})),(0,d.default)("h2",{},void 0,V("hud.noWebGL")),(0,d.default)("p",{},void 0,V("hud.noWebGLP1"),(0,d.default)("a",{style:{color:Xe.string(0)},href:"http://get.webgl.org",target:"_blank",rel:"noopener noreferrer"},void 0,V("hud.noWebGLP2")),V("hud.noWebGLP3"))));var zi=V("hud.contentIssue");if(ln){var Qi=null,Wi=null;Wi=Se?(0,d.default)("p",{},void 0,V("hud.COUnsupportedIOS")):Te?(0,d.default)("p",{},void 0,V("hud.COUnsupportedIE")):(0,d.default)("p",{},void 0,V("hud.COUnsupportedGeneral"));var ji=null;ln===se.SECURITY_ERROR?Ut&&Ut.corsFallbackUrl?(zi=Ut.corsCustomHeading||zi,ji=(0,d.default)("a",{className:ge({buttonLink:!0}),href:Ut.corsFallbackUrl,target:"_blank"},void 0,(0,d.default)(B.default,{fullWidth:!0,title:Ut.corsCustomCta||V("hud.viewCont"),customization:this.props.customization,onClick:v})),Qi=(0,d.default)("p",{},void 0,Ut.corsCustomMessage||V("hud.COUnsupported"))):Qi=Wi:Qi=(0,d.default)("p",{},void 0,ln),Hi=(0,d.default)("div",{className:ge({overlay:!0,noWebglOverlay:!0,receivesEvents:!0}),style:{backgroundColor:Ke.string(0),color:Je.string(0)}},void 0,(0,d.default)("button",{className:ge({dl8Btn:!0,closeButton:!0,mobile:j}),onClick:v},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconCross:!0})})),(0,d.default)("h2",{},void 0,zi),Qi," ",ji)}}var Xi=null;!Ri&&!U&&Le&&Fe&&(Xi=(0,d.default)("div",{className:ge({overlay:!0,receivesEvents:!0,immediateVrOverlay:!0}),style:{backgroundColor:Ke.string(0),color:Je.string(0)}},void 0,(0,d.default)(B.default,{title:V("hud.start"),onClick:this._handleDirectEnterVR,customization:this.props.customization,ghost:!0})));var Yi=null;!ce&&!U&&j&&xe&&(Yi=(0,d.default)("div",{className:ge({overlay:!0,receivesEvents:!0,immediateVrOverlay:!0}),style:{backgroundColor:Ke.string(0),color:Je.string(0)}},void 0,(0,d.default)("h2",{},void 0,V("hud.noWebVRP1")),(0,d.default)("p",{style:{marginBottom:"0.0rem"}},void 0,V("hud.noWebVRP2")),(0,d.default)("p",{style:{marginBottom:"0.0rem",backgroundColor:"#5A5A5A",padding:"13px",width:"400px"}},void 0,V("hud.noWebVRP3")),(0,d.default)("p",{},void 0,V("hud.noWebVRP4"))));var qi=null;if(Ae){var Zi=void 0,Ki=window.location.href;"true"===(0,q.getUrlVar)("dl8-start-from-cors-fallback")&&document.referrer&&(Ki=document.referrer),Zi=void 0!==Ut&&void 0!==Ut.dl8ElementId?Ki.replace(window.location.hash,"")+"#"+Ut.dl8ElementId:Ki+"?dl8-autostart-player=true";var Ji=ft.items,$i=ft.spot,er=null;if(Ji&&$i){var tr=Ji.map(function(e){return(0,d.default)(H.default,{name:e.name,url:e.url,description:e.description,thumbnail:e.thumbnail,price:e.price,style:{margin:"10px 0"}},e.id)}),nr=null;$i.cta&&(nr=(0,d.default)("p",{},void 0,$i.cta)),er=(0,d.default)("div",{className:ge({affiliateList:!0})},void 0,nr,tr)}qi=(0,d.default)("div",{className:ge({overlay:!0,receivesEvents:!0,getVrOverlay:!0}),style:{backgroundColor:Ye.string(0),color:Je.string(0)}},void 0,(0,d.default)("button",{className:ge({dl8Btn:!0,closeButton:!0,mobile:j}),onClick:p},void 0,(0,d.default)("i",{className:ge({dl8Icon:!0,iconCross:!0})})),(0,d.default)("div",{className:ge({overlayVerticalContent:!0})},void 0,(0,d.default)("div",{},void 0,(0,d.default)("h2",{},void 0,V("hud.howToExp")),(0,d.default)("p",{},void 0,V("hud.toEnterVRP1"),(0,d.default)("a",{style:{color:Je.string(0)},href:"http://webvr.info",target:"_blank",rel:"noopener noreferrer"},void 0,V("hud.toEnterVRP2")),V("hud.toEnterVRP3")),w.default.createElement("img",{style:{minHeight:"150px"},ref:function(e){x.default.image({image:e,size:6,value:Zi})}}),(0,d.default)("p",{},void 0,(0,d.default)("a",{style:{fontSize:"10px",color:Je.string(0)},href:Zi,target:"_blank",rel:"noopener noreferrer"},void 0,Zi))),er))}var ir=null;U&&pt&&(ir=(0,d.default)("div",{className:ge({vrExtraHud:!0,four:!!(Mt&&Mi&&mt&&en)})},void 0,Mt,Mi,At,nn,en));var rr=void 0;return rr=Nt===se.CONTENT_TYPE_VIDEO?Tn?"rgba(0, 0, 0, 0.7)":"linear-gradient(\n            to bottom,\n            rgba(0,0,0,0.8) 0%,\n            rgba(0,0,0,0.5) 33%,\n            rgba(0,0,0,0.2) 50%,\n            rgba(0,0,0,0.5) 66%,\n            rgba(0,0,0,0.8) 100%\n          )":"linear-gradient(to bottom, rgba(0,0,0,0.45) 0%, rgba(0,0,0,0.3) 15%, rgba(0,0,0,0.02) 50%, rgba(0,0,0,0.3) 85%, rgba(0,0,0,0.45) 100%)",(0,d.default)("div",{className:ge({root:!0}),style:{background:pt&&j?re||U?Ye.string(0):rr:"transparent"}},void 0,(0,d.default)("div",{className:ge({rootWrapper:!0}),style:{top:pn+"px",left:gn+"px",bottom:An+"px",right:mn+"px"}},void 0,(0,d.default)("div",{className:ge({overlayContainer:!0}),style:{bottom:"-"+An+"px"}},void 0,Si,Ti,xi,Ci),sn,(0,d.default)("div",{className:ge({controlWrapper:!0,active:pt&&(!Tn||Ve>300),receivesEvents:U&&pt})},void 0,(0,d.default)("div",{className:ge({topBar:!0,isMobile:j,dl8FadeIn:!0,hidden:!(lt||nt||ut)}),style:{background:j?"transparent":"linear-gradient(to bottom, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.05) 80%, transparent 100%)"}},void 0,ki,Rt,wi),(0,d.default)("div",{className:ge({bottomBar:!0,slim:j,dl8FadeIn:!0,hidden:!(ot||rt||at||st)}),onTouchStart:this._handleBottomBarTouchStart,onTouchEnd:this._handleBottomBarTouchEnd,style:{background:j?"transparent":"linear-gradient(to top, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.05) 80%, transparent 100%)"}},void 0,rn,ot?yt:null,ot?wt:null,ot?kt:null,ot?bt:null,(0,d.default)("div",{className:ge({controls:!0,hidden:j,dl8FadeInUp:!0})},void 0,ot?St:null,ot?Tt:null,ot?vt:null,ot?Et:null),(0,d.default)("div",{className:ge({actions:!0,fullWidth:Nt!==se.CONTENT_TYPE_VIDEO,dl8FadeInUp:!0})},void 0,Jt,gt,Gt)),!Tn&&(0,d.default)("div",{className:ge({overlay:!0,horizontalOverlay:!0,hidden:!j||U})},void 0,(0,d.default)("div",{style:{marginTop:"-"+pn+"px",marginRight:"-"+mn+"px",marginBottom:"-"+An+"px",marginLeft:"-"+gn+"px",display:"flex"}},void 0,It,Mt,Pt)),bi,an,ir),on,Ct,$t,Ft),(0,d.default)("div",{className:ge({overlayContainer:!0})},void 0,Li,Fi,Ui,Hi,Xi,Yi,Xt,qi,Oi,Ni,Bi))}}]),t}(E.Component);Ee.MOBILE_CAMERA_MODES=[se.DRAG_CONTROLS,se.MAGIC_WINDOW_CONTROLS],t.default=(0,S.connect)(a,ae.default)(Ee)},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{ui:e.ui,data:e.data,customization:e.customization,translate:(0,T.getTranslate)(e.locale)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),s=r(o),l=n(28),u=r(l),c=n(113),d=r(c),h=n(3),f=r(h),_=n(1),p=r(_),m=n(2),A=r(m),g=n(5),v=r(g),y=n(4),b=r(y),E=n(16),w=r(E),S=n(122),T=n(121),x=n(78),C=r(x),M=n(19),P=i(M),I=n(284),R=n(9),k=n(7),D=n(164),V=n(298),B=r(V),O=n(68),N=n(79),L=n(49);n(77);var F=n(34),U=r(F),H=n(685),G=r(H),z=U.default.bind(G.default),Q=function(e){function t(){var e,n,i,r;(0,p.default)(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=i=(0,v.default)(this,(e=t.__proto__||(0,f.default)(t)).call.apply(e,[this].concat(o))),W.call(i),r=n,(0,v.default)(i,r)}return(0,b.default)(t,e),(0,A.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.deviceSupportsVr,i=t.activateVr,r=t.toLandscape,a=t.toPortrait,o=t.play,s=t.pause,l=t.seek,u=t.updateVolume,c=t.unmute,h=t.setNewAutodetectedPhone,f=t.setContentError,_=t.startedLoadingContent,p=t.finishedLoadingContent,m=t.end,A=t.startResetResolution,g=t.endResetResolution,v=t.updateBuffering,y=t.progressLoadingContent,b=t.qualityChanged,E=t.customization,w=t.changeQuality,S=t.tourProbeChanged,T=t.tourContentPortalClicked,x=t.replaceContent,C=t.startContent,M=t.disableGazeBasedInteraction,P=t.ui,R=t.closeSettings,D=t.showVrHud,V=t.hideVrHud,O=t.translate,N=this.state.player;null===N?(0,d.default)(function(){try{var t=new B.default({canvas:e._canvas,antialiasEnabled:!P.android||58!==k.Util.getChromeVersion()||P.oculusBrowser||P.samsungInternet,ovrSamples:-1,resourceBasePath:(0,I.getResourceBasePath)(),localDataBasePath:(0,I.getResourceBasePath)(),debugMode:!1,fullscreenElement:document.querySelector("#dl8-content-container"),onNoWebGL:e._setError,onLoadFinished:p,onLoadProgress:y,onLoadIntermediateStarted:_,onLoadIntermediateFinished:p,onLoadIntermediateProgress:y,onResetStart:A,onResetEnd:g,onVrDeviceReady:n,onVrDeviceActivated:i,onVrDeviceDeactivated:e._deactivateVr,onVrDeviceMounted:e._mountVr,onVrDeviceUnmounted:e._unmountVr,onRotatedToPortrait:a,onRotatedToLandscape:r,onPhoneChanged:h,onQualityChanged:b,onChangeQuality:w,onUpdateBuffering:v,onShowVrHud:D,onHideVrHud:V,onBackButton:e._goBack,useShaderResourceHack:E.useShaderResourceHack,onPause:s,onPlay:o,onSeek:l,onUpdateVolume:u,onUnmute:c,onEnd:m,onToggleHud:e._handleToggleHud,onContentError:f,onError:e._setError,onTourProbeChanged:S,onTourContentPortalClicked:T,onActivateContent:C,onReplaceContent:x,onDisableGazeBasedInteraction:M,onCloseSettings:R,enablePerformanceTest:!1,onPerformanceResult:e._performanceMeasurement,maxTiming:120,maxDevicePixelRatio:!k.Util.isAndroid()||k.Util.isOculusBrowser()||E.forceNativeVrResolution?8:2,customization:E,translate:O,uiState:P}).run();e.setState({player:t}),E.shouldNeverStartEngine&&t.pause(),e._updatePlayerFromProps(e.props,!0)}catch(t){e._setError(t)}e._registerGlobalEventHandlers()}):E.shouldNeverStartEngine||N.resume()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.data.contents[this.props.data.activeContentIdx],n=e.data.contents[e.data.activeContentIdx];if(void 0!==t||void 0!==n){(void 0===t&&n||t&&void 0===n||t.id!==n.id)&&(t&&t.type===P.CONTENT_TYPE_VIDEO&&(n&&n.type===P.CONTENT_TYPE_VIDEO&&n.parentIds.originatorId===t.id||this._unregisterVideoElementEventHandlers(t)),n&&n.type===P.CONTENT_TYPE_VIDEO&&(t&&t.type===P.CONTENT_TYPE_VIDEO&&n.parentIds.originatorId===t.id||this._registerVideoElementEventHandlers(n),this.props.updateDuration(),this.props.updateMetadata()));try{this._updatePlayerFromProps(e)}catch(e){this._setError(e)}}}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.player,n=e.needRenderSystemReset;n&&t&&t._renderSystem._physicalCamera&&((0,d.default)(function(){t._resetRenderSystem()}),this.setState({needRenderSystemReset:!1}))}},{key:"componentWillUnmount",value:function(){var e=this.state.player;e&&e.dtor();var t=this.props.data.contents[this.props.data.activeContentIdx];t.type===P.CONTENT_TYPE_VIDEO&&this._unregisterVideoElementEventHandlers(t),this._unregisterGlobalEventHandlers()}},{key:"_getContent",value:function(e){var t=this.props;if(t&&t.data){var n=t.data.contents.findIndex(function(t){return t.id===e});return n!==-1?t.data.contents[n]:void 0}}},{key:"_registerGlobalEventHandlers",value:function(){document.addEventListener("keydown",this._handleKeyDown),document.addEventListener("keyup",this._handleKeyUp),document.addEventListener("visibilitychange",this._handleVisibilityChange),k.Util.addFullscreenListeners(document.querySelector("#dl8-content-container"),this._onFullscreenChanged)}},{key:"_unregisterGlobalEventHandlers",value:function(){document.removeEventListener("keydown",this._handleKeyDown),document.removeEventListener("keyup",this._handleKeyUp),document.removeEventListener("visibilitychange",this._handleVisibilityChange),k.Util.removeFullscreenListeners()}},{key:"_adNeedsUpdate",value:function(e,t){return!(e===t||!t||t.loading||!t.valid)}},{key:"render",value:function(){var e=this.props.ui,t=e.useNativeVideoFallback,n=e.iOSWithoutDeviceMotionDialogOpen,i=e.getVrDialogOpen,r=e.iOSWithoutDeviceMotionVrOverlayOpen,a=e.vrShouldRotate,o=e.vrActive,l=e.hudToggled,c=e.mobile,d=e.cameraSettingsChooserVisible,h=e.qualitySettingsChooserVisible,f={},_=this.props.data,p=_.contents[_.activeContentIdx],m=p&&p.ended&&p.type===P.CONTENT_TYPE_VIDEO&&p.dl8Recommendations&&p.dl8Recommendations[0]&&!p.dl8Recommendations[0].hideAfterPlayback;(n||i||r||a||o&&c&&l||d||h||m)&&(f.filter="blur(15px)");var A=null;if(t){var g=this.props,v=g.finishedLoadingContent,y=g.ui,b=void 0,E=void 0;if(p&&p.element){var S=p.element.videoWidth,T=p.element.videoHeight,x=S/T,C=y.appWidth/y.appHeight;S&&T&&(x>C?(b="100%",E=y.appWidth/x+"px"):(b=y.appHeight*x+"px",E="100%"))}A=(0,u.default)("div",{onClick:this._handleClickNativeVideo},void 0,w.default.createElement("div",{className:"x-dl8-native-video",style:(0,s.default)({width:b,height:E},f),ref:function(e){e&&!e.hasChildNodes()&&p&&p.element&&(e.appendChild(p.element),v())}}))}return(0,u.default)("div",{className:z({root:!0})},void 0,A,w.default.createElement("canvas",{style:f,ref:this._assignCanvasRef,className:z({hidden:t})}))}}]),t}(E.Component),W=function(){var e=this;this.state={needRenderSystemReset:!1,player:null},this._deactivateVr=function(){var t=e.props,n=t.deactivateVr,i=t.exit,r=t.ui;n(),r.vrBrowser&&r.hasWebVr&&i()},this._mountVr=function(){},this._unmountVr=function(){},this._goBack=function(){var t=e.props.data,n=t.contents[t.activeContentIdx],i=e.state.player,r=e.props.ui,a=r.fullscreen,o=r.vrActive,s=r.vrWizardActive,l=r.getVrDialogOpen,u=r.iOSWithoutDeviceMotionVrOverlayOpen,c=r.iOSWithoutDeviceMotionDialogOpen;n&&n.parentIds.hubId?e.props.startContent(n.parentIds.hubId):i&&o?i.disableVr():a||o||s||!e.props.customization.displayExitButton||(l?e.props.closeGetVRDialog():c?e.props.closeIOSWithoutDeviceMotionDialog():u?e.props.closeIOSWithoutDeviceMotionVrOverlay():e.props.exit())},this._escapePressed=function(){e._goBack()},this._seeked=function(){var t,n=e.state.player;n&&n.seeked(),(t=e.props).seeked.apply(t,arguments)},this._onFullscreenChanged=function(){e.props.fullscreenChanged(!!k.Util.getFullscreenElement())},this._handleKeyDown=function(t){var n=e.props,i=n.data,r=n.ui,a=i.contents[i.activeContentIdx];if(27===t.keyCode)a&&e._escapePressed();else if(32===t.keyCode&&a&&a.type===P.CONTENT_TYPE_VIDEO){var o=t.target===a.domElement||t.target===document.body||t.target===a.element;if(!r.turnedOff&&o)return t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0,!1}},this._handleKeyUp=function(t){var n=e.props,i=n.data,r=n.ui,a=n.play,o=n.pause,s=i.contents[i.activeContentIdx];if(32===t.keyCode&&s&&s.type===P.CONTENT_TYPE_VIDEO&&r.hudEnabled){var l=t.target===s.domElement||t.target===document.body||t.target===s.element;!r.turnedOff&&l&&(s.playing?o():a())}},this._handleVisibilityChange=function(){var t=e.props,n=t.play,i=t.pause,r=e.state,a=r.player,o=r.wasPlaying;document.hidden?a&&a.playing&&(i(),e.setState({wasPlaying:!0})):o&&(n(),e.setState({wasPlaying:!1}))},this._unregisterVideoElementEventHandlers=function(t){var n=t.element;void 0!==n&&(n.removeEventListener("seeked",e._seeked),n.removeEventListener("durationchange",e.props.updateDuration),n.removeEventListener("loadedmetadata",e.props.updateMetadata),n.removeEventListener("resize",e.props.updateMetadata),n.removeEventListener("ended",e.props.end)),t.domElement._disableVideoEventMirror()},this._registerVideoElementEventHandlers=function(t){var n=t.element;void 0!==n&&(n.addEventListener("seeked",e._seeked),n.addEventListener("durationchange",e.props.updateDuration),n.addEventListener("loadedmetadata",e.props.updateMetadata),n.addEventListener("resize",e.props.updateMetadata),n.addEventListener("ended",e.props.end)),t.domElement._enableVideoEventMirror()},this._updatePlayerFromProps=function(t,n){var i=e.props,r=i.enableNativeVideoFallback,a=i.disableNativeVideoFallback,o=i.ui,s=i.data,l=i.resetPose,u=i.addContent,c=i.abortActivateVr,d=i.abortDeactivateVr,h=i.customization,f=e.state.player;if(null!==f){f.uiState=t.ui;var _=s.contents[s.activeContentIdx],p=t.data.contents[t.data.activeContentIdx];if(void 0!==p&&(p.type!==P.CONTENT_TYPE_VIDEO||p.dl8Cinema&&(!p.dl8Cinema||p.forceShowCinema)||f.useIOSHack?t.ui.useNativeVideoFallback&&a():p.format===P.CONTENT_MODE_MONO_FLAT&&(!o.vrShouldActivate&&t.ui.vrShouldActivate?(f.showContent(p,!0),a()):!o.vrShouldDeactivate&&t.ui.vrShouldDeactivate?f.showContent(p):t.ui.vrActive||o.vrShouldActivate||t.ui.useNativeVideoFallback||r()),_)){var m=_.advertisements,A=p.advertisements;if(m&&A){var g=m[P.VR_HUD_LEFT_SKYSCRAPER_160X600],v=A[P.VR_HUD_LEFT_SKYSCRAPER_160X600];e._adNeedsUpdate(g,v)&&f.showLeftHudAdvertisement(v);var y=m[P.VR_HUD_RIGHT_SKYSCRAPER_160X600],b=A[P.VR_HUD_RIGHT_SKYSCRAPER_160X600];e._adNeedsUpdate(y,b)&&f.showRightHudAdvertisement(b);var E=m[P.VR_HUD_TOP_BANNER_468X60],w=A[P.VR_HUD_TOP_BANNER_468X60];e._adNeedsUpdate(E,w)&&f.showTopHudAdvertisement(w);var S=m[P.VR_HUD_BOTTOM_BANNER_468X60],T=A[P.VR_HUD_BOTTOM_BANNER_468X60];e._adNeedsUpdate(S,T)&&f.showBottomHudAdvertisement(T)}}if(!o.turnedOff&&t.ui.turnedOff)return f.pause(),void f.clearHubActions();o.turnedOff&&!t.ui.turnedOff&&(h.shouldNeverStartEngine||f.resume(),e.setState({needRenderSystemReset:!0})),!o.shouldResetRenderSystem&&t.ui.shouldResetRenderSystem&&e.setState({needRenderSystemReset:!0});var x=!1;(n||void 0!==_&&void 0!==p&&_.id!==p.id||void 0!==_&&void 0===p||void 0===_&&void 0!==p)&&(f.showContent(p),x=!0,e.setState({needRenderSystemReset:!0})),f.content=p,p&&(t.data.recommendationsLoading||f.refreshRecommendations(t.data.contents.filter(function(e){return e.parentIds.originatorId===p.id})),f.contentLoading=p.loading||t.ui.loading),(o.controls!==t.ui.controls||n||x)&&(t.ui.controls===P.MAGIC_WINDOW_CONTROLS?f.enableMagicWindowControls():t.ui.controls===P.DRAG_CONTROLS?f.enableDragControls():t.ui.controls===P.VR_CONTROLS&&f.enableVrControls());var C=!1,M=!1;if(!o.vrShouldActivate&&t.ui.vrShouldActivate&&"force-inline"===t.ui.displayMode&&(C=!0),!o.vrShouldDeactivate&&t.ui.vrShouldDeactivate&&"force-inline"===t.ui.displayMode&&(M=!0),"force-inline"===t.ui.displayMode&&(o.vrWizardActive!==t.ui.vrWizardActive&&(t.ui.vrWizardActive?C=!0:M=!0),o.vrShouldRotate!==t.ui.vrShouldRotate&&(t.ui.vrShouldRotate?C=!0:M=!0)),C)(0,L.makeFullscreen)();else if(M){var I=p.domElement;if(p.parentIds.originatorId){var R=s.contents.find(function(e){return e.id===p.parentIds.originatorId});R&&(I=R.domElement)}else if(p.parentIds.hubId){var k=s.contents.find(function(e){return e.id===p.parentIds.hubId});k&&(I=k.domElement)}(0,L.makeInline)(I)}!o.vrShouldActivate&&t.ui.vrShouldActivate&&f.enableVr().catch(c),!o.vrShouldDeactivate&&t.ui.vrShouldDeactivate&&f.disableVr().catch(d),(n||o.hmd!==t.ui.hmd)&&(f.hmd=t.ui.hmd),o.phone!==t.ui.phone&&(f.phone=t.ui.phone),t.ui.shouldResetPose&&f.resetPose()&&l(),void 0!==p&&(p.type===P.CONTENT_TYPE_VIDEO?((n||void 0!==_&&_.ended!==p.ended)&&(f.ended=p.ended),f.useIOSHack?(o.seekbarPressed!==t.ui.seekbarPressed&&(f.playing=!t.ui.seekbarPressed),t.ui.seekbarPressed||(f.playing=p.playing)):f.playing=p.playing,p.changedQuality&&f.qualityChanged(p.qualityChangeTime,p.selectedQuality),void 0!==_&&_.type===P.CONTENT_TYPE_VIDEO&&_.qualities.length!==p.qualities.length&&f.qualityListUpdated(),(void 0!==_&&(_.width!==p.width||_.height!==p.height)||n)&&f.videoSizeChanged(p.width,p.height)):!n&&p===_||p.type!==P.CONTENT_TYPE_HUB||p.dl8HubContents.forEach(function(e){e.domChildren.forEach(function(e){e.domElement instanceof D.Dl8HubGroupElement||u(e,{hubId:p.id})})})),f.useGazeBasedInteraction=t.ui.useGazeBasedInteraction,f.roomScaleStanding=t.ui.standing,o.vrActive!==t.ui.vrActive&&(t.ui.vrActive?f.enabledVr():f.disabledVr())}},this._performanceMeasurement=function(e,t){N.TrackingManager.instance.addEvent(new O.TrackingEvent({type:O.TrackingEvent.PERFORMANCE_RESULT,payload:{p:e,t:t}}))},this._setError=function(t){t.message.startsWith("SecurityError")?(e.state.player&&e.props.pause(),e.props.setContentError(P.SECURITY_ERROR)):t.message===R.Context.NO_WEBGL_ERROR_MESSAGE?e.props.setNoWebGL(t):e.props.setError(t)},this._handleToggleHud=function(){var t=e.props,n=t.ui,i=t.showHud,r=t.hideHud;n.hudToggled?r():i()},this._handleClickNativeVideo=function(){var t=e.props,n=t.data,i=t.play,r=t.pause,a=t.ui,o=t.showHud,s=t.hideHud,l=t.closeSettings,u=n.contents[n.activeContentIdx];!a.vrActive&&a.settingsOpen?l():u&&u.type===P.CONTENT_TYPE_VIDEO&&(a.mobile?a.hudToggled?s():o():u.playing?r():i())},this._assignCanvasRef=function(t){e._canvas=t}};t.default=(0,S.connect)(a,C.default)(Q)},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{phone:e.ui.phone,activeContent:e.data.contents[e.data.activeContentIdx],hmd:e.ui.hmd,useGazeBasedInteraction:e.ui.useGazeBasedInteraction,appWidth:e.ui.appWidth,appHeight:e.ui.appHeight,customization:e.customization,translate:(0,M.getTranslate)(e.locale)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(72),s=r(o),l=n(28),u=r(l),c=n(3),d=r(c),h=n(1),f=r(h),_=n(2),p=r(_),m=n(5),A=r(m),g=n(4),v=r(g),y=n(15),b=r(y),E=n(16),w=r(E),S=n(46),T=(r(S),n(122)),x=n(371),C=r(x),M=n(121),P=n(78),I=n(49),R=n(283),k=r(R),D=n(320),V=n(93),B=n(7),O=n(19),N=i(O),L=n(630),F=r(L),U=n(123),H=r(U);n(77);var G=n(34),z=r(G),Q=n(686),W=r(Q),j=z.default.bind(W.default),X=new b.default([["CardboardV2",V.ViewerLibrary.get("CardboardV2")],["Samsung Gear VR SM-R322",V.ViewerLibrary.get("Samsung Gear VR SM-R322")],["Homido V2",V.ViewerLibrary.get("Homido V2")],["ZeissVROne",V.ViewerLibrary.get("ZeissVROne")]]),Y=(0,u.default)("i",{},void 0,""),q=(0,u.default)("i",{},void 0,""),Z=function(e){function t(e){(0,f.default)(this,t);var n=(0,A.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n._handleInputSearch=function(e){e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0;try{n._phoneSearch&&n._phoneSearch.blur()}catch(e){}},n._scrollTop=function(){window.scrollTo(0,0)},n._updatePhoneFilter=function(){n._phoneSearch&&n.setState({phoneFilter:n._phoneSearch.value})},n._goToPhoneSelect=function(){n.setState({step:t.STEP_PHONE_SELECT,phoneFilter:""}),n._scrollTop()},n._onPhoneListClick=function(e){n.props.setNewPhone(e),n._scrollTop()},n._goToHmdSelect=function(){n.setState({step:t.STEP_HMD_SELECT,hmdFilter:""}),n._scrollTop()},n._onHmdListClick=function(e){V.ViewerLibrary.get(e).primaryButton<=1&&n.props.enableGazeBasedInteraction(),n.props.setNewHmd(e);
},n._goToVrInteractionSelect=function(){n.setState({step:t.STEP_VR_INTERACTION_SELECT}),n._scrollTop()},n._startVr=function(){var e=n.props,t=e.enableGazeBasedInteraction,i=e.disableGazeBasedInteraction,r=e.useGazeBasedInteraction,a=e.hmd,o=e.phone;r?t():i(),n.props.setNewHmd(a),n.props.setNewPhone(o),n.props.finishVrWizard()},n._onHeaderButtonClicked=function(){switch(n.state.step){case t.STEP_START:n.props.cancelVrWizard();break;case t.STEP_PHONE_SELECT:case t.STEP_HMD_SELECT:case t.STEP_VR_INTERACTION_SELECT:n.setState({step:t.STEP_START})}},n._assignPhoneSearchRef=function(e){n._phoneSearch=e},n._assignAffiliateSwiper=function(e){n._affiliateSwiper=e},n._prevAffiliate=function(){n._affiliateSwiper&&n._affiliateSwiper.prev()},n._nextAffiliate=function(){n._affiliateSwiper&&n._affiliateSwiper.next()},n.state={step:t.STEP_START,phoneFilter:"",wizardAffiliates:{}},n}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.activeContent;e&&this._updateAffiliates(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.activeContent,n=e.activeContent;!t||void 0!==n&&n.id===t.id||this._updateAffiliates(t)}},{key:"_updateAffiliates",value:function(e){var t=this.state.wizardAffiliates.items&&this.state.wizardAffiliates.spot;e.dl8Affiliates?t||this.setState({wizardAffiliates:(0,I.getRandomAffiliatesForSpot)(e.dl8Affiliates,N.AFFILIATE_SPOT_WIZARD)}):t&&this.setState({pauseAffiliates:{},noVrScreenAffiliates:{}})}},{key:"render",value:function(){var e=this,n=this.props,i=n.phone,r=n.hmd,a=n.customization,o=n.useGazeBasedInteraction,l=n.activeContent,c=n.cancelVrWizard,d=n.appWidth,h=n.appHeight,f=n.translate,_=this.state,p=_.step,m=_.phoneFilter,A=!i,g=D.PhoneLibrary.get(i),v=V.ViewerLibrary.get(r)||V.ViewerLibrary.get("CardboardV2"),y=v.primaryButton>=2,b="true"!==B.Util.getLocalStorageItemSafe("x-dl8-settings-wizard-complete"),E="";switch(p){case t.STEP_START:E=""+f(b?"wizard.initSetup":"wizard.setup");break;case t.STEP_PHONE_SELECT:E=f("wizard.phoneSetup");break;case t.STEP_HMD_SELECT:E=f("wizard.headSetup");break;case t.STEP_ADVANCED:E=f("wizard.advSetup");break;case t.STEP_VR_INTERACTION_SELECT:E=f("wizard.interSetup")}var S=!1,T=null,x={};b||p!==t.STEP_START?T=(0,u.default)("button",{onClick:this._onHeaderButtonClicked,className:j({dl8Btn:!0})},void 0,(0,u.default)("i",{className:j({dl8Icon:!0,iconCross:S,iconBack:!S})})):x.padding="0";var M=(0,u.default)("div",{className:j({header:!0,right:0===p})},void 0,T,(0,u.default)("p",{style:x},void 0,E)),P=null;y&&(P=(0,u.default)("li",{onClick:this._goToVrInteractionSelect},void 0,(0,u.default)("span",{className:j({optionTitle:!0})},void 0,f("wizard.interVR")),(0,u.default)("span",{className:j({optionValue:!0})},void 0,f(o?"wizard.gaze":"wizard.button"))));var I=null;if(B.Util.isGearVrHmd(r)&&l&&!B.Util.isIOS())if(a.displayCarmelLink&&l.type!==N.CONTENT_TYPE_VIDEO&&l.type!==N.CONTENT_TYPE_HUB)I=(0,u.default)("div",{className:j({buttonContainer:!0})},void 0,(0,u.default)("a",{target:"_blank",href:"ovrweb:"+window.location.href.replace(window.location.hash,"")+"?dl8-start-vr=true#"+l.dl8ElementId,style:{textDecoration:"none"}},void 0,(0,u.default)(H.default,{title:f("wizard.strtCarmel"),customization:a,primary:!0,fullWidth:!0,onClick:c})),(0,u.default)("p",{},void 0,f("wizard.noCarmelP1"),(0,u.default)("a",{style:{color:a.invertedSecondaryColor.string(0)},href:"https://www.oculus.com/experiences/gear-vr/1290985657630933/"},void 0,f("wizard.noCarmelP2")),f("wizard.noCarmelP3")));else if(a.displaySamsungVRLink&&l.type===N.CONTENT_TYPE_VIDEO&&l.sources.length>0){var R="_mono360",O=l.sources[0].format||l.format;switch(O){case N.CONTENT_MODE_MONO_360:R="_mono360";break;case N.CONTENT_MODE_MONO_FLAT:R="_2dp";break;case N.CONTENT_MODE_STEREO_180_TB:R="180x180_3dv";break;case N.CONTENT_MODE_STEREO_180_LR:R="180x180_3dh";break;case N.CONTENT_MODE_STEREO_180_LR_SPHERICAL:R="180hemispheres";break;case N.CONTENT_MODE_STEREO_360_LR:R="3dh";break;case N.CONTENT_MODE_STEREO_360_TB:R="3dv";break;case N.CONTENT_MODE_STEREO_FLAT_LR_SQUARE:case N.CONTENT_MODE_STEREO_FLAT_LR:R="_3dph";break;case N.CONTENT_MODE_STEREO_FLAT_TB_SQUARE:case N.CONTENT_MODE_STEREO_FLAT_TB:R="_3dpv"}var L=l.sources.filter(function(e){return!e.samsungVRIncompatible});if(L.length>0){var U=L[0].src;if(!U.startsWith("http://")&&!U.startsWith("https://")){var G=window.location.pathname;G.startsWith("/")&&(G=G.substring(1)),G.endsWith("/")&&(G=G.substring(0,G.length-1)),U.startsWith("/")&&(U=U.substring(1)),U=window.location.protocol+"//"+window.location.host+G+"/"+U}I=(0,u.default)("div",{className:j({buttonContainer:!0})},void 0,(0,u.default)("a",{target:"_blank",href:"milkvr://sideload/?url="+encodeURIComponent(U)+"&video_type="+encodeURIComponent(R)+"&title="+encodeURIComponent(l.title),style:{textDecoration:"none"}},void 0,(0,u.default)(H.default,{title:f("wizard.strtSams"),customization:a,primary:!0,fullWidth:!0,onClick:c})),(0,u.default)("p",{},void 0,f("wizard.noSamsP1"),(0,u.default)("a",{style:{color:a.invertedSecondaryColor.string(0)},href:"https://www.oculus.com/experiences/gear-vr/837075486363650/"},void 0,f("wizard.noSamsP2")),f("wizard.noSamsP3")))}}var z=null;B.Util.isGearVrHmd(r)&&(z=(0,u.default)("p",{},void 0,f("wizard.prvntOculusP1"),(0,u.default)("a",{style:{color:a.invertedSecondaryColor.string(0)},href:"https://play.google.com/store/apps/details?id=com.kunkunsoft.cardboardappforgearvr&hl=en",target:"_blank",rel:"noopener noreferrer"},void 0,f("wizard.prvntOculusP2")),f("wizard.prvntOculusP3")));var Q=(0,u.default)("div",{className:j({buttonContainer:!0})},void 0,(0,u.default)(H.default,{onClick:this._startVr,title:f(I?"wizard.strtCB":"wizard.strtVR"),fullWidth:!0,spaced:!0,customization:a,ghost:!!I,disabled:A}),z);switch(p){case t.STEP_START:var W=null,Z=null,K=this.state.wizardAffiliates,J=K.items,$=K.spot;if(J&&$){var ee=J.map(function(e){return(0,u.default)("div",{className:j({carousel:!0})},e.id,(0,u.default)(k.default,{name:e.name,url:e.url,description:e.description,thumbnail:e.thumbnail,price:e.price,style:{minWidth:"100%"}},e.id))});W=(0,u.default)("div",{className:j({carouselWrapper:!0})},void 0,(0,u.default)("div",{className:j({arrowLeft:!0}),onClick:this._prevAffiliate},void 0,Y),w.default.createElement(C.default,{ref:this._assignAffiliateSwiper,key:"l"+ee.length+"w"+d+"h"+h},ee),(0,u.default)("div",{className:j({arrowRight:!0}),onClick:this._nextAffiliate},void 0,q)),$.cta&&(Z=(0,u.default)("p",{},void 0,$.cta))}return(0,u.default)("div",{className:j({root:!0}),style:{backgroundColor:a.secondaryColorDark.lighten(.8).string(0),color:a.invertedSecondaryColor.string(0)}},void 0,M,(0,u.default)("div",{className:j({body:!0,nospace:!0})},void 0,(0,u.default)("p",{},void 0,f("wizard.setOptions")),(0,u.default)("ul",{className:j({options:!0})},void 0,(0,u.default)("li",{onClick:this._goToPhoneSelect},void 0,(0,u.default)("span",{className:j({optionTitle:!0})},void 0,f("wizard.phone")),(0,u.default)("span",{className:j({optionValue:!0})},void 0,A?f("wizard.choose"):g.label)),(0,u.default)("li",{onClick:this._goToHmdSelect},void 0,(0,u.default)("span",{className:j({optionTitle:!0})},void 0,f("wizard.headset")),(0,u.default)("span",{className:j({optionValue:!0})},void 0,v.label)),P),Q,I,Z,W));case t.STEP_PHONE_SELECT:var te=(0,F.default)([].concat((0,s.default)(D.PhoneLibrary.entries())),function(e,t){return e[1].label===t[1].label}).filter(function(e){return""===m||e[1].label.toLowerCase().indexOf(m.toLowerCase())!==-1}).map(function(t){return(0,u.default)("li",{className:j({active:!A&&g.label===t[1].label}),onClick:e._onPhoneListClick.bind(e,t[0])},t[0],(0,u.default)("span",{},void 0,t[1].label),(0,u.default)("i",{className:j({dl8Icon:!0,iconCheck:!0}),style:{color:a.primaryColor.string(0)}}))});return(0,u.default)("div",{className:j({root:!0}),style:{backgroundColor:a.secondaryColorDark.lighten(.8).string(0),color:a.invertedSecondaryColor.string(0)}},void 0,M,(0,u.default)("div",{className:j({body:!0,nospace:!0})},void 0,(0,u.default)("form",{className:j({filter:!0,dark:a.secondaryColor.dark()}),onSubmit:this._handleInputSearch},void 0,w.default.createElement("input",{placeholder:f("wizard.filter"),ref:this._assignPhoneSearchRef,type:f("wizard.search"),value:m,onChange:this._updatePhoneFilter,style:{color:a.invertedSecondaryColor.string(0)}}),(0,u.default)("i",{className:j({iconSearch:!0,dl8Icon:!0,hidden:0!==m.length})})),(0,u.default)("ul",{},void 0,te)));case t.STEP_HMD_SELECT:var ne=[].concat((0,s.default)(V.ViewerLibrary.entries())).filter(function(e){return!X.has(e[0])}).sort(function(e,t){return e[1].label.localeCompare(t[1].label)}).map(function(t){return(0,u.default)("li",{className:j({active:r===t[0]}),onClick:e._onHmdListClick.bind(e,t[0])},t[0],(0,u.default)("span",{},void 0,t[1].label),(0,u.default)("i",{className:j({dl8Icon:!0,iconCheck:!0}),style:{color:a.primaryColor.string(0)}}))}),ie=[].concat((0,s.default)(X.entries())).map(function(t){var n=t[1].label;return(0,u.default)("li",{className:j({active:r===t[0]}),onClick:e._onHmdListClick.bind(e,t[0])},t[0],(0,u.default)("span",{},void 0,n),(0,u.default)("i",{className:j({dl8Icon:!0,iconCheck:!0}),style:{color:a.primaryColor.string(0)}}))});return(0,u.default)("div",{className:j({root:!0}),style:{backgroundColor:a.secondaryColorDark.lighten(.8).string(0),color:a.invertedSecondaryColor.string(0)}},void 0,M,(0,u.default)("div",{className:j({body:!0,nospace:!0})},void 0,(0,u.default)("p",{style:{textTransform:"uppercase"}},void 0,f("wizard.popularHMD")),(0,u.default)("ul",{},void 0,ie),(0,u.default)("p",{style:{textTransform:"uppercase"}},void 0,f("wizard.otherHMD")),(0,u.default)("ul",{},void 0,ne)));case t.STEP_VR_INTERACTION_SELECT:return(0,u.default)("div",{className:j({root:!0}),style:{backgroundColor:a.secondaryColorDark.lighten(.8).string(0),color:a.invertedSecondaryColor.string(0)}},void 0,M,(0,u.default)("div",{className:j({body:!0,nospace:!0})},void 0,(0,u.default)("p",{},void 0,f("wizard.hmdHasBttnP1"),""+v.label,f("wizard.hmdHasBttnP2")),(0,u.default)("ul",{},void 0,(0,u.default)("li",{className:j({active:!o}),onClick:this.props.disableGazeBasedInteraction},void 0,(0,u.default)("span",{},void 0,f("wizard.buttonBase")),(0,u.default)("i",{className:j({dl8Icon:!0,iconCheck:!0}),style:{color:a.primaryColor.string(0)}})),(0,u.default)("li",{className:j({active:o}),onClick:this.props.enableGazeBasedInteraction},void 0,(0,u.default)("span",{},void 0,f("wizard.gazeBase")),(0,u.default)("i",{className:j({dl8Icon:!0,iconCheck:!0}),style:{color:a.primaryColor.string(0)}})))))}}}]),t}(E.Component);Z.STEP_START="WIZARD_STEP_START",Z.STEP_PHONE_SELECT="WIZARD_STEP_PHONE_SELECT",Z.STEP_HMD_SELECT="WIZARD_STEP_HMD_SELECT",Z.STEP_ADVANCED="WIZARD_STEP_ADVANCED",Z.STEP_VR_INTERACTION_SELECT="WIZARD_STEP_VR_INTERACTION_SELECT",t.default=(0,T.connect)(a,{setNewHmd:P.setNewHmd,setNewPhone:P.setNewPhone,finishVrWizard:P.finishVrWizard,cancelVrWizard:P.cancelVrWizard,enableGazeBasedInteraction:P.enableGazeBasedInteraction,disableGazeBasedInteraction:P.disableGazeBasedInteraction})(Z)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";function n(e,t,n,i){if("string"==typeof e)var e=document.getElementById(e);else if("undefined"!=typeof HTMLImageElement&&!e instanceof HTMLImageElement)return;var a=e.naturalWidth,s=e.naturalHeight;if("string"==typeof t)var t=document.getElementById(t);else if("undefined"!=typeof HTMLCanvasElement&&!t instanceof HTMLCanvasElement)return;t.style.width=a+"px",t.style.height=s+"px",t.width=a,t.height=s;var l=t.getContext("2d");l.clearRect(0,0,a,s),l.drawImage(e,0,0),isNaN(n)||n<1||(i?r(t,0,0,a,s,n):o(t,0,0,a,s,n))}function i(e,t,n,i,r){if("string"==typeof e)var e=document.getElementById(e);else if("undefined"!=typeof HTMLCanvasElement&&!e instanceof HTMLCanvasElement)return;var a,o=e.getContext("2d");try{try{a=o.getImageData(t,n,i,r)}catch(e){throw new Error("unable to access local image data: "+e)}}catch(e){throw new Error("unable to access image data: "+e)}return a}function r(e,t,n,r,o,s){if(!(isNaN(s)||s<1)){s|=0;var l=i(e,t,n,r,o);l=a(l,t,n,r,o,s),e.getContext("2d").putImageData(l,t,n)}}function a(e,t,n,i,r,a){var o,s,d,h,f,_,p,m,A,g,v,y,b,E,w,S,T,x,C,M,P,I,R,k,D=e.data,V=a+a+1,B=i-1,O=r-1,N=a+1,L=N*(N+1)/2,F=new l,U=F;for(d=1;d<V;d++)if(U=U.next=new l,d==N)var H=U;U.next=F;var G=null,z=null;p=_=0;var Q=u[a],W=c[a];for(s=0;s<r;s++){for(S=T=x=C=m=A=g=v=0,y=N*(M=D[_]),b=N*(P=D[_+1]),E=N*(I=D[_+2]),w=N*(R=D[_+3]),m+=L*M,A+=L*P,g+=L*I,v+=L*R,U=F,d=0;d<N;d++)U.r=M,U.g=P,U.b=I,U.a=R,U=U.next;for(d=1;d<N;d++)h=_+((B<d?B:d)<<2),m+=(U.r=M=D[h])*(k=N-d),A+=(U.g=P=D[h+1])*k,g+=(U.b=I=D[h+2])*k,v+=(U.a=R=D[h+3])*k,S+=M,T+=P,x+=I,C+=R,U=U.next;for(G=F,z=H,o=0;o<i;o++)D[_+3]=R=v*Q>>W,0!=R?(R=255/R,D[_]=(m*Q>>W)*R,D[_+1]=(A*Q>>W)*R,D[_+2]=(g*Q>>W)*R):D[_]=D[_+1]=D[_+2]=0,m-=y,A-=b,g-=E,v-=w,y-=G.r,b-=G.g,E-=G.b,w-=G.a,h=p+((h=o+a+1)<B?h:B)<<2,S+=G.r=D[h],T+=G.g=D[h+1],x+=G.b=D[h+2],C+=G.a=D[h+3],m+=S,A+=T,g+=x,v+=C,G=G.next,y+=M=z.r,b+=P=z.g,E+=I=z.b,w+=R=z.a,S-=M,T-=P,x-=I,C-=R,z=z.next,_+=4;p+=i}for(o=0;o<i;o++){for(T=x=C=S=A=g=v=m=0,_=o<<2,y=N*(M=D[_]),b=N*(P=D[_+1]),E=N*(I=D[_+2]),w=N*(R=D[_+3]),m+=L*M,A+=L*P,g+=L*I,v+=L*R,U=F,d=0;d<N;d++)U.r=M,U.g=P,U.b=I,U.a=R,U=U.next;for(f=i,d=1;d<=a;d++)_=f+o<<2,m+=(U.r=M=D[_])*(k=N-d),A+=(U.g=P=D[_+1])*k,g+=(U.b=I=D[_+2])*k,v+=(U.a=R=D[_+3])*k,S+=M,T+=P,x+=I,C+=R,U=U.next,d<O&&(f+=i);for(_=o,G=F,z=H,s=0;s<r;s++)h=_<<2,D[h+3]=R=v*Q>>W,R>0?(R=255/R,D[h]=(m*Q>>W)*R,D[h+1]=(A*Q>>W)*R,D[h+2]=(g*Q>>W)*R):D[h]=D[h+1]=D[h+2]=0,m-=y,A-=b,g-=E,v-=w,y-=G.r,b-=G.g,E-=G.b,w-=G.a,h=o+((h=s+N)<O?h:O)*i<<2,m+=S+=G.r=D[h],A+=T+=G.g=D[h+1],g+=x+=G.b=D[h+2],v+=C+=G.a=D[h+3],G=G.next,y+=M=z.r,b+=P=z.g,E+=I=z.b,w+=R=z.a,S-=M,T-=P,x-=I,C-=R,z=z.next,_+=i}return e}function o(e,t,n,r,a,o){if(!(isNaN(o)||o<1)){o|=0;var l=i(e,t,n,r,a);l=s(l,t,n,r,a,o),e.getContext("2d").putImageData(l,t,n)}}function s(e,t,n,i,r,a){var o,s,d,h,f,_,p,m,A,g,v,y,b,E,w,S,T,x,C,M,P=e.data,I=a+a+1,R=i-1,k=r-1,D=a+1,V=D*(D+1)/2,B=new l,O=B;for(d=1;d<I;d++)if(O=O.next=new l,d==D)var N=O;O.next=B;var L=null,F=null;p=_=0;var U=u[a],H=c[a];for(s=0;s<r;s++){for(E=w=S=m=A=g=0,v=D*(T=P[_]),y=D*(x=P[_+1]),b=D*(C=P[_+2]),m+=V*T,A+=V*x,g+=V*C,O=B,d=0;d<D;d++)O.r=T,O.g=x,O.b=C,O=O.next;for(d=1;d<D;d++)h=_+((R<d?R:d)<<2),m+=(O.r=T=P[h])*(M=D-d),A+=(O.g=x=P[h+1])*M,g+=(O.b=C=P[h+2])*M,E+=T,w+=x,S+=C,O=O.next;for(L=B,F=N,o=0;o<i;o++)P[_]=m*U>>H,P[_+1]=A*U>>H,P[_+2]=g*U>>H,m-=v,A-=y,g-=b,v-=L.r,y-=L.g,b-=L.b,h=p+((h=o+a+1)<R?h:R)<<2,E+=L.r=P[h],w+=L.g=P[h+1],S+=L.b=P[h+2],m+=E,A+=w,g+=S,L=L.next,v+=T=F.r,y+=x=F.g,b+=C=F.b,E-=T,w-=x,S-=C,F=F.next,_+=4;p+=i}for(o=0;o<i;o++){for(w=S=E=A=g=m=0,_=o<<2,v=D*(T=P[_]),y=D*(x=P[_+1]),b=D*(C=P[_+2]),m+=V*T,A+=V*x,g+=V*C,O=B,d=0;d<D;d++)O.r=T,O.g=x,O.b=C,O=O.next;for(f=i,d=1;d<=a;d++)_=f+o<<2,m+=(O.r=T=P[_])*(M=D-d),A+=(O.g=x=P[_+1])*M,g+=(O.b=C=P[_+2])*M,E+=T,w+=x,S+=C,O=O.next,d<k&&(f+=i);for(_=o,L=B,F=N,s=0;s<r;s++)h=_<<2,P[h]=m*U>>H,P[h+1]=A*U>>H,P[h+2]=g*U>>H,m-=v,A-=y,g-=b,v-=L.r,y-=L.g,b-=L.b,h=o+((h=s+D)<k?h:k)*i<<2,m+=E+=L.r=P[h],A+=w+=L.g=P[h+1],g+=S+=L.b=P[h+2],L=L.next,v+=T=F.r,y+=x=F.g,b+=C=F.b,E-=T,w-=x,S-=C,F=F.next,_+=i}return e}function l(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var u=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],c=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.exports={image:n,canvasRGBA:r,canvasRGB:o,imageDataRGBA:a,imageDataRGB:s}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeAnimation=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(7),A=n(299);t.CompositeAnimation=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));n._children=[];var i=m.Util.getParam(e,"children",[]);return i.forEach(function(e){n.add(e)}),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"CompositeAnimation",params:{children:this._children}}}}]),(0,f.default)(t,[{key:"add",value:function(e){this._children.push(e),e.parent=this,this.onChildDurationChanged()}},{key:"onChildDurationChanged",value:function(){}},{key:"cancel",value:function(e){this._children.forEach(function(t){t.playing&&t.cancel(e)}),(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"cancel",this).call(this,e)}},{key:"finish",value:function(e){this._children.forEach(function(t){t.playing&&t.finish(e)}),(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"finish",this).call(this,e)}},{key:"children",get:function(){return this._children}}]),t}(A.Animation)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FirstPersonCameraController=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(7),A=n(14),g=n(11),v=n(30),y=n(39),b=n(9),E=n(57);t.FirstPersonCameraController=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._moveSpeed=m.Util.getParam(e,"moveSpeed",1),n._sprintMoveSpeed=m.Util.getParam(e,"sprintMoveSpeed",10),n._moveFriction=m.Util.getParam(e,"moveFriction",1),n._lookSensitivity=m.Util.getParam(e,"lookSensitivity",1),n._drag=m.Util.getParam(e,"drag",.1),n._wheelZoomSensitivity=m.Util.getParam(e,"zoomSpeed",.4),n._touchZoomSensitivity=m.Util.getParam(e,"touchZoomSensitivity",1),n._minFocalLength=m.Util.getParam(e,"minFocalLength",10),n._maxFocalLength=m.Util.getParam(e,"maxFocalLength",100),n._positionLock=m.Util.getParam(e,"positionLock",!1),n._startDirection=m.Util.getParam(e,"startDirection",new g.Vector3(g.Vector3.NEG_Z_AXIS)),n._restrictedToLocalDOM=m.Util.getParam(e,"restrictedToLocalDOM",!1),n._captureWheelEvents=m.Util.getParam(e,"captureWheelEvents",!0),n._captureTouchEvents=m.Util.getParam(e,"captureTouchEvents",!0),n._captureMouseEvents=m.Util.getParam(e,"captureMouseEvents",!0),n._lockedVertically=m.Util.getParam(e,"lockedVertically",!1),n._limit=.08,n._pointerStarted=!1,n._delta=new g.Vector3,n._cameraForward=!1,n._cameraBackward=!1,n._cameraLeft=!1,n._cameraRight=!1,n._cameraUp=!1,n._cameraDown=!1,n._touchZoomEnabled=!1,n._touchZoomDistance=0,n._oldTouchZoomDistance=0,n._fromMultipleToSingleTouchHack=!1,n._tmpQuat=new v.Quaternion,n._tmpQuat2=new v.Quaternion,n._speedModifierPressed=!1,n._oldQuaternion=new v.Quaternion,n._tmpVec=new g.Vector3,n._tmpVec2=new g.Vector3,n._focalLength=1,n._needsReset=!0,n._currentTarget=null,n._targetQuaternionSpeed=.2,n._targetQuaternion=null,n._handleKeyUp=n._handleKeyUp.bind(n),n._handleKeyDown=n._handleKeyDown.bind(n),n._handlePointerMove=n._handlePointerMove.bind(n),n._handlePointerStart=n._handlePointerStart.bind(n),n._handlePointerEnd=n._handlePointerEnd.bind(n),n._handleWheelScroll=n._handleWheelScroll.bind(n),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"FirstPersonCameraController",params:{moveSpeed:this._moveSpeed,sprintMoveSpeed:this._sprintMoveSpeed,moveFriction:this._moveFriction,lookSensitivity:this._lookSensitivity,drag:this._drag,wheelZoomSensitivity:this._wheelZoomSensitivity,touchZoomSensitivity:this._touchZoomSensitivity,minFocalLength:this._minFocalLength,maxFocalLength:this._maxFocalLength,positionLock:this._positionLock,startDirection:this._startDirection}}}}]),(0,f.default)(t,[{key:"resetPose",value:function(){this._needsReset=!0}},{key:"update",value:function(e,n){(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"update",this).call(this,e),this._focalLength=n.focalLength,this._rotateCamera(e,n),this._moveCamera(e,n)}},{key:"_rotateCamera",value:function(e,t){if(this._needsReset&&(t.lookDirection(this._startDirection),this._needsReset=!1),this._tmpQuat.fromAxisAngle(t.uVector,this._delta.x*e*Math.PI),this._lockedVertically?this._tmpQuat2.copyFrom(this._tmpQuat):(this._tmpQuat2.fromAxisAngle(t.rVector,-this._delta.y*e*Math.PI),this._tmpQuat2.mult(this._tmpQuat)),this._targetQuaternion){this._tmpQuat2.copyFrom(this._oldQuaternion).slerp(this._targetQuaternion,this._targetQuaternionSpeed),this._tmpVec.copyFrom(g.Vector3.NEG_Z_AXIS).multQuaternion(this._tmpQuat2);var n=A.MathUtil.toOrbit(this._tmpVec,this._tmpVec2);t.lookDirection(A.MathUtil.fromOrbit(n,this._tmpVec)),this._oldQuaternion.copyFrom(this._tmpQuat2)}else{this._tmpVec.copyFrom(t.dVector).multQuaternion(this._tmpQuat2);var i=A.MathUtil.toOrbit(this._tmpVec,this._tmpVec2);i.y>Math.PI-this._limit?i.y=Math.PI-this._limit:i.y<this._limit&&(i.y=this._limit),t.lookDirection(A.MathUtil.fromOrbit(i,this._tmpVec));var r=g.Vector3.toLookRotationWithHint(A.MathUtil.fromOrbit(i,this._tmpVec));this._oldQuaternion.fromLookRotation(r.forward,r.right,r.up).invert()}t.focalLength=A.MathUtil.clamp(t.focalLength-this._delta.z,this._minFocalLength,this._maxFocalLength),this._delta.sub(this._tmpVec.copyFrom(this._delta).multVector(this._tmpVec2.set(Math.min(e/this._drag,1),Math.min(e/this._drag,1),Math.min(1*e/this._drag,1)))),this._delta.x<A.MathUtil.ZERO_TOLERANCE&&this._delta.x>-A.MathUtil.ZERO_TOLERANCE&&(this._delta.x=0),this._delta.y<A.MathUtil.ZERO_TOLERANCE&&this._delta.y>-A.MathUtil.ZERO_TOLERANCE&&(this._delta.y=0),this._delta.z<Math.ZERO_TOLERANCE&&this._delta.z>-A.MathUtil.ZERO_TOLERANCE&&(this._delta.z=0)}},{key:"_moveCamera",value:function(e,t){if(!this._positionLock){var n=t.transform.position,i=this._speedModifierPressed?this._sprintMoveSpeed:this._moveSpeed;this._cameraForward&&n.add(g.Vector3.mult(t.dVector,e*i)),this._cameraBackward&&n.add(g.Vector3.mult(t.dVector,e*-i)),this._cameraRight&&n.add(g.Vector3.mult(t.rVector,e*i)),this._cameraLeft&&n.add(g.Vector3.mult(t.rVector,e*-i)),this._cameraUp&&n.add(g.Vector3.mult(t.uVector,e*i)),this._cameraDown&&n.add(g.Vector3.mult(t.uVector,e*-i))}}},{key:"$onAddedToScene",value:function(){this._setupEventDispatchers()}},{key:"$onRemovedFromScene",value:function(){this._teardownEventDispatchers()}},{key:"_setupEventDispatchers",value:function(){var e=b.Context.documentEventDispatcher;e.addEventListener(y.KeyboardEvent.KEY_UP,this._handleKeyUp),e.addEventListener(y.KeyboardEvent.KEY_DOWN,this._handleKeyDown),this._restrictedToLocalDOM||(e.addEventListener(y.MouseEvent.MOUSE_MOVE,this._handlePointerMove),e.addEventListener(y.MouseEvent.MOUSE_UP,this._handlePointerEnd));var t=b.Context.canvasEventDispatcher;t.addEventListener(y.MouseEvent.MOUSE_DOWN,this._handlePointerStart),t.addEventListener(y.WheelEvent.SCROLL,this._handleWheelScroll),this._restrictedToLocalDOM&&(t.addEventListener(y.MouseEvent.MOUSE_MOVE,this._handlePointerMove),t.addEventListener(y.MouseEvent.MOUSE_UP,this._handlePointerEnd),t.addEventListener(y.MouseEvent.MOUSE_LEAVE,this._handlePointerEnd)),t.addEventListener(y.TouchEvent.TOUCH_MOVE,this._handlePointerMove),t.addEventListener(y.TouchEvent.TOUCH_START,this._handlePointerStart),t.addEventListener(y.TouchEvent.TOUCH_END,this._handlePointerEnd),t.addEventListener(y.TouchEvent.TOUCH_CANCEL,this._handlePointerEnd)}},{key:"_teardownEventDispatchers",value:function(){var e=b.Context.documentEventDispatcher;e.removeEventListener(y.KeyboardEvent.KEY_UP,this._handleKeyUp),e.removeEventListener(y.KeyboardEvent.KEY_DOWN,this._handleKeyDown),this._restrictedToLocalDOM||(e.removeEventListener(y.MouseEvent.MOUSE_MOVE,this._handlePointerMove),e.removeEventListener(y.MouseEvent.MOUSE_UP,this._handlePointerEnd));var t=b.Context.canvasEventDispatcher;t.removeEventListener(y.MouseEvent.MOUSE_DOWN,this._handlePointerStart),t.removeEventListener(y.WheelEvent.SCROLL,this._handleWheelScroll),this._restrictedToLocalDOM&&(t.removeEventListener(y.MouseEvent.MOUSE_MOVE,this._handlePointerMove),t.removeEventListener(y.MouseEvent.MOUSE_UP,this._handlePointerEnd),t.removeEventListener(y.MouseEvent.MOUSE_LEAVE,this._handlePointerEnd)),t.removeEventListener(y.TouchEvent.TOUCH_MOVE,this._handlePointerMove),t.removeEventListener(y.TouchEvent.TOUCH_START,this._handlePointerStart),t.removeEventListener(y.TouchEvent.TOUCH_END,this._handlePointerEnd),t.removeEventListener(y.TouchEvent.TOUCH_CANCEL,this._handlePointerEnd)}},{key:"_handleKeyDown",value:function(e){87===e.keyCode||38===e.keyCode?this._cameraForward=!0:83===e.keyCode||40===e.keyCode?this._cameraBackward=!0:65===e.keyCode?this._cameraLeft=!0:68===e.keyCode?this._cameraRight=!0:82===e.keyCode?this._cameraUp=!0:70===e.keyCode?this._cameraDown=!0:16===e.keyCode&&(this._speedModifierPressed=!0)}},{key:"_handleKeyUp",value:function(e){87===e.keyCode||38===e.keyCode?this._cameraForward=!1:83===e.keyCode||40===e.keyCode?this._cameraBackward=!1:65===e.keyCode?this._cameraLeft=!1:68===e.keyCode?this._cameraRight=!1:82===e.keyCode?this._cameraUp=!1:70===e.keyCode?this._cameraDown=!1:16===e.keyCode&&(this._speedModifierPressed=!1)}},{key:"_handlePointerStart",value:function(e){if(e.targetTouches)switch(e.targetTouches.length>1&&!this._touchZoomEnabled&&(this._touchZoomEnabled=!0,this._pointerStarted=!0),e.targetTouches.length){case 1:e.targetTouches[0].normX&&e.targetTouches[0].normY&&(this._oldPointerPosX=e.targetTouches[0].normX,this._oldPointerPosY=e.targetTouches[0].normY),this._touchZoomEnabled=!1,this._pointerStarted=!0;break;case 2:this._touchZoomEnabled=!0;var t=e.targetTouches[0].pageX-e.targetTouches[1].pageX,n=e.targetTouches[0].pageY-e.targetTouches[1].pageY;t/=b.Context.renderer.width,n/=b.Context.renderer.height,this._touchZoomDistance=this._oldTouchZoomDistance=Math.sqrt(t*t+n*n);break;default:this._touchZoomEnabled=!1}else 0===e.button&&(this._currentTarget=e.target,this._oldPointerPosX=this._restrictedToLocalDOM?e.normX:e.screenX/window.innerWidth,this._oldPointerPosY=this._restrictedToLocalDOM?e.normY:1-e.screenY/window.innerHeight,this._pointerStarted=!0)}},{key:"_handlePointerEnd",value:function(e){e.targetTouches?(this._touchZoomEnabled||(this._pointerStarted=!1),this._touchZoomEnabled=!1,e.targetTouches.length>=1&&(this._fromMultipleToSingleTouchHack=!0)):0===e.button&&(this._currentTarget=null,this._pointerStarted=!1)}},{key:"_handlePointerMove",value:function(e){var t=void 0,n=void 0;if(e.targetTouches?(t=e.targetTouches[0].normX,n=e.targetTouches[0].normY):(t=this._restrictedToLocalDOM?e.normX:e.screenX/window.innerWidth,n=this._restrictedToLocalDOM?e.normY:1-e.screenY/window.innerHeight),this._pointerStarted){if(e.targetTouches&&2===e.targetTouches.length){var i=e.targetTouches[0].pageX-e.targetTouches[1].pageX,r=e.targetTouches[0].pageY-e.targetTouches[1].pageY;i/=b.Context.renderer.width,r/=b.Context.renderer.height,this._touchZoomDistance=Math.sqrt(i*i+r*r),this._delta.z+=(this._oldTouchZoomDistance-this._touchZoomDistance)*this._touchZoomSensitivity*24,this._oldTouchZoomDistance=this._touchZoomDistance}else this._touchZoomEnabled=!1;if(void 0!==t&&void 0!==n&&!this._touchZoomEnabled)if(this._fromMultipleToSingleTouchHack)this._fromMultipleToSingleTouchHack=!1;else{var a=b.Context.renderer.width/b.Context.renderer.height,o=82/this._focalLength,s=this._restrictedToLocalDOM||!this._currentTarget?1:window.innerWidth/this._currentTarget.offsetWidth,l=this._restrictedToLocalDOM||!this._currentTarget?1:window.innerHeight/this._currentTarget.offsetHeight;this._delta.x+=(t-this._oldPointerPosX)*this._lookSensitivity*s*o*a,this._delta.y+=(n-this._oldPointerPosY)*this._lookSensitivity*l*o}(e.targetTouches&&this._captureTouchEvents||!e.targetTouches&&this._captureMouseEvents)&&(e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0)}void 0!==t&&void 0!==n&&(this._oldPointerPosX=t,this._oldPointerPosY=n)}},{key:"_handleWheelScroll",value:function(e){this._delta.z-=e.normWheelDelta*this._wheelZoomSensitivity,this._captureWheelEvents&&(e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0)}},{key:"targetQuaternionSpeed",set:function(e){this._targetQuaternionSpeed=e},get:function(){return this._targetQuaternionSpeed}},{key:"targetQuaternion",set:function(e){this._targetQuaternion=e},get:function(){return this._targetQuaternion}},{key:"startDirection",set:function(e){this._startDirection.copyFrom(e),this._needsReset=!0},get:function(){return this._startDirection}},{key:"minFocalLength",set:function(e){this._minFocalLength=e},get:function(){return this._minFocalLength}},{key:"maxFocalLength",set:function(e){this._maxFocalLength=e},get:function(){return this._maxFocalLength}},{key:"drag",get:function(){return this._drag},set:function(e){this._drag=e}},{key:"lookSensitivity",get:function(){return this._lookSensitivity},set:function(e){this._lookSensitivity=e}},{key:"captureWheelEvents",set:function(e){this._captureWheelEvents=e},get:function(){return this._captureWheelEvents}},{key:"captureTouchEvents",set:function(e){this._captureTouchEvents=e},get:function(){return this._captureTouchEvents}},{key:"captureMouseEvents",set:function(e){this._captureMouseEvents=e},get:function(){return this._captureMouseEvents}},{key:"lockedVertically",set:function(e){this._lockedVertically=e},get:function(){return this._lockedVertically}}]),t}(E.Controller)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MagicWindowCameraController=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(7),A=n(11),g=n(14),v=n(30),y=n(27),b=n(57),E=n(9),w=n(39);t.MagicWindowCameraController=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._startOrientation=m.Util.getParam(e,"startOrientation",new v.Quaternion),n._startPosition=m.Util.getParam(e,"startPosition",new A.Vector3),n._touchAdjust=m.Util.getParam(e,"touchAdjust",!1),n._lockedVertically=m.Util.getParam(e,"lockedVertically",!1),n._lookSensitivity=m.Util.getParam(e,"lookSensitivity",1),n._drag=m.Util.getParam(e,"drag",.1),n._minFocalLength=m.Util.getParam(e,"minFocalLength",10),n._maxFocalLength=m.Util.getParam(e,"maxFocalLength",100),n._touchZoomSensitivity=m.Util.getParam(e,"touchZoomSensitivity",1),n._radius=m.Util.getParam(e,"radius",0),n._captureTouchEvents=m.Util.getParam(e,"captureTouchEvents",!0),n._captureMouseEvents=m.Util.getParam(e,"captureMouseEvents",!0),n._handlePointerStart=n._handlePointerStart.bind(n),
n._handlePointerEnd=n._handlePointerEnd.bind(n),n._handlePointerMove=n._handlePointerMove.bind(n),n._targetQuaternionSpeed=.2,n._targetQuaternion=null,n._oldQuaternion=new v.Quaternion,n._curQuat=new v.Quaternion,n._transform=new y.Transform,n._pointerStarted=!1,n._delta=new A.Vector3,n._focalLength=1,n._touchZoomEnabled=!1,n._touchZoomDistance=0,n._oldTouchZoomDistance=0,n._fromMultipleToSingleTouchHack=!1,n._tmpVec=new A.Vector3,n._tmpVec2=new A.Vector3,n._tmpQuat=new v.Quaternion,n._tmpQuat2=new v.Quaternion,n._offsetRotation=new v.Quaternion,n._offsetRotation.copyFrom(n._startOrientation),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"MagicWindowCameraController",params:{startOrientation:this._startOrientation,touchAdjust:this._touchAdjust,radius:this._radius,lockedVertically:this._lockedVertically,lookSensitivity:this._lookSensitivity,touchZoomSensitivity:this._touchZoomSensitivity,drag:this._drag,minFocalLength:this._minFocalLength,maxFocalLength:this._maxFocalLength}}}}]),(0,f.default)(t,[{key:"resetPose",value:function(){this._curQuat.copyFrom(E.Context.deviceOrientation).invert().toEuler(this._tmpVec),this._tmpVec.x=0,this._tmpVec.z=0,this._tmpQuat.fromEuler(this._tmpVec),this._offsetRotation.copyFrom(this._startOrientation),this._offsetRotation.mult(this._tmpQuat)}},{key:"update",value:function(e,n){(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"update",this).call(this,e,n),this._focalLength=n.focalLength,this._touchAdjust&&(this._tmpQuat.fromAxisAngle(A.Vector3.Y_AXIS,this._delta.x*e*Math.PI),this._offsetRotation.mult(this._tmpQuat),this._lockedVertically||(this._tmpQuat.fromAxisAngle(A.Vector3.X_AXIS,-this._delta.y*e*Math.PI),this._offsetRotation.mult(this._tmpQuat)),n.focalLength=g.MathUtil.clamp(n.focalLength-this._delta.z,this._minFocalLength,this._maxFocalLength),this._delta.sub(this._tmpVec.copyFrom(this._delta).multVector(this._tmpVec2.set(Math.min(e/this._drag,1),Math.min(e/this._drag,1),Math.min(1*e/this._drag,1)))),this._delta.x<g.MathUtil.ZERO_TOLERANCE&&this._delta.x>-g.MathUtil.ZERO_TOLERANCE&&(this._delta.x=0),this._delta.y<g.MathUtil.ZERO_TOLERANCE&&this._delta.y>-g.MathUtil.ZERO_TOLERANCE&&(this._delta.y=0),this._delta.z<Math.ZERO_TOLERANCE&&this._delta.z>-g.MathUtil.ZERO_TOLERANCE&&(this._delta.z=0)),this._curQuat.copyFrom(this._offsetRotation),this._tmpQuat.copyFrom(E.Context.deviceOrientation),this._targetQuaternion&&(this._tmpQuat2.copyFrom(this._oldQuaternion).slerp(this._targetQuaternion,this._targetQuaternionSpeed),this._tmpQuat.copyFrom(this._tmpQuat2)),this._curQuat.mult(this._tmpQuat),this._oldQuaternion.copyFrom(this._curQuat),this._transform.rotation=this._curQuat,n.lookDirection(this._transform.lookDirectionFromRotation(this._tmpVec).neg(),this._transform.lookUpFromRotation(this._tmpVec2)),this._radius>0&&(this._tmpVec2.copyFrom(n.camera.dVector).mult(this._radius).add(this._startPosition),n.transform.position=this._tmpVec2)}},{key:"$onAddedToScene",value:function(){this._setupEventDispatchers()}},{key:"$onRemovedFromScene",value:function(){this._teardownEventDispatchers()}},{key:"_setupEventDispatchers",value:function(){var e=E.Context.canvasEventDispatcher;e.addEventListener(w.TouchEvent.TOUCH_MOVE,this._handlePointerMove),e.addEventListener(w.TouchEvent.TOUCH_START,this._handlePointerStart),e.addEventListener(w.TouchEvent.TOUCH_END,this._handlePointerEnd),e.addEventListener(w.TouchEvent.TOUCH_CANCEL,this._handlePointerEnd)}},{key:"_teardownEventDispatchers",value:function(){var e=E.Context.canvasEventDispatcher;e.removeEventListener(w.TouchEvent.TOUCH_MOVE,this._handlePointerMove),e.removeEventListener(w.TouchEvent.TOUCH_START,this._handlePointerStart),e.removeEventListener(w.TouchEvent.TOUCH_END,this._handlePointerEnd),e.removeEventListener(w.TouchEvent.TOUCH_CANCEL,this._handlePointerEnd)}},{key:"_handlePointerStart",value:function(e){if(e.targetTouches)switch(e.targetTouches.length>1&&!this._touchZoomEnabled&&(this._touchZoomEnabled=!0,this._pointerStarted=!0),e.targetTouches.length){case 1:e.targetTouches[0].normX&&e.targetTouches[0].normY&&(this._oldPointerPosX=e.targetTouches[0].normX,this._oldPointerPosY=e.targetTouches[0].normY),this._touchZoomEnabled=!1,this._pointerStarted=!0;break;case 2:this._touchZoomEnabled=!0;var t=e.targetTouches[0].pageX-e.targetTouches[1].pageX,n=e.targetTouches[0].pageY-e.targetTouches[1].pageY;t/=E.Context.renderer.width,n/=E.Context.renderer.height,this._touchZoomDistance=this._oldTouchZoomDistance=Math.sqrt(t*t+n*n);break;default:this._touchZoomEnabled=!1}}},{key:"_handlePointerEnd",value:function(e){e.targetTouches?(this._touchZoomEnabled||(this._pointerStarted=!1),this._touchZoomEnabled=!1,e.targetTouches.length>=1&&(this._fromMultipleToSingleTouchHack=!0)):this._pointerStarted=!1}},{key:"_handlePointerMove",value:function(e){if(this._touchAdjust&&e.targetTouches){var t=e.targetTouches[0].normX,n=e.targetTouches[0].normY;if(this._pointerStarted){if(e.targetTouches&&2===e.targetTouches.length){var i=e.targetTouches[0].pageX-e.targetTouches[1].pageX,r=e.targetTouches[0].pageY-e.targetTouches[1].pageY;i/=E.Context.renderer.width,r/=E.Context.renderer.height,this._touchZoomDistance=Math.sqrt(i*i+r*r),this._delta.z+=(this._oldTouchZoomDistance-this._touchZoomDistance)*this._touchZoomSensitivity*24,this._oldTouchZoomDistance=this._touchZoomDistance}else this._touchZoomEnabled=!1;if(void 0!==t&&void 0!==n&&!this._touchZoomEnabled)if(this._fromMultipleToSingleTouchHack)this._fromMultipleToSingleTouchHack=!1;else{var a=E.Context.renderer.width/E.Context.renderer.height,o=82/this._focalLength;this._delta.x+=(t-this._oldPointerPosX)*this._lookSensitivity*o*a,this._delta.y+=(n-this._oldPointerPosY)*this._lookSensitivity*o}(e.targetTouches&&this._captureTouchEvents||!e.targetTouches&&this._captureMouseEvents)&&(e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0)}void 0!==t&&void 0!==n&&(this._oldPointerPosX=t,this._oldPointerPosY=n)}}},{key:"startOrientation",set:function(e){this._startOrientation.copyFrom(e),this._offsetRotation.copyFrom(this._startOrientation)},get:function(){return this._startOrientation}},{key:"minFocalLength",set:function(e){this._minFocalLength=e},get:function(){return this._minFocalLength}},{key:"maxFocalLength",set:function(e){this._maxFocalLength=e},get:function(){return this._maxFocalLength}},{key:"captureTouchEvents",set:function(e){this._captureTouchEvents=e},get:function(){return this._captureTouchEvents}},{key:"captureMouseEvents",set:function(e){this._captureMouseEvents=e},get:function(){return this._captureMouseEvents}},{key:"lockedVertically",set:function(e){this._lockedVertically=e},get:function(){return this._lockedVertically}},{key:"targetQuaternionSpeed",set:function(e){this._targetQuaternionSpeed=e},get:function(){return this._targetQuaternionSpeed}},{key:"targetQuaternion",set:function(e){this._targetQuaternion=e},get:function(){return this._targetQuaternion}}]),t}(b.Controller)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.OrbitCameraController=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(7),A=n(11),g=n(26),v=n(14),y=n(39),b=n(9),E=n(57);t.OrbitCameraController=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._center=m.Util.getParam(e,"center",new A.Vector3),n._radiusNear=m.Util.getParam(e,"radiusNear",.2),n._radiusFar=m.Util.getParam(e,"radiusFar",30),n._phiLowerLimit=m.Util.getParam(e,"phiLowerLimit",Math.PI-.13),n._phiUpperLimit=m.Util.getParam(e,"phiUpperLimit",.15),n._wheelZoomSensitivity=m.Util.getParam(e,"zoomSpeed",.01),n._panSpeed=m.Util.getParam(e,"panSpeed",.1),n._drag=m.Util.getParam(e,"drag",.1),n._touchZoomEnabled=!1,n._touchZoomDistance=0,n._oldTouchZoomDistance=0,n._touchZoomDistanceDelta=0,n._touchZoomSensitivity=m.Util.getParam(e,"touchZoomSensitivity",5),n._mouseOrbitSensitivity=m.Util.getParam(e,"mouseOrbitSensitivity",1),n._captureWheelEvents=m.Util.getParam(e,"captureWheelEvents",!0),n._captureTouchEvents=m.Util.getParam(e,"captureTouchEvents",!0),n._captureMouseEvents=m.Util.getParam(e,"captureMouseEvents",!0),n._fromMultipleToSingleTouchHack=!1,n._pointerStarted=!1,n._delta=new A.Vector3,m.Util.getParam(e,"coords")?n._coords=m.Util.getParam(e,"coords"):m.Util.getParam(e,"initAtCurrentLocation")?n._coords=v.MathUtil.toOrbit(m.Util.getParam(e,"startLocation",new A.Vector3),new A.Vector3):n._coords=new A.Vector3(0,.5*(n._phiLowerLimit-n._phiUpperLimit),.5*(n._radiusFar-n._radiusNear)),n._useInnerEllipse=m.Util.getParam(e,"useInnerEllipse",!1),n._useOuterEllipse=m.Util.getParam(e,"useOuterEllipse",!1),n._innerRadii=m.Util.getParam(e,"innerEllipseRadii",new A.Vector3(1,1,1)),n._outerRadii=m.Util.getParam(e,"outerEllipseRadii",new A.Vector3(1,1,1)),n._ellipseYRotation=m.Util.getParam(e,"ellipseYRotation",0),n._tmpVec=new A.Vector3,n._tmpVec2=new A.Vector3,n._ellipseYRotation&&(n._tmpMat=(new g.Matrix4).rotate(n._ellipseYRotation,0,1,0)),n._modifierDown=!1,n._lookatCenterOff=new A.Vector3,n._lookatCenter=new A.Vector3,n._autoRotate=m.Util.getParam(e,"autoRotate",!1),n._autoRotateSpeed=m.Util.getParam(e,"autoRotateSpeed",2*Math.PI/30),n._autoRotateDelayInitial=m.Util.getParam(e,"autoRotateDelay",5),n._autoRotateDelay=n._autoRotateDelayInitial,n._autoRotateDelayRampUpTime=m.Util.getParam(e,"autoRotateRampUpTime",5),n._targetReachedThreshold=m.Util.getParam(e,"targetReachedThreshold",.01),n._targetInterpolationSpeed=m.Util.getParam(e,"targetInterpolationSpeed",2),n._onTargetReached=m.Util.getParam(e,"onTargetReached"),n._offset=m.Util.getParam(e,"offset",new A.Vector3),n._handleKeyUp=n._handleKeyUp.bind(n),n._handleKeyDown=n._handleKeyDown.bind(n),n._handlePointerMove=n._handlePointerMove.bind(n),n._handlePointerStart=n._handlePointerStart.bind(n),n._handlePointerEnd=n._handlePointerEnd.bind(n),n._handleWheelScroll=n._handleWheelScroll.bind(n),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"OrbitCameraController",params:{center:this._center,radiusNear:this._radiusNear,radiusFar:this._radiusFar,phiLowerLimit:this._phiLowerLimit,phiUpperLimit:this._phiUpperLimit,zoomSpeed:this._wheelZoomSensitivity,panSpeed:this._panSpeed,drag:this._drag,touchZoomSensitivity:this._touchZoomSensitivity,mouseOrbitSensitivity:this._mouseOrbitSensitivity,useInnerEllipse:this._useInnerEllipse,useOuterEllipse:this._useOuterEllipse,innerEllipseRadii:this._innerRadii,outerEllipseRadii:this._outerRadii,coords:this._coords,autoRotate:this._autoRotate,autoRotateSpeed:this._autoRotateSpeed,autoRotateDelay:this._autoRotateDelayInitial,autoRotateRampUpTime:this._autoRotateDelayRampUpTime,targetInterpolationSpeed:this._targetInterpolationSpeed}}}}]),(0,f.default)(t,[{key:"resetPose",value:function(e){this._coords=v.MathUtil.toOrbit(this._tmpVec.copyFrom(e).sub(this._center),this._coords)}},{key:"update",value:function(e,n){(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"update",this).call(this,e),this._autoRotate&&!this._target&&this._updateAutoRotate(e),this._orbitCamera(e,n)}},{key:"_updateAutoRotate",value:function(e){if((this._autoRotateDelay-=e)<0){var t=this._autoRotateSpeed;if(this._autoRotateDelay>-this._autoRotateDelayRampUpTime){var n=(this._autoRotateDelayRampUpTime+this._autoRotateDelay)/this._autoRotateDelayRampUpTime;t*=1-n*n}this._coords.x+=t*e}}},{key:"_touchAutoRotate",value:function(){this._autoRotateDelay=this._autoRotateDelayInitial}},{key:"_orbitCamera",value:function(e,t){void 0!==this._target&&(this._touchAutoRotate(),this._tmpVec.copyFrom(this._target).sub(this._coords),this._coords.add(this._tmpVec.mult(Math.min(1,e*this._targetInterpolationSpeed))),this._coords.almostEquals(this._target,this._targetReachedThreshold)&&(this.target=void 0)),this._modifierDown?(this._tmpVec.copyFrom(t.uVector).mult(-this._delta.y*this._panSpeed),this._tmpVec2.copyFrom(t.rVector).mult(-this._delta.x*this._panSpeed),this._lookatCenterOff.add(this._tmpVec2).add(this._tmpVec)):(this._coords.x-=this._delta.x,this._coords.y+=this._delta.y),this._coords.x>Math.PI?this._coords.x=this._coords.x-2*Math.PI:this._coords.x<-Math.PI&&(this._coords.x=2*Math.PI+this._coords.x),this._coords.y>this._phiLowerLimit?this._coords.y=this._phiLowerLimit:this._coords.y<this._phiUpperLimit&&(this._coords.y=this._phiUpperLimit),this._tmpVec.copyFrom(t.transform.position),this._useOuterEllipse?(this._tmpVec2.copyFrom(this._outerRadii),v.MathUtil.fromOrbitEllipse(this._coords,this._tmpVec2,this._tmpVec),this._tmpMat&&this._tmpVec.transformForward(this._tmpMat)):v.MathUtil.fromOrbit(this._coords,this._tmpVec),t.transform.position=this._tmpVec.add(this._center),this._useInnerEllipse?(this._tmpVec.copyFrom(this._innerRadii),v.MathUtil.fromOrbitEllipse(this._coords,this._tmpVec,this._lookatCenter),this._tmpMat&&this._lookatCenter.transformForward(this._tmpMat),this._lookatCenter.add(this._center).add(this._lookatCenterOff)):this._lookatCenter.copyFrom(this._center).add(this._lookatCenterOff),t.lookAt(this._lookatCenter),this._delta.z+=this._touchZoomDistanceDelta*this._touchZoomSensitivity,this._touchZoomDistanceDelta=0,this._coords.z+=this._delta.z,this._coords.z=v.MathUtil.clamp(this._coords.z,this._radiusNear,this._radiusFar),this._delta.sub(this._tmpVec.copyFrom(this._delta).multVector(this._tmpVec2.set(Math.min(e/this._drag,1),Math.min(e/this._drag,1),Math.min(1*e/this._drag,1)))),this._delta.z<v.MathUtil.ZERO_TOLERANCE&&this._delta.z>-v.MathUtil.ZERO_TOLERANCE&&(this._delta.z=0),this._delta.x<v.MathUtil.ZERO_TOLERANCE&&this._delta.x>-v.MathUtil.ZERO_TOLERANCE&&(this._delta.x=0),this._delta.y<v.MathUtil.ZERO_TOLERANCE&&this._delta.y>-v.MathUtil.ZERO_TOLERANCE&&(this._delta.y=0),this._offset.equals(A.Vector3.ZERO)||(t.transform.position=t.transform.position.add(this._tmpVec.copyFrom(t.rVector).mult(this._offset.x)),t.transform.position=t.transform.position.add(this._tmpVec.copyFrom(t.uVector).mult(this._offset.y)),t.transform.position=t.transform.position.add(this._tmpVec.copyFrom(t.dVector).mult(this._offset.z)))}},{key:"$onAddedToScene",value:function(){this._setupEventDispatchers()}},{key:"$onRemovedFromScene",value:function(){this._teardownEventDispatchers()}},{key:"_setupEventDispatchers",value:function(){var e=b.Context.documentEventDispatcher;e.addEventListener(y.KeyboardEvent.KEY_UP,this._handleKeyUp),e.addEventListener(y.KeyboardEvent.KEY_DOWN,this._handleKeyDown);var t=b.Context.canvasEventDispatcher;t.addEventListener(y.MouseEvent.MOUSE_MOVE,this._handlePointerMove),t.addEventListener(y.MouseEvent.MOUSE_DOWN,this._handlePointerStart),t.addEventListener(y.MouseEvent.MOUSE_UP,this._handlePointerEnd),t.addEventListener(y.MouseEvent.MOUSE_LEAVE,this._handlePointerEnd),t.addEventListener(y.MouseEvent.MOUSE_ENTER,this._handlePointerEnd),t.addEventListener(y.TouchEvent.TOUCH_MOVE,this._handlePointerMove),t.addEventListener(y.TouchEvent.TOUCH_START,this._handlePointerStart),t.addEventListener(y.TouchEvent.TOUCH_END,this._handlePointerEnd),t.addEventListener(y.TouchEvent.TOUCH_CANCEL,this._handlePointerEnd),t.addEventListener(y.WheelEvent.SCROLL,this._handleWheelScroll)}},{key:"_teardownEventDispatchers",value:function(){var e=b.Context.documentEventDispatcher;e.removeEventListener(y.KeyboardEvent.KEY_UP,this._handleKeyUp),e.removeEventListener(y.KeyboardEvent.KEY_DOWN,this._handleKeyDown);var t=b.Context.canvasEventDispatcher;t.removeEventListener(y.MouseEvent.MOUSE_MOVE,this._handlePointerMove),t.removeEventListener(y.MouseEvent.MOUSE_DOWN,this._handlePointerStart),t.removeEventListener(y.MouseEvent.MOUSE_UP,this._handlePointerEnd),t.removeEventListener(y.MouseEvent.MOUSE_LEAVE,this._handlePointerEnd),t.removeEventListener(y.MouseEvent.MOUSE_ENTER,this._handlePointerEnd),t.removeEventListener(y.TouchEvent.TOUCH_MOVE,this._handlePointerMove),t.removeEventListener(y.TouchEvent.TOUCH_START,this._handlePointerStart),t.removeEventListener(y.TouchEvent.TOUCH_END,this._handlePointerEnd),t.removeEventListener(y.TouchEvent.TOUCH_CANCEL,this._handlePointerEnd),t.removeEventListener(y.WheelEvent.SCROLL,this._handleWheelScroll)}},{key:"_handleKeyDown",value:function(e){16===e.keyCode&&(this._modifierDown=!0)}},{key:"_handleKeyUp",value:function(e){16===e.keyCode&&(this._modifierDown=!1)}},{key:"_handleWheelScroll",value:function(e){if(this._delta.z-=e.normWheelDelta*this._wheelZoomSensitivity,this.target=void 0,this._captureWheelEvents)return e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0,!1}},{key:"_handlePointerStart",value:function(e){if(e.targetTouches)switch(this._touchAutoRotate(),this.target=void 0,e.targetTouches.length>1&&!this._touchZoomEnabled&&(this._touchZoomEnabled=!0,this._pointerStarted=!0),e.targetTouches.length){case 1:e.targetTouches[0].normX&&e.targetTouches[0].normY&&(this._oldPointerPosX=e.targetTouches[0].normX,this._oldPointerPosY=e.targetTouches[0].normY),this._touchZoomEnabled=!1,this._pointerStarted=!0;break;case 2:this._touchZoomEnabled=!0;var t=e.targetTouches[0].pageX-e.targetTouches[1].pageX,n=e.targetTouches[0].pageY-e.targetTouches[1].pageY;t/=b.Context.renderer.width,n/=b.Context.renderer.height,this._touchZoomDistance=this._oldTouchZoomDistance=Math.sqrt(t*t+n*n),this._touchZoomDistanceDelta=0;break;default:this._touchZoomEnabled=!1}else 0===e.button&&(this._oldPointerPosX=e.normX,this._oldPointerPosY=e.normY,this._pointerStarted=!0,this._touchAutoRotate(),this.target=void 0)}},{key:"_handlePointerEnd",value:function(e){e.targetTouches?(this._touchZoomEnabled||(this._pointerStarted=!1),this._touchZoomEnabled=!1,e.targetTouches.length>=1&&(this._fromMultipleToSingleTouchHack=!0)):0===e.button&&(this._pointerStarted=!1)}},{key:"_handlePointerMove",value:function(e){var t=void 0,n=void 0;if(e.targetTouches?(t=e.targetTouches[0].normX,n=e.targetTouches[0].normY):(t=e.normX,n=e.normY),this._pointerStarted){if(e.targetTouches&&2===e.targetTouches.length){var i=e.targetTouches[0].pageX-e.targetTouches[1].pageX,r=e.targetTouches[0].pageY-e.targetTouches[1].pageY;i/=b.Context.renderer.width,r/=b.Context.renderer.height,this._touchZoomDistance=Math.sqrt(i*i+r*r),this._touchZoomDistanceDelta+=this._oldTouchZoomDistance-this._touchZoomDistance,this._oldTouchZoomDistance=this._touchZoomDistance}else this._touchZoomEnabled=!1;void 0===t||void 0===n||this._touchZoomEnabled||(this._fromMultipleToSingleTouchHack?this._fromMultipleToSingleTouchHack=!1:(this._delta.x+=(t-this._oldPointerPosX)*this._mouseOrbitSensitivity,this._delta.y+=(n-this._oldPointerPosY)*this._mouseOrbitSensitivity)),this._touchAutoRotate(),this.target=void 0,(e.targetTouches&&this._captureTouchEvents||!e.targetTouches&&this._captureMouseEvents)&&(e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0)}void 0!==t&&void 0!==n&&(this._oldPointerPosX=t,this._oldPointerPosY=n)}},{key:"onTargetReached",set:function(e){this._onTargetReached=e},get:function(){return this._onTargetReached}},{key:"autoRotate",get:function(){return this._autoRotate},set:function(e){this._autoRotate=e}},{key:"center",set:function(e){this._center.copyFrom(e)},get:function(){return this._center}},{key:"panSpeed",set:function(e){this._panSpeed=e},get:function(){return this._panSpeed}},{key:"zoomSpeed",set:function(e){this._wheelZoomSensitivity=e},get:function(){return this._wheelZoomSensitivity}},{key:"radiusNear",set:function(e){this._radiusNear=e},get:function(){return this._radiusNear}},{key:"radiusFar",set:function(e){this._radiusFar=e},get:function(){return this._radiusFar}},{key:"radius",set:function(e){this._coords.z=e},get:function(){return this._coords.z}},{key:"offset",set:function(e){this._offset.copyFrom(e)},get:function(){return this._offset}},{key:"captureWheelEvents",set:function(e){this._captureWheelEvents=e},get:function(){return this._captureWheelEvents}},{key:"captureTouchEvents",set:function(e){this._captureTouchEvents=e},get:function(){return this._captureTouchEvents}},{key:"captureMouseEvents",set:function(e){this._captureMouseEvents=e},get:function(){return this._captureMouseEvents}},{key:"target",set:function(e){void 0===e&&void 0!==this._target&&"function"==typeof this._onTargetReached&&(this._onTargetReached(),this._onTargetReached=void 0),this._target=e}}]),t}(E.Controller)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ParallaxCameraController=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(9),p=n(7),m=n(61),A=n(14),g=n(42),v=n(11),y=n(39),b=n(57);t.ParallaxCameraController=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._handlePointerMove=function(e){var t=void 0,i=void 0;e.targetTouches?(t=e.targetTouches[0].normX,i=e.targetTouches[0].normY):(t=e.normX,i=e.normY),(e.targetTouches&&n._captureTouchEvents||!e.targetTouches&&n._captureMouseEvents)&&(e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0),n._targetPointerPos.set(t,i)},n._handleWheelScroll=function(e){n._curWheel-=e.normWheelDelta*n._wheelZoomSensitivity,n._captureWheelEvents&&(e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0)},n._handleDeviceOrientation=function(e){n._curBeta=e.beta,n._curGamma=e.gamma},n._range=p.Util.getParam(e,"range",1),n._damping=p.Util.getParam(e,"damping",.1),n._drag=p.Util.getParam(e,"drag",.1),n._minFocalLength=p.Util.getParam(e,"minFocalLength",10),n._maxFocalLength=p.Util.getParam(e,"maxFocalLength",100),n._wheelZoomSensitivity=p.Util.getParam(e,"zoomSpeed",.4),n._captureWheelEvents=p.Util.getParam(e,"captureWheelEvents",!0),n._captureTouchEvents=p.Util.getParam(e,"captureTouchEvents",!0),n._captureMouseEvents=p.Util.getParam(e,"captureMouseEvents",!0),n._curRelativePos=new g.Vector2(.5,.5),n._targetPointerPos=new g.Vector2,n._basePosition=new v.Vector3,n._baseDirection=new v.Vector3(v.Vector3.NEG_Z_AXIS),n._horizontalAxis=new v.Vector3(v.Vector3.X_AXIS),n._verticalAxis=new v.Vector3(v.Vector3.Y_AXIS),n._curWheel=0,n._baseBeta=0,n._baseGamma=0,n._curBeta=0,n._curGamma=0,n._needsUpdate=!1,n._tmpPos=new g.Vector2,n._tmpVec=new v.Vector3,n._tmpVec2=new v.Vector3,n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"ParallaxCameraController",params:{range:this._range,damping:this._damping,drag:this._drag,minFocalLength:this._minFocalLength,maxFocalLength:this._maxFocalLength,wheelZoomSensitivity:this._wheelZoomSensitivity}}}}]),(0,d.default)(t,[{key:"resetPose",value:function(){}},{key:"update",value:function(e,t){this._needsUpdate&&(t.lookDirection(this._baseDirection),this._horizontalAxis.copyFrom(t.rVector),this._verticalAxis.copyFrom(t.uVector),this._baseBeta=this._curBeta,this._baseGamma=this._curGamma,this._needsUpdate=!1),p.Util.isMobileBrowser()?(this._tmpPos.set(.5,.5),this._tmpPos.y-=.01*(this._curBeta-this._baseBeta),this._tmpPos.x+=.01*(this._curGamma-this._baseGamma)):this._tmpPos.copyFrom(this._targetPointerPos),this._curRelativePos.x=A.MathUtil.interpolate(this._damping,m.Easing.linearTween,this._curRelativePos.x,this._tmpPos.x),this._curRelativePos.y=A.MathUtil.interpolate(this._damping,m.Easing.linearTween,this._curRelativePos.y,this._tmpPos.y);var n=_.Context.renderer.width/_.Context.renderer.height;this._tmpVec.copyFrom(t.constTransform.position),v.Vector3.addOut(this._basePosition,v.Vector3.multOut(this._horizontalAxis,(this._curRelativePos.x-.5)*this._range,this._tmpVec2),this._tmpVec),v.Vector3.addOut(this._tmpVec,v.Vector3.multOut(this._verticalAxis,(this._curRelativePos.y-.5)*this._range*n,this._tmpVec2),this._tmpVec),t.transform.position=this._tmpVec,t.focalLength=A.MathUtil.clamp(t.focalLength-this._curWheel,this._minFocalLength,this._maxFocalLength),this._curWheel=this._curWheel-this._curWheel*Math.min(1*e/this._drag,1),this._curWheel<Math.ZERO_TOLERANCE&&this._curWheel>-A.MathUtil.ZERO_TOLERANCE&&(this._curWheel=0)}},{key:"$onAddedToScene",value:function(e){this.basePosition=e.constTransform.position,this.baseDirection=e.dVector,this._setupEventDispatchers()}},{key:"$onRemovedFromScene",value:function(){this._teardownEventDispatchers()}},{key:"_setupEventDispatchers",value:function(){var e=_.Context.canvasEventDispatcher;p.Util.isMobileBrowser()?_.Context.windowEventDispatcher.addEventListener(y.GlobalEvent.DEVICE_ORIENTATION,this._handleDeviceOrientation):e.addEventListener(y.MouseEvent.MOUSE_MOVE,this._handlePointerMove),e.addEventListener(y.WheelEvent.SCROLL,this._handleWheelScroll)}},{key:"_teardownEventDispatchers",value:function(){var e=_.Context.canvasEventDispatcher;p.Util.isMobileBrowser()?_.Context.windowEventDispatcher.removeEventListener(y.GlobalEvent.DEVICE_ORIENTATION,this._handleDeviceOrientation):e.removeEventListener(y.MouseEvent.MOUSE_MOVE,this._handlePointerMove),e.removeEventListener(y.WheelEvent.SCROLL,this._handleWheelScroll)}},{key:"range",get:function(){return this._range},set:function(e){this._range=e}},{key:"minFocalLength",set:function(e){this._minFocalLength=e},get:function(){return this._minFocalLength}},{key:"maxFocalLength",set:function(e){this._maxFocalLength=e},get:function(){return this._maxFocalLength}},{key:"baseDirection",get:function(){return this._baseDirection},set:function(e){this._baseDirection.copyFrom(e),this._needsUpdate=!0}},{key:"basePosition",get:function(){return this._basePosition},set:function(e){this._basePosition.copyFrom(e)}},{key:"captureWheelEvents",set:function(e){this._captureWheelEvents=e},get:function(){return this._captureWheelEvents}},{key:"captureTouchEvents",set:function(e){this._captureTouchEvents=e},get:function(){return this._captureTouchEvents}},{key:"captureMouseEvents",set:function(e){this._captureMouseEvents=e},get:function(){return this._captureMouseEvents}}]),t}(b.Controller)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.VRCameraController=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(7),A=n(11),g=n(30),v=n(27),y=n(9),b=n(57);t.VRCameraController=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._center=m.Util.getParam(e,"center",new A.Vector3),n._positionLock=m.Util.getParam(e,"positionLock",!1),n._startOrientation=m.Util.getParam(e,"startOrientation",new g.Quaternion),n._curQuat=new g.Quaternion,n._tmpQuat=new g.Quaternion,n._transform=new v.Transform,n._tmpVec=new A.Vector3,n._tmpVec2=new A.Vector3,n._tmpVec3=new A.Vector3,n._offsetRotation=new g.Quaternion,n._offsetRotation.copyFrom(n._startOrientation),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"VRCameraController",params:{center:this._center,positionLock:this._positionLock,startOrientation:this._startOrientation}}}}]),(0,f.default)(t,[{key:"resetPose",value:function(){y.Context.vrDeviceManager.hasPosition&&!this._positionLock?this._offsetRotation.zero():(this._curQuat.copyFrom(y.Context.vrDeviceManager.sensorOrientation).invert().toEuler(this._tmpVec),this._tmpVec.x=0,this._tmpVec.z=0,this._tmpQuat.fromEuler(this._tmpVec),this._offsetRotation.copyFrom(this._startOrientation),this._offsetRotation.mult(this._tmpQuat))}},{key:"update",value:function(e,n){(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"update",this).call(this,e,n),this._curQuat.copyFrom(this._offsetRotation),this._curQuat.mult(y.Context.vrDeviceManager.sensorOrientation),this._transform.rotation=this._curQuat,n.lookDirection(this._transform.lookDirectionFromRotation(this._tmpVec).neg(),this._transform.lookUpFromRotation(this._tmpVec3)),n.transform.position.copyFrom(this._center),this._positionLock||n.transform.position.add(y.Context.vrDeviceManager.sensorPosition)}},{key:"offsetRotation",get:function(){return this._offsetRotation}},{key:"startOrientation",set:function(e){this._startOrientation.copyFrom(e),this._offsetRotation.copyFrom(this._startOrientation)},get:function(){return this._startOrientation}},{key:"center",set:function(e){this._center.copyFrom(e)},get:function(){return this._center}},{key:"positionLock",set:function(e){this._positionLock=e}}]),t}(b.Controller)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.VROrbitCameraController=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(7),A=n(11),g=n(30),v=n(27),y=n(14),b=n(9),E=n(57);t.VROrbitCameraController=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._center=m.Util.getParam(e,"center",new A.Vector3),n._radius=m.Util.getParam(e,"radius",1),n._phiLowerLimit=m.Util.getParam(e,"phiLowerLimit",Math.PI-.13),n._phiUpperLimit=m.Util.getParam(e,"phiUpperLimit",.15),n._coords=new A.Vector3(0,.5*(n._phiLowerLimit-n._phiUpperLimit),n._radius),n._startOrientation=m.Util.getParam(e,"startOrientation",new g.Quaternion),n._curQuat=new g.Quaternion,n._tmpQuat=new g.Quaternion,n._transform=new v.Transform,n._tmpVec=new A.Vector3,n._tmpVec2=new A.Vector3,n._tmpVec3=new A.Vector3,n._tmp=0,n._offsetRotation=new g.Quaternion,n._offsetRotation.copyFrom(n._startOrientation),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"VROrbitCameraController",params:{center:this._center,radius:this._radius,phiLowerLimit:this._phiLowerLimit,phiUpperLimit:this._phiUpperLimit,coords:this._coords,startOrientation:this._startOrientation}}}}]),(0,f.default)(t,[{key:"resetPose",value:function(){this._curQuat.copyFrom(b.Context.vrDeviceManager.sensorOrientation).invert().toEuler(this._tmpVec),this._tmpVec.x=0,this._tmpVec.z=0,this._tmpQuat.fromEuler(this._tmpVec),this._offsetRotation.copyFrom(this._startOrientation),this._offsetRotation.mult(this._tmpQuat)}},{key:"update",value:function(e,n){(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"update",this).call(this,e,n),this._curQuat.copyFrom(this._offsetRotation),this._curQuat.mult(b.Context.vrDeviceManager.sensorOrientation),this._transform.rotation=this._curQuat;var i=this._transform.lookDirectionFromRotation(this._tmpVec),r=A.Vector3.project(b.Context.vrDeviceManager.sensorPosition,i,this._tmpVec3).magnitude()*y.MathUtil.sign(b.Context.vrDeviceManager.sensorPosition.dot(i));n.transform.position=i.mult(this._radius+r).add(this._center),this._transform.lookUpFromRotation(this._tmpVec2),n.lookAt(this._center,this._tmpVec2)}},{key:"center",set:function(e){this._center.copyFrom(e)},get:function(){return this._center}},{key:"radius",set:function(e){this._radius=e},get:function(){return this._radius}}]),t}(E.Controller)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DebugOverdrawMaterial=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(63),A=n(9);t.DebugOverdrawMaterial=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"$serialize",value:function(){return{name:"DebugOverdrawMaterial"}}},{key:"_configureEffect",value:function(e){this._opaque=!1,this._blendMode=m.SurfaceMaterial.BLEND_MODE_ADDITIVE,this._overwriteSurface=!1,this._writeDepth=!0,this._readDepth=!0,(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"_configureEffect",this).call(this,e)}},{key:"shaderPath",get:function(){return A.Context.makeResourcePath("shader/debugOverdraw.json")}}]),t}(m.SurfaceMaterial)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DepthMaterial=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(63),A=n(9);
t.DepthMaterial=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"$serialize",value:function(){return{name:"DepthMaterial"}}},{key:"_configureEffect",value:function(e){e.setDepthTextureEnabled(!0),e.setHighPrecisionBufferEnabled(A.Context.qualityManager.quality.hdrEnabled),this._opaque=!0,this._writeDepth=!0,this._overwriteSurface=!1,this._readDepth=!0,(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"_configureEffect",this).call(this,e)}}]),t}(m.SurfaceMaterial)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.IBRMaterial=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(7),A=n(42),g=n(301);t.IBRMaterial=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._depthTexture=m.Util.getParamRequired(e,"depthTexture"),n._flippedLatlongY=m.Util.getParam(e,"flippedLatlongY",!1),n._nearFar=m.Util.getParam(e,"nearFar",new A.Vector2(.1,100)),n._deferredTexturing=m.Util.getParam(e,"deferredTexturing",!1),n._deferredTexturing&&(n._materialIdTexture=m.Util.getParamRequired(e,"materialIdTexture"),n._uvTexture=m.Util.getParamRequired(e,"uvTexture")),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"IBRMaterial",params:{depthTexture:this._depthTexture,flippedLatlongY:this._flippedLatlongY,nearFar:this._nearFar,deferredTexturing:this._deferredTexturing,materialIdTexture:this._materialIdTexture,uvTexture:this._uvTexture}}}}]),(0,f.default)(t,[{key:"_updateEffect",value:function(e){e.isConfigurable&&(e.setCubeIBREnabled(this._depthTexture.isCubeMap),e.setLatlongIBREnabled(!this._depthTexture.isCubeMap),e.setFlippedLatlongYEnabled(this._flippedLatlongY),e.setDepth32PackingEnabled(this._depthTexture.isPackedDepth32),e.setDepth24PackingEnabled(this._depthTexture.isPackedDepth24),e.textures.depthTexture=this._depthTexture,e.params.nearFar=this._nearFar,e.setDeferredTexturingEnabled(this._deferredTexturing),this._deferredTexturing&&(e.textures.materialIdTexture=this._materialIdTexture,e.textures.uvTexture=this._uvTexture))}},{key:"_configureEffect",value:function(e){this._updateEffect(e),this._usePerVertexNormal=!1,this._twoSided=!0,this._usePerVertexTangentSpace=!1,this._useFresnelOpacity=!1,(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"_configureEffect",this).call(this,e)}},{key:"depthTexture",get:function(){return this._depthTexture},set:function(e){this._depthTexture=e,this._effect&&this._updateEffect(this._effect)}},{key:"nearFar",get:function(){return this._depthTexture},set:function(e){this._nearFar=e,this._effect&&this._updateEffect(this._effect)}}]),t}(g.StandardMaterial)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ShadowMaterial=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(63),A=n(9);t.ShadowMaterial=function(e){function t(e){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"ShadowMaterial"}}}]),(0,f.default)(t,[{key:"_configureEffect",value:function(e){e.setVarianceShadowMapEnabled(!0),e.setHighPrecisionBufferEnabled(A.Context.qualityManager.quality.hdrEnabled),this._opaque=!0,this._writeDepth=!0,this._readDepth=!0,this._overwriteSurface=!1,(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"_configureEffect",this).call(this,e)}}]),t}(m.SurfaceMaterial)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionalLight=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(7),p=n(11),m=n(48),A=n(111);t.DirectionalLight=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._color=_.Util.getParam(e,"color",new m.ColorRGB(m.ColorRGB.WHITE)),n._intensity=_.Util.getParam(e,"intensity",1),n._direction=_.Util.getParam(e,"direction",new p.Vector3(0,-1,0)),n._angularRadius=_.Util.getParam(e,"angularRadius",0),n._colorHDR=new m.ColorRGB,n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"DirectionalLight",params:{color:this._color,intensity:this._intensity,direction:this._direction,angularRadius:this._angularRadius}}}}]),(0,d.default)(t,[{key:"getShaderParams",value:function(){return this.castsShadow?{shadowedDirectionalLightColor:m.ColorRGB.multOut(this._color,this._intensity,this._colorHDR),shadowedDirectionalLightDirection:this._direction,shadowedDirectionalLightRadius:this._angularRadius}:{directionalLightColor:m.ColorRGB.multOut(this._color,this._intensity,this._colorHDR),directionalLightDirection:this._direction,directionalLightRadius:this._angularRadius}}},{key:"lightName",get:function(){return"DirectionalLight"}},{key:"color",get:function(){return this._color},set:function(e){this._color=e}},{key:"intensity",get:function(){return this._intensity},set:function(e){this._intensity=e}},{key:"direction",get:function(){return this._direction},set:function(e){this._direction.copyFrom(e)}},{key:"radius",get:function(){return this._angularRadius},set:function(e){this._angularRadius=e}}]),t}(A.Light)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.IBRNode=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(18),A=i(m),g=n(7),v=n(38),y=n(56),b=n(445),E=n(21),w=n(25),S=n(32);t.IBRNode=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));n._horizontalResolution=g.Util.getParam(e,"horizontalResolution",1024),n._verticalResolution=g.Util.getParam(e,"verticalResolution",512),n._material=n.addActiveResource(new b.IBRMaterial(e));var i={};return i[E.Scene.RENDERPASS_FORWARD]=n._material,i[E.Scene.RENDERPASS_FORWARD_TRANSLUCENT]=n._material,n.addChild(new S.RenderableNode({geometry:v.GeometryUtil.makeSphere(1,n._horizontalResolution,n._verticalResolution),materialByPass:i})),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"IBRNode",params:{horizontalResolution:this._horizontalResolution,verticalResolution:this._verticalResolution,twoSided:this._material._twoSided,opaque:this._material._opaque,refractive:this._material._refractive,motionBlurred:this._material._motionBlurred,ui:this._material._ui,fullscreenQuad:this._material._fullscreenQuad,writeDepth:this._material._writeDepth,readDepth:this._material._readDepth,blendMode:this._material._blendMode,overwriteSurface:this._material._overwriteSurface,receivesShadow:this._material._receivesShadow,castsShadow:this._material._castsShadow,discard:this._material._discard,name:this._material._name,depthTexture:this._material._depthTexture,flippedLatlongY:this._material._flippedLatlongY,nearFar:this._material._nearFar,albedo:this._material._albedo,useMetallicWorkflow:this._material._useMetallicWorkflow,metallic:this._material._metallic,specular:this._material._specular,microsurface:this._material._microsurface,emissive:this._material._emissive,irradiance:this._material._irradiance,irradianceBoost:this._material._irradianceBoost,clearcoat:this._material._clearcoat,clearcoatRoughness:this._material._clearcoatRoughness,refractionRoughness:this._material._refractionRoughness,albedoInputLinear:this._material._albedoInputLinear,specularInputLinear:this._material._specularInputLinear,emissiveInputLinear:this._material._emissiveInputLinear,wetness:this._material._wetness,anisotropy:this._material._anisotropy,opacity:this._material._opacity,useFresnelOpacity:this._material._useFresnelOpacity,emissiveStrength:this._material._emissiveStrength,normalTexture:this._material._normalTexture,bentNormalTexture:this._material._bentNormalTexture,aoTexture:this._material._aoTexture,microsurfaceWorkflow:this._material._microsurfaceWorkflow,usePerVertexNormal:this._material._usePerVertexNormal,usePerVertexTangentSpace:this._material._usePerVertexTangentSpace,useNormalMicrosurfacePacking:this._material._useNormalMicrosurfacePacking,useAoWetnessPacking:this._material._useAoWetnessPacking,useReflectanceAnisotropyPacking:this._material._useReflectanceAnisotropyPacking,irradianceIncludingAlbedo:this._material._irradianceIncludingAlbedo,applyAoOnIrradiance:this._material._applyAoOnIrradiance,useNormalSwizzling:this._material._useNormalSwizzling,normalMapStrength:this._material._normalMapStrength,aoBlend:this._material._aoBlend,bakedMapsUse2ndUV:this._material._bakedMapsUse2ndUV,irradianceReplacesDiffuseIbl:this._material._irradianceReplacesDiffuseIbl,uvBasedRadialOpacity:this._material._uvBasedRadialOpacity,texCoordOffset:this._material._texCoordOffset,environmentRefractionNormalTexture:this._material._environmentRefractionNormalTexture,environmentRefractionDepthTexture:this._material._environmentRefractionDepthTexture,environmentRefractionTransform:this._material._environmentRefractionTransform,environmentRefractionNearFar:this._material._environmentRefractionNearFar,environmentRefractionDispersion:this._material._environmentRefractionDispersion},aux:{children:[]}}}}]),(0,f.default)(t,[{key:"dtor",value:function(){this.dtorActiveResources(),(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"dtor",this).call(this)}},{key:"opacity",set:function(e){var t=this.firstChild.materialByPass[E.Scene.RENDERPASS_FORWARD];t.opacity=e}}]),t}((0,A.default)(w.SpatialNode,y.ResourceTracker))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var r=n(10),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(2),p=i(_),m=n(4),A=i(m),g=n(25),v=n(32),y=n(43),b=n(7),E=n(9),w=n(42),S=n(11),T=n(48),x=n(26),C=n(69),M=n(24),P=n(27),I=n(70),R=n(89),k=n(90),D=n(88),V=n(63),B=n(301),O=n(446),N=n(444),L=n(443),F=n(21),U=n(29),H=n(18),G=i(H),z="notLoaded",Q="loadInProgress",W="loaded",j=10,X=[1,0,1],Y=new O.ShadowMaterial({}),q=new N.DepthMaterial({}),Z=new L.DebugOverdrawMaterial({});t.Model=function(e){function t(e){(0,u.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n._uri=b.Util.getParamRequired(e,"uri"),n._basePath=n._uri.split(/[^\/]*$/)[0],n._packedPngBin=b.Util.getParam(e,"packedPngBin",!1),n._gzip=b.Util.getParam(e,"gzip",!1),n._aoBlend=b.Util.getParam(e,"aoBlend",B.StandardMaterial.AO_BLEND_NORMAL),n._irradianceBoost=b.Util.getParam(e,"irradianceBoost",1),n._ui=b.Util.getParam(e,"ui",!1),n._zIndex=b.Util.getParam(e,"zIndex"),n._phpGzip=b.Util.getParam(e,"phpGzip",!1),n._phpGzip&&(n._phpGzip=!!e.phpGzip,n._gzipPhpPath=e.phpGzip.path,n._gzipPhpRelPath=e.phpGzip.relpath,n._gzipPhpAssetPath=e.phpGzip.assetPath),n._onError=b.Util.getParam(e,"onError",function(){}),n._loadState=t.NOT_LOADED,n._bufferData=[],n._loadingBuffers=[],n._pendingBuffers=[],n._materialCache=[],n._textureCache=[],n._version=[0,0,0],n}return(0,A.default)(t,e),(0,p.default)(t,[{key:"$serialize",value:function(){return{name:"Model",params:{uri:this._uri,packedPngBin:this._packedPngBin,gzip:this._gzip,phpGzip:this._phpGzip},aux:{children:[]}}}}],[{key:"_isValidDataFormat",value:function(e){return e.hasOwnProperty("scene")&&e.hasOwnProperty("buffers")&&e.hasOwnProperty("meshes")&&e.hasOwnProperty("nodes")}},{key:"NOT_LOADED",get:function(){return z}},{key:"LOAD_IN_PROGRESS",get:function(){return Q}},{key:"LOADED",get:function(){return W}}]),(0,p.default)(t,[{key:"$onAddedToScene",value:function(e){(0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"$onAddedToScene",this).call(this,e),this.markLoading(),this._loadState===t.NOT_LOADED&&this._load()}},{key:"_purgeTempData",value:function(){this._bufferData.length=0}},{key:"_load",value:function(){this._loadState=t.LOAD_IN_PROGRESS,y.XHRRequest.request({uri:this._uri,noCache:!1,onLoad:this._parseJson.bind(this),onError:this._abortLoad.bind(this)})}},{key:"_abortLoad",value:function(){this._onError("Could not load model. Model uri was: "+this._uri),this.dtor()}},{key:"_parsePhongOrBlinnMaterial",value:function(e,t,n){var i=e.materials[n],r=i.parameters,o={};return t.hasNormal()&&(o.usePerVertexNormal=!0),this._versionGreaterOrEqualThan(X)?t.hasCustomAttribute("tangent")&&!t.hasCustomAttribute("binormal")&&(o.usePerVertexTangentSpace=!0):t.hasCustomAttribute("tangent")&&(o.usePerVertexTangentSpace=!1),r.DiffuseColor?o.albedo=this._getValueForType(e,r.DiffuseColor):r.Diffuse&&(o.albedo=this._getValueForType(e,r.Diffuse)),r.Emissive&&(o.emissive=this._getValueForType(e,r.Emissive)),r.AmbientColor?o.irradiance=this._getValueForType(e,r.AmbientColor):r.Ambient&&(o.irradiance=this._getValueForType(e,r.Ambient)),r.Opacity&&(o.opacity=this._getValueForType(e,r.Opacity),o.opaque=1===r.Opacity.value),r.SpecularColor?o.specular=this._getValueForType(e,r.SpecularColor):r.Specular&&(o.specular=this._getValueForType(e,r.Specular)),r.Shininess&&(o.microsurface=this._getValueForType(e,r.Shininess)),o.useMetallicWorkflow=!1,o.microsurfaceWorkflow=B.StandardMaterial.SPECULAR_POWER_WORKFLOW,new B.StandardMaterial((0,a.default)(o,{ui:this._ui}))}},{key:"_parseLambertMaterial",value:function(e,t,n){var i={},r=e.materials[n],o=r.parameters;return t.hasNormal()&&(i.usePerVertexNormal=!0),this._versionGreaterOrEqualThan(X)?t.hasCustomAttribute("tangent")&&!t.hasCustomAttribute("binormal")&&(i.usePerVertexTangentSpace=!0):t.hasCustomAttribute("tangent")&&(i.usePerVertexTangentSpace=!1),o.DiffuseColor?i.albedo=this._getValueForType(e,o.DiffuseColor):o.Diffuse&&(i.albedo=this._getValueForType(e,o.Diffuse)),o.Emissive&&(i.emissive=this._getValueForType(e,o.Emissive)),o.AmbientColor?i.irradiance=this._getValueForType(e,o.AmbientColor):o.Ambient&&(i.irradiance=this._getValueForType(e,o.Ambient)),o.Opacity&&(i.opacity=this._getValueForType(e,o.Opacity),i.opaque=1===o.Opacity.value),i.specular=new T.ColorRGB,i.microsurface=1,i.useMetallicWorkflow=!1,new B.StandardMaterial((0,a.default)(i,{ui:this._ui}))}},{key:"_parseUnknownMaterial",value:function(e,t){var n={};return t.hasNormal()&&(n.usePerVertexNormal=!0),this._versionGreaterOrEqualThan(X)?t.hasCustomAttribute("tangent")&&!t.hasCustomAttribute("binormal")&&(n.usePerVertexTangentSpace=!0):t.hasCustomAttribute("tangent")&&(n.usePerVertexTangentSpace=!1),new B.StandardMaterial((0,a.default)(n,{ui:this._ui}))}},{key:"_getValueForType",value:function(e,t){if(t)switch(t.type){case"Map":return this._parseTexture(e,t);case"Float":case"Float2":case"Float4":case"String":return t.value;case"Float3":return new T.ColorRGB(t.value);case"Bool":return!!t.value;case"Int":return 0|t.value;case"Undefined":return;case"Enum":throw new Error("material value type not implemented");default:return}}},{key:"_parseStingrayPBSMaterial",value:function(e,t,n){var i={};t.hasNormal()&&(i.usePerVertexNormal=!0),this._versionGreaterOrEqualThan(X)?t.hasCustomAttribute("tangent")&&!t.hasCustomAttribute("binormal")&&(i.usePerVertexTangentSpace=!0):t.hasCustomAttribute("tangent")&&(i.usePerVertexTangentSpace=!1);var r=e.materials[n],o=r.parameters,s=!0;if(null!==o.use_metallic_workflow&&void 0!==o.use_metallic_workflow||(s=!1),o.use_color_map&&o.use_color_map.value&&o.TEX_color_map?i.albedo=this._getValueForType(e,o.TEX_color_map):o.base_color&&(i.albedo=this._getValueForType(e,o.base_color)),!s||o.use_metallic_workflow&&o.use_metallic_workflow.value?(i.useMetallicWorkflow=!0,o.use_metallic_map&&o.use_metallic_map.value&&o.TEX_metallic_map?i.metallic=this._getValueForType(e,o.TEX_metallic_map):o.metallic&&(i.metallic=this._getValueForType(e,o.metallic))):(i.useMetallicWorkflow=!1,o.use_specular_map.value&&o.TEX_specular_map?i.specular=this._getValueForType(e,o.TEX_specular_map):o.specular&&(i.specular=this._getValueForType(e,o.specular))),o.use_roughness_map&&o.use_roughness_map.value&&o.TEX_roughness_map?i.microsurface=this._getValueForType(e,o.TEX_roughness_map):o.roughness&&(i.microsurface=this._getValueForType(e,o.roughness)),o.use_emissive_map&&o.use_emissive_map.value&&o.TEX_emissive_map?i.emissive=this._getValueForType(e,o.TEX_emissive_map):o.emissive&&(i.emissive=this._getValueForType(e,o.emissive)),o.emissive_intensity&&(i.emissiveStrength=this._getValueForType(e,o.emissive_intensity)),o.use_normal_map&&o.use_normal_map.value&&o.TEX_normal_map&&(i.normalTexture=this._getValueForType(e,o.TEX_normal_map),s&&(i.normalMapStrength=this._getValueForType(e,o.normal_map_strength))),o.use_ao_map&&o.use_ao_map.value&&o.TEX_ao_map&&(i.aoTexture=this._getValueForType(e,o.TEX_ao_map)),o.use_opacity_map&&o.use_opacity_map.value&&o.TEX_opacity_map?(i.opacity=this._getValueForType(e,o.TEX_opacity_map),i.opaque=!1):o.opacity?(i.opacity=this._getValueForType(e,o.opacity),i.opaque=1===o.opacity.value):i.opaque=!0,s){var l=this._getValueForType(e,o.use_glossiness_workflow);l?i.microsurfaceWorkflow=B.StandardMaterial.GLOSSINESS_WORKFLOW:i.microsurfaceWorkflow=B.StandardMaterial.ROUGHNESS_WORKFLOW,o.use_bent_normal_map&&o.use_bent_normal_map.value&&(i.bentNormalTexture=this._getValueForType(e,o.TEX_bent_normal_map)),o.use_anisotropy_map&&(o.use_anisotropy_map.value?i.anisotropy=this._getValueForType(e,o.TEX_anisotropy_map):i.anisotropy=this._getValueForType(e,o.anisotropy)),o.use_wetness_map&&(o.use_wetness_map.value?i.wetness=this._getValueForType(e,o.TEX_wetness_map):i.wetness=this._getValueForType(e,o.wetness)),o.use_environment_refraction&&o.use_environment_refraction.value&&(i.environmentRefractionNormalTexture=this._getValueForType(e,o.TEX_refraction_normal_map),i.environmentRefractionDepthTexture=this._getValueForType(e,o.TEX_refraction_depth_map),i.environmentRefractionNearFar=new w.Vector2(.001,o.refraction_map_far.value),i.environmentRefractionDispersion=!!o.use_refraction_dispersion.value),i.refractive=!(!o.use_refraction||!o.use_refraction.value),i.useAoWetnessPacking=!(!o.use_ao_wetness_packing||!o.use_ao_wetness_packing.value),i.useReflectanceAnisotropyPacking=o.use_reflectance_anisotropy_packing&&!!o.use_reflectance_anisotropy_packing.value,i.bakedMapsUse2ndUV=!!o.baked_maps_use_2nd_uv.value,i.useFresnelOpacity=o.use_fresnel_opacity&&!!o.use_fresnel_opacity.value,i.twoSided=!!o.two_sided.value,o.use_irradiance_map&&o.use_irradiance_map.value?i.irradiance=this._getValueForType(e,o.TEX_irradiance_map):i.irradiance=this._getValueForType(e,o.base_irradiance),i.irradianceIncludingAlbedo=!(!o.irradiance_includes_albedo||!o.irradiance_includes_albedo.value),o.use_clearcoat_map&&o.use_clearcoat_map.value&&o.TEX_clearcoat_map?i.clearcoat=this._getValueForType(e,o.TEX_clearcoat_map):o.clearcoat&&(i.clearcoat=this._getValueForType(e,o.clearcoat)),i.clearcoatRoughness=this._getValueForType(e,o.clearcoat_roughness),i.refractionRoughness=this._getValueForType(e,o.refraction_roughness),i.aoBlend=this._aoBlend,i.irradianceBoost=this._irradianceBoost}return new B.StandardMaterial((0,a.default)(i,{ui:this._ui}))}},{key:"_parseMaterial",value:function(e,t,n){if(this._materialCache[n])return this._materialCache[n];var i=e.materials[n],r=void 0;switch(i.type){case"StingrayPBS":r=this._parseStingrayPBSMaterial(e,t,n);break;case"Phong":r=this._parsePhongOrBlinnMaterial(e,t,n);break;case"Blinn":r=this._parsePhongOrBlinnMaterial(e,t,n);break;case"Lambert":r=this._parseLambertMaterial(e,t,n);break;case"Unknown":r=this._parseUnknownMaterial(e,t,n);break;default:throw new Error('invalid material type encountered: "'+i.type+'"')}return r.name=i.name,this._materialCache[n]=r,r}},{key:"_parseAttributes",value:function(e,t){for(var n=e.meshes[t],i=new I.Attributes,r=0,a=n.attributes.length;r<a;++r){var o=n.attributes[r];switch(o.semantic){case"position":i.setPositionChannels(o.channels);break;case"normal":i.setNormalChannels(o.channels);break;case"texCoord":i.setTextureChannels(o.unit,o.channels);break;case"color":i.setColorChannels(o.unit,o.channels);break;default:i.setCustomAttribute(o.semantic,o.channels)}}return i}},{key:"_parseNode",value:function(e,t){var n=e.nodes[t],i=null,r=new P.Transform;if(r.matrix=new x.Matrix4(n.transform),void 0===n.mesh)i=new g.SpatialNode({name:n.name,transform:r});else{var a=this._parseAttributes(e,n.mesh),o=this._parseMaterial(e,a,e.meshes[n.mesh].material),s={},l=o.clone();l.discard=V.SurfaceMaterial.DISCARD_OPAQUE,o.refractive&&(o.refractive=!1,o.discard=V.SurfaceMaterial.DISCARD_TRANSPARENT),s[F.Scene.RENDERPASS_FORWARD_REFRACTIVE]=l,s[F.Scene.RENDERPASS_FORWARD]=o,s[F.Scene.RENDERPASS_FORWARD_TRANSLUCENT]=o,s[F.Scene.RENDERPASS_SHADOW_MAP]=Y,s[F.Scene.RENDERPASS_FORWARD_DEPTH]=q,s[F.Scene.RENDERPASS_DEBUG_OVERDRAW]=Z,s[F.Scene.RENDERPASS_UI_1]=o;var u=void 0;this._ui&&void 0!==this._zIndex&&(u={zIndex:this._zIndex});var c=e.meshes[n.mesh];i=new v.RenderableNode({name:n.name,transform:r,geometry:new D.Geometry({indexBuffer:new R.IndexBuffer({data:new(b.Util.stringToTypedArrayCtor(c.indices.indexBufferType))(this._bufferData[c.indices.indexBuffer].arrayBuffer,c.indices.byteOffset,c.indices.count)}),vertexBuffer:new k.VertexBuffer({attributes:a,vertexDataType:k.VertexBuffer.NATIVE,vertexDataNative:new Float32Array(this._bufferData[c.vertices.vertexBuffer].arrayBuffer,c.vertices.byteOffset,c.vertices.vertexSizeBytes/4*c.vertices.count)}),calculateBoundingVolume:!1,boundingVolume:new C.AxisAlignedBoundingBox({min:new S.Vector3(c.boundingBox.min),max:new S.Vector3(c.boundingBox.max)}),type:c.type}),materialByPass:s,sortPassData:u})}if(n.children)for(var d=0,h=n.children.length;d<h;++d)i.addChild(this._parseNode(e,n.children[d]));return i}},{key:"_parseScene",value:function(e){var n=e.scene;this.transform.matrix=new x.Matrix4(n.root.transform);for(var i=0,r=n.root.children.length;i<r;++i)this.addChild(this._parseNode(e,n.root.children[i]));this._loadState=t.LOADED,this.loaded=!0}},{key:"_requestBuffer",value:function(e,t){if(this._loadingBuffers.length<j){var n=t.onLoad;t.onLoad=function(t){var i=e;return function(e){if(delete this._loadingBuffers[i],this._pendingBuffers.length>0){var t=this._pendingBuffers.splice(0,1)[0];this._requestBuffer(t.name,t.info)}n(e)}.bind(t)}(this),this._loadingBuffers[e]=y.XHRRequest.request(t)}else this._pendingBuffers.push({name:e,info:t})}},{key:"_parseBuffers",value:function(e,t){var n=this,i=e.buffers;if(!(i instanceof Array))throw new Error("buffers need to be present as Array");for(var r=0,a=i.length;r<a;++r){var o=i[r],s=o.uri;this._packedPngBin&&(s=s.replace(b.Util.getExtensionFromPath(s,!0),"_dl8PackedPngBin_.png"));var l=void 0;l=this._phpGzip?this._gzipPhpPath+"?f="+this._gzipPhpRelPath+this._basePath.replace(this._gzipPhpAssetPath,"")+s:this._gzip?""+this._basePath+s+".gz":this._basePath+s,this._bufferData.push({onLoaded:function(e,n){this._bufferData[e].arrayBuffer=n.response,this._bufferData[e].byteLength=i[e].byteLength,this._bufferData[e].loaded=!0;for(var r=0,a=this._bufferData.length;r<a;++r)if(!this._bufferData[r].loaded)return;t()}.bind(this,r),loaded:!1,uri:o.uri,geometryFile:l,bufferName:s})}this._bufferData.forEach(function(e){n._requestBuffer(e.uri,{uri:e.geometryFile,packedPngRequest:n._packedPngBin,gzipRequest:n._gzip,noCache:!1,onLoad:e.onLoaded,onError:n._abortLoad,responseType:"arraybuffer"})})}},{key:"_parseTexture",value:function(e,t){var n=t.value.source;if(!this._textureCache[n]){var i=this._basePath+e.textureSources[t.value.source].uri,r=b.Util.getVideoSupport(),a="";(!this._videoTexuresEnabled||"probably"!==r.h264&&"probably"!==r.webm)&&(a=b.Util.getExtensionFromPath(i),null!==a&&("mp4"===a?i=i.replace(".mp4",this._videoReplaceExt):"webm"===a&&(i=i.replace(".webm",this._videoReplaceExt))));var o=i;this._phpGzip?(a=b.Util.getExtensionFromPath(o),"mp4"!==a&&"webm"!==a&&(o=this._gzipPhpPath+"?f="+this._gzipPhpRelPath+i.replace(this._gzipPhpAssetPath,""))):this._gzip&&(a=b.Util.getExtensionFromPath(o),"mp4"!==a&&"webm"!==a&&"png"!==a&&"jpg"!==a&&(o=i+".gz")),this._textureCache[n]=new M.Texture({type:M.Texture.IMAGE,data:[E.Context.qualityManager.getAdjustedTexPath(i)],flipY:!0,generateFallbackVideos:E.Context.qualityManager.quality.videoTexuresFallbackEnabled,videoReplaceExt:".png",generateMipmaps:t.value.generateMipmaps});var s=E.Context.gl.CLAMP_TO_EDGE,l=E.Context.gl.CLAMP_TO_EDGE;switch(t.value.wrapU){case"clampToEdge":s=E.Context.gl.CLAMP_TO_EDGE;break;case"repeat":s=E.Context.gl.REPEAT}switch(t.value.wrapV){case"clampToEdge":l=E.Context.gl.CLAMP_TO_EDGE;break;case"repeat":l=E.Context.gl.REPEAT}this._textureCache[n].setWrapMode(0,s),this._textureCache[n].setWrapMode(1,l),this._textureCache[n].preload()}return this._textureCache[n]}},{key:"_parseVersion",value:function(e){this._version=e.version.split(".").map(function(e){return parseInt(e,10)})}},{key:"_versionGreaterOrEqualThan",value:function(e){return this._version[0]>=e[0]||this._version[1]>=e[1]||this._version[2]>=e[2]}},{key:"_parseJson",value:function(e){if(4!==e.readyState||e.status>=300)return void this._onError("Error requesting model data! readyState: "+e.readyState+", status: "+e.status);var n=JSON.parse(e.response);return t._isValidDataFormat(n)?(this._parseVersion(n),void this._parseBuffers(n,this._parseScene.bind(this,n))):void this._onError("No valid input format for dae model")}}]),t}((0,G.default)(g.SpatialNode,U.Resource))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PointLight=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(7),p=n(48),m=n(111);t.PointLight=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._color=_.Util.getParam(e,"color",new p.ColorRGB(p.ColorRGB.WHITE)),n._intensity=_.Util.getParam(e,"intensity",1),n._radius=_.Util.getParam(e,"radius",1),n._colorHDR=new p.ColorRGB,n}return(0,f.default)(t,e),(0,d.default)(t,[{key:"$serialize",value:function(){return{name:"PointLight",params:{color:this._color,intensity:this._intensity,radius:this._radius}}}}]),(0,d.default)(t,[{key:"getShaderParams",value:function(){return this.castsShadow?{shadowedPointLightColor:p.ColorRGB.multOut(this._color,this._intensity,this._colorHDR),shadowedPointLightPosition:this.worldTransform.position,shadowedPointLightFalloff:this._radius}:{pointLightColor:p.ColorRGB.multOut(this._color,this._intensity,this._colorHDR),pointLightPosition:this.worldTransform.position,pointLightFalloff:this._radius}}},{key:"lightName",get:function(){return"PointLight"}},{key:"color",get:function(){return this._color},set:function(e){this._color=e}},{key:"intensity",get:function(){return this._intensity},set:function(e){this._intensity=e}},{key:"radius",get:function(){return this._radius},set:function(e){this._radius=e}}]),t}(m.Light)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SpotLight=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(8),d=i(c),h=n(2),f=i(h),_=n(4),p=i(_),m=n(7),A=n(14),g=n(11),v=n(48),y=n(53),b=n(111);t.SpotLight=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._color=m.Util.getParam(e,"color",new v.ColorRGB(1,1,1)),n._intensity=m.Util.getParam(e,"intensity",1),n._direction=m.Util.getParam(e,"direction",new g.Vector3(0,-1,0)),n._radius=m.Util.getParam(e,"radius",1),n._angle=m.Util.getParam(e,"angle",Math.PI/8),n._exponent=m.Util.getParam(e,"exponent",1),n._goboTexture=m.Util.getParam(e,"goboTexture"),n._hasGobo=!!n._goboTexture,n._colorHDR=new v.ColorRGB,n._tmpVec=new g.Vector3,n._spotLightCamera=new y.Camera,n._updateSpotlightCamera(),n}return(0,p.default)(t,e),(0,f.default)(t,[{key:"$serialize",value:function(){return{name:"SpotLight",params:{color:this._color,intensity:this._intensity,direction:this._direction,radius:this._radius,angle:this._angle,exponent:this._exponent,goboTexture:this._goboTexture}}}}]),(0,f.default)(t,[{key:"dtor",value:function(){void 0!==this._goboTexture&&this._goboTexture.dtor()}},{key:"update",value:function(e){(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"update",this).call(this,e),this._updateSpotlightCamera()}},{key:"_updateSpotlightCamera",value:function(){this._tmpVec.copyFrom(this.worldTransform.position),this._tmpVec.add(this._direction),this._spotLightCamera.lookAt(this._tmpVec),this._spotLightCamera.setFrustum(A.MathUtil.radToDeg(2*this._angle),1,1,this._radius),this._spotLightCamera.location=this.worldTransform.position}},{key:"getShaderParams",value:function(){return this.castsShadow?{shadowedSpotLightPosition:this.worldTransform.position,shadowedSpotLightDirection:this._direction,shadowedSpotLightFalloff:this._radius,shadowedSpotLightAngle:Math.cos(this._angle),shadowedSpotLightExponent:this._exponent,shadowedSpotLightColor:v.ColorRGB.multOut(this._color,this._intensity,this._colorHDR)}:{spotLightPosition:this.worldTransform.position,spotLightDirection:this._direction,spotLightFalloff:this._radius,spotLightAngle:Math.cos(this._angle),spotLightExponent:this._exponent,spotLightColor:v.ColorRGB.multOut(this._color,this._intensity,this._colorHDR),spotLightViewProjectionMatrix:this._spotLightCamera.viewProjectionMatrix,spotLightGoboTexture:this._goboTexture,spotLightHasGobo:this._hasGobo}}},{key:"lightName",get:function(){return"SpotLight"}},{key:"color",get:function(){return this._color},set:function(e){this._color=e}},{key:"intensity",get:function(){return this._intensity},set:function(e){this._intensity=e}},{key:"direction",get:function(){return this._direction},set:function(e){this._direction.copyFrom(e)}},{key:"radius",get:function(){return this._radius},set:function(e){this._radius=e}},{key:"angle",get:function(){return this._angle},set:function(e){this._angle=e}},{key:"goboTexture",get:function(){return this._goboTexture},set:function(e){this._goboTexture=e}},{key:"exponent",get:function(){return this._exponent},set:function(e){this._exponent=e}}]),t}(b.Light)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.StereoMesh=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(25),A=n(56),g=n(7),v=n(21),y=n(32),b=n(165),E=n(70),w=n(89),S=n(90),T=n(20),x=n(11),C=n(27),M=n(88),P=n(18),I=i(P),R=t.StereoMesh=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e)),i=g.Util.getParamRequired(e,"data"),r=g.Util.getParam(e,"texture"),o=g.Util.getParam(e,"convertToBGRA",!1),l=g.Util.getParam(e,"type"),u=g.Util.getParam(e,"color",new T.ColorRGBA(T.ColorRGBA.WHITE));n._mono=g.Util.getParam(e,"mono",!1);var c=void 0,h=void 0;l===t.TYPE_DL8?(c=n._makeGeometryDl8(i[0]),h=n._makeGeometryDl8(i[1])):(c=n._makeGeometry(i[0]),h=n._makeGeometry(i[1]));var f=n.addActiveResource(new b.UnlitMaterial({texture:r,convertToBGRA:o,color:u,readDepth:!1,writeDepth:!1,twoSided:!0,lockToCamera:!0})),_={};return _[v.Scene.RENDERPASS_FORWARD]=f,_[v.Scene.RENDERPASS_FORWARD_TRANSLUCENT]=f,n._leftNode=n.addChild(new y.RenderableNode({transform:new C.Transform({position:new x.Vector3(0,0,0)}),geometry:c,vrMode:y.RenderableNode.VR_MODE_LEFT,materialByPass:_})),n._rightNode=n.addChild(new y.RenderableNode({transform:new C.Transform({position:new x.Vector3(0,0,0)}),geometry:h,vrMode:y.RenderableNode.VR_MODE_RIGHT,materialByPass:_})),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"dtor",value:function(){this.dtorActiveResources(),(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"dtor",this).call(this)}},{key:"_makeGeometryDl8",
value:function(e){var t=new E.Attributes;t.setPositionChannels(3),t.setTextureChannels(0,2);var n=new w.IndexBuffer({data:e.indices}),i=new S.VertexBuffer({attributes:t,vertexData:new Float32Array(e.vertices)});return new M.Geometry({indexBuffer:n,vertexBuffer:i,calculateBoundingVolume:!1})}},{key:"_makeGeometry",value:function(e){var t=new E.Attributes;t.setPositionChannels(3),t.setTextureChannels(0,2);for(var n=[],i=0,r=0,a=0,o=new Float32Array(e.faces.length/7*15);i<e.faces.length;){i++;var s=e.faces[i++],l=e.faces[i++],u=e.faces[i++],c=e.faces[i++],d=e.faces[i++],h=e.faces[i++];o[a]=e.vertices[3*s],o[a+1]=e.vertices[3*s+1],o[a+2]=e.vertices[3*s+2],o[a+3]=e.uvs[0][2*c],o[a+4]=e.uvs[0][2*c+1],n.push(r++),o[a+5]=e.vertices[3*l],o[a+6]=e.vertices[3*l+1],o[a+7]=e.vertices[3*l+2],o[a+8]=e.uvs[0][2*d],o[a+9]=e.uvs[0][2*d+1],n.push(r++),o[a+10]=e.vertices[3*u],o[a+11]=e.vertices[3*u+1],o[a+12]=e.vertices[3*u+2],o[a+13]=e.uvs[0][2*h],o[a+14]=e.uvs[0][2*h+1],n.push(r++),a+=15}var f=new w.IndexBuffer({data:n}),_=new S.VertexBuffer({attributes:t,vertexData:o});return new M.Geometry({indexBuffer:f,vertexBuffer:_,calculateBoundingVolume:!1})}},{key:"mono",set:function(e){this._mono=e,this._mono?(this._leftNode.vrMode=y.RenderableNode.VR_MODE_BOTH,this._rightNode.visible=!1):(this._leftNode.vrMode=y.RenderableNode.VR_MODE_LEFT,this._rightNode.visible=!0)},get:function(){return this._mono}},{key:"color",get:function(){return this.firstChild.surfaceMaterial.color},set:function(e){this.firstChild.surfaceMaterial.color=e}},{key:"material",get:function(){return this.firstChild.surfaceMaterial}},{key:"texture",get:function(){return this.firstChild.surfaceMaterial.texture},set:function(e){this.firstChild.surfaceMaterial.texture=e}}]),t}((0,I.default)(m.SpatialNode,A.ResourceTracker));R.TYPE_DL8="dl8"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UiBar=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(66),A=n(112),g=n(7),v=n(20),y=n(21),b=n(32),E=n(64),w=n(38),S=n(24),T=n(36),x=n(18),C=i(x);t.UiBar=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));n._color=g.Util.getParamRequired(e,"color",new v.ColorRGBA(v.ColorRGBA.WHITE)),n._backgroundColor=g.Util.getParamRequired(e,"backgroundColor",new v.ColorRGBA(1,1,1,.3)),n._bufferColor=g.Util.getParamRequired(e,"bufferColor",new v.ColorRGBA(1,1,1,.4)),n._indicatorColor=g.Util.getParamRequired(e,"indicatorColor",new v.ColorRGBA(1,1,1,1)),n._indicatorWidth=g.Util.getParamRequired(e,"indicatorWidth",.001),n._texSize=g.Util.getParam(e,"texSize",512),n._progress=g.Util.getParam(e,"progress",0),n._bufferStart=0,n._bufferEnd=0,n._indicatorPos=0,n._lastIndicatorPos=-1,n._canvas=document.createElement("canvas");var i=n._width/n._height,r=n._width>n._height,o=Math.min(n._texSize,T.Renderer.MAX_TEXTURE_SIZE);n._canvas.width=Math.round(r?o:o*i),n._canvas.height=Math.round(r?o/i:o),n._indicatorWidthPx=n._canvas.width/n.width*n._indicatorWidth,n._texture=n.addActiveResource(new S.Texture({type:S.Texture.CANVAS,flipY:!0,data:[n._canvas]})),n._updateTexture();var l=g.Util.getParam(e,"opaque",!1),u=w.GeometryUtil.makeCenteredSizedQuad(n._width,n._height,!0);n._material=n.addActiveResource(new E.UiMaterial({texture:n._texture,opaque:l,billboarded:!1,twoSided:!1}));var c={};return c[y.Scene.RENDERPASS_UI_1]=n._material,n.addChild(new b.RenderableNode({geometry:u,materialByPass:c,sortPassData:{zIndex:n._zIndex}})),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"$onUpdateZIndex",value:function(){this.firstChild.sortPassData.zIndex=this._zIndex}},{key:"updateBar",value:function(e,t,n,i){this._progress===e&&this._indicatorPos===t&&this._bufferStart===n&&this._bufferEnd===i||(this._progress=e,this._indicatorPos=t,this._bufferStart=n||0,this._bufferEnd=i||0,this._updateTexture())}},{key:"click",value:function(){(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"click",this).call(this,this._indicatorPos)}},{key:"_updateTexture",value:function(){var e=this._canvas,t=e.getContext("2d");t.save(),t.clearRect(0,0,e.width,e.height),t.fillStyle=this._backgroundColor.style,t.shadowColor=this._backgroundColor.style,t.shadowBlur=5,t.fillRect(1,1,e.width-2,e.height-2),(this._bufferStart||this._bufferEnd)&&(t.fillStyle=this._bufferColor.style,t.shadowColor=this._bufferColor.style,t.fillRect(e.width*this._bufferStart+1,1,e.width*this._bufferEnd-2,e.height-2)),this._progress>0&&(t.fillStyle=this._color.style,t.shadowColor=this._color.style,t.fillRect(1,1,Math.max(0,e.width*this._progress-2),e.height-2)),this.hovered&&(t.fillStyle=this._indicatorColor.style,t.shadowColor=this._indicatorColor.style,t.fillRect(Math.max(1,Math.round(e.width*this._indicatorPos-this._indicatorWidthPx)),1,this._indicatorWidthPx-2,e.height-2)),t.restore(),this._texture.updateCanvas()}},{key:"progress",get:function(){return this._progress}},{key:"indicatorPos",get:function(){return this._indicatorPos}},{key:"lastIndicatorPos",set:function(e){this._lastIndicatorPos=e},get:function(){return this._lastIndicatorPos}},{key:"bufferStart",get:function(){return this._bufferStart}},{key:"bufferEnd",get:function(){return this._bufferEnd}}]),t}((0,C.default)(m.UiNode,A.UiClickable))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UiCylinder=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(66),p=n(7),m=n(126),A=n(38),g=n(64),v=n(20),y=n(21),b=n(32),E=n(24);t.UiCylinder=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));n._radius=p.Util.getParam(e,"radius",1),n._height=p.Util.getParam(e,"height",1),n._startAngle=p.Util.getParam(e,"startAngle",-Math.PI),n._endAngle=p.Util.getParam(e,"endAngle",Math.PI);var i=p.Util.getParam(e,"renderable",!0),r=p.Util.getParam(e,"flipY",!0),o=p.Util.getParam(e,"opaque",!1),l=p.Util.getParam(e,"color",new v.ColorRGBA(v.ColorRGBA.WHITE)),u=p.Util.getParam(e,"textureSrc");if(i){var c=void 0;u&&(c=n.addActiveResource(new E.Texture({type:E.Texture.IMAGE,data:[u],flipY:r})));var h=n._endAngle-n._startAngle,f=A.GeometryUtil.makeCylinder(n._radius,n._height,n._startAngle,n._endAngle,Math.round(36*h/(2*Math.PI)),1,!0);n._material=n.addActiveResource(new g.UiMaterial({texture:c,color:l,opaque:o,billboarded:!1}));var _={};_[y.Scene.RENDERPASS_UI_1]=n._material,n.addChild(new b.RenderableNode({geometry:f,materialByPass:_,sortPassData:{zIndex:n._zIndex}}))}return n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"intersectWithRay",value:function(e){return this._ray.copyFrom(e),this._ray.inverseTransformBy(this.worldTransform),m.Intersection.rayWithCylinder(this._ray,this._radius,this._height,this._startAngle,this._endAngle,this._hitInfo)}}]),t}(_.UiNode)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UnlitQuad=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(25),A=n(56),g=n(7),v=n(20),y=n(21),b=n(32),E=n(165),w=n(38),S=n(18),T=i(S);t.UnlitQuad=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));n._width=g.Util.getParamRequired(e,"width"),n._height=g.Util.getParamRequired(e,"height");var i=g.Util.getParam(e,"texture"),r=g.Util.getParam(e,"color",new v.ColorRGBA(v.ColorRGBA.WHITE)),o=g.Util.getParam(e,"opaque",!1),l=g.Util.getParam(e,"mode"),u=g.Util.getParam(e,"stereoFormat"),c=g.Util.getParam(e,"smoothBorder",!1),h=g.Util.getParam(e,"convertToBGRA",!1),f=w.GeometryUtil.makeCenteredSizedQuadYMirror(n._width,n._height,!0);n._material=n.addActiveResource(new E.UnlitMaterial({texture:i,mode:l,stereoFormat:u,color:r,opaque:o,smoothBorder:c,convertToBGRA:h,billboarded:!1,twoSided:!1}));var _={};return _[y.Scene.RENDERPASS_FORWARD]=n._material,_[y.Scene.RENDERPASS_FORWARD_TRANSLUCENT]=n._material,n.addChild(new b.RenderableNode({geometry:f,materialByPass:_})),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"dtor",value:function(){this.dtorActiveResources(),(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"dtor",this).call(this)}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"material",get:function(){return this._material}},{key:"texture",get:function(){return this.firstChild.surfaceMaterial.texture},set:function(e){this.firstChild.surfaceMaterial.texture=e}},{key:"opacity",set:function(e){this.firstChild.surfaceMaterial.opacity=e},get:function(){return this.firstChild.surfaceMaterial.opacity}},{key:"color",get:function(){return this.firstChild.surfaceMaterial.color},set:function(e){this.firstChild.surfaceMaterial.color=e}}]),t}((0,T.default)(m.SpatialNode,A.ResourceTracker))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CardboardCameraPhotoConverter=void 0;var r=n(33),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(7),d=n(43),h=n(36),f=n(435),_=i(f),p=216,m=225,A=218,g="http://ns.adobe.com/xap/1.0/",v="http://ns.adobe.com/xmp/extension/",y=71;t.CardboardCameraPhotoConverter=function(){function e(t){(0,s.default)(this,e),this._targetSize=c.Util.getParam(t,"targetSize",Math.min(h.Renderer.MAX_TEXTURE_SIZE,2048))}return(0,u.default)(e,[{key:"convert",value:function(e){return this._decode(e)}},{key:"_decode",value:function(t){var n=this;return new a.default(function(i,r){d.XHRRequest.request({uri:t,responseType:"arraybuffer",noCache:!1,onLoad:function(t){var a=new Uint8Array(t.response),o=e.extractXMP(a,r);if(!o)return void r(new Error("no valid xmp document"));var s=e.getObjectMeta(o,"GPano"),l=e.getObjectMeta(o,"GImage"),u=e.getObjectMeta(o,"GAudio"),c=e.makeImageFromBinary("image/jpeg",a),d=void 0;u.data&&(d=e.makeAudio(u.Mime,u.Data)),c.onload=function(){n._setup(s,l,c,d,i,r)}},onError:r})})}},{key:"_setup",value:function(t,n,i,r,a,o){var s=this;if(!n.Mime||!n.Data)return void o(new Error("no right eye image in metadata"));var l=e.makeImage(n.Mime,n.Data);l.onload=function(){s._buildImage(i,l,t,r,a,o)}}},{key:"_buildImage",value:function(e,t,n,i,r,a){var o=document.createElement("canvas"),s=parseInt(n.FullPanoWidthPixels),l=parseInt(n.CroppedAreaImageHeightPixels),u=this._targetSize/s;o.width=this._targetSize,o.height=this._targetSize;var c=Math.round(parseInt(n.CroppedAreaLeftPixels)*u),d=Math.round(parseInt(n.CroppedAreaTopPixels)*u),h=o.getContext("2d");h.fillStyle="#000",h.fillRect(0,0,o.width,o.height),h.drawImage(e,c,d,this._targetSize,l*u),h.drawImage(t,c,d+o.height/2,this._targetSize,l*u),r({canvas:o,audio:i})}}],[{key:"blurImage",value:function(e,t,n){var i=e.getContext("2d"),r=150,a=Math.min(t,n),o=Math.abs(t-n);i.drawImage(e,0,t,e.width,1,0,a,e.width,o),_.default.canvasRGB(e,0,a,e.width,o,r)}},{key:"makeImageFromBinary",value:function(e,t){var n=new Blob([t],{type:e}),i=URL.createObjectURL(n),r=new Image;return r.src=i,r}},{key:"padBase64",value:function(e){return e+="=".repeat(e.length%4)}},{key:"makeAudio",value:function(t,n){return"data:"+t+";base64,"+e.padBase64(n)}},{key:"makeImage",value:function(e,t){for(var n=atob(t),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);var a=new Blob([i],{type:e}),o=URL.createObjectURL(a),s=new Image;return s.src=o,s}},{key:"byteToString",value:function(e,t,n){var i="";t=t||0,n=n||e.length;for(var r=t;r<n;r++)e[r]&&(i+=String.fromCharCode(e[r]));return i}},{key:"getObjectMeta",value:function(e,t){for(var n={},i=e.querySelectorAll("Description"),r=0;r<i.length;r++){var a=i[r];for(var o in a.attributes){var s=a.attributes[o];s.prefix===t&&(n[s.localName]=s.value)}}return n}},{key:"extractXMP",value:function(t,n){var i=e.parseJpeg(t,!0);if(null===i)return void n("xmp metadata missing.");for(var r="",a=!1,o=0;o<i.length;o++){for(var s=!0,l=!0,u=i[o],c=0;c<u.data.length;c++){var d=String.fromCharCode(u.data[c]);if(s&&d!==g[c]&&(s=!1),l&&d!==v[c]&&(l=!1),!l||!s)break}if(s){var h=e.byteToString(u.data),f=new RegExp("<x:xmpmeta([\\s\\S]*)</x:xmpmeta>");r=h.match(f)[0]}else if(l){var _=y;a&&(_+=4),a=!0,r+=e.byteToString(u.data,_)}}var p=new DOMParser;return p.parseFromString("<xml>"+r+"</xml>","text/xml")}},{key:"parseJpeg",value:function(e,t){var n=void 0,i=0,r=function(){return i<e.length?e[i++]:-1};if(255!==r()||r()!==p)return null;for(var a=[];(n=r())!==-1;){if(255!==n)return null;for(;255===(n=r()););if(n===-1)return null;var o=n;if(o===A){if(!t){var s={marker:o,length:-1,data:e.subarray(i)};a.push(s)}return a}var l=r(),u=r();if(l===-1||u===-1)return null;var c=l<<8|u;if(!t||n===m){var d={marker:o,length:c,data:e.subarray(i,i+c-2)};a.push(d)}i+=c-2}return a}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LensBlurPhotoConverter=void 0;var r=n(33),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(43);t.LensBlurPhotoConverter=function(){function e(){(0,s.default)(this,e)}return(0,u.default)(e,[{key:"convert",value:function(e){return this._decode(e)}},{key:"_decode",value:function(e){var t=this;return new a.default(function(n,i){c.XHRRequest.request({uri:e,responseType:"arraybuffer",noCache:!1,onLoad:function(e){t._setup(e.response,n,i)}})})}},{key:"_setup",value:function(t,n,i){var r=new Uint8Array(t),a="";if(255===r[0]&&216===r[1]){for(var o=[],s=0;s<r.byteLength;s++)255===r[s]&&225===r[s+1]&&(o.push(s),s++);o.push(r.byteLength);for(var l=0;l<o.length-1;l++)if(255===r[o[l]]&&225===r[o[l]+1]){var u=256*r[o[l]+2]+r[o[l]+3],c=79;c>u&&(c=0),u+=2;var d=new ArrayBuffer(u-c);e.memcpy(d,0,t,o[l]+c,u-c),a+=e.ab2str(d)}var h=e.matchAttribute("GImage:Mime",a),f=e.matchAttribute("GImage:Data",a),_="data:"+h+";base64,"+f,p=e.matchAttribute("GDepth:Near",a),m=e.matchAttribute("GDepth:Far",a),A=e.matchAttribute("GDepth:Mime",a),g=e.matchAttribute("GDepth:Data",a),v="data:"+A+";base64,"+g;if(null===g)return void(i&&i(new Error("No depth data found")));n&&n({src:_,srcDepth:v,near:p,far:m})}else i&&i(new Error("File is not a JPEG"))}}],[{key:"memcpy",value:function(e,t,n,i,r){var a=new Uint8Array(e,t,r),o=new Uint8Array(n,i,r);a.set(o)}},{key:"ab2str",value:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},{key:"matchAttribute",value:function(e,t){var n=new RegExp(e+'="([\\S]*)"',"gmi"),i=n.exec(t);return i?i[1]:null}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubActionActivateTag=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(8),f=i(h),_=n(4),p=i(_),m=n(7),A=n(58);t.HubActionActivateTag=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._index=m.Util.getParamRequired(e,"index"),n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"equals",value:function(e){return(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"equals",this).call(this,e)&&e.index===this._index}},{key:"index",get:function(){return this._index}}]),t}(A.HubAction)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubFilterAttrContains=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(169);t.HubFilterAttrContains=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"$filterImpl",value:function(e){return e[this._attr]&&e[this._attr].indexOf(this._value)!==-1}}]),t}(_.HubFilterAttr)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubFilterAttrContainsAllOf=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(169);t.HubFilterAttrContainsAllOf=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"$filterImpl",value:function(e){var t=e[this._attr];if(!t)return!1;for(var n=0;n<this._value.length;++n)if(t.indexOf(this._value[n])===-1)return!1;return!0}}]),t}(_.HubFilterAttr)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubFilterAttrContainsOneOf=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(169);t.HubFilterAttrContainsOneOf=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"$filterImpl",value:function(e){var t=e[this._attr];if(!t)return!1;for(var n=0;n<this._value.length;++n)if(t.indexOf(this._value[n])!==-1)return!0;return!1}}]),t}(_.HubFilterAttr)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubFilterAttrIs=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(169);t.HubFilterAttrIs=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"$filterImpl",value:function(e){return e[this._attr]===this._value}}]),t}(_.HubFilterAttr)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubFilterElementIs=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(317);t.HubFilterElementIs=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"$filterImpl",value:function(e){return e.domElement.tagName.toLowerCase()===this._value}}]),t}(_.HubFilterElement)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubFilterElementIsOneOf=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(317);t.HubFilterElementIsOneOf=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"$filterImpl",value:function(e){return this._value.indexOf(e.domElement.tagName.toLowerCase())!==-1}}]),t}(_.HubFilterElement)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubGrid=void 0;var r=n(44),a=i(r),o=n(71),s=i(o),l=n(10),u=i(l),c=n(72),d=i(c),h=n(15),f=i(h),_=n(3),p=i(_),m=n(1),A=i(m),g=n(2),v=i(g),y=n(5),b=i(y),E=n(8),w=i(E),S=n(4),T=i(S),x=n(20),C=n(14),M=n(139),P=n(227),I=n(304),R=n(168),k=n(27),D=n(314),V=n(7),B=n(11),O=n(30),N=n(164),L=n(305),F=n(167),U=n(138),H=n(125),G=n(204),z=n(205),Q=n(61),W=n(166),j=n(19),X=n(311),Y=n(458),q=n(308),Z=n(309),K=n(233),J=n(234),$=n(275),ee=i($),te=n(274),ne=i(te),ie=0,re=.04,ae=.04,oe=.035,se=.01,le=.024,ue=.023,ce=.02,de=.07,he=2*de,fe=.02,_e=new x.ColorRGBA(1,1,1,1),pe=new x.ColorRGBA(1,1,1,.4),me=new x.ColorRGBA(.1,.1,.1,.9),Ae=new x.ColorRGBA(0,0,0,.5),ge=new x.ColorRGBA(1,1,1,.5),ve=new x.ColorRGBA(1,1,1,1),ye=new x.ColorRGBA(1,1,1,1),be=new x.ColorRGBA(0,0,0,1),Ee=new x.ColorRGBA(0,0,0,0),we=new x.ColorRGBA(1,1,1,.5),Se=512,Te=256,xe=256,Ce=1024,Me=512,Pe="paginationIndicator",Ie="paginationBaseIndicator",Re="hubGridTitle",ke=.05;t.HubGrid=function(e){function t(e){(0,A.default)(this,t);var n=(0,b.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));n._rows=parseFloat(V.Util.getParamRequired(e,"rows")),n._columns=parseFloat(V.Util.getParamRequired(e,"columns")),n._scrollMode=V.Util.getParamRequired(e,"scrollMode"),n._onActivateContent=V.Util.getParamRequired(e,"onActivateContent"),n._showNoCoverText=V.Util.getParamRequired(e,"showNoCoverText"),n._customization=V.Util.getParamRequired(e,"customization"),n._radius=V.Util.getParamRequired(e,"radius"),n._memoryLimit=V.Util.getParamRequired(e,"memoryLimit"),n._maxPrecacheCoverCount=Math.floor((n._memoryLimit-xe*xe*4-Me*Me*4-2*(Ce*Ce*4))/(4*Se*Se)),n._tilePaddingX=n._toRad(V.Util.getParam(e,"tilePaddingX",.01)),n._tilePaddingY=V.Util.getParam(e,"tilePaddingX",.01),n._filterList=V.Util.getParam(e,"filterList"),n.pageSize=n._rows*n._columns,n._coverCache=new f.default,n._gridWidth=n._width-2*(oe+de),n._gridHeight=n._height-2*(se+de);var i=n._tilePaddingX*(n._columns-1),r=(n._toRad(n._gridWidth)-i)/n._columns;n._tileWidth=n._toDeg(r);var a=n._tilePaddingY*(n._rows-1);return n._tileHeight=(n._gridHeight-a)/n._rows,n._tagPaddingX=.01,n._tagPaddingY=.01,n._tagHeight=.06,n._tagPaddingX=n._toRad(n._tagPaddingX),n._activeTagIndices=[],n._maxStraightWidth=Math.min(n._gridWidth,n._toDeg(C.MathUtil.degToRad(15))),n._hoverButtonController=new W.ClosureController({closure:function(e,t){var n=t.depth;t.hovered?.02!==n&&(t.depth=Math.min(n+.2*e,.02)):0!==n&&(t.depth=Math.max(t.depth-.2*e,0))}}),n._loadingController=new W.ClosureController({closure:function(e,t){t.animationT-=1.5*e,t.animationT<0&&(t.animationT=1+t.animationT)}}),n}return(0,T.default)(t,e),(0,v.default)(t,[{key:"_teardown",value:function(e){var t=this;if(e)this.removeAllChildren();else{var n=[];this.children.forEach(function(e){e.name!==Pe&&e.name!==Ie&&n.push(e)}),n.forEach(function(e){return t.removeChild(e)}),n.length=0}}},{key:"$onUpdateContent",value:function(e){(0,w.default)(t.prototype.__proto__||(0,p.default)(t.prototype),"$onUpdateContent",this).call(this,e),this._clearCacheSpace(),this._teardown(!0),this._updateContent(),this._fillCache()}},{key:"$onUpdatePageContent",value:function(e){(0,w.default)(t.prototype.__proto__||(0,p.default)(t.prototype),"$onUpdatePageContent",this).call(this,e),this._clearCacheSpace(),this._teardown(!1),this._updateContent(),this._fillCache()}},{key:"$onUpdatePage",value:function(e){this._clearCacheSpace(),this._teardown(!1),this._updateContent()}},{key:"$onUpdateTitle",value:function(){var e=this.findByName(Re);e&&(e.text=this._title)}},{key:"dtor",value:function(){this._coverCache.forEach(function(e){return e.dtor()}),this._coverCache.clear(),this._activeTagIndices.length=0,(0,w.default)(t.prototype.__proto__||(0,p.default)(t.prototype),"dtor",this).call(this)}},{key:"activateTag",value:function(e){var t=this;this._activeTagIndices=[].concat((0,d.default)(e));var n=this._activeTagIndices.map(function(e){return t._filterList[e]}),i=new Z.HubActionCompositeTagFilter({for:this._viewId});n.forEach(function(e){return i.push(new K.HubActionFilter({for:t._viewId,filter:e}))}),this._hub.dispatchAction(i),this._clearCacheSpace(),this._teardown(),this._updateContent()}},{key:"_updateContent",value:function(){var e=this,t=this.pageSize,n=Math.ceil(this.itemCount/this.pageSize),i=this.page,r=this.dynamic?this._content.slice(0,t):this._content.slice(i*t,i*t+t),a=this._scrollMode===j.SCROLL_MODE_VERTICAL,o=.5*this._toRad(this._gridWidth)+.5*this._toRad(de)+.5*this._toRad(oe),s=void 0,l=void 0;if(i+1<n){var c=new O.Quaternion,d=new B.Vector3;a?d.set(0,.5*-this._gridHeight-.5*de-se,0):(d.set(0,0,-this._radius).multQuaternion((new O.Quaternion).fromAxisAngle(B.Vector3.Y_AXIS,-o)),d.z+=this._radius,c.fromAxisAngle(B.Vector3.Y_AXIS,o));var h=(new O.Quaternion).fromAxisAngle(B.Vector3.Z_AXIS,a?.5*-Math.PI:Math.PI);s=this.addChild(new P.UiIconButton({width:de,height:a?this._maxStraightWidth:this._gridHeight,backgroundColor:we,imageSrc:ne.default,imagePadding:he,transform:new k.Transform({position:d,rotation:h.mult(c)}),texSize:Ce,smoothBorder:!1,controllers:[this._hoverButtonController],onClick:function(){e._hub.dispatchAction(new X.HubActionSetPage({page:i+1,for:e._viewId}))}}))}if(i>0){var f=new O.Quaternion,_=new B.Vector3;a?_.set(0,.5*this._gridHeight+.5*de+se,0):(_.set(0,0,-this._radius).multQuaternion((new O.Quaternion).fromAxisAngle(B.Vector3.Y_AXIS,o)),_.z+=this._radius,f.fromAxisAngle(B.Vector3.Y_AXIS,-o));var p=(new O.Quaternion).fromAxisAngle(B.Vector3.Z_AXIS,a?.5*Math.PI:0);l=this.addChild(new P.UiIconButton({width:de,height:a?this._maxStraightWidth:this._gridHeight,backgroundColor:we,imageSrc:ne.default,imagePadding:he,transform:new k.Transform({position:_,rotation:p.mult(f)}),texSize:Ce,smoothBorder:!1,controllers:[this._hoverButtonController],onClick:function(){e._hub.dispatchAction(new X.HubActionSetPage({page:i-1,for:e._viewId}))}}))}var m=this._toRad(this._gridWidth),A=this._filterList,g=[];if(A.length>0){for(var v=[],y=[],b=0,E=0,w=0,S=A.length;w<S;++w){var T=A[w],x=this._hub._filters.get(T),C=Math.min(Math.max(.075,V.Util.measureText({text:x.name,fontSize:1e3*ce*this._radius,fontFace:this._customization.baseFont,fontWeight:this._customization.baseFontWeight}).width/1e3+.075),.35),I=this._toRad(C)+this._tagPaddingX;v.push(C),b+I<m?(++E,b+=I):(g.push(E),y.push(b),E=1,b=I)}g.push(E),y.push(b);for(var R=this._toRad(v[0]),D=.5*(-y[0]+R),W=(g.length-1)*(this._tagHeight+this._tagPaddingY)+.5*this._gridHeight+.045,Z=function(t,n,i,r){var a=A[i],o=e._hub._filters.get(a);t>0&&t%g[n]===0&&(D=.5*(-y[n+1]+e._toRad(v[i])),W-=e._tagHeight+e._tagPaddingY,n++,t=0);var s=e.addChild(e._createTagItem(D,W,v[i],e._tagHeight,o.name,e._activeTagIndices.indexOf(i)!==-1));s.removeAllControllers(),s.addController(e._hoverButtonController),s.onClick=function(){var t=[];e._activeTagIndices.forEach(function(n){n!==i&&t.push(new Y.HubActionActivateTag({index:n,for:e._viewId}))}),e._activeTagIndices.indexOf(i)===-1&&t.push(new Y.HubActionActivateTag({index:i,for:e._viewId})),e._hub.dispatchAction(new q.HubActionCompositeActivateTag({actions:t,for:e._viewId}))},i<r&&(D+=.5*e._toRad(v[i])+.5*e._toRad(v[i+1])),D+=e._tagPaddingX,$=t,ue=n},K=0,$=0,te=A.length,ue=0;K<te;++K,++$)Z($,ue,K,te)}var me=this._toRad(this._tileWidth),Ae=.5*(-m+me),ge=Ae,ve=.5*(this._gridHeight-this._tileHeight),ye=2*le*this._radius,be=le*this._radius,Ee=this._createTitleTransform(this._filterList.length>0?0:ge,.5*this._height+.5*ye+ie+Math.max(0,g.length-1)*(this._tagPaddingY+this._tagHeight));if(this.addChild(new M.UiLabel({name:Re,width:this._maxStraightWidth,height:ye,transform:Ee,align:this._filterList.length>0?"center":"left",fontSize:be,fontFace:this._customization.baseFont,fontWeight:this._customization.baseFontWeight,texSize:xe,text:this.title,x:this._filterList.length>0?0:.5*-this._tileWidth+.5*this._maxStraightWidth})),this.loading)return l&&(l.onClick=void 0,l.opacity=.2),s&&(s.onClick=void 0,s.opacity=.2),void this.addChild(new F.UiImage({name:"loadingImage",width:.25*Math.min(this._gridWidth,this._gridHeight),height:.25*Math.min(this._gridWidth,this._gridHeight),src:ee.default,flipY:!1,animated:!0,animationAtlasWidth:4,animationAtlasHeight:4,visible:!0,controllers:[this._loadingController]}));for(var Se=function(t,n){var i=r[t];t>0&&t%e._columns===0&&(ge=Ae,ve-=e._tileHeight+e._tilePaddingY);var a=e.addChild(e._createUiCover(ge,ve,e._tileWidth,e._tileHeight,i.poster,i.title));if(a.removeAllControllers(),a.addController(e._hoverButtonController),a.addController(new U.AnimationController({animation:new z.SequenceAnimation({children:[new G.DelayAnimation({duration:.07*t+.1}),new H.ClosureAnimation({easing:Q.Easing.easeInOutQuad,duration:.15,closure:function(e,t){t.opacity=e,t.depth=(1-e)*-.2}})],onPlay:function(e){e.opacity=0}})})),i.domElement instanceof N.Dl8HubGroupElement){var o=new J.HubActionItem((0,u.default)({},i,{hub:e._hub}));a.onClick=function(){o.dispatchActions()}}else a.onClick=function(){e._onActivateContent(i.id,i.type)};ge+=me+e._tilePaddingX},Te=0,De=r.length;Te<De;++Te)Se(Te,De);if(n>1){var Ve=0;Ve=a?.5*this._gridHeight-this._gridHeight/(2*n):.5*-this._maxStraightWidth+this._maxStraightWidth/(2*n);var Be=this.findByName(Pe);if(Be){Be.removeAllControllers();var Oe=new H.ClosureAnimation({duration:.2,easing:Q.Easing.easeInOutQuad,closure:function(t,i,r){a?i.transform.position.y=r.auxData.startPos*(1-t)+t*(Ve+-e._gridHeight*e.page/n):i.transform.position.x=r.auxData.startPos*(1-t)+t*(Ve+e._maxStraightWidth*e.page/n)}});Oe.auxData.startPos=a?Be.transform.position.y:Be.transform.position.x,Be.addController(new U.AnimationController({animation:Oe}))}else{var Ne=new B.Vector3,Le=new O.Quaternion,Fe=new O.Quaternion;if(a){var Ue=.5*this._toRad(this._gridWidth)+this._toRad(ae);Ne.set(0,Ve,-this._radius).multQuaternion((new O.Quaternion).fromAxisAngle(B.Vector3.Y_AXIS,-Ue)),Ne.z+=this._radius,Le.fromAxisAngle(B.Vector3.Y_AXIS,Ue),Fe.fromAxisAngle(B.Vector3.Z_AXIS,Math.PI/2)}else{Ne.set(Ve,.5*-this._gridHeight-re,0);var He=new B.Vector3(0,.5*-this._gridHeight-re,0);this.addChild(new L.UiScrollBar({name:Ie,width:a?this._gridHeight:this._maxStraightWidth,height:fe,color:pe,transform:new k.Transform({position:He,rotation:Fe.mult(Le)}),depth:-.005,texSize:Me}))}this.addChild(new L.UiScrollBar({name:Pe,width:a?Math.max(this._gridHeight*ke,this._gridHeight/n):Math.max(this._maxStraightWidth*ke,this._maxStraightWidth/n),height:fe,color:_e,transform:new k.Transform({position:Ne,rotation:Fe.mult(Le)}),texSize:Me,smoothBorder:!0}))}}}},{key:"_createTitleTransform",value:function(e,t){var n=new O.Quaternion,i=new B.Vector3;return void 0!==e&&void 0!==t&&(n.fromAxisAngle(B.Vector3.Y_AXIS,e),i.set(0,t,-this._radius).multQuaternion((new O.Quaternion).fromAxisAngle(B.Vector3.Y_AXIS,-e)),i.z+=this._radius),new k.Transform({position:i,rotation:n})}},{key:"_createTagItem",value:function(e,t,n,i,r,a){var o=new O.Quaternion,s=new B.Vector3;return o.fromAxisAngle(B.Vector3.Y_AXIS,e),s.set(0,t,-this._radius).multQuaternion((new O.Quaternion).fromAxisAngle(B.Vector3.Y_AXIS,-e)),s.z+=this._radius,new R.UiLabelButton({width:n,height:i,text:r,padding:[.003,0,0,0],smoothBorder:!0,align:"center",noWrap:!1,maxCharacters:18,roundRectSize:.036*Te/n,transform:new k.Transform({rotation:o,position:s}),fontSize:ce*this._radius,fontFace:this._customization.baseFont,fontWeight:this._customization.baseFontWeight,fontColor:a?be:ye,backgroundColor:a?ve:ge,texSize:Te})}},{key:"_createUiCover",value:function(e,t,n,i,r,a){var o=new O.Quaternion,l=new B.Vector3;void 0!==e&&void 0!==t&&(o.fromAxisAngle(B.Vector3.Y_AXIS,e),l.set(0,t,-this._radius).multQuaternion((new O.Quaternion).fromAxisAngle(B.Vector3.Y_AXIS,-e)),l.z+=this._radius);var u=(0,s.default)({width:n,height:i,poster:r,label:a}),c=this._coverCache.get(u);return c?void 0!==e&&void 0!==t&&(c.transform.position=l,c.transform.rotation=o):(c=new I.UiCoverButton({width:n,height:i,label:a,poster:r,smoothBorder:!0,transform:new k.Transform({rotation:o,position:l}),fontSize:Math.min(ue*this._radius,i/5),fontFace:this._customization.baseFont,fontWeight:this._customization.baseFontWeight,backgroundColor:r?Ee:Ae,labelBackgroundColor:me,drawLabel:!!a&&!this._showNoCoverText,hoverText:this._showNoCoverText?a:void 0,lineHeight:2,texSize:Se,horizontalLabelPadding:n/20}),this._coverCache.set(u,c)),c}},{key:"_clearCacheSpace",value:function(){var e=this,t=this.pageSize,n=Math.ceil(this._content.length/t),i=Math.min(this._page,n-1),r=this.dynamic?this._content.slice():this._content.slice(i*t,i*t+t),o=Math.max(0,this._coverCache.size-this._maxPrecacheCoverCount+t);if(o>0){for(var l=0,u=r.length;l<u;++l){var c=r[l];if(c){var d=(0,s.default)({width:this._tileWidth,height:this._tileHeight,poster:c.poster,label:c.title});this._coverCache.has(d)&&o--}}for(var h=new f.default,_=(0,a.default)(this._coverCache.keys()),p=0,m=_.length;p<m&&!(o<=0);++p)for(var A=0,g=r.length;A<g;++A){var v=r[A],y=this._coverCache.get(_[p]);v!==y&&(h.set(_[p],y),o--)}(0,a.default)(h.keys()).forEach(function(t){e._coverCache.get(t).dtor(),e._coverCache.delete(t)}),h.clear()}}},{key:"_fillCache",value:function(){for(var e=0,t=this._content.length;e<t&&!(this._coverCache.size>=this._maxPrecacheCoverCount);++e){
var n=this._content[e];this._createUiCover(void 0,void 0,this._tileWidth,this._tileHeight,n.poster,n.title)}}},{key:"_toRad",value:function(e){return 2*Math.atan(e/(2*this._radius))}},{key:"_toDeg",value:function(e){return 2*this._radius*Math.tan(e/2)}},{key:"scrollMode",get:function(){return this._scrollMode}}]),t}(D.HubContentWidget)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubMenu=void 0;var r=n(71),a=i(r),o=n(10),s=i(o),l=n(15),u=i(l),c=n(3),d=i(c),h=n(1),f=i(h),_=n(5),p=i(_),m=n(8),A=i(m),g=n(2),v=i(g),y=n(4),b=i(y),E=n(139),w=n(168),S=n(61),T=n(125),x=n(20),C=n(48),M=n(319),P=n(7),I=n(27),R=n(11),k=n(234),D=n(30),V=n(227),B=n(305),O=n(166),N=n(138),L=n(307),F=n(310),U=n(274),H=i(U),G=0,z=.02,Q=.01,W=.024,j=.023,X=.07,Y=2*X,q=.02,Z=.01,K=new x.ColorRGBA(1,1,1,.5),J=new x.ColorRGBA(1,1,1,1),$=new x.ColorRGBA(1,1,1,.5),ee=new x.ColorRGBA(1,1,1,1),te=(new C.ColorRGB(.05,.05,.05),"paginationIndicator"),ne="paginationBaseIndicator",ie="hubMenuTitle",re=256,ae=256,oe=256,se=512;t.HubMenu=function(e){function t(e){(0,f.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n._defaultMenuItem=P.Util.getParam(e,"defaultMenuItem"),n._maxMenuItems=P.Util.getParam(e,"rows",10),n._customization=P.Util.getParamRequired(e,"customization"),n._memoryLimit=P.Util.getParamRequired(e,"memoryLimit"),n._radius=P.Util.getParamRequired(e,"radius"),n._maxPrecacheItemCount=(n._memoryLimit-ae*ae*4-se*se*4-2*(oe*oe*4))/(4*re*re),n._itemCache=new u.default,n._scrollPos=0,n._maxScrollPos=0,n._gridWidth=n._width-2*(Q+X),n._gridHeight=n._height-2*(Q+X),n._init=!0,n._activeMenuItemIdx=-1,n._hoverItemController=new O.ClosureController({closure:function(e,t){t.hovered?t.opacity=1.7:t.opacity=1}}),n._hoverButtonController=new O.ClosureController({closure:function(e,t){var n=t.depth;t.hovered?.02!==n&&(t.depth=Math.min(n+.2*e,.02)):0!==n&&(t.depth=Math.max(t.depth-.2*e,0))}}),n}return(0,b.default)(t,e),(0,v.default)(t,[{key:"$serialize",value:function(){return{name:"HubMenu",params:{maxMenuItems:this._maxMenuItems}}}}]),(0,v.default)(t,[{key:"dtor",value:function(){this._itemCache.forEach(function(e){return e.dtor()}),this._itemCache.clear(),(0,A.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"dtor",this).call(this)}},{key:"activateMenuItem",value:function(e){var t=this._domChildren.slice(this._scrollPos,this._scrollPos+this._maxMenuItems),n=t[e-this._scrollPos],i=new k.HubActionItem((0,s.default)({},n,{hub:this.hub}));this._activeMenuItemIdx=e,i.dispatchActions(),this._clearCacheSpace(),this._teardown(),this._updateContent()}},{key:"_teardown",value:function(){var e=this,t=[];this.children.forEach(function(e){e.name!==te&&e.name!==ne&&t.push(e)}),t.forEach(function(t){return e.removeChild(t)}),t.length=0}},{key:"$init",value:function(){(0,A.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"$init",this).call(this),this._updateContent(),this._fillCache()}},{key:"$onUpdateTitle",value:function(){var e=this.findByName(ie);e&&(e.text=this._title)}},{key:"_updateContent",value:function(){var e=this,t=this._domChildren;this._maxScrollPos=t.length-this._maxMenuItems;var n=2*W*this._radius,i=W*this._radius;this.addChild(new E.UiLabel({name:ie,width:this._gridWidth,height:n,transform:new I.Transform({position:new R.Vector3(0,.5*this._height+.5*n+G,0)}),align:"left",fontSize:i,fontFace:this._customization.baseFont,fontWeight:this._customization.baseFontWeight,texSize:ae,text:this.title}));var r=this._gridHeight/this._maxMenuItems,a=t.slice(this._scrollPos,this._scrollPos+this._maxMenuItems);this._scrollPos+this._maxMenuItems<t.length&&this.addChild(new V.UiIconButton({width:X,height:this._gridWidth,backgroundColor:K,imageSrc:H.default,imagePadding:Y,transform:new I.Transform({position:new R.Vector3(0,.5*-this._gridHeight-.5*X-Q,0),rotation:(new D.Quaternion).fromAxisAngle(R.Vector3.Z_AXIS,.5*-Math.PI)}),texSize:oe,smoothBorder:!0,controllers:[this._hoverButtonController],onClick:function(){e._hub.dispatchAction(new F.HubActionMenuScrollTo({scrollPos:e._scrollPos+1,for:e._viewId}))}})),this._scrollPos>0&&this.addChild(new V.UiIconButton({width:X,height:this._gridWidth,backgroundColor:K,imageSrc:H.default,imagePadding:Y,transform:new I.Transform({position:new R.Vector3(0,.5*this._gridHeight+.5*X+Q,0),rotation:(new D.Quaternion).fromAxisAngle(R.Vector3.Z_AXIS,.5*Math.PI)}),texSize:oe,smoothBorder:!0,controllers:[this._hoverButtonController],onClick:function(){e._hub.dispatchAction(new F.HubActionMenuScrollTo({scrollPos:e._scrollPos-1,for:e._viewId}))}}));for(var o=function(t){var n=a[t],i=new k.HubActionItem((0,s.default)({},n,{hub:e.hub}));e._init&&e._defaultMenuItem&&n.menuItemId===e._defaultMenuItem&&(e._activeMenuItemIdx=t+e._scrollPos,i.dispatchActions(),e._init=!1);var o=e.addChild(e._createMenuItem(-t*r-.5*r+.5*e._gridHeight,n.title,t+e._scrollPos===e._activeMenuItemIdx));o.removeAllControllers(),o.addController(e._hoverItemController),o.onClick=function(){e._hub.dispatchAction(new L.HubActionActivateMenuItem({index:t+e._scrollPos,for:e._viewId}))}},l=0;l<a.length;++l)o(l);if(t.length>this._maxMenuItems){var u=.5*this._gridHeight-this._gridHeight/(2*(this._maxScrollPos+1)),c=this.findByName(te);if(c){c.removeAllControllers();var d=new T.ClosureAnimation({duration:.2,easing:S.Easing.easeInOutQuad,closure:function(t,n,i){n.transform.position.y=i.auxData.startPos*(1-t)+t*(u+-e._gridHeight*e._scrollPos/(e._maxScrollPos+1))}});d.auxData.startPos=c.transform.position.y,c.addController(new N.AnimationController({animation:d}))}else{var h=new I.Transform;h.position=new R.Vector3(.5*this._gridWidth+z,u,0),h.rotateAroundZ(Math.PI/2),this.addChild(new B.UiScrollBar({name:te,width:this._gridHeight/(this._maxScrollPos+1),height:q,color:J,transform:h,texSize:se}))}}}},{key:"_createMenuItem",value:function(e,t,n){var i=new R.Vector3;void 0!==e&&i.set(0,e,0);var r=(0,a.default)({text:t,active:n}),o=this._itemCache.get(r);return o?void 0!==e&&(o.transform.position=i):(o=new w.UiLabelButton({width:this._gridWidth,height:this._gridHeight/this._maxMenuItems-Z*(this._maxMenuItems-1)/this._maxMenuItems,backgroundColor:n?ee:$,fontColor:n?new x.ColorRGBA(0,0,0,1):new x.ColorRGBA(1,1,1,1),transform:new I.Transform({position:i}),align:"left",padding:[0,.1*this._gridWidth],fontSize:Math.min(j*this._radius,this._gridHeight/this._maxMenuItems),fontFace:this._customization.baseFont,fontWeight:this._customization.baseFontWeight,text:t,noWrap:!0,texSize:re,opaque:!1,smoothBorder:!0,smoothStrength:5}),this._itemCache.set(r,o)),o}},{key:"_fillCache",value:function(){for(var e=0,t=this._domChildren.length;e<t&&!(this._itemCache.size>=this._maxPrecacheItemCount);++e){var n=this._domChildren[e];this._createMenuItem(void 0,n.title,e===this._activeMenuItemIdx)}}},{key:"_clearCacheSpace",value:function(){var e=this._maxMenuItems,t=Math.max(0,this._itemCache.size-this._maxPrecacheItemCount+e);if(t>0){for(var n=this._scrollPos,i=0;i<e;++i){var r=n+i,o=this._domChildren[r],s=(0,a.default)({text:o.title,active:r===this._activeMenuItemIdx});this._itemCache.has(s)&&t--}for(var l=[],u=this._itemCache.entries(),c=0,d=u.length;c<d&&!(t<=0);++c)for(var h=0;h<e;++h){var f=n+h,_=this._domChildren[f],p=(0,a.default)({text:_.title,active:f===this._activeMenuItemIdx});this._itemCache.get(p)!==u[c]&&(l.push(u[c]),t--)}l.forEach(function(e){return e.dtor()}),l.length=0}}},{key:"scrollPos",set:function(e){e<0||e>this._maxScrollPos||(this._scrollPos=e,this._clearCacheSpace(),this._teardown(),this._updateContent())},get:function(){return this._scrollPos}}]),t}(M.HubWidget)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubSorter=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(2),d=i(c),h=n(4),f=i(h),_=n(7),p=n(318),m="descending",A="ascending",g="numerical",v="lexicographical";t.HubSorter=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._order=_.Util.getParam(e,"order",t.ORDER_DESCENDING),n._type=_.Util.getParam(e,"type",t.TYPE_LEXICOGRAPHICAL),n}return(0,f.default)(t,e),(0,d.default)(t,null,[{key:"ORDER_DESCENDING",get:function(){return m}},{key:"ORDER_ASCENDING",get:function(){return A}},{key:"TYPE_NUMERICAL",get:function(){return g}},{key:"TYPE_LEXICOGRAPHICAL",get:function(){return v}}]),(0,d.default)(t,[{key:"_sorterImpl",value:function(e,n){var i=this.$getSortField(e),r=this.$getSortField(n),a=i,o=r;if(this._order===t.ORDER_DESCENDING&&(a=r,o=i),this._type===t.TYPE_LEXICOGRAPHICAL)a=a.toLowerCase(),o=o.toLowerCase();else if(this._type===t.TYPE_NUMERICAL)return a=parseFloat(a),o=parseFloat(o),a-o;return a<o?-1:a>o?1:0}},{key:"$getSortField",value:function(e){return e}},{key:"sort",value:function(e){return e.sort(this._sorterImpl.bind(this))}}]),t}(p.HubSorterAbstract)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubSorterAttr=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(271),p=i(_),m=n(7),A=n(467);t.HubSorterAttr=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n._attr=(0,p.default)(m.Util.getParamRequired(e,"attr")),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"$getSortField",value:function(e){return e[this._attr]}}]),t}(A.HubSorter)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HubVizor=void 0;var r=n(10),a=i(r),o=n(3),s=i(o),l=n(1),u=i(l),c=n(2),d=i(c),h=n(5),f=i(h),_=n(8),p=i(_),m=n(4),A=i(m),g=n(9),v=n(80),y=n(7),b=n(42),E=n(11),w=n(30),S=n(108),T=n(62),x=n(25),C=n(27),M=n(228),P=n(454),I=n(39),R=n(19),k=n(465),D=n(466),V=n(287),B=n(286),O=n(276),N=i(O),L=n(708),F=i(L),U=.25,H=.25,G=new b.Vector2(.5,.35),z="vizorCylinder",Q="vizorBrandLogo",W=256;t.HubVizor=function(e){function t(e){(0,u.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));n._dynamicContent=y.Util.getParamRequired(e,"dynamicContent"),n._domChildren=y.Util.getParamRequired(e,"domChildren"),n._height=parseFloat(y.Util.getParamRequired(e,"height")),n._spacing=parseFloat(y.Util.getParamRequired(e,"spacing")),n._radius=y.Util.getParamRequired(e,"radius"),n._showBrandLogo=y.Util.getParamRequired(e,"showBrandLogo"),n._showHomeButton=y.Util.getParamRequired(e,"showHomeButton"),n._noShadow=y.Util.getParam(e,"noShadow",!1),n._hub=y.Util.getParamRequired(e,"hub"),n._onActivateContent=y.Util.getParamRequired(e,"onActivateContent"),n._customization=y.Util.getParamRequired(e,"customization"),n._memoryLimit=y.Util.getParamRequired(e,"memoryLimit"),n._handlePointerStart=n._handlePointerStart.bind(n),n._handlePointerEnd=n._handlePointerEnd.bind(n),n._activeWidget=null,n._radToWidgetList=[],n._tmpRay=new S.Ray3,n._tmpVec=new b.Vector2,n._tmpVec2=new b.Vector2,n._oldPointerPos=new b.Vector2;var i=g.Context.canvasEventDispatcher;return i.addEventListener(I.TouchEvent.TOUCH_START,n._handlePointerStart),i.addEventListener(I.TouchEvent.TOUCH_END,n._handlePointerEnd),n.transform.position.y=-.1,n._initContent(),n}return(0,A.default)(t,e),(0,d.default)(t,[{key:"update",value:function(e){var t=this.$scene.findByName(v.Application.DEFAULT_CAMERA_NAME),n=this.$scene.findByName(z);this._tmpRay.origin=t.worldTransform.position,this._tmpRay.direction=t.dVector;var i=n.intersectWithRay(this._tmpRay);if(this._activeWidget=null,i)for(var r=Math.atan2(n.hitPos.x,-n.hitPos.z),a=0,o=this._radToWidgetList.length;a<o;++a){var s=this._radToWidgetList[a];if(r>s.rad&&r<s.rad+s.width){this._activeWidget=s.widget;break}}}},{key:"gamepadButtonPressed",value:function(e,t,n){this._activeWidget&&(4===n||6===n?this._activeWidget instanceof k.HubGrid?this._activeWidget.page=this._activeWidget.page-1:this._activeWidget instanceof D.HubMenu&&(this._activeWidget.scrollPos=this._activeWidget.scrollPos-1):5!==n&&7!==n||(this._activeWidget instanceof k.HubGrid?this._activeWidget.page=this._activeWidget.page+1:this._activeWidget instanceof D.HubMenu&&(this._activeWidget.scrollPos=this._activeWidget.scrollPos+1)))}},{key:"gamepadButtonUnpressed",value:function(e,t,n){!this._activeWidget}},{key:"dtor",value:function(){this._radToWidgetList.length=0;var e=g.Context.canvasEventDispatcher;e.removeEventListener(I.TouchEvent.TOUCH_START,this._handlePointerStart),e.removeEventListener(I.TouchEvent.TOUCH_END,this._handlePointerEnd),(0,p.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"dtor",this).call(this)}},{key:"_initContent",value:function(){var e=this;if(this._showBrandLogo){var t=this._customization.brandLogo?this._customization.brandLogo:N.default,n=32/90,i=new Image;i.onload=function(){i.height&&i.width&&(n=i.height/i.width),t.endsWith(".svg")||t.startsWith("data:image/svg+xml")?y.Util.renderImageToCanvas(t,W,W*n).then(function(t){e.addChild(e._createBrandLogo(t,n))}).catch(function(){g.Context.logger.error(e,"brand logo failed to create")}):e.addChild(e._createBrandLogo(t,n))},i.src=t}if(0!==this._domChildren.length){var r=0,o=[],s=2*Math.atan(.5*this._spacing/this._radius);this._domChildren.forEach(function(t){var n=2*Math.atan(.5*t.width/e._radius);o.push(n),r+=n}),r+=this._domChildren.length*s;var l=.5*-r+.5*s+.5*o[0],u=l-.5*o[0];this._domChildren.forEach(function(t,n){var i=(new w.Quaternion).fromAxisAngle(E.Vector3.Y_AXIS,l),r=new E.Vector3(0,0,-e._radius).multQuaternion((new w.Quaternion).fromAxisAngle(E.Vector3.Y_AXIS,-l)),u=(0,a.default)({},t,{hub:e._hub,onActivateContent:e._onActivateContent,height:e._height,transform:new C.Transform({position:r,rotation:i}),dynamic:e._dynamicContent,customization:e._customization,memoryLimit:e._memoryLimit/e._domChildren.length,radius:e._radius});t.domElement instanceof B.Dl8HubGridElement?e._radToWidgetList.push({rad:l-.5*o[n],width:o[n],widget:e.addChild(new k.HubGrid(u))}):t.domElement instanceof V.Dl8HubMenuElement?e._radToWidgetList.push({rad:l-.5*o[n],width:o[n],widget:e.addChild(new D.HubMenu(u))}):g.Context.logger.warn(e,"Unknown child node for vizor encountered: "+t),n<e._domChildren.length-1&&(l+=.5*(o[n]+o[n+1])+s)});var c=2*Math.atan(.5*G.x/this._radius)+.2;this.addChild(new P.UiCylinder({name:z,radius:this._radius,height:this._height+2.7*G.y,startAngle:u-c,endAngle:l+.5*o[o.length-1]+c,width:0,renderable:!this._noShadow,textureSrc:F.default,zIndex:-1}))}}},{key:"_createBrandLogo",value:function(e,t){this.addChild(new M.UiImageButton({name:Q,width:U,height:U*t,transform:new C.Transform({position:new E.Vector3(0,.5*this._height+this._radius*U*t*.5+H,-this._radius),scale:(new E.Vector3).addScalar(this._radius)}),src:e,onClick:this._showHomeButton?this._hub.reset:void 0}))}},{key:"_handlePointerStart",value:function(e){e.targetTouches&&(this._oldPointerPos.set(e.targetTouches[0].normX,e.targetTouches[0].normY),this._pointerStarted=!0)}},{key:"_handlePointerEnd",value:function(e){if(!e.targetTouches||0===e.targetTouches.length){var t=this._tmpVec.set(e.changedTouches[0].normX,e.changedTouches[0].normY).sub(this._oldPointerPos);if(t.magnitude()>.01&&g.Context.vrDeviceManager.state===T.VRDeviceManager.STATE_ACTIVE){var n=Math.abs(t.x)>Math.abs(t.y);this._activeWidget instanceof k.HubGrid?n&&t.x>0&&this._activeWidget.scrollMode===R.SCROLL_MODE_HORIZONTAL||!n&&t.y>0&&this._activeWidget.scrollMode===R.SCROLL_MODE_VERTICAL?this._activeWidget.page=this._activeWidget.page-1:(n&&t.x<0&&this._activeWidget.scrollMode===R.SCROLL_MODE_HORIZONTAL||!n&&t.y<0&&this._activeWidget.scrollMode===R.SCROLL_MODE_VERTICAL)&&(this._activeWidget.page=this._activeWidget.page+1):this._activeWidget instanceof D.HubMenu&&!n&&(t.y>0?this._activeWidget.scrollPos=this._activeWidget.scrollPos-1:t.y<0&&(this._activeWidget.scrollPos=this._activeWidget.scrollPos+1))}this._pointerStarted=!1}}}]),t}(x.SpatialNode)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Hotspot=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(5),u=i(l),c=n(115),d=i(c),h=n(8),f=i(h),_=n(2),p=i(_),m=n(4),A=i(m),g=n(7),v=n(38),y=n(64),b=n(21),E=n(66),w=n(112),S=n(32),T=n(20),x=n(138),C=n(125),M=n(61),P=n(18),I=i(P);t.Hotspot=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e)),i=g.Util.getParam(e,"texture"),r=g.Util.getParam(e,"color",new T.ColorRGBA(T.ColorRGBA.WHITE)),o=g.Util.getParam(e,"opaque",!1),l=g.Util.getParam(e,"useLinearColor",!1);n._hoverScale=g.Util.getParam(e,"hoverScale",1.25),n._to=g.Util.getParam(e,"to");var c=v.GeometryUtil.makeCenteredSizedQuad(n._width,n._height,!0);n._material=new y.UiMaterial({texture:i,color:r,opaque:o,useLinearColor:l,billboarded:!1});var d={};return d[b.Scene.RENDERPASS_UI_1]=n._material,n.addChild(new S.RenderableNode({geometry:c,materialByPass:d,sortPassData:{zIndex:n._zIndex}})),n._createAnimations(),n}return(0,A.default)(t,e),(0,p.default)(t,[{key:"$serialize",value:function(){return{name:"Hotspot",params:{to:this._to,texture:this._material._texture,color:this._material._color,opaque:this._material._opaque,useLinearColor:this._material._useLinearColor,width:this._width,height:this._height},aux:{children:[]}}}}]),(0,p.default)(t,[{key:"update",value:function(e){(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"update",this).call(this,e)}},{key:"fadeOut",value:function(){this.removeController(this._hoverInAnimationController),this.removeController(this._hoverOutAnimationController),this.removeController(this._fadeInAnimationController),this.removeController(this._fadeAwayAnimationController),this.addController(this._fadeOutAnimationController)}},{key:"fadeIn",value:function(){this.removeController(this._hoverInAnimationController),this.removeController(this._hoverOutAnimationController),this.removeController(this._fadeOutAnimationController),this.removeController(this._fadeAwayAnimationController),this.addController(this._fadeInAnimationController)}},{key:"fadeAway",value:function(){this.removeController(this._hoverInAnimationController),this.removeController(this._hoverOutAnimationController),this.removeController(this._fadeOutAnimationController),this.removeController(this._fadeInAnimationController),this.addController(this._fadeAwayAnimationController)}},{key:"_createAnimations",value:function(){var e=this,t=void 0,n=void 0,i=void 0,r=void 0,a=void 0;this._hoverInAnimationController=new x.AnimationController({animation:new C.ClosureAnimation({easing:M.Easing.easeInOutExpo,duration:.2,closure:function(n,i){i.firstChild.transform.uniformScale=n*e._hoverScale+(1-n)*t},onPlay:function(e){t=e.firstChild.transform.scale.x},onFinish:function(t){t.removeController(e._hoverInAnimationController)}})}),this._hoverOutAnimationController=new x.AnimationController({animation:new C.ClosureAnimation({easing:M.Easing.easeInOutExpo,duration:.2,closure:function(e,n){n.firstChild.transform.uniformScale=e+(1-e)*t},onPlay:function(e){t=e.firstChild.transform.scale.x},onFinish:function(t){t.removeController(e._hoverOutAnimationController)}})}),this._fadeOutAnimationController=new x.AnimationController({animation:new C.ClosureAnimation({easing:M.Easing.easeInOutExpo,duration:.4,closure:function(e,i){i.material.opacity=(1-e)*n,i.firstChild.transform.uniformScale=5*e+(1-e)*t},onPlay:function(e){t=e.firstChild.transform.scale.x,n=e.material.opacity},onFinish:function(t){t.visible=!1,t.removeController(e._fadeOutAnimationController)}})}),this._fadeInAnimationController=new x.AnimationController({animation:new C.ClosureAnimation({easing:M.Easing.easeOutQuad,duration:1.2,closure:function(e,t){t.material.opacity=e,t.firstChild.transform.position.y=e*r+(1-e)*i},onPlay:function(t){t.material.opacity=0,t.firstChild.transform.uniformScale=1,r=t.firstChild.transform.position.y,t.firstChild.transform.position.y+=.5*e._height,i=t.firstChild.transform.position.y},onFinish:function(t){t.removeController(e._fadeInAnimationController)}})}),this._fadeAwayAnimationController=new x.AnimationController({animation:new C.ClosureAnimation({easing:M.Easing.easeOutQuad,duration:.2,closure:function(e,t){t.material.opacity=(1-e)*a},onPlay:function(e){a=e.material.opacity},onFinish:function(t){t.removeController(e._fadeAwayAnimationController)}})})}},{key:"inTransition",get:function(){return this.hasController(this._fadeInAnimationController)||this.hasController(this._fadeOutAnimationController)||this.hasController(this._fadeAwayAnimationController)}},{key:"to",get:function(){return this._to}},{key:"hovered",get:function(){return(0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"hovered",this)},set:function(e){this.inTransition||this.hovered===e||(e?(this.removeController(this._hoverOutAnimationController),this.addController(this._hoverInAnimationController)):(this.removeController(this._hoverInAnimationController),this.addController(this._hoverOutAnimationController))),(0,d.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"hovered",e,this)}},{key:"hoverScale",get:function(){return this._hoverScale},set:function(e){this._hoverScale=e}},{key:"color",get:function(){return this._material.color},set:function(e){this._material.color=e}},{key:"material",get:function(){return this._material}},{key:"texture",get:function(){return this._material.texture},set:function(e){this._material.texture=e}}]),t}((0,I.default)(E.UiNode,w.UiClickable))},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Hud=void 0;var a=n(44),o=r(a),s=n(33),l=r(s),u=n(3),c=r(u),d=n(1),h=r(d),f=n(2),_=r(f),p=n(5),m=r(p),A=n(8),g=r(A),v=n(4),y=r(v),b=n(9),E=n(25),w=n(7),S=n(56),T=n(61),x=n(27),C=n(80),M=n(14),P=n(20),I=n(11),R=n(42),k=n(108),D=n(30),V=n(66),B=n(304),O=n(228),N=n(227),L=n(167),F=n(139),U=n(168),H=n(453),G=n(62),z=n(36),Q=n(24),W=n(166),j=n(138),X=n(204),Y=n(205),q=n(125),Z=n(18),K=r(Z),J=n(49),$=n(472),ee=n(702),te=r(ee),ne=n(701),ie=r(ne),re=n(705),ae=r(re),oe=n(700),se=r(oe),le=n(711),ue=r(le),ce=n(710),de=r(ce),he=n(709),fe=r(he),_e=n(706),pe=r(_e),me=n(703),Ae=r(me),ge=n(691),ve=r(ge),ye=n(694),be=r(ye),Ee=n(275),we=r(Ee),Se=n(697),Te=r(Se),xe=n(696),Ce=r(xe),Me=n(274),Pe=r(Me),Ie=n(19),Re=i(Ie),ke=1024,De=.01,Ve=2*De,Be=.023,Oe=new P.ColorRGBA(.1,.1,.1,.9),Ne=new P.ColorRGBA(0,0,0,.5),Le=256,Fe=.001,Ue=4,He=.025,Ge=new P.ColorRGBA(1,1,1,.5),ze=.6,Qe=.75,We=ze,je=1.5*Qe,Xe=.035,Ye=.035,qe=2*Xe,Ze=2*Ye,Ke=.25,Je=Math.PI/3,$e=Math.PI/4,et=Math.PI/3.55,tt=Math.PI/2.35,nt=.390625,it=.2,rt=.15,at=.33,ot=.22,st=.075,lt=.04,ut=rt,ct=it,dt=.025,ht=.242,ft=.015,_t=.015,pt=.08,mt=.0125,At=.012,gt=.012,vt=it-.05,yt=rt/3,bt=[0,.5*(rt-yt),0],Et=[-At,.5*(rt-yt),0],wt=.046,St=.01,Tt=.055,xt=.015,Ct=xt,Mt=1.5*Tt,Pt=it-.01,It=rt/30,Rt=it/6,kt=rt/30,Dt=.04,Vt=.04,Bt=.03,Ot=.03,Nt=.01,Lt=.01,Ft=[-Dt-.1*Dt,-rt/20,0],Ut=[0,-rt/20,0],Ht=[0,.5*-rt+.5*It+.0165,0],Gt=[.5*Pt-.5*Nt,.5*-rt,0],zt=[.5*Pt-.5*Nt,.5*rt-.024,0],Qt=[.5*-Pt+.5*Nt,.5*rt-.024,0],Wt=[.5*-Pt+.5*wt,.5*-rt,0],jt=[Wt[0]+.5*wt+.5*Nt,Wt[1]+Lt/10,Wt[2]],Xt=[jt[0]+.5*Nt+.5*Rt+.005,jt[1],jt[2]],Yt=[.5*Pt-2*Nt,.5*-rt,0],qt=[Yt[0],Yt[1]+1*Lt,Yt[2]+.005],Zt=[0,.5*-rt-Bt-.5*He,.035],Kt=.06,Jt=[.5*-it-.5*lt-.02,-.01,0],$t=[.5*it+.5*lt+.02,-.01,0],en=[0,.5*rt+.5*dt+.02,0],tn=[0,.5*-rt-.5*dt-.02,0];t.Hud=function(e){function t(e){(0,h.default)(this,t);var n=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return n._camera=w.Util.getParamRequired(e,"camera"),n._player=w.Util.getParamRequired(e,"player"),n._onActivateContent=w.Util.getParamRequired(e,"onActivateContent"),n._customization=w.Util.getParamRequired(e,"customization"),n._uiRoot=void 0,n._reticle=void 0,n._hoverText=void 0,n._openMenuButton=void 0,n._manuallyClosed=!1,n._tmpVec=new I.Vector3,n._tmpVec2=new I.Vector3,n._tmpQuat=new D.Quaternion,n._useGazeBasedInteraction=!0,n._openMenuButtonActive=!1,n._openedFromMenuButton=!1,n._needsResetPose=!1,n._uiRootIntersects=void 0,n._flatVideoRecenterHintShown=void 0,n._lastHoveredTargetWasOpenMenuButton=void 0,n._lastReticlePosition=void 0,n._pointerPosition=new R.Vector2,n._pickRayTarget=new R.Vector2,n._lastHoveredTarget=void 0,n._blockGazeInteractionsAfterLoading=!1,n._oldVolume=1,n._buffering=[0,0],n._spriteSeekingPreview=null,n._trackSeekingPreview=null,n._customPickRay=new k.Ray3,n._useCustomPickRay=null,n._forceHide=w.Util.getParam(e,"forceHide",!1),n._recommendationPage=0,n._gotRecommendations=!1,n._leftSkyscraperAdvertisementRoot=void 0,n._rightSkyscraperAdvertisementRoot=void 0,n._bottomBannerAdvertisementRoot=void 0,n._topBannerAdvertisementRoot=void 0,n._opacityHoverController=new W.ClosureController({closure:function(e,t){var n=.2;t.hovered&&(n=1),t.findAllByPred(function(e){return e instanceof V.UiNode}).forEach(function(e){e.visible&&(e.opacity=n)})}}),n._hoverButtonController=new W.ClosureController({closure:function(e,t){var n=t.depth;t.hovered?.004!==n&&(t.depth=Math.min(n+.2*e,.004)):0!==n&&(t.depth=Math.max(t.depth-.2*e,0))}}),n._initFromContent(n._camera),n}return(0,y.default)(t,e),(0,_.default)(t,[{key:"qualityChanged",value:function(e){var t=this.$scene.findByName("qualityRoot");t&&t.children.forEach(function(t){t.auxData.qualityId===e?t.backgroundColor=new P.ColorRGBA(.15,.15,.15,1):t.backgroundColor=new P.ColorRGBA(.1,.1,.1,1)})}},{key:"qualityListUpdated",value:function(){var e=this.$scene.findByName("qualityRoot");e&&(e.dtor(),this._uiRoot.removeChild(e));var t=this.$scene.findByName("qualityButton");t&&(t.dtor(),this._uiRoot.removeChild(t)),this._buildQualityDropdown(this._uiRoot,this._hoverTertiaryController)}},{key:"_initFromContent",value:function(e){var t=this;this._uiRoot=new V.UiNode({name:"uiRoot",width:2.75*it,height:3*rt,transform:new x.Transform({position:new I.Vector3(I.Vector3.NEG_Z_AXIS).mult(at),rotation:(new D.Quaternion).fromLookRotation(I.Vector3.NEG_Z_AXIS,I.Vector3.X_AXIS,I.Vector3.Y_AXIS)}),visible:!1}),this._reticleTexture=this.addActiveResource(new Q.Texture({type:Q.Texture.IMAGE,data:[be.default],flipY:!1})),this._reticleLoadingTexture=this.addActiveResource(new Q.Texture({type:Q.Texture.IMAGE,data:[we.default],flipY:!1}));var n=new W.ClosureController({closure:function(e,n){var i=t._player.content,r=i.type===Re.CONTENT_TYPE_VIDEO&&(i.seeking&&i.playing||i.loading),a=void 0,o=void 0;t._flatVideoRecenterHintShown&&!t._lastHoveredTargetWasOpenMenuButton?(a=je,o=We):(a=Qe,o=ze),r&&n.texture===t._reticleTexture?(n.texture=t._reticleLoadingTexture,n.animationAtlasWidth=4,n.animationAtlasHeight=4,n.animationT=0):r||n.texture!==t._reticleLoadingTexture?r?(n.animationT-=1.5*e,n.animationT<0&&(n.animationT=1+n.animationT)):!r&&n.activationTime>=a&&(n.animationT=nt+(n.activationTime-a)/o*(1-nt)):(n.texture=t._reticleTexture,n.animationAtlasWidth=8,n.animationAtlasHeight=8,n.animationT=n.shadowAnimationT||0)}});this._reticle=new $.Reticle({width:ft,height:_t,animationAtlasWidth:8,animationAtlasHeight:8,texture:this._reticleTexture,visible:!1,controllers:[n]}),this._reticleHoverController=new j.AnimationController({animation:new q.ClosureAnimation({duration:.15,closure:function(e,n){n.texture===t._reticleTexture&&(n.animationT=e*nt),n.shadowAnimationT=e*nt}})}),this._reticleBlurController=new j.AnimationController({animation:new q.ClosureAnimation({duration:.1,closure:function(e,n){n.texture===t._reticleTexture&&(n.animationT=(1-e)*nt),n.shadowAnimationT=(1-e)*nt}})}),this._hoverText=new F.UiLabel({name:"hoverText",width:pt,height:mt,noWrap:!0,autoWidth:!0,padding:[0,.003],texSize:256,text:"",maxCharacters:20,backgroundColor:new P.ColorRGBA(0,0,0,.4),fontFace:this._customization.baseFont,fontWeight:this._customization.baseFontWeight,fontSize:mt/2,visible:!1,transform:new x.Transform({position:new I.Vector3(0,.5*-_t-.5*mt-.002,.004)}),zIndex:10}),this._hoverTextFadeInAnimation=new j.AnimationController({animation:new q.ClosureAnimation({easing:T.Easing.easeInOutExpo,duration:.3,closure:function(e,t,n){t.opacity=n.auxData.startOpacity*(1-e)+e},onPlay:function(e){e.visible=!0},onFinish:function(e){e.removeController(t._hoverTextFadeInAnimation)},onCancel:function(e){e.removeController(t._hoverTextFadeInAnimation)},auxData:{startOpacity:0,text:""}})}),this._hoverTextFadeOutAnimation=new j.AnimationController({animation:new q.ClosureAnimation({easing:T.Easing.easeInOutExpo,duration:.3,closure:function(e,t,n){t.opacity=n.auxData.startOpacity*(1-e)},onFinish:function(e){e.removeController(t._hoverTextFadeOutAnimation),e.visible=!1,e.opacity=0},onCancel:function(e){e.removeController(t._hoverTextFadeOutAnimation)},auxData:{startOpacity:1}})}),this._openMenuButtonFadeOutAnimation=new j.AnimationController({animation:new q.ClosureAnimation({easing:T.Easing.easeInOutExpo,duration:.5,closure:function(e,n,i){var r=M.MathUtil.interpolate(e,T.Easing.linearTween,i.auxData.startAngle,0);n.firstChild.opacity=1-e,i.auxData.quat.fromAxisAngle(i.auxData.axis,-r),t._tmpVec.copyFrom(I.Vector3.NEG_Y_AXIS).multQuaternion(i.auxData.quat).normalize(),n.transform.position=t._tmpVec.mult(Ke),i.auxData.curAngle=r},onFinish:function(e){e.removeController(t._openMenuButtonFadeOutAnimation),e.visible=!1,e.firstChild.opacity=0},onCancel:function(e){e.removeController(t._openMenuButtonFadeOutAnimation)},auxData:{quat:new D.Quaternion,axis:new I.Vector3,startAngle:0,curAngle:0}})}),this._openMenuButtonFadeInAnimation=new j.AnimationController({animation:new q.ClosureAnimation({easing:T.Easing.easeInOutExpo,duration:.5,closure:function(e,n,i){var r=M.MathUtil.interpolate(e,T.Easing.linearTween,i.auxData.startAngle,et);n.firstChild.opacity=e,i.auxData.quat.fromAxisAngle(i.auxData.axis,-r),t._tmpVec.copyFrom(I.Vector3.NEG_Y_AXIS).multQuaternion(i.auxData.quat).normalize(),n.transform.position=t._tmpVec.mult(Ke),i.auxData.curAngle=r},onPlay:function(e){e.visible=!0,e.firstChild.opacity=0},onFinish:function(e){e.removeController(t._openMenuButtonFadeInAnimation)},onCancel:function(e){e.removeController(t._openMenuButtonFadeInAnimation)},auxData:{quat:new D.Quaternion,axis:new I.Vector3,startAngle:0,curAngle:0}})});var i=new W.ClosureController({closure:function(e,n){if(n.visible=!t._uiRoot.visible&&(t._useGazeBasedInteraction&&t._player.content.type===Re.CONTENT_TYPE_VIDEO||t._player.content.parentIds.hubId&&t._player.content.type!==Re.CONTENT_TYPE_VIDEO)&&b.Context.vrDeviceManager.state===G.VRDeviceManager.STATE_ACTIVE,n.visible&&!t._forceHide){var i=t._camera.camera.getQuaternion(),r=Math.acos(t._camera.dVector.dot(I.Vector3.NEG_Y_AXIS));!t._openMenuButtonActive&&r<=$e&&r>=.01?(t._openMenuButtonActive=!0,t._tmpVec.copyFrom(I.Vector3.Y_AXIS).cross(t._camera.dVector).normalize(),t._openMenuButtonFadeInAnimation.animation.auxData.axis.copyFrom(t._tmpVec),t._openMenuButtonFadeOutAnimation.animation.auxData.axis.copyFrom(t._tmpVec),t._openMenuButtonFadeInAnimation.animation.auxData.startAngle=t._openMenuButtonFadeOutAnimation.animation.auxData.curAngle,n.removeController(t._openMenuButtonFadeOutAnimation),n.addController(t._openMenuButtonFadeInAnimation)):t._openMenuButtonActive&&r>Je&&(t._openMenuButtonActive=!1,t._openMenuButtonFadeOutAnimation.animation.auxData.startAngle=t._openMenuButtonFadeInAnimation.animation.auxData.curAngle,n.removeController(t._openMenuButtonFadeInAnimation),n.addController(t._openMenuButtonFadeOutAnimation)),n.transform.rotation=i}}}),r=new W.ClosureController({closure:function(e,t){t.hovered?(t.transform.scale.x=1.2,t.transform.scale.y=1.2):(t.transform.scale.x=1,t.transform.scale.y=1)}}),a=this._player.content.type===Re.CONTENT_TYPE_VIDEO,o=!!this._player.content.parentIds.hubId;if(this._openMenuButton=new V.UiNode({width:qe,height:Ze,transform:new x.Transform({position:new I.Vector3(0,-Ke,0)
}),visible:!1,children:[new O.UiImageButton({name:"openMenuButton",width:Xe,height:Ye,src:a?se.default:Te.default,hoverText:a?this._player._translate("hudVR.menu"):o?this._player._translate("hudVR.back"):"",onClick:function(){t._player.content.type===Re.CONTENT_TYPE_VIDEO?t.show(!0):t._player.content.parentIds.hubId&&t._onActivateContent(t._player.content.parentIds.hubId)},controllers:[r]})],controllers:[i]}),this._player.content.parentIds.hubId){var s=new W.ClosureController({closure:function(e,n){t._uiRoot.visible&&(n.hovered?(n.transform.scale.x=1.2,n.transform.scale.y=1.2):(n.transform.scale.x=1,n.transform.scale.y=1))}});this._uiRoot.addChild(new O.UiImageButton({name:"homeButton",width:Bt,height:Ot,transform:new x.Transform({position:new I.Vector3(Ft)}),src:Ce.default,hoverText:this._player._translate("hudVR.back"),visible:!0,onClick:function(){t._onActivateContent(t._player.content.parentIds.hubId)},controllers:[s]}))}switch(this._player.content.type){case Re.CONTENT_TYPE_VIDEO:this._initVideo(this._uiRoot)}this.addChild(this._reticle),this._reticle.addChild(this._hoverText);var l=this.addChild(new E.SpatialNode({transform:new x.Transform({scale:new I.Vector3(5,5,5)}),children:[this._uiRoot]}));this._player.content.type===Re.CONTENT_TYPE_IMAGE||this._player.content.type===Re.CONTENT_TYPE_TOUR?l.addChild(this._openMenuButton):this.addChild(this._openMenuButton)}},{key:"_clearAdvertisements",value:function(e){var t=this;e&&this._uiRoot&&e.forEach(function(e){e&&(e.dtor(),t._uiRoot.removeChild(e))})}},{key:"_getCylinderRotationParams",value:function(e,t,n){e=M.MathUtil.degToRad(e);var i=(new D.Quaternion).fromEuler(I.Vector3.tmp(0).set("x"===t?e:0,"y"===t?e:0,0)),r=.5*n,a=2*r*Math.sin(.5*e),o=r*Math.sin(e),s=Math.sqrt(a*a-o*o);return{rotation:i,depth:o,offset:s}}},{key:"showLeftHudAdvertisement",value:function(e){this._clearAdvertisements([this._leftSkyscraperAdvertisementRoot]);var t=this._getCylinderRotationParams(-35,"y",lt),n=t.rotation,i=t.depth,r=t.offset;this._leftSkyscraperAdvertisementRoot=this._initAdvertisement(e,{name:"leftSkyscraperAdvertisementRoot",width:lt,height:ut,position:[Jt[0]+r,Jt[1],Jt[2]-i],rotation:n})}},{key:"showRightHudAdvertisement",value:function(e){this._clearAdvertisements([this._rightSkyscraperAdvertisementRoot]);var t=this._getCylinderRotationParams(35,"y",lt),n=t.rotation,i=t.depth,r=t.offset;this._rightSkyscraperAdvertisementRoot=this._initAdvertisement(e,{name:"rightSkyscraperAdvertisementRoot",width:lt,height:ut,position:[$t[0]-r,$t[1],$t[2]+i],rotation:n})}},{key:"showTopHudAdvertisement",value:function(e){this._clearAdvertisements([this._topBannerAdvertisementRoot]);var t=this._getCylinderRotationParams(-35,"x",dt),n=t.rotation,i=t.depth,r=t.offset;this._topBannerAdvertisementRoot=this._initAdvertisement(e,{name:"topBannerAdvertisementRoot",width:ct,height:dt,position:[en[0],en[1]+r,en[2]-i],rotation:n})}},{key:"showBottomHudAdvertisement",value:function(e){this._clearAdvertisements([this._bottomBannerAdvertisementRoot]);var t=this._getCylinderRotationParams(35,"x",dt),n=t.rotation,i=t.depth,r=t.offset;this._bottomBannerAdvertisementRoot=this._initAdvertisement(e,{name:"bottomBannerAdvertisementRoot",width:ct,height:dt,position:[tn[0],tn[1]-r,tn[2]+i],rotation:n})}},{key:"_initAdvertisement",value:function(e,t){return this._uiRoot.addChild(new O.UiImageButton({name:t.name,width:t.width,height:t.height,src:e.payload.uri,transform:new x.Transform({position:new I.Vector3(t.position),rotation:t.rotation}),onClick:function(){window.location.href=e.payload.adLink}}))}},{key:"_initRecommendations",value:function(e){var t=this,n=I.Vector3.toLookRotationWithHint(e.transform.transformPoint(I.Vector3.tmp(0).load(Zt)).normalize(),I.Vector3.Y_AXIS),i=n.forward,r=n.right,a=n.up,o=e.addChild(new V.UiNode({name:"recommendationRoot",width:1.25*ot,height:1*st,controllers:[this._opacityHoverController],transform:new x.Transform({position:new I.Vector3(Zt),rotation:(new D.Quaternion).fromLookRotation(i,r,a)})})),s=(ot-2*De-Fe)/Ue,l=s/1.7,u=new E.SpatialNode({name:"recommendationContainer"});o.addChild(u),o.addChild(new N.UiIconButton({width:De,height:l,name:"nextArrow",backgroundColor:Ge,imageSrc:Pe.default,imagePadding:Ve,transform:new x.Transform({position:new I.Vector3(.5*(ot-De),0,0),rotation:(new D.Quaternion).fromAxisAngle(I.Vector3.Z_AXIS,Math.PI)}),texSize:ke,smoothBorder:!1,visible:!1,controllers:[this._hoverButtonController],onClick:function(e){t._updateRecommendationPage(u,1)}})),o.addChild(new N.UiIconButton({width:De,height:l,name:"prevArrow",backgroundColor:Ge,imageSrc:Pe.default,imagePadding:Ve,transform:new x.Transform({position:new I.Vector3(.5*(-ot+De),0,0),rotation:(new D.Quaternion).fromAxisAngle(I.Vector3.Z_AXIS,0)}),texSize:ke,smoothBorder:!1,visible:!1,controllers:[this._hoverButtonController],onClick:function(e){t._updateRecommendationPage(u,-1)}}))}},{key:"_updateRecommendationPage",value:function(e,t){var n=this;if(0!==e.children.length){var i=e.parent.findByName("prevArrow"),r=e.parent.findByName("nextArrow"),a=Math.ceil(e.children.length/Ue-1);this._recommendationPage=Math.max(0,Math.min(this._recommendationPage+t,a)),0===this._recommendationPage?i.visible=!1:i.visible=!0,this._recommendationPage===a?r.visible=!1:r.visible=!0;var o=e.firstChild.width*Ue,s=this._recommendationPage*Ue,l=s+Ue;e.transform.position.x=-o*this._recommendationPage,e.parent.removeController(this._opacityHoverController),e.children.forEach(function(i,r){if(r>=s&&r<l){var a=r-s;i.removeAllControllers(),i.addController(new j.AnimationController({animation:new Y.SequenceAnimation({children:[new X.DelayAnimation({duration:.07*(t<0?Ue-a-1:a)+.1}),new q.ClosureAnimation({easing:T.Easing.easeInOutQuad,duration:.15,closure:function(e,t){t.opacity=e,t.depth=(1-e)*-.04}})],onPlay:function(e){e.visible=!0,e.opacity=0},onFinish:function(i){i.addController(n._hoverButtonController),(t<0&&0===a||t>0&&a===Ue-1)&&e.parent.addController(n._opacityHoverController)},onCancel:function(i){i.addController(n._hoverButtonController),(t<0&&0===a||t>0&&a===Ue-1)&&e.parent.addController(n._opacityHoverController)}})}))}else i.visible=!1})}}},{key:"refreshRecommendations",value:function(e){var t=this;if(!this._gotRecommendations&&0!==e.length){var n="",i=this._player.content.dl8Recommendations&&this._player.content.dl8Recommendations[0];if(i){if(i.hideDuringPlayback&&i.hideAfterPlayback)return;n=i.title}this._gotRecommendations=!0,this._initRecommendations(this._uiRoot);var r=this._uiRoot.findByName("recommendationRoot");r.addChild(new F.UiLabel({fontSize:.0065,fontFace:this._customization.baseFont,fontWeight:this._customization.baseFontWeight,text:n,width:ot,height:.1*ot,noWrap:!0,autoWidth:!0,transform:new x.Transform({position:new I.Vector3(0,.025,0)})}));var a=r.findByName("recommendationContainer"),o=(ot-2*De-2*Fe)/Ue,s=o/1.7,l=.5*-ot+.5*o+De+Fe;e.forEach(function(e,n){a.addChild(new B.UiCoverButton({width:o,height:s,visible:n<Ue,label:e.title,poster:e.poster,smoothBorder:!0,transform:new x.Transform({position:new I.Vector3(l+o*n,0,0)}),controllers:[t._hoverButtonController],fontSize:Math.min(Be,s/5),fontFace:t._customization.baseFont,fontWeight:t._customization.baseFontWeight,backgroundColor:Ne,labelBackgroundColor:Oe,drawLabel:!1,hoverText:e.title?e.title:void 0,lineHeight:2,texSize:Le,horizontalLabelPadding:o/20,onClick:function(){i.onSelectRecommendation&&!i.onSelectRecommendation(e,!1,"invr-list")||t._onActivateContent(e.id)}}))}),e.length>Ue&&(r.findByName("nextArrow").visible=!0)}}},{key:"_initVideo",value:function(e){var t=this,n=this._player.content,i=new W.ClosureController({closure:function(e,n){t._uiRoot.visible&&(n.hovered?(n.transform.scale.x=1.2,n.transform.scale.y=1.2):(n.transform.scale.x=1,n.transform.scale.y=1))}});this._hoverTertiaryController=new W.ClosureController({closure:function(e,n){t._uiRoot.visible&&(n.hovered?(n.transform.scale.x=1.5,n.transform.scale.y=1.5):(n.transform.scale.x=1,n.transform.scale.y=1))}});var r=new W.ClosureController({closure:function(e,n){t._uiRoot.visible&&(n.hovered?(Math.abs(n.indicatorPos-n.lastIndicatorPos)*n.width>=.007&&(n.lastIndicatorPos=n.indicatorPos,t._reticle.activationTime=0,t._reticle.animationT=nt),n.transform.scale.y=2):n.transform.scale.y=1)}}),a=new W.ClosureController({closure:function(e,n){n.visible=!t._player.playing&&!t._player.content.ended}}),o=new W.ClosureController({closure:function(e,n){n.visible=t._player.playing}}),s=new W.ClosureController({closure:function(e,n){n.visible=!t._player.playing&&t._player.content.ended}}),u=new W.ClosureController({closure:function(e,n){if(t._uiRoot.visible){var i=t._player.content,r=i.duration;if(r>0&&i.type===Re.CONTENT_TYPE_VIDEO){var a=i.element.currentTime;(0,J.convertBufferState)(i.element.buffered,a,t._buffering);var o=t._buffering[0]/r,s=t._buffering[1]/r,l=M.MathUtil.clamp((n.hitPos.x+.5*n.width)/n.width,0,1);if(n.updateBar(a/r,n.hovered?l:void 0,o,s),n.hovered){var u=n.indicatorPos*r;n.hoverText=""+(0,J.convertSecondsToDisplayString)(i.dl8LiveVideo?u-r:u),t._hoverText.text=n.hoverText}if(t._spriteSeekingPreview){if(n.hovered){t._spriteSeekingPreview.transform.position.x=n.hitPos.x;var c=i.dl8VideoPreviewSprites[0],d=(0,J.getCurrentImageSprite)(c.dl8VideoPreviewSpriteSheets,l),h=d.spriteIdx,f=d.relativeT;t._spriteSeekingPreview.children.forEach(function(e,t){t===h?(e.visible=!0,e.animationT=f):e.visible=!1})}t._spriteSeekingPreview.visible=n.hovered}else if(t._trackSeekingPreview){if(n.hovered){t._trackSeekingPreview.transform.position.x=n.hitPos.x;var _=i.dl8Tracks.find(function(e){return"thumbs"===e.metadataKind}),p=_.domElement.track,m=(0,J.getCurrentTrackThumbnailIdx)(p,l*r),A=1;t._trackSeekingPreview.children.forEach(function(e,t){t===m?(e.visible=!0,A=e.texture.width/e.texture.height):e.visible=!1}),t._trackSeekingPreview.transform.position.y=.5*-rt+It+Kt/A*.5+.025}t._trackSeekingPreview.visible=n.hovered}}}}});this._buildQualityDropdown(e,this._hoverTertiaryController);var c=n.notPausable;c||(e.addChild(new O.UiImageButton({name:"playButton",width:Dt,height:Vt,transform:new x.Transform({position:new I.Vector3(Ut)}),src:te.default,visible:!this._player.playing,onClick:function(){t._player._onPlay(),t.hide(!0)},controllers:[i,a]})),e.addChild(new O.UiImageButton({name:"pauseButton",width:Dt,height:Vt,transform:new x.Transform({position:new I.Vector3(Ut)}),src:ie.default,visible:this._player.playing,onClick:function(){t._player._onPause()},controllers:[i,o]}))),e.addChild(new O.UiImageButton({name:"replayButton",width:Dt,height:Vt,transform:new x.Transform({position:new I.Vector3(Ut)}),src:ae.default,visible:n.ended,onClick:function(){t._player._onPlay()},controllers:[i,s]})),n.title&&e.addChild(new F.UiLabel({name:"title",width:vt,height:yt,texSize:1024,maxCharacters:this._customization.displayBrandWatermarkLogo?58:28,align:this._customization.displayBrandWatermarkLogo?"center":"left",text:n.title,fontFace:this._customization.baseFont,fontWeight:this._customization.baseFontWeight,fontSize:yt/5,transform:new x.Transform({position:new I.Vector3(this._customization.displayBrandWatermarkLogo?bt:Et)}),visible:!0}));var d=new W.ClosureController({closure:function(e,n){var i=t._player.content;t._uiRoot.visible&&i.type===Re.CONTENT_TYPE_VIDEO&&(n.text=(0,J.convertSecondsToDisplayString)(i.element.currentTime)+" / "+(0,J.convertSecondsToDisplayString)(i.duration))}});n.dl8LiveVideo?e.addChild(new U.UiLabelButton({name:"time",width:wt,height:St,text:"● LIVE",fontFace:this._customization.baseFont,fontWeight:this._customization.baseFontWeight,fontSize:.65*St,texSize:512,align:"left",transform:new x.Transform({position:new I.Vector3(Wt)}),hoverText:this._player._translate("hud.skip"),visible:!0,onClick:function(){t._player._onSeek(t._player.content.duration)}})):e.addChild(new F.UiLabel({name:"time",width:wt,height:St,text:"00:00 / 00:00",fontFace:this._customization.baseFont,fontWeight:this._customization.baseFontWeight,fontSize:.65*St,texSize:512,align:"left",transform:new x.Transform({position:new I.Vector3(Wt)}),visible:!0,controllers:[d]}));var h=!n.dl8LiveVideo||n.dl8LiveVideo&&n.seekable;if(e.addChild(new H.UiBar({name:"seekBar",width:Pt,height:It,texSize:1024,hoverText:"",progress:n.dl8LiveVideo&&!n.seekable?1:0,transform:new x.Transform({position:new I.Vector3(Ht)}),onClick:h?function(e,n){t._player._onSeek(n*t._player.content.duration)}:void 0,color:new P.ColorRGBA(this._customization.primaryColor.hex()),visible:!0,noHover:!h,controllers:h?[r,u]:[]})),n.dl8VideoPreviewSprites&&n.dl8VideoPreviewSprites.length>0){var f=n.dl8VideoPreviewSprites[0],_=f&&f.dl8VideoPreviewSpriteSheets&&f.dl8VideoPreviewSpriteSheets.length>0;_&&l.default.all(f.dl8VideoPreviewSpriteSheets.map(function(e,n){return new l.default(function(i,r){var a=new Image;a.onload=function(){var o=512,s=512;if(a.height&&a.width){var l=Math.min(1,z.Renderer.MAX_TEXTURE_SIZE/Math.max(a.width,a.height));o=a.width*l,s=a.height*l}w.Util.renderImageToCanvas(e.src,o,s).then(function(r){i({idx:n,node:t.addActiveResource(new L.UiImage({src:r,animated:!0,animationAtlasWidth:e.columns,animationAtlasHeight:e.rows,animationOriginTopLeft:!0,width:Kt,height:Kt/f.frameAspect,visible:!0,smoothBorder:!0,zIndex:2}))})}).catch(function(e){b.Context.logger.error(t,"preview sprite failed to create: "+e),r(e)})},a.src=e.src})})).then(function(n){t._spriteSeekingPreview=e.addChild(new E.SpatialNode({transform:new x.Transform({position:new I.Vector3(0,.5*-rt+It+Kt/f.frameAspect*.5+.025,.006)}),visible:!0,children:n.sort(function(e,t){return e.idx-t.idx}).map(function(e){return e.node})}))})}else if(n.dl8Tracks&&n.dl8Tracks.length>0){var p=n.dl8Tracks.find(function(e){return"thumbs"===e.metadataKind});if(p){this._trackSeekingPreview=e.addChild(new E.SpatialNode({transform:new x.Transform({position:new I.Vector3(0,0,.006)}),visible:!0}));var m=p.domElement.track;2===m.readyState?this._initTrackThumbnails(this._trackSeekingPreview,m):m.readyState<2&&m.addEventListener("load",function(){t._initTrackThumbnails(t._trackSeekingPreview,m)})}}if(!this._player._isIOS){var A=new W.ClosureController({closure:function(e,n){if(t._uiRoot.visible){var i=t._player.content.muted||t._player.uiState.tapToUnmute;n.updateBar(i?0:t._player.content.volume,n.hovered?M.MathUtil.clamp((n.hitPos.x+.5*n.width)/n.width,0,1):void 0)}}});e.addChild(new H.UiBar({name:"volumeBar",width:Rt,height:kt,texSize:512,transform:new x.Transform({position:new I.Vector3(Xt)}),onClick:function(e,n){t._oldVolume=n,t._player._onUpdateVolume(n)},color:new P.ColorRGBA(this._customization.primaryColor.hex()),visible:!0,controllers:[r,A]}));var g=new W.ClosureController({closure:function(e,n){n.visible=0!==t._player.content.volume&&!t._player.content.muted&&!t._player.uiState.tapToUnmute}}),v=new W.ClosureController({closure:function(e,n){n.visible=0===t._player.content.volume||t._player.content.muted||t._player.uiState.tapToUnmute}});0===n.volume?this._oldVolume=1:this._oldVolume=n.volume,e.addChild(new O.UiImageButton({name:"volumeButton",width:Nt,height:Lt,transform:new x.Transform({position:new I.Vector3(jt)}),src:de.default,visible:!0,onClick:function(){return t._player.content.muted||t._player.uiState.tapToUnmute?void t._player._onUnmute():(0!==t._player.content.volume&&(t._oldVolume=t._player.content.volume),void t._player._onUpdateVolume(0))},hoverText:this._player._translate("hudVR.mute"),controllers:[this._hoverTertiaryController,g]})),e.addChild(new O.UiImageButton({name:"volumeOffButton",width:Nt,height:Lt,transform:new x.Transform({position:new I.Vector3(jt)}),src:fe.default,visible:!1,onClick:function(){t._player._onUpdateVolume(t._oldVolume)},hoverText:this._player._translate("hudVR.unmute"),controllers:[this._hoverTertiaryController,v]}))}e.addChild(new O.UiImageButton({name:"resetGyroButton",width:Nt,height:Lt,transform:new x.Transform({position:new I.Vector3(Gt)}),src:pe.default,visible:!0,hoverText:this._player._translate("hudVR.resetOrient"),onClick:function(){t._player.resetPose(),t._needsResetPose=!0},controllers:[this._hoverTertiaryController]})),e.addChild(new O.UiImageButton({name:"closeButton",width:Nt,height:Lt,transform:new x.Transform({position:new I.Vector3(zt)}),src:ve.default,visible:!0,onClick:function(){t.hide(!0)},controllers:[this._hoverTertiaryController]})),this._customization.displayBrandWatermarkLogo&&(null!==this._customization.brandWatermarkLogo?this._customization.brandWatermarkLogo.endsWith(".svg")?w.Util.renderImageToCanvas(this._customization.brandWatermarkLogo,256,256).then(function(n){e.addChild(t._createWatermarkLogo(n))}).catch(function(){e.addChild(t._createWatermarkLogo(ue.default))}):e.addChild(this._createWatermarkLogo(this._customization.brandWatermarkLogo)):e.addChild(this._createWatermarkLogo(ue.default)))}},{key:"_initTrackThumbnails",value:function(e,t){var n=this,i=(0,o.default)(t.track.cues).map(function(e){return n.addActiveResource(new L.UiImage({src:e.text,width:Kt,height:Kt,dynamicAspect:!0,visible:!0,smoothBorder:!0,zIndex:2}))});i.forEach(function(t){return e.addChild(t)})}},{key:"_createWatermarkLogo",value:function(e){return new L.UiImage({name:"watermark",width:At,height:gt,transform:new x.Transform({position:new I.Vector3(Qt)}),src:e,visible:!0})}},{key:"interact",value:function(e,t){var n=this,i=this.$scene.findByName(C.Application.DEFAULT_CAMERA_NAME),r=void 0;r=this._useCustomPickRay&&this._customPickRay?this._customPickRay:i.getPickRayNorm(void 0!==e?e:.5,void 0!==t?t:.5);var a=this.$scene.intersectWithRay(r,function(e){return e instanceof V.UiNode&&(n._player._isMobile||e.hovered)});0===a.length&&this._player._closeInfoHotspot();var o=a.filter(function(e){return"function"==typeof e.click});return this._reticle.activationTime=0,0!==o.length||this._uiRoot.visible||this._player.content.type!==Re.CONTENT_TYPE_VIDEO||b.Context.vrDeviceManager.state!==G.VRDeviceManager.STATE_ACTIVE?0===o.length?(this.hide(!0),void(!this._uiRootIntersects&&this._player.content.isFlatVideo&&this._player.resetPose())):void(this._player.blackLoadingQuadVisible||o.forEach(function(e){return e.click()})):(this.show(),void(!this._uiRootIntersects&&this._player.content.isFlatVideo&&this._player.resetPose()))}},{key:"show",value:function(e){if(!this._forceHide){this._clearAdvertisements([this._leftSkyscraperAdvertisementRoot,this._rightSkyscraperAdvertisementRoot,this._topBannerAdvertisementRoot,this._bottomBannerAdvertisementRoot]);var t=this.$scene.findByName(C.Application.DEFAULT_CAMERA_NAME);if(this._tmpVec.copyFrom(t.dVector),this._tmpVec.y=M.MathUtil.clamp(this._tmpVec.y,-.2,.1),this._tmpVec.normalize(),e){var n=Math.acos(this._tmpVec.dot(I.Vector3.NEG_Y_AXIS));if(n<=.01)return;this._openedFromMenuButton=!0,this._tmpVec2.copyFrom(I.Vector3.Y_AXIS).cross(this._tmpVec).normalize(),this._tmpVec.multQuaternion(this._tmpQuat.fromAxisAngle(this._tmpVec2,n-tt)).normalize()}if(this._player.content.isFlatVideo)this._uiRoot.transform.rotation=this._tmpQuat.fromLookRotation(I.Vector3.NEG_Z_AXIS,I.Vector3.X_AXIS,I.Vector3.Y_AXIS),this._uiRoot.transform.position=this._tmpVec.copyFrom(I.Vector3.NEG_Z_AXIS).mult(at);else{var i=I.Vector3.toLookRotationWithHint(this._tmpVec,I.Vector3.Y_AXIS),r=i.forward,a=i.right,o=i.up;this._uiRoot.transform.rotation=this._tmpQuat.fromLookRotation(r,a,o),this._uiRoot.transform.position=this._tmpVec.mult(at)}this._uiRoot.visible=!0,this._reticle.visible=!0,this._player._fadeInHud(),this._player._onShowVrHud()}}},{key:"hide",value:function(e){if(!this._openedFromMenuButton&&this._uiRoot.visible){var t=this.$scene.findByName("qualityRoot");t&&(t.visible=!1),this._uiRoot.visible=!1,this._reticle.visible=!1,this._manuallyClosed=!!e,this._player._fadeOutHud(),this._player._onHideVrHud()}}},{key:"update",value:function(e){var n=this;(0,g.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"update",this).call(this,e),this._needsResetPose&&(this.show(),this._needsResetPose=!1),this._player.blackLoadingQuadVisible&&(this._blockGazeInteractionsAfterLoading=!0);var i=(b.Context.vrDeviceManager.state===G.VRDeviceManager.STATE_ACTIVE&&(this._player._isMobile||b.Context.vrDeviceManager.hardwareVr)||b.Context.vrDeviceManager.state!==G.VRDeviceManager.STATE_ACTIVE&&!this._player._isMobile)&&!this._player.blackLoadingQuadVisible,r=this.$scene.findByName(C.Application.DEFAULT_CAMERA_NAME),a=b.Context.vrDeviceManager.state===G.VRDeviceManager.STATE_ACTIVE,o=null;this._useCustomPickRay?o=this._customPickRay:(this._pickRayTarget.copyFrom(this._pointerPosition),o=r.getPickRayNorm(this._pickRayTarget.x,this._pickRayTarget.y));var s=this.$scene.findAllByPred(function(e){return e.visible&&e instanceof V.UiNode}),l=this.$scene.intersectWithRay(o,function(e){return e instanceof V.UiNode}),u=!1,d=!0,h=null,f=ht,_=Number.POSITIVE_INFINITY,p=!1,m=1;this._lastHoveredTargetWasOpenMenuButton=!1,l.forEach(function(e){if(i&&!e.noHover){var t=s.indexOf(e);t!==-1&&s.splice(t,1),e.hovered=!0,"qualityRoot"!==e.name&&"qualityButton"!==e.name||(p=!0),d=!1,"function"==typeof e.click?(u=!0,h?n._getDepthOfUiNode(h)<n._getDepthOfUiNode(e)?(h.hovered=!1,h=e):e.hovered=!1:h=e):e===n._openMenuButton&&(n._lastHoveredTargetWasOpenMenuButton=!0),_=Math.min(_,e.hitT),m=4*_,f=_-.5*ft*m,n._openedFromMenuButton&&e===n._uiRoot&&(n._openedFromMenuButton=!1)}}),s.forEach(function(e){e.hovered=!1});var A=!1;if(u){this._reticle.removeController(this._reticleBlurController),this._reticle.addController(this._reticleHoverController);var v=this.$scene.findByName("qualityRoot");v&&!p&&(v.visible=!1),h.hoverText&&(this._hoverText.removeController(this._hoverTextFadeOutAnimation),this._hoverTextFadeInAnimation.animation.auxData.startOpacity=this._hoverText.opacity,this._hoverText.text=h.hoverText,this._hoverText.addController(this._hoverTextFadeInAnimation))}else this._reticle.removeController(this._reticleHoverController),this._reticle.addController(this._reticleBlurController),this._hoverText.removeController(this._hoverTextFadeInAnimation),this._hoverTextFadeOutAnimation.animation.auxData.startOpacity=this._hoverText.opacity,this._hoverText.addController(this._hoverTextFadeOutAnimation),A=!0;if(h?h===this._lastHoveredTarget?this._useGazeBasedInteraction&&a&&!this._blockGazeInteractionsAfterLoading&&(this._reticle.activationTime=this._reticle.activationTime+e,this._reticle.activationTime>=ze+Qe&&(this._reticle.activationTime=0,h.click(),this._reticle.animationT=nt)):(this._reticle.activationTime=0,this._reticle.animationT=nt,this._lastHoveredTarget&&this._blockGazeInteractionsAfterLoading&&!this._player.blackLoadingQuadVisible&&(this._blockGazeInteractionsAfterLoading=!1)):(this._blockGazeInteractionsAfterLoading&&!this._player.blackLoadingQuadVisible&&(this._blockGazeInteractionsAfterLoading=!1),this._flatVideoRecenterHintShown!==!0&&(this._reticle.activationTime=0)),this._player.content.isFlatVideo&&a){var y=this._uiRoot.intersectWithRay(this._camera.getPickRayNorm(.5,.5,this._tmpRay));(A||y!==this._uiRootIntersects)&&(this._uiRootIntersects=y,this._uiRootIntersects?(this._flatVideoRecenterHintShown=!1,this._hoverText.removeController(this._hoverTextFadeInAnimation),this._hoverTextFadeOutAnimation.animation.auxData.startOpacity=this._hoverText.opacity,this._hoverText.addController(this._hoverTextFadeOutAnimation),this._reticle.removeController(this._reticleHoverController),this._reticle.addController(this._reticleBlurController)):(this._flatVideoRecenterHintShown=!0,this._hoverText.removeController(this._hoverTextFadeOutAnimation),this._hoverTextFadeInAnimation.animation.auxData.startOpacity=this._hoverText.opacity,this._hoverText.text=this._useGazeBasedInteraction?this._player._translate("hudVR.stillReCtr"):this._player._translate("hudVR.interReCtr"),this._hoverText.addController(this._hoverTextFadeInAnimation),this._reticle.removeController(this._reticleBlurController),this._reticle.addController(this._reticleHoverController)))}if(this._lastHoveredTargetWasOpenMenuButton=this._lastHoveredTargetWasOpenMenuButton||h===this._openMenuButton.firstChild,this._useCustomPickRay&&this._customPickRay?this._tmpVec.copyFrom(this._customPickRay.direction).mult(f).add(this._customPickRay.origin):this._tmpVec.copyFrom(r.dVector).mult(f),void 0===this._lastReticlePosition&&(this._lastReticlePosition=new I.Vector3(this._tmpVec)),this._flatVideoRecenterHintShown===!0&&this._useGazeBasedInteraction&&!this._blockGazeInteractionsAfterLoading&&a&&(this._lastHoveredTargetWasOpenMenuButton||(this._tmpVec.distanceSquared(this._lastReticlePosition)>=49e-5?(this._lastReticlePosition.copyFrom(this._tmpVec),this._reticle.activationTime=0,this._reticle.animationT=nt):(this._reticle.activationTime=this._reticle.activationTime+e,this._reticle.activationTime>=We+je&&(this._reticle.activationTime=0,this._player.resetPose(),this._reticle.animationT=nt)))),this._reticle.transform.position=this._tmpVec,this._reticle.transform.rotation=r.camera.getQuaternion(),this._reticle.transform.uniformScale=m,this._manuallyClosed&&(d=!0,this._manuallyClosed=!1),d){var E=this._reticle.visible;!this._uiRootIntersects&&this._player.content.isFlatVideo?this._reticle.visible=a:E&&(this._reticle.visible=!1),(E||this._reticle.visible)&&this._player.content.type===Re.CONTENT_TYPE_VIDEO&&(this._uiRoot.visible?this._openedFromMenuButton||this._useCustomPickRay||(this._player.content.playing?this.hide():this._player._fadeOutHudHalf()):this._player._fadeOutHud())}else d||!this._player.content.isFlatVideo&&this._reticle.visible||l.length>0&&a&&(this._reticle.visible=!0,this._lastHoveredTargetWasOpenMenuButton||this._player._fadeInHud());this._lastHoveredTarget=h}},{key:"_getDepthOfUiNode",value:function(e){for(var t=0,n=e;n.parent&&n.parent instanceof V.UiNode;)t+=n.transform.position.z,n=n.parent;return t}},{key:"_buildQualityDropdown",value:function(e,t){var n=this,i=this._player.content.qualities.length;if(i>1){e.addChild(new O.UiImageButton({name:"qualityButton",width:Nt,height:Lt,hoverText:this._player._translate("hudVR.qual"),transform:new x.Transform({position:new I.Vector3(Yt)}),src:Ae.default,visible:!0,onClick:function(){var e=n.$scene.findByName("qualityRoot");e&&(e.visible=!e.visible)},controllers:[t]}));var r=new V.UiNode({name:"qualityRoot",width:Mt,height:i*Ct,transform:new x.Transform({position:new I.Vector3(qt[0],qt[1]+i*Ct*.5,qt[2])}),visible:!1}),a=new W.ClosureController({closure:function(e,t){n._uiRoot.visible&&(t.hovered?t.transform.position.z=.005:t.transform.position.z=0)}});this._player.content.qualities.forEach(function(e,t){var o=new P.ColorRGBA(.1,.1,.1,1),s=new P.ColorRGBA(P.ColorRGBA.WHITE);e.disabled&&(s.a=.5),e.id===n._player.content.selectedQuality&&(o=new P.ColorRGBA(.15,.15,.15,1)),r.addChild(new U.UiLabelButton({name:"qualitySelectButton-"+e.value,auxData:{qualityId:e.id},width:Tt,height:xt,text:e.value,texSize:512,maxCharacters:15,fontFace:n._customization.baseFont,fontWeight:n._customization.baseFontWeight,fontSize:.4*xt,backgroundColor:o,fontColor:s,transform:new x.Transform({position:new I.Vector3(0,(i-t-1)*Ct+.5*xt-.5*r.height,0)}),visible:!0,onClick:function(){if(n._player.content.selectedQuality!==e.id&&!e.disabled){n._player._onChangeQuality(e.id);var t=n.$scene.findByName("qualityRoot");t.visible=!1}},controllers:[a]}))}),e.addChild(r)}}},{key:"dtor",value:function(){this.dtorActiveResources(),(0,g.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"dtor",this).call(this)}},{key:"forceHide",set:function(e){this._forceHide=e},get:function(){return this._forceHide}},{key:"pointerPosition",set:function(e){this._pointerPosition.copyFrom(e)}},{key:"useGazeBasedInteraction",set:function(e){this._useGazeBasedInteraction=e},get:function(){return this._useGazeBasedInteraction}},{key:"useCustomPickRay",set:function(e){this._useCustomPickRay=e},get:function(){return this._useCustomPickRay}},{key:"customPickRay",set:function(e){this._customPickRay.copyFrom(e)},get:function(){return this._customPickRay}},{key:"isUiRootVisible",get:function(){return this._uiRoot.visible}}]),t}((0,K.default)(E.SpatialNode,S.ResourceTracker))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Reticle=void 0;var r=n(3),a=i(r),o=n(1),s=i(o),l=n(2),u=i(l),c=n(5),d=i(c),h=n(4),f=i(h),_=n(25),p=n(7),m=n(21),A=n(20),g=n(64),v=n(38),y=n(32);t.Reticle=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));n._width=p.Util.getParamRequired(e,"width"),n._height=p.Util.getParamRequired(e,"height"),n._activationTime=0;var i=p.Util.getParam(e,"texture"),r=p.Util.getParam(e,"color",new A.ColorRGBA(A.ColorRGBA.WHITE)),o=p.Util.getParam(e,"opaque",!1),l=p.Util.getParam(e,"animationAtlasWidth",4),u=p.Util.getParam(e,"animationAtlasHeight",4),c=v.GeometryUtil.makeCenteredSizedQuad(n._width,n._height,!0);n._material=new g.UiMaterial({texture:i,color:r,opaque:o,billboarded:!1,twoSided:!1,animated:!0,animationAtlasWidth:l,animationAtlasHeight:u});var h={};return h[m.Scene.RENDERPASS_UI_1]=n._material,n.addChild(new y.RenderableNode({geometry:c,materialByPass:h,sortPassData:{zIndex:100}})),n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"animationAtlasWidth",set:function(e){this._material.animationAtlasWidth=e}},{key:"animationAtlasHeight",set:function(e){this._material.animationAtlasHeight=e}},{key:"activationTime",get:function(){return this._activationTime},set:function(e){this._activationTime=e}},{key:"color",get:function(){return this.firstChild.materialByPass[m.Scene.RENDERPASS_UI_1].color},set:function(e){this.firstChild.materialByPass[m.Scene.RENDERPASS_UI_1].color=e}},{key:"texture",get:function(){return this.firstChild.materialByPass[m.Scene.RENDERPASS_UI_1].texture},set:function(e){this.firstChild.materialByPass[m.Scene.RENDERPASS_UI_1].texture=e}},{key:"animationT",set:function(e){this.firstChild.materialByPass[m.Scene.RENDERPASS_UI_1].animationT=e},get:function(){return this.firstChild.materialByPass[m.Scene.RENDERPASS_UI_1].animationT}}]),t}(_.SpatialNode)},,function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments[1];switch(t.type){case u.INIT_CUSTOMIZATION:var n=(0,d.default)(t.primaryColor).rgb(),i=(0,d.default)(t.secondaryColor).rgb(),r=n.lighten(.1).rgb(),a=i.darken(.5).rgb(),o=a.fade(.3).rgb(),l=a.fade(.5).rgb(),c=a.fade(.95).rgb(),f=null;f=i.dark()?(0,d.default)("#fff").rgb():(0,d.default)("#fff").rgb();var _=f.fade(.8).rgb(),p='"Helvetica Neue", Helvetica, Arial, sans-serif',m="bold";return(0,s.default)({},e,{primaryColor:n,secondaryColor:i,primaryHoverColor:r,secondaryColorDark:a,secondaryClearColorDark:o,secondaryClearerColorDark:c,secondaryClearMediumColorDark:l,invertedSecondaryColor:f,invertedClearSecondaryColor:_,baseFont:p,baseFontWeight:m})}return e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),s=r(o);t.default=a;var l=n(78),u=i(l),c=n(490),d=r(c),h={}},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.contents[e.activeContentIdx],n={};if(t){if(t.type===S.CONTENT_TYPE_VIDEO){var i=[].concat((0,m.default)(e.contents.slice(0,e.activeContentIdx)),[(0,_.default)({},t,{playing:!1,ended:!1})],(0,m.default)(e.contents.slice(e.activeContentIdx+1)));n={contents:i}}n.activeContentIdx=-1,document.dispatchEvent(new CustomEvent("x-dl8-evt-exit",{detail:{id:t.id,element:t.domElement,internal:!0}}))}return n}function o(e){var t=e.contents[e.activeContentIdx];if(!(void 0===t||t.type!==S.CONTENT_TYPE_VIDEO||t.dl8LiveVideo&&t.notPausable)){v.TrackingManager.instance.addEvent(new y.TrackingEvent({
type:y.TrackingEvent.VIDEO_PAUSE,payload:{t:t.element.currentTime,cid:t.id}})),t.element.pause();var n=[].concat((0,m.default)(e.contents.slice(0,e.activeContentIdx)),[(0,_.default)({},t,{playing:!1,ended:!1})],(0,m.default)(e.contents.slice(e.activeContentIdx+1)));return{contents:n}}}function s(e,t){var n=e.contents[e.activeContentIdx];if(void 0!==n&&n.type===S.CONTENT_TYPE_VIDEO){v.TrackingManager.instance.addEvent(new y.TrackingEvent({type:y.TrackingEvent.VIDEO_PLAY,payload:{t:n.element.currentTime,cid:n.id}})),P||n.contentError||(n.element.play(),(n.dl8LiveVideo&&!n.seekable||t.seekToEnd)&&(n.element.currentTime=Math.max(n.duration-1,0)));var i=[].concat((0,m.default)(e.contents.slice(0,e.activeContentIdx)),[(0,_.default)({},n,{playing:P||!n.element.paused,ended:!1})],(0,m.default)(e.contents.slice(e.activeContentIdx+1)));return{contents:i}}}function l(e,t){var n=e.contents.findIndex(function(e){return e.id===t});return n!==-1?(0,_.default)({},e,{contents:e.contents.filter(function(e){return e.id!==t}),activeContentIdx:n===e.activeContentIdx?-1:e.activeContentIdx}):e}function u(e,t,n){var i=t.id;if(e.contents.find(function(e){return e.id===i}))return e;var r=t.element,a=t.type,o={id:i};if(a===S.CONTENT_TYPE_VIDEO){r.readyState>0&&(r.currentTime=0);var s=!t.dl8Cinema&&(t.format===S.CONTENT_MODE_STEREO_FLAT_LR||t.format===S.CONTENT_MODE_STEREO_FLAT_TB||t.format===S.CONTENT_MODE_STEREO_FLAT_LR_SQUARE||t.format===S.CONTENT_MODE_STEREO_FLAT_TB_SQUARE||t.format===S.CONTENT_MODE_MONO_FLAT),l=s||t.dl8Cinema&&!t.forceShowCinema;o=(0,_.default)({},t,{curTime:0,buffering:[0,0],volume:t.muted?0:r.volume,seeking:!1,ended:!1,loop:t.loop,changedQuality:!1,isFlatVideo:s,lockNonVrView:l,qualities:[],sources:[],advertisements:{}})}else o=a===S.CONTENT_TYPE_IMAGE?(0,_.default)({},t):a===S.CONTENT_TYPE_IBR?(0,_.default)({},t,{positional:!0}):a===S.CONTENT_TYPE_TOUR?(0,_.default)({},t):a===S.CONTENT_TYPE_HUB?(0,_.default)({},t):a===S.CONTENT_TYPE_MODEL?(0,_.default)({},t,{positional:!0}):(0,_.default)({},t);return o=(0,_.default)(o,{parentIds:n}),(0,_.default)({},e,{contents:[].concat((0,m.default)(e.contents),[o])})}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments[1];switch(t.type){case E.TOUR_PROBE_CHANGED:var n=e.contents[e.activeContentIdx];if(void 0!==n&&n.type===S.CONTENT_TYPE_TOUR){v.TrackingManager.instance.addEvent(new y.TrackingEvent({type:y.TrackingEvent.TOUR_PROBE_CHANGED,payload:{cid:n.id,pid:t.id}}));var i=n.dl8TourImgs.findIndex(function(e){return e.probeId===t.id}),r=[].concat((0,m.default)(e.contents.slice(0,e.activeContentIdx)),[(0,_.default)({},n,{activeProbeIdx:i<0?n.activeProbeIdx:i})],(0,m.default)(e.contents.slice(e.activeContentIdx+1)));return(0,_.default)({},e,{contents:r})}break;case E.FINISH_VR_WIZARD:var c=e.contents[e.activeContentIdx];if(c){var d=T.Util.getLocalStorageItemSafe("x-dl8-settings-phone"),f=T.Util.getLocalStorageItemSafe("x-dl8-settings-hmd"),p=T.Util.getLocalStorageItemSafe("x-dl8-settings-gaze-interaction"),A={cid:c.id};null!==d&&(A.phone=d),null!==f&&(A.hmd=f),null!==p&&(A.gaze=p),v.TrackingManager.instance.addEvent(new y.TrackingEvent({type:y.TrackingEvent.EXIT_WIZARD,payload:A}))}break;case E.RESET_POSE:var b=e.contents[e.activeContentIdx];b&&v.TrackingManager.instance.addEvent(new y.TrackingEvent({type:y.TrackingEvent.RECENTER,payload:{cid:b.id}}));break;case E.ACTIVATE_MAGIC_WINDOW_CONTROLS:var w=e.contents[e.activeContentIdx];w&&v.TrackingManager.instance.addEvent(new y.TrackingEvent({type:y.TrackingEvent.CAMERA_MODE_SWITCH,payload:{cid:w.id,mode:S.MAGIC_WINDOW_CONTROLS}}));break;case E.ACTIVATE_DRAG_CONTROLS:var P=e.contents[e.activeContentIdx];P&&v.TrackingManager.instance.addEvent(new y.TrackingEvent({type:y.TrackingEvent.CAMERA_MODE_SWITCH,payload:{cid:P.id,mode:S.DRAG_CONTROLS}}));break;case E.ACTIVATE_VR:var I=e.contents[e.activeContentIdx];void 0!==I&&v.TrackingManager.instance.addEvent(new y.TrackingEvent({type:y.TrackingEvent.ENTER_VR,payload:{cid:I.id}}));break;case E.DEACTIVATE_VR:var R=e.contents[e.activeContentIdx];void 0!==R&&v.TrackingManager.instance.addEvent(new y.TrackingEvent({type:y.TrackingEvent.LEAVE_VR,payload:{cid:R.id}}));break;case E.SET_SOURCES:var k=t.idx,D=t.sources;return g.default.set(e,"contents."+k+".sources",D);case E.SET_SELECTED_QUALITY:var V=t.idx,B=t.selectedQuality;return g.default.set(e,"contents."+V+".selectedQuality",B);case E.SET_QUALITIES:var O=t.idx,N=t.qualities;return g.default.set(e,"contents."+O+".qualities",N);case E.SET_ACTIVATE_CONTENT:return(0,_.default)({},e,{activeContentIdx:t.idx});case E.LOADING_ADVERTISEMENT:return g.default.set(e,"contents."+e.activeContentIdx+".advertisements."+t.spot+".loading",!0);case E.ADVERTISEMENT_FAILED_LOADING:return g.default.set(e,"contents."+e.activeContentIdx+".advertisements."+t.spot+".loading",!1);case E.ADVERTISEMENT_READY:return g.default.merge(e,"contents."+e.activeContentIdx+".advertisements."+t.spot,(0,h.default)({loading:!1,valid:!0},t.advertisement));case E.DISMISS_ADVERTISEMENT:return g.default.set(e,"contents."+e.activeContentIdx+".advertisements."+t.spot+".dismissed",!0);case E.RECOMMENDATIONS_LOADING:return(0,_.default)({},e,{recommendationsLoading:!0});case E.RECOMMENDATIONS_FINISHED_LOADING:return(0,_.default)({},e,{recommendationsLoading:!1});case E.REPLACE_CONTENT:var L=t.oldContent,F=t.newContent,U=t.parentIds,H=e;return L.forEach(function(e){H=l(H,e.id)}),F.forEach(function(e){H=u(H,e,U)}),H;case E.REMOVE_CONTENT:var G=t.id;return l(e,G);case E.ADD_CONTENT:var z=t.content,Q=t.parentIds;return u(e,z,Q);case E.SET_CONTENT_ERROR:var W=e.contents.findIndex(function(e){return e.id===t.id});W===-1&&(W=e.activeContentIdx);var j=e.contents[W];if(void 0!==j){if(!j.corsFallbackUrl||j.corsFallbackRedirectConfirmation||t.contentError!==S.SECURITY_ERROR&&!T.Util.isIOS()){var X=[].concat((0,m.default)(e.contents.slice(0,W)),[(0,_.default)({},j,{contentError:t.contentError})],(0,m.default)(e.contents.slice(W+1)));return(0,_.default)({},e,{contents:X})}var Y=T.Util.parseUrl(j.corsFallbackUrl),q=Y.search.length>1,Z=Y.host.replace("/",""),K=Y.pathname;K.startsWith("/")&&(K=K.substring(1));var J=j.corsFallbackNoAutostart?"":(q?"&":"?")+"dl8-start-from-cors-fallback=true",$=Y.protocol+"//"+Z+"/"+K+Y.search+J+Y.hash;x.IFrameManager.isInIFrame()?window.parent.location=$:window.location=$}break;case E.SET_ERROR:return(0,_.default)({},e,o(e));case E.SEEK:var ee=e.contents[e.activeContentIdx];if(void 0!==ee&&ee.type===S.CONTENT_TYPE_VIDEO){if(!isFinite(t.time))break;if(t.time===ee.element.duration&&!isFinite(t.time))break;v.TrackingManager.instance.addEvent(new y.TrackingEvent({type:y.TrackingEvent.VIDEO_SEEK,payload:{t:t.time,cid:ee.id}})),ee.element.currentTime=t.time;var te=[].concat((0,m.default)(e.contents.slice(0,e.activeContentIdx)),[(0,_.default)({},ee,{ended:!1,seeking:!0})],(0,m.default)(e.contents.slice(e.activeContentIdx+1)));return(0,_.default)({},e,{contents:te})}break;case E.SEEKED:var ne=e.contents[e.activeContentIdx];if(void 0!==ne&&ne.type===S.CONTENT_TYPE_VIDEO){var ie=[].concat((0,m.default)(e.contents.slice(0,e.activeContentIdx)),[(0,_.default)({},ne,{seeking:!1})],(0,m.default)(e.contents.slice(e.activeContentIdx+1)));return(0,_.default)({},e,{contents:ie})}break;case E.PLAY:return(0,_.default)({},e,s(e,t));case E.PAUSE:return(0,_.default)({},e,o(e));case E.END:var re=e.contents[e.activeContentIdx];if(void 0!==re&&re.type===S.CONTENT_TYPE_VIDEO){if(T.Util.isIOS10OrHigher()&&re.loop)return re.element.currentTime=0,re.element.play(),e;v.TrackingManager.instance.addEvent(new y.TrackingEvent({type:y.TrackingEvent.VIDEO_ENDED,payload:{t:re.element.currentTime,cid:re.id}}));var ae=[].concat((0,m.default)(e.contents.slice(0,e.activeContentIdx)),[(0,_.default)({},re,{ended:!0,playing:!1})],(0,m.default)(e.contents.slice(e.activeContentIdx+1)));return(0,_.default)({},e,{contents:ae})}break;case E.SET_QUALITY_CHANGE_TIME:var oe=t.idx,se=t.currentTime;return g.default.set(e,"contents."+oe+".qualityChangeTime",se);case E.SET_QUALITY_CHANGED:var le=t.idx,ue=t.status;return g.default.set(e,"contents."+le+".changedQuality",ue);case E.UPDATE_TIME:var ce=e.contents[e.activeContentIdx];if(void 0!==ce&&ce.type===S.CONTENT_TYPE_VIDEO){var de=[].concat((0,m.default)(e.contents.slice(0,e.activeContentIdx)),[(0,_.default)({},ce,{curTime:ce.element.currentTime,loading:ce.element.readyState<4})],(0,m.default)(e.contents.slice(e.activeContentIdx+1)));return(0,_.default)({},e,{contents:de})}break;case E.UPDATE_DURATION:var he=e.contents[e.activeContentIdx];if(void 0!==he&&he.type===S.CONTENT_TYPE_VIDEO){var fe=[].concat((0,m.default)(e.contents.slice(0,e.activeContentIdx)),[(0,_.default)({},he,{duration:isNaN(he.element.duration)?0:he.element.duration})],(0,m.default)(e.contents.slice(e.activeContentIdx+1)));return(0,_.default)({},e,{contents:fe})}break;case E.UPDATE_METADATA:var _e=e.contents[e.activeContentIdx];if(void 0!==_e&&_e.type===S.CONTENT_TYPE_VIDEO){var pe=[].concat((0,m.default)(e.contents.slice(0,e.activeContentIdx)),[(0,_.default)({},_e,{width:_e.element.videoWidth?_e.element.videoWidth:0,height:_e.element.videoHeight?_e.element.videoHeight:0})],(0,m.default)(e.contents.slice(e.activeContentIdx+1)));return(0,_.default)({},e,{contents:pe})}break;case E.UNMUTE:var me=e.contents[e.activeContentIdx];if(void 0!==me&&me.type===S.CONTENT_TYPE_VIDEO){me.element.muted=!1,me.element.volume=1;var Ae=[].concat((0,m.default)(e.contents.slice(0,e.activeContentIdx)),[(0,_.default)({},me,{volume:1,muted:!1})],(0,m.default)(e.contents.slice(e.activeContentIdx+1)));return(0,_.default)({},e,{contents:Ae})}break;case E.MUTE:var ge=e.contents[e.activeContentIdx];if(void 0!==ge&&ge.type===S.CONTENT_TYPE_VIDEO){ge.element.muted=!0,ge.element.volume=0;var ve=[].concat((0,m.default)(e.contents.slice(0,e.activeContentIdx)),[(0,_.default)({},ge,{volume:0,muted:!0})],(0,m.default)(e.contents.slice(e.activeContentIdx+1)));return(0,_.default)({},e,{contents:ve})}break;case E.UPDATE_VOLUME:var ye=e.contents[e.activeContentIdx];if(void 0!==ye&&ye.type===S.CONTENT_TYPE_VIDEO){var be={volume:t.volume};t.volume>0&&(ye.element.muted=!1,be.muted=!1),ye.element.volume=t.volume;var Ee=[].concat((0,m.default)(e.contents.slice(0,e.activeContentIdx)),[(0,_.default)({},ye,be)],(0,m.default)(e.contents.slice(e.activeContentIdx+1)));return(0,_.default)({},e,{contents:Ee})}break;case E.UPDATE_BUFFERING:var we=e.contents[e.activeContentIdx];if(void 0!==we&&we.type===S.CONTENT_TYPE_VIDEO){var Se=we.element.buffered,Te=we.element.currentTime,xe=[0,0],Ce=[].concat((0,m.default)(e.contents.slice(0,e.activeContentIdx)),[(0,_.default)({},we,{loading:we.element.readyState<4,buffering:(0,C.convertBufferState)(Se,Te,xe)})],(0,m.default)(e.contents.slice(e.activeContentIdx+1)));return(0,_.default)({},e,{contents:Ce})}break;case E.SHOW_VR_WIZARD:var Me=e.contents[e.activeContentIdx];Me&&v.TrackingManager.instance.addEvent(new y.TrackingEvent({type:y.TrackingEvent.START_WIZARD,payload:{cid:Me.id}}));break;case E.EXIT:return(0,_.default)({},e,a(e))}return e}Object.defineProperty(t,"__esModule",{value:!0});var d=n(237),h=r(d),f=n(10),_=r(f),p=n(72),m=r(p);t.default=c;var A=n(357),g=r(A);n(327);var v=n(79),y=n(68),b=n(78),E=i(b),w=n(19),S=i(w),T=n(7),x=n(81),C=n(49),M={},P=!T.Util.isIOS10OrHigher()&&!T.Util.isIPad()&&T.Util.isIOS()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(191),a=n(121),o=n(477),s=i(o),l=n(475),u=i(l),c=n(474),d=i(c),h=(0,r.combineReducers)({ui:s.default,data:u.default,customization:d.default,locale:a.localeReducer});t.default=h},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=void 0===window.scrollY?document.documentElement.scrollTop:window.scrollY,n=(0,f.default)(document.querySelectorAll('meta[name="viewport"]:not([id="dl8-meta-viewport"])'));if("fullscreen"===e.displayMode){if(y.IFrameManager.instance.connected&&e.useIFrameRedirect)return void y.IFrameManager.instance.enterFullscreen(e.useIFrameRedirect);(0,S.makeFullscreen)()}return{turnedOff:!1,savedScrollPos:t,oldViewports:n}}function o(e){var t=e.chromeWithoutDeviceMotion||e.IOSWithoutDeviceMotion;return{turnedOff:!0,controls:!e.mobile||e.tablet||t?v.DRAG_CONTROLS:v.MAGIC_WINDOW_CONTROLS,error:null,noWebGL:!1,firstTimeVr:!0,useNativeVideoFallback:!1,getVrDialogOpen:!1}}function s(e){if(e.vr&&!e.vrActive&&(!e.tablet||e.vrBrowser))return e.portrait&&e.mobile&&!e.android?{vrShouldRotate:!0}:{vrShouldActivate:!0,vrShouldAutostart:!1}}function l(e){if(e.vr&&e.vrActive)return{vrShouldDeactivate:!0}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments[1];switch(t.type){case A.SHOW_VR_HUD:return p.default.set(e,"vrHudVisible",t.status);case A.ACTIVATE_MAGIC_WINDOW_CONTROLS:return(0,d.default)({},e,{controls:v.MAGIC_WINDOW_CONTROLS});case A.ACTIVATE_DRAG_CONTROLS:return(0,d.default)({},e,{controls:v.DRAG_CONTROLS});case A.DEVICE_SUPPORTS_VR:var n=t.hmd;if(!n)return;var i=(0,d.default)({},e,{vr:!0,hardwareVr:t.hardwareVr,roomScaleVr:!(!n||!n.stageParameters),standing:t.standing});if(t.hardwareVr){var r={};n.capabilities&&(r=(0,d.default)(r,{hasPosition:n.capabilities.hasPosition,hasOrientation:!0,hasExternalDisplay:n.capabilities.hasExternalDisplay,canPresent:n.capabilities.canPresent,maxLayers:n.capabilities.maxLayers}));var u={};if(n.stageParameters&&(u=(0,d.default)(u,{stageSizeX:u.sizeX,stageSizeY:u.sizeY})),b.TrackingManager.instance.addEvent(new E.TrackingEvent({type:E.TrackingEvent.NEW_VR_DEVICE,payload:(0,d.default)({displayName:n.displayName,isConnected:n.isConnected,isPresenting:n.isPresenting,standing:t.standing},r,u)})),"function"==typeof navigator.getGamepads){var c=navigator.getGamepads();i.useGazeBasedInteraction=!c||0===(0,f.default)(c).filter(function(e){return null!==e}).length}else i.useGazeBasedInteraction=!0}return e.vrShouldAutostart&&(i=(0,d.default)({},i,s(i))),i;case A.ENTER_FULLSCREEN:return(0,d.default)({},e,{fullscreen:!0});case A.EXIT_FULLSCREEN:return(0,d.default)({},e,{fullscreen:!1});case A.FULLSCREEN_CHANGED:return(0,d.default)({},e,{fullscreen:t.enabled});case A.TRY_AUTOSTARTING_VR:return(0,d.default)({},e,{vrShouldAutostart:!0});case A.TRY_ACTIVATE_VR:return(0,d.default)({},e,{settingsOpen:!1},s(e));case A.TRY_DEACTIVATE_VR:return(0,d.default)({},e,l(e));case A.ACTIVATE_VR:var h=document.body.style.backgroundColor;return document.body.style.backgroundColor="#000",(0,d.default)({},e,{vrShouldActivate:!1,vrActive:!0,savedControls:e.controls,controls:v.VR_CONTROLS,vrShouldRotate:!1,hudToggled:!1,firstTimeVr:!1,oldBackgroundColor:h});case A.ABORT_ACTIVATE_VR:return document.body.style.backgroundColor=e.oldBackgroundColor,(0,d.default)({},e,{vrShouldActivate:!1});case A.DEACTIVATE_VR:return document.body.style.backgroundColor=e.oldBackgroundColor,(0,d.default)({},e,{vrShouldDeactivate:!1,vrActive:!1,controls:e.savedControls,hudToggled:!0});case A.ABORT_DEACTIVATE_VR:return document.body.style.backgroundColor="#000",(0,d.default)({},e,{vrShouldDeactivate:!1});case A.TO_LANDSCAPE:var _={portrait:!1};return e.vrShouldRotate&&!e.vrActive&&(_.vrShouldRotate=!1,_.vrShouldActivate=!0),(0,d.default)({},e,_);case A.TO_PORTRAIT:var m={portrait:!0};return e.vrActive&&(e.android||(m.vrShouldRotate=!0,m.vrShouldDeactivate=!0)),(0,d.default)({},e,m);case A.SEEKBAR_WAS_PRESSED:return(0,d.default)({},e,{seekbarPressed:t.pressed,settingsOpen:!1});case A.SHOW_HUD:return(0,d.default)({},e,{hudToggled:!0});case A.HIDE_HUD:return(0,d.default)({},e,{hudToggled:!1});case A.MOUSE_LEAVE_APP:if(!e.mobile)return(0,d.default)({},e,{mouseInApp:!1});break;case A.MOUSE_ENTER_APP:if(!e.mobile)return(0,d.default)({},e,{mouseInApp:!0});break;case A.SET_NO_WEBGL:return(0,d.default)({},e,{noWebGL:!0,error:t.error,useNativeVideoFallback:!0});case A.SET_ERROR:return(0,d.default)({},e,{error:t.error,useNativeVideoFallback:!0});case A.SET_CONTENT_ERROR:return(0,d.default)({},e);case A.EXIT:return(0,d.default)({},e,o(e));case A.START:return(0,d.default)({},e,a(e));case A.SET_ACTIVATE_CONTENT:return(0,d.default)({},e,a(e),{forceShowPlayButton:t.forceShowPlayButton});case A.SET_DISPLAY_MODE:return(0,d.default)({},e,{displayMode:t.displayMode});case A.TRY_RESET_POSE:return(0,d.default)({},e,{shouldResetPose:!0,settingsOpen:!1});case A.RESET_POSE:return(0,d.default)({},e,{shouldResetPose:!1});case A.USER_ACTIVE:return(0,d.default)({},e,{idle:!1});case A.USER_IDLE:return(0,d.default)({},e,{idle:!0});case A.SHOW_VR_WIZARD:return(0,d.default)({},e,{vrWizardActive:!0,settingsOpen:!1},l(e));case A.FINISH_VR_WIZARD:return w.Util.setLocalStorageItemSafe("x-dl8-settings-wizard-complete",!0),(0,d.default)({},e,{vrWizardActive:!1,firstTimeWizard:!1},s(e));case A.CANCEL_VR_WIZARD:return(0,d.default)({},e,{vrWizardActive:!1});case A.SET_NEW_PHONE:return w.Util.setLocalStorageItemSafe("x-dl8-settings-phone",t.phone),(0,d.default)({},e,{phone:t.phone});case A.SET_NEW_AUTODETECTED_PHONE:var g=null;return null===w.Util.getLocalStorageItemSafe("x-dl8-settings-phone")?t.phone&&(w.Util.setLocalStorageItemSafe("x-dl8-settings-phone",t.phone),g=t.phone):g=w.Util.getLocalStorageItemSafe("x-dl8-settings-phone"),(0,d.default)({},e,{phone:g});case A.SET_NEW_HMD:return w.Util.setLocalStorageItemSafe("x-dl8-settings-hmd",t.hmd),(0,d.default)({},e,{hmd:t.hmd});case A.FINISHED_LOADING_CONTENT:return document.dispatchEvent(new CustomEvent("x-dl8-evt-loading-finished")),(0,d.default)({},e,{loading:!1});case A.STARTED_LOADING_CONTENT:return document.dispatchEvent(new CustomEvent("x-dl8-evt-loading-started")),(0,d.default)({},e,{loading:!0});case A.PROGRESS_LOADING_CONTENT:return document.dispatchEvent(new CustomEvent("x-dl8-evt-loading-progress",{detail:{progress:t.progress}})),(0,d.default)({},e,{progress:t.progress});case A.OPEN_GET_VR_DIALOG:return(0,d.default)({},e,{getVrDialogOpen:!0});case A.CLOSE_GET_VR_DIALOG:return(0,d.default)({},e,{getVrDialogOpen:!1});case A.OPEN_IOS_WITHOUT_DEVICEMOTION_DIALOG:return(0,d.default)({},e,{iOSWithoutDeviceMotionDialogOpen:!0});case A.CLOSE_IOS_WITHOUT_DEVICEMOTION_DIALOG:return(0,d.default)({},e,{iOSWithoutDeviceMotionDialogOpen:!1});case A.OPEN_IOS_WITHOUT_DEVICEMOTION_VR_OVERLAY:return(0,d.default)({},e,{iOSWithoutDeviceMotionVrOverlayOpen:!0});case A.CLOSE_IOS_WITHOUT_DEVICEMOTION_VR_OVERLAY:return(0,d.default)({},e,{iOSWithoutDeviceMotionVrOverlayOpen:!1});case A.OPEN_SETTINGS:return(0,d.default)({},e,{settingsOpen:!0});case A.CLOSE_SETTINGS:return(0,d.default)({},e,{settingsOpen:!1});case A.START_RESET_RESOLUTION:return(0,d.default)({},e,{resettingResolution:!0});case A.END_RESET_RESOLUTION:return(0,d.default)({},e,{resettingResolution:!1,shouldResetRenderSystem:!1});case A.ACTIVATE_SEATED_VR:return(0,d.default)({},e,{standing:!1});case A.RESET_RENDER_SYSTEM:return(0,d.default)({},e,{shouldResetRenderSystem:!0});case A.ACTIVATE_ROOMSCALE_VR:return(0,d.default)({},e,{standing:!0});case A.CHANGE_QUALITY:return(0,d.default)({},e,{});case A.PLAY:return(0,d.default)({},e,{settingsOpen:!1,forceShowPlayButton:!1});case A.PAUSE:return(0,d.default)({},e,{settingsOpen:!1});case A.ENABLE_GAZE_BASED_INTERACTION:return w.Util.setLocalStorageItemSafe("x-dl8-settings-gaze-interaction",!0),(0,d.default)({},e,{useGazeBasedInteraction:!0});case A.DISABLE_GAZE_BASED_INTERACTION:return w.Util.setLocalStorageItemSafe("x-dl8-settings-gaze-interaction",!1),(0,d.default)({},e,{useGazeBasedInteraction:!1});case A.ENABLE_NATIVE_VIDEO_FALLBACK:return(0,d.default)({},e,{useNativeVideoFallback:!0});case A.DISABLE_NATIVE_VIDEO_FALLBACK:return(0,d.default)({},e,{useNativeVideoFallback:!1});case A.CHANGE_APP_SIZE:return(0,d.default)({},e,{appWidth:t.width,appHeight:t.height});case A.SHOW_CAMERA_SETTINGS_CHOOSER:return(0,d.default)({},e,{cameraSettingsChooserVisible:!0});case A.HIDE_CAMERA_SETTINGS_CHOOSER:return(0,d.default)({},e,{cameraSettingsChooserVisible:!1,settingsOpen:!1});case A.SHOW_QUALITY_SETTINGS_CHOOSER:return(0,d.default)({},e,{qualitySettingsChooserVisible:!0});case A.HIDE_QUALITY_SETTINGS_CHOOSER:return(0,d.default)({},e,{qualitySettingsChooserVisible:!1,settingsOpen:!1});case A.UPDATE_VOLUME:if(t.volume>0)return(0,d.default)({},e,{tapToUnmute:!1});break;case A.UNMUTE:return(0,d.default)({},e,{tapToUnmute:!1});case A.SET_TAP_TO_UNMUTE:return(0,d.default)({},e,{tapToUnmute:t.enabled});case A.ENABLE_INTERFACE:return(0,d.default)({},e,{hudEnabled:!0});case A.DISABLE_INTERFACE:return(0,d.default)({},e,{hudEnabled:!1});case A.IOS_DEVICE_MOTION_CHECK:return(0,d.default)({},e,{IOSWithoutDeviceMotion:!0,controls:v.DRAG_CONTROLS});case A.ACTIVATE_IOS_DEVICEMOTION:return(0,d.default)({},e,{IOSWithoutDeviceMotion:!1,controls:v.MAGIC_WINDOW_CONTROLS})}return e}Object.defineProperty(t,"__esModule",{value:!0});var c=n(10),d=r(c),h=n(44),f=r(h);t.default=u;var _=n(357),p=r(_),m=n(78),A=i(m),g=n(19),v=i(g),y=n(81),b=n(79),E=n(68),w=n(7),S=n(49),T={}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return d(u.default,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(191),o=n(657),s=i(o),l=n(476),u=i(l),c=a.compose,d=c((0,a.applyMiddleware)(s.default))(a.createStore)},,,,,,function(e,t,n){e.exports={default:n(516),__esModule:!0}},,function(e,t,n){e.exports={default:n(519),__esModule:!0}},function(e,t,n){function i(e){var t=function(t){return void 0===t||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}function r(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var i=n.length,r=0;r<i;r++)n[r]=Math.round(n[r]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}var a=n(325),o=n(488),s={},l=Object.keys(a);l.forEach(function(e){s[e]={},Object.defineProperty(s[e],"channels",{value:a[e].channels}),Object.defineProperty(s[e],"labels",{value:a[e].labels});var t=o(e),n=Object.keys(t);n.forEach(function(n){var a=t[n];s[e][n]=r(a),s[e][n].raw=i(a)})}),e.exports=s},function(e,t,n){function i(){for(var e={},t=Object.keys(s),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}function r(e){var t=i(),n=[e];for(t[e].distance=0;n.length;)for(var r=n.pop(),a=Object.keys(s[r]),o=a.length,l=0;l<o;l++){var u=a[l],c=t[u];c.distance===-1&&(c.distance=t[r].distance+1,c.parent=r,n.unshift(u))}return t}function a(e,t){return function(n){return t(e(n))}}function o(e,t){for(var n=[t[e].parent,e],i=s[t[e].parent][e],r=t[e].parent;t[r].parent;)n.unshift(t[r].parent),i=a(s[t[r].parent][r],i),r=t[r].parent;return i.conversion=n,i}var s=n(325);e.exports=function(e){for(var t=r(e),n={},i=Object.keys(t),a=i.length,s=0;s<a;s++){var l=i[s],u=t[l];null!==u.parent&&(n[l]=o(l,t))}return n}},function(e,t,n){function i(e,t,n){return Math.min(Math.max(t,e),n)}function r(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var a=n(326),o=n(665),s={};for(var l in a)a.hasOwnProperty(l)&&(s[a[l]]=l);var u=e.exports={to:{}};u.get=function(e){var t,n,i=e.substring(0,3).toLowerCase();switch(i){case"hsl":t=u.get.hsl(e),n="hsl";break;case"hwb":t=u.get.hwb(e),n="hwb";break;default:t=u.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},u.get.rgb=function(e){if(!e)return null;var t,n,r,o=/^#([a-f0-9]{3,4})$/i,s=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,l=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,u=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,c=/(\D+)/,d=[0,0,0,1];if(t=e.match(s)){for(r=t[2],t=t[1],n=0;n<3;n++){var h=2*n;d[n]=parseInt(t.slice(h,h+2),16)}r&&(d[3]=Math.round(parseInt(r,16)/255*100)/100)}else if(t=e.match(o)){for(t=t[1],r=t[3],n=0;n<3;n++)d[n]=parseInt(t[n]+t[n],16);r&&(d[3]=Math.round(parseInt(r+r,16)/255*100)/100)}else if(t=e.match(l)){for(n=0;n<3;n++)d[n]=parseInt(t[n+1],0);t[4]&&(d[3]=parseFloat(t[4]))}else{if(!(t=e.match(u)))return(t=e.match(c))?"transparent"===t[1]?[0,0,0,0]:(d=a[t[1]])?(d[3]=1,d):null:null;for(n=0;n<3;n++)d[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(d[3]=parseFloat(t[4]))}for(n=0;n<3;n++)d[n]=i(d[n],0,255);return d[3]=i(d[3],0,1),d},u.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),a=(parseFloat(n[1])%360+360)%360,o=i(parseFloat(n[2]),0,100),s=i(parseFloat(n[3]),0,100),l=i(isNaN(r)?1:r,0,1);return[a,o,s,l]}return null},u.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),a=(parseFloat(n[1])%360+360)%360,o=i(parseFloat(n[2]),0,100),s=i(parseFloat(n[3]),0,100),l=i(isNaN(r)?1:r,0,1);return[a,o,s,l]}return null},u.to.hex=function(){var e=o(arguments);return"#"+r(e[0])+r(e[1])+r(e[2])+(e[3]<1?r(Math.round(255*e[3])):"")},u.to.rgb=function(){var e=o(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},u.to.rgb.percent=function(){var e=o(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+i+"%)":"rgba("+t+"%, "+n+"%, "+i+"%, "+e[3]+")"},u.to.hsl=function(){var e=o(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},u.to.hwb=function(){var e=o(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},u.to.keyword=function(e){return s[e.slice(0,3)]}},function(e,t,n){"use strict";function i(e,t){if(!(this instanceof i))return new i(e,t);if(t&&t in f&&(t=null),t&&!(t in d))throw new Error("Unknown model: "+t);var n,r;if(e)if(e instanceof i)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var a=c.get(e);if(null===a)throw new Error("Unable to parse color from string: "+e);this.model=a.model,r=d[this.model].channels,this.color=a.value.slice(0,r),this.valpha="number"==typeof a.value[r]?a.value[r]:1}else if(e.length){this.model=t||"rgb",r=d[this.model].channels;var o=h.call(e,0,r);this.color=u(o,r),this.valpha="number"==typeof e[r]?e[r]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var s=Object.keys(e);"alpha"in e&&(s.splice(s.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var l=s.sort().join("");if(!(l in _))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=_[l];var m=d[this.model].labels,A=[];for(n=0;n<m.length;n++)A.push(e[m[n]]);this.color=u(A)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(p[this.model])for(r=d[this.model].channels,n=0;n<r;n++){var g=p[this.model][n];g&&(this.color[n]=g(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function r(e,t){return Number(e.toFixed(t))}function a(e){return function(t){return r(t,e)}}function o(e,t,n){return e=Array.isArray(e)?e:[e],e.forEach(function(e){(p[e]||(p[e]=[]))[t]=n}),e=e[0],function(i){var r;return arguments.length?(n&&(i=n(i)),r=this[e](),r.color[t]=i,r):(r=this[e]().color[t],n&&(r=n(r)),r)}}function s(e){return function(t){return Math.max(0,Math.min(e,t))}}function l(e){return Array.isArray(e)?e:[e]}function u(e,t){for(var n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}var c=n(489),d=n(487),h=[].slice,f=["keyword","gray","hex"],_={};Object.keys(d).forEach(function(e){_[h.call(d[e].labels).sort().join("")]=e});var p={};i.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in c.to?this:this.rgb();t=t.round("number"==typeof e?e:1);var n=1===t.valpha?t.color:t.color.concat(this.valpha);return c.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return c.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=d[this.model].channels,n=d[this.model].labels,i=0;i<t;i++)e[n[i]]=this.color[i];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new i(this.color.map(a(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new i(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:o("rgb",0,s(255)),green:o("rgb",1,s(255)),blue:o("rgb",2,s(255)),hue:o(["hsl","hsv","hsl","hwb","hcg"],0,function(e){return(e%360+360)%360}),saturationl:o("hsl",1,s(100)),lightness:o("hsl",2,s(100)),saturationv:o("hsv",1,s(100)),value:o("hsv",2,s(100)),chroma:o("hcg",1,s(100)),gray:o("hcg",2,s(100)),white:o("hwb",1,s(100)),wblack:o("hwb",2,s(100)),cyan:o("cmyk",0,s(100)),magenta:o("cmyk",1,s(100)),yellow:o("cmyk",2,s(100)),black:o("cmyk",3,s(100)),x:o("xyz",0,s(100)),y:o("xyz",1,s(100)),z:o("xyz",2,s(100)),l:o("lab",0,s(100)),a:o("lab",1),b:o("lab",2),keyword:function(e){return arguments.length?new i(e):d[this.model].keyword(this.color)},hex:function(e){return arguments.length?new i(e):c.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.rgb().color,t=(299*e[0]+587*e[1]+114*e[2])/1e3;return t<128},light:function(){return!this.dark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return i.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix:function(e,t){var n=this.rgb(),r=e.rgb(),a=void 0===t?.5:t,o=2*a-1,s=n.alpha()-r.alpha(),l=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,u=1-l;return i.rgb(l*n.red()+u*r.red(),l*n.green()+u*r.green(),l*n.blue()+u*r.blue(),n.alpha()*a+r.alpha()*(1-a))}},Object.keys(d).forEach(function(e){if(f.indexOf(e)===-1){var t=d[e].channels;i.prototype[e]=function(){if(this.model===e)return new i(this);if(arguments.length)return new i(arguments,e);var n="number"==typeof arguments[t]?t:this.valpha;return new i(l(d[this.model][e].raw(this.color)).concat(n),e)},i[e]=function(n){return"number"==typeof n&&(n=u(h.call(arguments),t)),new i(n,e)}}}),e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){
n(256),e.exports=n(17).Symbol.for},,,function(e,t,n){n(101),n(75),n(551),n(564),n(563),e.exports=n(17).WeakSet},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(174),r=n(67),a="WeakSet";n(150)(a,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(r(this,a),e,!0)}},i,!1,!0)},,,,,,,,,,,,function(e,t,n){n(155)("WeakSet")},function(e,t,n){n(156)("WeakSet")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){t=e.exports=n(22)(),t.push([e.id,"@font-face{font-family:dl8;src:url("+n(714)+') format("truetype"),url('+n(715)+') format("woff"),url('+n(689)+') format("svg");font-weight:400;font-style:normal}',""])},,function(e,t,n){t=e.exports=n(22)(),t.push([e.id,'#dl8-content-container,#dl8-content-container a,#dl8-content-container abbr,#dl8-content-container acronym,#dl8-content-container address,#dl8-content-container applet,#dl8-content-container area,#dl8-content-container article,#dl8-content-container aside,#dl8-content-container audio,#dl8-content-container b,#dl8-content-container big,#dl8-content-container blockquote,#dl8-content-container button,#dl8-content-container canvas,#dl8-content-container caption,#dl8-content-container cite,#dl8-content-container code,#dl8-content-container col,#dl8-content-container colgroup,#dl8-content-container datalist,#dl8-content-container dd,#dl8-content-container del,#dl8-content-container dfn,#dl8-content-container div,#dl8-content-container dl,#dl8-content-container dt,#dl8-content-container em,#dl8-content-container fieldset,#dl8-content-container figcaption,#dl8-content-container figure,#dl8-content-container footer,#dl8-content-container form,#dl8-content-container h1,#dl8-content-container h2,#dl8-content-container h3,#dl8-content-container h4,#dl8-content-container h5,#dl8-content-container h6,#dl8-content-container header,#dl8-content-container hr,#dl8-content-container i,#dl8-content-container iframe,#dl8-content-container img,#dl8-content-container input,#dl8-content-container ins,#dl8-content-container kbd,#dl8-content-container label,#dl8-content-container legend,#dl8-content-container li,#dl8-content-container main,#dl8-content-container map,#dl8-content-container mark,#dl8-content-container menu,#dl8-content-container meta,#dl8-content-container nav,#dl8-content-container object,#dl8-content-container ol,#dl8-content-container optgroup,#dl8-content-container option,#dl8-content-container output,#dl8-content-container p,#dl8-content-container pre,#dl8-content-container progress,#dl8-content-container q,#dl8-content-container samp,#dl8-content-container section,#dl8-content-container select,#dl8-content-container small,#dl8-content-container span,#dl8-content-container strike,#dl8-content-container strong,#dl8-content-container sub,#dl8-content-container summary,#dl8-content-container sup,#dl8-content-container table,#dl8-content-container tbody,#dl8-content-container td,#dl8-content-container textarea,#dl8-content-container tfoot,#dl8-content-container th,#dl8-content-container thead,#dl8-content-container time,#dl8-content-container tr,#dl8-content-container tt,#dl8-content-container ul,#dl8-content-container var,#dl8-content-container video,.dl8-embed-container,.dl8-embed-container a,.dl8-embed-container abbr,.dl8-embed-container acronym,.dl8-embed-container address,.dl8-embed-container applet,.dl8-embed-container area,.dl8-embed-container article,.dl8-embed-container aside,.dl8-embed-container audio,.dl8-embed-container b,.dl8-embed-container big,.dl8-embed-container blockquote,.dl8-embed-container button,.dl8-embed-container canvas,.dl8-embed-container caption,.dl8-embed-container cite,.dl8-embed-container code,.dl8-embed-container col,.dl8-embed-container colgroup,.dl8-embed-container datalist,.dl8-embed-container dd,.dl8-embed-container del,.dl8-embed-container dfn,.dl8-embed-container div,.dl8-embed-container dl,.dl8-embed-container dt,.dl8-embed-container em,.dl8-embed-container fieldset,.dl8-embed-container figcaption,.dl8-embed-container figure,.dl8-embed-container footer,.dl8-embed-container form,.dl8-embed-container h1,.dl8-embed-container h2,.dl8-embed-container h3,.dl8-embed-container h4,.dl8-embed-container h5,.dl8-embed-container h6,.dl8-embed-container header,.dl8-embed-container hr,.dl8-embed-container i,.dl8-embed-container iframe,.dl8-embed-container img,.dl8-embed-container input,.dl8-embed-container ins,.dl8-embed-container kbd,.dl8-embed-container label,.dl8-embed-container legend,.dl8-embed-container li,.dl8-embed-container main,.dl8-embed-container map,.dl8-embed-container mark,.dl8-embed-container menu,.dl8-embed-container meta,.dl8-embed-container nav,.dl8-embed-container object,.dl8-embed-container ol,.dl8-embed-container optgroup,.dl8-embed-container option,.dl8-embed-container output,.dl8-embed-container p,.dl8-embed-container pre,.dl8-embed-container progress,.dl8-embed-container q,.dl8-embed-container samp,.dl8-embed-container section,.dl8-embed-container select,.dl8-embed-container small,.dl8-embed-container span,.dl8-embed-container strike,.dl8-embed-container strong,.dl8-embed-container sub,.dl8-embed-container summary,.dl8-embed-container sup,.dl8-embed-container table,.dl8-embed-container tbody,.dl8-embed-container td,.dl8-embed-container textarea,.dl8-embed-container tfoot,.dl8-embed-container th,.dl8-embed-container thead,.dl8-embed-container time,.dl8-embed-container tr,.dl8-embed-container tt,.dl8-embed-container ul,.dl8-embed-container var,.dl8-embed-container video{background-attachment:scroll;background-color:transparent;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#000;border:medium none currentColor;bottom:auto;clear:none;clip:auto;color:inherit;counter-increment:none;counter-reset:none;cursor:auto;direction:inherit;display:inline;float:none;font-family:inherit;font-size:inherit;font-style:inherit;font-variant:normal;font-weight:inherit;height:auto;left:auto;letter-spacing:normal;line-height:inherit;list-style-type:inherit;list-style-position:outside;list-style-image:none;margin:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;outline:medium none invert;overflow:visible;padding:0;position:static;quotes:"" "";right:auto;table-layout:auto;text-align:inherit;text-decoration:inherit;text-indent:0;text-transform:none;top:auto;unicode-bidi:normal;vertical-align:baseline;visibility:inherit;white-space:normal;width:auto;word-spacing:normal;z-index:auto;background-origin:padding-box;background-clip:border-box;background-size:auto;-o-border-image:none;border-image:none;border-radius:0;box-shadow:none;box-sizing:content-box;-webkit-column-count:auto;-moz-column-count:auto;column-count:auto;-webkit-column-gap:normal;-moz-column-gap:normal;column-gap:normal;-webkit-column-rule:medium none #000;-moz-column-rule:medium none #000;column-rule:medium none #000;-webkit-column-span:1;-moz-column-span:1;column-span:1;-webkit-column-width:auto;-moz-column-width:auto;column-width:auto;-webkit-font-feature-settings:normal;-moz-font-feature-settings:normal;font-feature-settings:normal;overflow-x:visible;overflow-y:visible;-webkit-hyphens:manual;-moz-hyphens:manual;-ms-hyphens:manual;hyphens:manual;-webkit-perspective:none;-ms-perspective:none;-o-perspective:none;perspective:none;-webkit-perspective-origin:50% 50%;-ms-perspective-origin:50% 50%;-o-perspective-origin:50% 50%;perspective-origin:50% 50%;-webkit-backface-visibility:visible;backface-visibility:visible;text-shadow:none;-o-transition:all 0s ease 0s;transition:all 0s ease 0s;-webkit-transform:none;-o-transform:none;transform:none;-webkit-transform-origin:50% 50%;-o-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transform-style:flat;transform-style:flat;word-break:normal}#dl8-content-container,#dl8-content-container address,#dl8-content-container article,#dl8-content-container audio,#dl8-content-container blockquote,#dl8-content-container caption,#dl8-content-container colgroup,#dl8-content-container dd,#dl8-content-container dialog,#dl8-content-container div,#dl8-content-container dl,#dl8-content-container dt,#dl8-content-container fieldset,#dl8-content-container figure,#dl8-content-container footer,#dl8-content-container form,#dl8-content-container h1,#dl8-content-container h2,#dl8-content-container h3,#dl8-content-container h4,#dl8-content-container h5,#dl8-content-container h6,#dl8-content-container header,#dl8-content-container hgroup,#dl8-content-container hr,#dl8-content-container main,#dl8-content-container menu,#dl8-content-container nav,#dl8-content-container ol,#dl8-content-container option,#dl8-content-container p,#dl8-content-container pre,#dl8-content-container progress,#dl8-content-container section,#dl8-content-container summary,#dl8-content-container ul,#dl8-content-container video,.dl8-embed-container,.dl8-embed-container address,.dl8-embed-container article,.dl8-embed-container audio,.dl8-embed-container blockquote,.dl8-embed-container caption,.dl8-embed-container colgroup,.dl8-embed-container dd,.dl8-embed-container dialog,.dl8-embed-container div,.dl8-embed-container dl,.dl8-embed-container dt,.dl8-embed-container fieldset,.dl8-embed-container figure,.dl8-embed-container footer,.dl8-embed-container form,.dl8-embed-container h1,.dl8-embed-container h2,.dl8-embed-container h3,.dl8-embed-container h4,.dl8-embed-container h5,.dl8-embed-container h6,.dl8-embed-container header,.dl8-embed-container hgroup,.dl8-embed-container hr,.dl8-embed-container main,.dl8-embed-container menu,.dl8-embed-container nav,.dl8-embed-container ol,.dl8-embed-container option,.dl8-embed-container p,.dl8-embed-container pre,.dl8-embed-container progress,.dl8-embed-container section,.dl8-embed-container summary,.dl8-embed-container ul,.dl8-embed-container video{display:block}#dl8-content-container h1,#dl8-content-container h2,#dl8-content-container h3,#dl8-content-container h4,#dl8-content-container h5,#dl8-content-container h6,.dl8-embed-container h1,.dl8-embed-container h2,.dl8-embed-container h3,.dl8-embed-container h4,.dl8-embed-container h5,.dl8-embed-container h6{font-weight:700}#dl8-content-container h1,.dl8-embed-container h1{font-size:2em;padding:.67em 0}#dl8-content-container h2,.dl8-embed-container h2{font-size:1.5em;padding:.83em 0}#dl8-content-container h3,.dl8-embed-container h3{font-size:1.17em;padding:.83em 0}#dl8-content-container h4,.dl8-embed-container h4{font-size:1em}#dl8-content-container h5,.dl8-embed-container h5{font-size:.83em}#dl8-content-container p,.dl8-embed-container p{margin:1em 0}#dl8-content-container table,.dl8-embed-container table{display:table}#dl8-content-container thead,.dl8-embed-container thead{display:table-header-group}#dl8-content-container tbody,.dl8-embed-container tbody{display:table-row-group}#dl8-content-container tfoot,.dl8-embed-container tfoot{display:table-footer-group}#dl8-content-container tr,.dl8-embed-container tr{display:table-row}#dl8-content-container td,#dl8-content-container th,.dl8-embed-container td,.dl8-embed-container th{display:table-cell;padding:2px}#dl8-content-container ol,#dl8-content-container ul,.dl8-embed-container ol,.dl8-embed-container ul{margin:1em 0}#dl8-content-container ol li,#dl8-content-container ol ol li,#dl8-content-container ol ol ol li,#dl8-content-container ol ol ul li,#dl8-content-container ol ul ul li,#dl8-content-container ul li,#dl8-content-container ul ol ol li,#dl8-content-container ul ul li,#dl8-content-container ul ul ol li,#dl8-content-container ul ul ul li,.dl8-embed-container ol li,.dl8-embed-container ol ol li,.dl8-embed-container ol ol ol li,.dl8-embed-container ol ol ul li,.dl8-embed-container ol ul ul li,.dl8-embed-container ul li,.dl8-embed-container ul ol ol li,.dl8-embed-container ul ul li,.dl8-embed-container ul ul ol li,.dl8-embed-container ul ul ul li{list-style-position:inside;margin-top:.08em}#dl8-content-container ol ol,#dl8-content-container ol ol ol,#dl8-content-container ol ol ul,#dl8-content-container ol ul,#dl8-content-container ol ul ul,#dl8-content-container ul ol,#dl8-content-container ul ol ol,#dl8-content-container ul ul,#dl8-content-container ul ul ol,#dl8-content-container ul ul ul,.dl8-embed-container ol ol,.dl8-embed-container ol ol ol,.dl8-embed-container ol ol ul,.dl8-embed-container ol ul,.dl8-embed-container ol ul ul,.dl8-embed-container ul ol,.dl8-embed-container ul ol ol,.dl8-embed-container ul ul,.dl8-embed-container ul ul ol,.dl8-embed-container ul ul ul{padding-left:40px;margin:0}#dl8-content-container nav ol,#dl8-content-container nav ul,.dl8-embed-container nav ol,.dl8-embed-container nav ul{list-style-type:none}#dl8-content-container menu,#dl8-content-container ul,.dl8-embed-container menu,.dl8-embed-container ul{list-style-type:disc}#dl8-content-container ol,.dl8-embed-container ol{list-style-type:decimal}#dl8-content-container menu menu,#dl8-content-container menu ul,#dl8-content-container ol menu,#dl8-content-container ol ul,#dl8-content-container ul menu,#dl8-content-container ul ul,.dl8-embed-container menu menu,.dl8-embed-container menu ul,.dl8-embed-container ol menu,.dl8-embed-container ol ul,.dl8-embed-container ul menu,.dl8-embed-container ul ul{list-style-type:circle}#dl8-content-container menu menu menu,#dl8-content-container menu menu ul,#dl8-content-container menu ol menu,#dl8-content-container menu ol ul,#dl8-content-container menu ul menu,#dl8-content-container menu ul ul,#dl8-content-container ol menu menu,#dl8-content-container ol menu ul,#dl8-content-container ol ol menu,#dl8-content-container ol ol ul,#dl8-content-container ol ul menu,#dl8-content-container ol ul ul,#dl8-content-container ul menu menu,#dl8-content-container ul menu ul,#dl8-content-container ul ol menu,#dl8-content-container ul ol ul,#dl8-content-container ul ul menu,#dl8-content-container ul ul ul,.dl8-embed-container menu menu menu,.dl8-embed-container menu menu ul,.dl8-embed-container menu ol menu,.dl8-embed-container menu ol ul,.dl8-embed-container menu ul menu,.dl8-embed-container menu ul ul,.dl8-embed-container ol menu menu,.dl8-embed-container ol menu ul,.dl8-embed-container ol ol menu,.dl8-embed-container ol ol ul,.dl8-embed-container ol ul menu,.dl8-embed-container ol ul ul,.dl8-embed-container ul menu menu,.dl8-embed-container ul menu ul,.dl8-embed-container ul ol menu,.dl8-embed-container ul ol ul,.dl8-embed-container ul ul menu,.dl8-embed-container ul ul ul{list-style-type:square}#dl8-content-container li,.dl8-embed-container li{display:list-item;min-height:auto;min-width:auto;padding-left:20px}#dl8-content-container strong,.dl8-embed-container strong{font-weight:700}#dl8-content-container em,.dl8-embed-container em{font-style:italic}#dl8-content-container code,#dl8-content-container kbd,#dl8-content-container pre,#dl8-content-container samp,.dl8-embed-container code,.dl8-embed-container kbd,.dl8-embed-container pre,.dl8-embed-container samp{font-family:monospace}#dl8-content-container a,.dl8-embed-container a{color:blue;text-decoration:underline}#dl8-content-container a:visited,.dl8-embed-container a:visited{color:#529}#dl8-content-container a,#dl8-content-container a *,#dl8-content-container input[type=checkbox],#dl8-content-container input[type=radio],#dl8-content-container input[type=submit],#dl8-content-container select,.dl8-embed-container a,.dl8-embed-container a *,.dl8-embed-container input[type=checkbox],.dl8-embed-container input[type=radio],.dl8-embed-container input[type=submit],.dl8-embed-container select{cursor:pointer}#dl8-content-container button,#dl8-content-container input[type=submit],.dl8-embed-container button,.dl8-embed-container input[type=submit]{text-align:center;padding:2px 6px 3px;border-radius:4px;text-decoration:none;font-family:arial,helvetica,sans-serif;font-size:small;-webkit-appearance:push-button;color:buttontext;border:1px solid #a6a6a6;background:#d3d3d3;background:#fff;background:-o-linear-gradient(top,#fff 0,#ddd 100%,#d1d1d1 100%,#ddd 100%);background:linear-gradient(180deg,#fff 0,#ddd 100%,#d1d1d1 0,#ddd 0);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff",endColorstr="#dddddd",GradientType=0);-o-box-shadow:1px 1px 0 #eee;box-shadow:1px 1px 0 #eee;outline:medium none invert;outline:initial}#dl8-content-container button,.dl8-embed-container button{padding:1px 6px 2px;margin-right:5px}#dl8-content-container input[type=hidden],.dl8-embed-container input[type=hidden]{display:none}#dl8-content-container textarea,.dl8-embed-container textarea{-webkit-appearance:textarea;background:#fff;padding:2px;margin-left:4px;word-wrap:break-word;white-space:pre-wrap;font-size:11px;font-family:arial,helvetica,sans-serif;line-height:13px;resize:both}#dl8-content-container input,#dl8-content-container select,#dl8-content-container textarea,.dl8-embed-container input,.dl8-embed-container select,.dl8-embed-container textarea{border:1px solid #ccc}#dl8-content-container select,.dl8-embed-container select{font-size:11px;font-family:helvetica,arial,sans-serif;display:inline-block}#dl8-content-container input:focus,#dl8-content-container textarea:focus,.dl8-embed-container input:focus,.dl8-embed-container textarea:focus{outline:5px auto -webkit-focus-ring-color;outline:initial}#dl8-content-container input[type=text],.dl8-embed-container input[type=text]{background:#fff;padding:1px;font-family:serif;font-family:initial;font-size:small}#dl8-content-container input[type=checkbox],#dl8-content-container input[type=radio],.dl8-embed-container input[type=checkbox],.dl8-embed-container input[type=radio]{border:1px solid #2b2b2b;border-radius:4px;outline:intial}#dl8-content-container input[type=radio],.dl8-embed-container input[type=radio]{margin:2px 2px 3px}#dl8-content-container button:active,#dl8-content-container input[type=submit]:active,.dl8-embed-container button:active,.dl8-embed-container input[type=submit]:active{background:#3b679e;background:-o-linear-gradient(top,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8 100%);background:linear-gradient(180deg,#3b679e 0,#2b88d9 50%,#207cca 51%,#7db9e8);border-color:#5259b0}#dl8-content-container abbr[title],#dl8-content-container acronym[title],#dl8-content-container dfn[title],.dl8-embed-container abbr[title],.dl8-embed-container acronym[title],.dl8-embed-container dfn[title]{cursor:help;border-bottom-width:1px;border-bottom-style:dotted}#dl8-content-container ins,.dl8-embed-container ins{background-color:#ff9;color:#000}#dl8-content-container del,.dl8-embed-container del{text-decoration:line-through}#dl8-content-container blockquote,#dl8-content-container q,.dl8-embed-container blockquote,.dl8-embed-container q{quotes:none}#dl8-content-container:after q,#dl8-content-container blockquote:after,#dl8-content-container blockquote:before,#dl8-content-container li:after,#dl8-content-container li:before,#dl8-content-container q:before,.dl8-embed-container blockquote:after,.dl8-embed-container blockquote:before,.dl8-embed-container li:after,.dl8-embed-container li:before,.dl8-embed-container q:after,.dl8-embed-container q:before{content:""}#dl8-content-container input,#dl8-content-container select,.dl8-embed-container input,.dl8-embed-container select{vertical-align:middle}#dl8-content-container table,.dl8-embed-container table{border-collapse:collapse;border-spacing:0}#dl8-content-container hr,.dl8-embed-container hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0}#dl8-content-container [dir=rtl]{direction:rtl}#dl8-content-container mark,.dl8-embed-container mark{background-color:#ff9;color:#000;font-style:italic;font-weight:700}#dl8-content-container menu,.dl8-embed-container menu{padding-left:40px;padding-top:8px}#dl8-content-container [hidden],#dl8-content-container template,.dl8-embed-container template{display:none}#dl8-content-container abbr[title],.dl8-embed-container abbr[title]{border-bottom:1px dotted}#dl8-content-container sub,#dl8-content-container sup,.dl8-embed-container sub,.dl8-embed-container sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}#dl8-content-container sup,.dl8-embed-container sup{top:-.5em}#dl8-content-container sub,.dl8-embed-container sub{bottom:-.25em}#dl8-content-container img,.dl8-embed-container img{border:0}#dl8-content-container figure,.dl8-embed-container figure{margin:0}#dl8-content-container textarea,.dl8-embed-container textarea{overflow:auto;vertical-align:top}#dl8-content-container,.dl8-embed-container{font-size:medium;line-height:1;direction:ltr;text-align:left}[dir=ltr] #dl8-content-container,[dir=ltr] .dl8-embed-container{text-align:left}[dir=rtl] #dl8-content-container,[dir=rtl] .dl8-embed-container{text-align:right}#dl8-content-container,.dl8-embed-container{font-family:Times New Roman,Times,serif;color:#000;font-style:normal;font-weight:400;text-decoration:none;list-style-type:disc}#dl8-content-container pre,.dl8-embed-container pre{white-space:pre}',""])},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,'@-webkit-keyframes dl8FadeInDown{0%{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@-o-keyframes dl8FadeInDown{0%{opacity:0;-o-transform:translateY(-20px);transform:translateY(-20px)}to{opacity:1;-o-transform:translateY(0);transform:translateY(0)}}@keyframes dl8FadeInDown{0%{opacity:0;-webkit-transform:translateY(-20px);-o-transform:translateY(-20px);transform:translateY(-20px)}to{opacity:1;-webkit-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes dl8FadeInUp{0%{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@-o-keyframes dl8FadeInUp{0%{opacity:0;-o-transform:translateY(20px);transform:translateY(20px)}to{opacity:1;-o-transform:translateY(0);transform:translateY(0)}}@keyframes dl8FadeInUp{0%{opacity:0;-webkit-transform:translateY(20px);-o-transform:translateY(20px);transform:translateY(20px)}to{opacity:1;-webkit-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes dl8FadeIn{0%{opacity:0}to{opacity:1}}@-o-keyframes dl8FadeIn{0%{opacity:0}to{opacity:1}}@keyframes dl8FadeIn{0%{opacity:0}to{opacity:1}}#dl8-content-container .buttonLink{text-decoration:none}#dl8-content-container .dl8FadeInDown{-webkit-animation-name:dl8FadeInDown;-o-animation-name:dl8FadeInDown;animation-name:dl8FadeInDown;-webkit-animation-timing-function:ease-in-out;-o-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}#dl8-content-container .dl8FadeInDown,#dl8-content-container .dl8FadeInUp{-webkit-animation-duration:.3s;-o-animation-duration:.3s;animation-duration:.3s}#dl8-content-container .dl8FadeInUp{-webkit-animation-name:dl8FadeInUp;-o-animation-name:dl8FadeInUp;animation-name:dl8FadeInUp;-webkit-animation-timing-function:ease-in-out;-o-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}#dl8-content-container .dl8FadeIn{-webkit-animation-name:dl8FadeIn;-o-animation-name:dl8FadeIn;animation-name:dl8FadeIn;-webkit-animation-duration:.5s;-o-animation-duration:.5s;animation-duration:.5s;-webkit-animation-timing-function:ease-in-out;-o-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}#dl8-content-container .dl8Grow{-webkit-transform:scale(1);-o-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;-o-transform-origin:50% 50%;transform-origin:50% 50%;transition:-webkit-transform .1s ease-in-out;-o-transition:-o-transform .1s ease-in-out;transition:transform .1s ease-in-out;transition:transform .1s ease-in-out,-webkit-transform .1s ease-in-out,-o-transform .1s ease-in-out}#dl8-content-container .dl8Grow:hover{-webkit-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}#dl8-content-container .dl8Grow:active{-webkit-transform:scale(.9);-o-transform:scale(.9);transform:scale(.9)}#dl8-content-container .receivesEvents{pointer-events:auto!important}#dl8-content-container .dl8Btn{border:none;background:transparent;padding:0;color:inherit;text-align:inherit;font-size:100%;font-family:inherit;cursor:pointer;line-height:inherit;outline:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(255,255,255,0);-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;height:auto;text-transform:inherit;letter-spacing:inherit;box-shadow:none;border-radius:0;-webkit-appearance:none;-moz-appearance:none}#dl8-content-container .dl8Btn:after{display:none}#dl8-content-container .dl8Btn::-moz-focus-inner{border:0}#dl8-content-container .dl8Btn:hover{background-color:transparent;opacity:.85}#dl8-content-container .dl8Btn.mobile:hover{opacity:1}#dl8-content-container .dl8Btn:active{background:transparent}#dl8-content-container .dl8Btn.dl8WiderTouch{padding:20px}#dl8-content-container .dl8Btn.dl8Disabled{opacity:.3}#dl8-content-container .dl8Btn.dl8Disabled>.dl8Icon{cursor:not-allowed}#dl8-content-container .dl8Icon{cursor:pointer;display:inline-block;pointer-events:auto;font-family:dl8;font-size:28.8px;speak:none;font-style:normal;font-weight:400;-webkit-font-feature-settings:normal;-moz-font-feature-settings:normal;font-feature-settings:normal;font-variant:normal;text-transform:none;line-height:1;color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#dl8-content-container .dl8Icon:active{-webkit-filter:drop-shadow(0 0 10px #fff);filter:drop-shadow(0 0 10px #fff)}#dl8-content-container .dl8Icon.iconCheck:before{content:"\\E904"}#dl8-content-container .dl8Icon.iconPlay:before{content:"\\E90D"}#dl8-content-container .dl8Icon.iconPause:before{content:"\\E90C"}#dl8-content-container .dl8Icon.iconStop:before{content:"\\E917"}#dl8-content-container .dl8Icon.iconReplay:before{content:"\\E90F"}#dl8-content-container .dl8Icon.iconBack:before{content:"\\E900"}#dl8-content-container .dl8Icon.iconForward:before{content:"\\E901"}#dl8-content-container .dl8Icon.iconPreviousVideo:before{content:"\\E918"}#dl8-content-container .dl8Icon.iconNextVideo:before{content:"\\E919"}#dl8-content-container .dl8Icon.iconUrl:before{content:"\\E90E"}#dl8-content-container .dl8Icon.iconCross:before{content:"\\E905"}#dl8-content-container .dl8Icon.iconFullscreenEnter:before{content:"\\E906"}#dl8-content-container .dl8Icon.iconFullscreenExit:before{content:"\\E907"}#dl8-content-container .dl8Icon.iconSettings:before{content:"\\E911"}#dl8-content-container .dl8Icon.iconVR:before{content:"\\E908"}#dl8-content-container .dl8Icon.iconPose:before{content:"\\E910"}#dl8-content-container .dl8Icon.iconWizard:before{content:"\\E911"}#dl8-content-container .dl8Icon.iconSearch:before{content:"\\E90B"}#dl8-content-container .dl8Icon.iconVROff:before{content:"\\E912"}#dl8-content-container .dl8Icon.iconPhone:before{content:"\\E903"}#dl8-content-container .dl8Icon.iconHmd:before{content:"\\E90A"}#dl8-content-container .dl8Icon.iconDots:before{content:"\\E909"}#dl8-content-container .dl8Icon.iconMute:before{content:"\\E913"}#dl8-content-container .dl8Icon.iconVolume:before{content:"\\E914"}#dl8-content-container .dl8Icon.iconRoomScale:before{content:"\\E915"}#dl8-content-container .dl8Icon.iconSeated:before{content:"\\E916"}',""])},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,"#dl8-content-container .PauseAdvertisementView_root_3pS{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;position:absolute;width:100%;height:100%;background:rgba(0,0,0,.3)}#dl8-content-container .PauseAdvertisementView_root_3pS .PauseAdvertisementView_container_1Bj{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;position:absolute;width:300px;height:290px;background:rgba(0,0,0,.8);top:50%;left:50%;margin-top:-145px;margin-left:-150px;z-index:10;pointer-events:auto;overflow:hidden}#dl8-content-container .PauseAdvertisementView_root_3pS .PauseAdvertisementView_container_1Bj.PauseAdvertisementView_isMobile_FYB{top:50%;left:15px;margin-left:0}#dl8-content-container .PauseAdvertisementView_root_3pS .PauseAdvertisementView_container_1Bj.PauseAdvertisementView_isMobile_FYB.PauseAdvertisementView_hasMinWidthToCenter_vPK{top:50%;left:25%;margin-top:-145px;margin-left:-150px}#dl8-content-container .PauseAdvertisementView_root_3pS .PauseAdvertisementView_container_1Bj.PauseAdvertisementView_isMobile_FYB.PauseAdvertisementView_hasMinHeightToCenter_39Q{top:50%;left:50%;margin-top:-190px;margin-left:-150px}#dl8-content-container .PauseAdvertisementView_root_3pS .PauseAdvertisementView_container_1Bj.PauseAdvertisementView_isMobile_FYB.PauseAdvertisementView_hasMinHeightToCenter_39Q.PauseAdvertisementView_hasBottomAddons_1Mp{top:calc(50% - 100px);left:50%;margin-top:-145px;margin-left:-150px}#dl8-content-container .PauseAdvertisementView_root_3pS .PauseAdvertisementView_advertisement_Cbo{position:relative;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;width:100%;height:250px;overflow:hidden}#dl8-content-container .PauseAdvertisementView_root_3pS .PauseAdvertisementView_bottom_3Jv{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-between;justify-content:space-between;position:relative;width:100%;height:40px;bottom:0;color:#fff}#dl8-content-container .PauseAdvertisementView_root_3pS .PauseAdvertisementView_bottomText_2JN{padding-left:10px;font-size:14px;letter-spacing:.5px}#dl8-content-container .PauseAdvertisementView_root_3pS .PauseAdvertisementView_dl8AdvertisementBtn_1YI{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;width:40px;height:40px;margin:0}#dl8-content-container .PauseAdvertisementView_root_3pS .PauseAdvertisementView_dl8AdvertisementIconCross_3bG{font-size:22px}",""]),t.locals={root:"PauseAdvertisementView_root_3pS",container:"PauseAdvertisementView_container_1Bj",isMobile:"PauseAdvertisementView_isMobile_FYB",hasMinWidthToCenter:"PauseAdvertisementView_hasMinWidthToCenter_vPK",hasMinHeightToCenter:"PauseAdvertisementView_hasMinHeightToCenter_39Q",hasBottomAddons:"PauseAdvertisementView_hasBottomAddons_1Mp",advertisement:"PauseAdvertisementView_advertisement_Cbo",bottom:"PauseAdvertisementView_bottom_3Jv",bottomText:"PauseAdvertisementView_bottomText_2JN",dl8AdvertisementBtn:"PauseAdvertisementView_dl8AdvertisementBtn_1YI",dl8AdvertisementIconCross:"PauseAdvertisementView_dl8AdvertisementIconCross_3bG"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,"#dl8-content-container .AdvertisementViewIframe_root_CpS{display:block;width:100%;height:100%}",""]),t.locals={root:"AdvertisementViewIframe_root_CpS"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,"#dl8-content-container .AdvertisementViewImage_image_cei,#dl8-content-container .AdvertisementViewImage_imageContainer_23-{display:block;width:100%;height:100%}#dl8-content-container .AdvertisementViewImage_error_2lb{padding:20px;text-align:center}",""]),t.locals={imageContainer:"AdvertisementViewImage_imageContainer_23-",image:"AdvertisementViewImage_image_cei",error:"AdvertisementViewImage_error_2lb"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,"#dl8-content-container .AdvertisementViewInvalid_root_10S{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-direction:column;flex-direction:column;padding:0 50px;color:#fff;text-align:center;font-weight:400}#dl8-content-container .AdvertisementViewInvalid_root_10S>.AdvertisementViewInvalid_dl8FaultyTag_18D{width:50px;height:50px;display:block;background:url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz4KICAgIDxwYXRoIGQ9Ik0xIDIxaDIyTDEyIDIgMSAyMXptMTItM2gtMnYtMmgydjJ6bTAtNGgtMnYtNGgydjR6Ii8+Cjwvc3ZnPg==) no-repeat;background-size:100%}",""]),
t.locals={root:"AdvertisementViewInvalid_root_10S",dl8FaultyTag:"AdvertisementViewInvalid_dl8FaultyTag_18D"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,"#dl8-content-container .AdvertisementViewLoader_root_Lsl{font-size:5px;position:relative;text-indent:-9999em;border:2px solid #646464;border-left-color:#787878;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:AdvertisementViewLoader_load8_2UG 2s infinite linear;-o-animation:AdvertisementViewLoader_load8_2UG 2s infinite linear;animation:AdvertisementViewLoader_load8_2UG 2s infinite linear;border-radius:50%;width:25px;height:25px}@-webkit-keyframes AdvertisementViewLoader_load8_2UG{0%{-webkit-transform:rotate(-55deg);transform:rotate(-55deg)}87%{-webkit-transform:rotate(935deg);transform:rotate(935deg)}to{-webkit-transform:rotate(1025deg);transform:rotate(1025deg)}}@-o-keyframes AdvertisementViewLoader_load8_2UG{0%{-o-transform:rotate(-55deg);transform:rotate(-55deg)}87%{-o-transform:rotate(935deg);transform:rotate(935deg)}to{-o-transform:rotate(1025deg);transform:rotate(1025deg)}}@keyframes AdvertisementViewLoader_load8_2UG{0%{-webkit-transform:rotate(-55deg);-o-transform:rotate(-55deg);transform:rotate(-55deg)}87%{-webkit-transform:rotate(935deg);-o-transform:rotate(935deg);transform:rotate(935deg)}to{-webkit-transform:rotate(1025deg);-o-transform:rotate(1025deg);transform:rotate(1025deg)}}#dl8-content-container .AdvertisementViewLoader_root_Lsl:after{border-radius:50%;width:10em;height:10em}",""]),t.locals={root:"AdvertisementViewLoader_root_Lsl",load8:"AdvertisementViewLoader_load8_2UG"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,"#dl8-content-container .AffiliateItemView_root_2dh{background:#fff;border-radius:10px;display:-webkit-flex;display:flex;color:#000;width:100%;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,.1)}#dl8-content-container .AffiliateItemView_root_2dh>div{padding:10px 0;-webkit-flex:1 1;flex:1 1;-webkit-align-self:center;align-self:center}#dl8-content-container .AffiliateItemView_root_2dh>div:first-child{width:60px;padding:5px 12px 5px 8px;-webkit-align-self:center;align-self:center;-webkit-flex:inherit;flex:inherit}#dl8-content-container .AffiliateItemView_root_2dh>div:last-child{-webkit-align-self:flex-start;align-self:flex-start;padding:10px 10px 0 5px;-webkit-flex:inherit;flex:inherit}#dl8-content-container .AffiliateItemView_root_2dh>div:last-child>i{font-size:26px;text-decoration:none;color:#000;opacity:.6}#dl8-content-container .AffiliateItemView_root_2dh>div>img{max-width:100%;border-radius:10px}#dl8-content-container .AffiliateItemView_root_2dh>div>span{font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;line-height:16px;letter-spacing:.6px;text-align:left;font-size:10.8px;display:block}#dl8-content-container .AffiliateItemView_root_2dh>div>span.AffiliateItemView_desc_yOt{opacity:.6}",""]),t.locals={root:"AffiliateItemView_root_2dh",desc:"AffiliateItemView_desc_yOt"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,"#dl8-content-container .CompassView_root_329{display:inline-block;position:relative;opacity:.4;-o-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out}#dl8-content-container .CompassView_root_329:hover{opacity:1}#dl8-content-container .CompassView_root_329.CompassView_active_3rx{opacity:.8}#dl8-content-container .CompassView_root_329.CompassView_active_3rx:hover{opacity:1}#dl8-content-container .CompassView_root_329>.CompassView_base_3q2{background:url("+n(692)+") no-repeat 50% 50%;background-size:100%;position:absolute;top:0;left:0;width:100%;height:100%}#dl8-content-container .CompassView_root_329>.CompassView_fov_3Pt{background:url("+n(693)+") no-repeat 50% 50%;background-size:100%;position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer}",""]),t.locals={root:"CompassView_root_329",active:"CompassView_active_3rx",base:"CompassView_base_3q2",fov:"CompassView_fov_3Pt"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,'#dl8-content-container .RecommendationAfterPlaybackView_root_10W{overflow:visible;width:100%;display:inline-block;left:0;top:50%;position:absolute;z-index:10;opacity:0;pointer-events:none;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:manipulation;touch-action:none}@media only screen and (max-device-width:350px) and (max-device-width:600px){#dl8-content-container .RecommendationAfterPlaybackView_root_10W{top:calc(50% - 8px)}}#dl8-content-container .RecommendationAfterPlaybackView_root_10W::-webkit-scrollbar{display:none}#dl8-content-container .RecommendationAfterPlaybackView_touchActive_7iP{-o-transition:none;transition:none}#dl8-content-container .RecommendationAfterPlaybackView_opened_1BV{opacity:1;pointer-events:auto}#dl8-content-container .RecommendationAfterPlaybackView_arrow_tCc{border-radius:50%;z-index:20;-o-transition:opacity .3s ease-in-out .2s;transition:opacity .3s ease-in-out .2s}#dl8-content-container .RecommendationAfterPlaybackView_arrowLeft_aiN{position:absolute;left:5px;top:50%;padding:5px;margin-top:-15px}#dl8-content-container .RecommendationAfterPlaybackView_arrowRight_2we{position:absolute;right:5px;top:50%;padding:5px;margin-top:-15px}#dl8-content-container .RecommendationAfterPlaybackView_wrapper_3gr{overflow:hidden;display:-webkit-flex;display:flex}#dl8-content-container .RecommendationAfterPlaybackView_thumb_2Zg{width:100%;background-position:50% 50%;background-repeat:no-repeat;background-size:cover;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;position:relative}#dl8-content-container .RecommendationAfterPlaybackView_thumb_2Zg:before{font-family:dl8;content:"\\E90D";font-size:24px;color:#fff;width:38px;height:38px;border-radius:50%;background:rgba(0,0,0,.5);text-align:center;line-height:38px;margin-top:-10px}#dl8-content-container .RecommendationAfterPlaybackView_thumbNoInfo_2qN:before{margin-top:0}#dl8-content-container .RecommendationAfterPlaybackView_countdown_3rH{position:absolute;top:-22px;color:hsla(0,0%,100%,.6);-o-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out;pointer-events:none;left:0;opacity:0;width:100%;text-align:center;font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-size:12px}@media only screen and (max-device-width:350px) and (max-device-width:600px){#dl8-content-container .RecommendationAfterPlaybackView_countdown_3rH{display:none}}#dl8-content-container .RecommendationAfterPlaybackView_countdownNumber_gBp{color:#fff;font-weight:700}#dl8-content-container .RecommendationAfterPlaybackView_playCountdown_3Mj{position:absolute;pointer-events:none;margin-top:3px}#dl8-content-container .RecommendationAfterPlaybackView_playCountdown_3Mj circle{stroke-dasharray:119.38;stroke-dashoffset:119.38;-o-transition-property:stroke-dashoffset;transition-property:stroke-dashoffset;-o-transition-timing-function:linear;transition-timing-function:linear}#dl8-content-container .RecommendationAfterPlaybackView_playCountdown_3Mj.RecommendationAfterPlaybackView_playCountdownActive_X1_ circle{stroke-dashoffset:0;-webkit-transform-origin:center;-o-transform-origin:center;transform-origin:center;-webkit-transform:translate(4px,-6px) rotate(-90deg);-o-transform:translate(4px,-6px) rotate(-90deg);transform:translate(4px,-6px) rotate(-90deg)}#dl8-content-container .RecommendationAfterPlaybackView_playCountdown_3Mj:not(.RecommendationAfterPlaybackView_playCountdownActive_X1_) circle{-o-transition-duration:0s!important;transition-duration:0s!important;stroke-dashoffset:119.38!important}#dl8-content-container .RecommendationAfterPlaybackView_thumbDate_1zm{left:0;border-top-right-radius:5px}#dl8-content-container .RecommendationAfterPlaybackView_thumbDate_1zm,#dl8-content-container .RecommendationAfterPlaybackView_thumbDuration_34T{font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;position:absolute;bottom:0;color:#fff;background:rgba(0,0,0,.6);font-size:10px;padding:4px 6px}#dl8-content-container .RecommendationAfterPlaybackView_thumbDuration_34T{right:0;border-top-left-radius:5px}#dl8-content-container .RecommendationAfterPlaybackView_item_1WR{position:relative;border-radius:8px;overflow:hidden;cursor:pointer;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;box-sizing:border-box}#dl8-content-container .RecommendationAfterPlaybackView_itemHighlight_2_u{border-radius:8px;pointer-events:none;position:absolute;top:0;left:50%;height:100%;z-index:2;-o-transition:opacity .25s ease-out .5s;transition:opacity .25s ease-out .5s;opacity:1}#dl8-content-container .RecommendationAfterPlaybackView_itemHighlightInTransition_1dd{-o-transition:none;transition:none;opacity:0}#dl8-content-container .RecommendationAfterPlaybackView_itemBorder_3mX{border-radius:5px;overflow:hidden;pointer-events:none;box-sizing:border-box;margin:3px}#dl8-content-container .RecommendationAfterPlaybackView_itemMobile_2bN:hover:after{background-color:transparent}#dl8-content-container .RecommendationAfterPlaybackView_itemText_3gi{-o-transition:opacity .3s ease-in-out .05s;transition:opacity .3s ease-in-out .05s;width:100%;margin:0;font-size:12px;pointer-events:none;background:#fff;height:auto;padding:7px;box-sizing:border-box}#dl8-content-container .RecommendationAfterPlaybackView_itemHeadingTag_1d-{font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-size:12px;height:30px;padding-top:0;padding-bottom:3px;line-height:14px;display:-webkit-flex;display:flex;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;-webkit-align-items:center;align-items:center;box-sizing:border-box;position:relative}#dl8-content-container .RecommendationAfterPlaybackView_itemHeadingTagSpan_Pei{-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto}#dl8-content-container .RecommendationAfterPlaybackView_itemHeadingTagMultiline_3Z1{overflow:hidden;-webkit-align-items:flex-start;align-items:flex-start}#dl8-content-container .RecommendationAfterPlaybackView_itemHeadingTagMultiline_3Z1:after{position:absolute;content:"";bottom:0;right:0;background:-o-linear-gradient(left,hsla(0,0%,100%,0) 0,#fff 100%);background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff);width:14px;height:16px}#dl8-content-container .RecommendationAfterPlaybackView_itemTitle_2lc{font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-size:11px;line-height:14px;color:#111;font-weight:400;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;height:30px;display:-webkit-flex;display:flex;-webkit-align-items:flex-start;align-items:flex-start;overflow:hidden}#dl8-content-container .RecommendationAfterPlaybackView_itemTitle_2lc:after{position:absolute;content:"";bottom:3px;right:4px;background:-o-linear-gradient(left,hsla(0,0%,100%,0) 0,#fff 100%);background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff);width:31px;height:22px;border-radius:6px}#dl8-content-container .RecommendationAfterPlaybackView_replayButton_1n2{position:relative;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;text-align:center;color:#fff;font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-size:12px;line-height:14px;padding:0 15px;box-sizing:border-box}#dl8-content-container .RecommendationAfterPlaybackView_replayIcon_1A9{border-radius:50%;width:38px;height:38px;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;margin-bottom:10px;-webkit-justify-content:center;justify-content:center}#dl8-content-container .RecommendationAfterPlaybackView_replayIcon_1A9:before{content:"\\E90F";font-family:dl8;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;color:#fff;font-size:22px}',""]),t.locals={root:"RecommendationAfterPlaybackView_root_10W",touchActive:"RecommendationAfterPlaybackView_touchActive_7iP",opened:"RecommendationAfterPlaybackView_opened_1BV",arrow:"RecommendationAfterPlaybackView_arrow_tCc",arrowLeft:"RecommendationAfterPlaybackView_arrowLeft_aiN",arrowRight:"RecommendationAfterPlaybackView_arrowRight_2we",wrapper:"RecommendationAfterPlaybackView_wrapper_3gr",thumb:"RecommendationAfterPlaybackView_thumb_2Zg",thumbNoInfo:"RecommendationAfterPlaybackView_thumbNoInfo_2qN",countdown:"RecommendationAfterPlaybackView_countdown_3rH",countdownNumber:"RecommendationAfterPlaybackView_countdownNumber_gBp",playCountdown:"RecommendationAfterPlaybackView_playCountdown_3Mj",playCountdownActive:"RecommendationAfterPlaybackView_playCountdownActive_X1_",thumbDate:"RecommendationAfterPlaybackView_thumbDate_1zm",thumbDuration:"RecommendationAfterPlaybackView_thumbDuration_34T",item:"RecommendationAfterPlaybackView_item_1WR",itemHighlight:"RecommendationAfterPlaybackView_itemHighlight_2_u",itemHighlightInTransition:"RecommendationAfterPlaybackView_itemHighlightInTransition_1dd",itemBorder:"RecommendationAfterPlaybackView_itemBorder_3mX",itemMobile:"RecommendationAfterPlaybackView_itemMobile_2bN",itemText:"RecommendationAfterPlaybackView_itemText_3gi",itemHeadingTag:"RecommendationAfterPlaybackView_itemHeadingTag_1d-",itemHeadingTagSpan:"RecommendationAfterPlaybackView_itemHeadingTagSpan_Pei",itemHeadingTagMultiline:"RecommendationAfterPlaybackView_itemHeadingTagMultiline_3Z1",itemTitle:"RecommendationAfterPlaybackView_itemTitle_2lc",replayButton:"RecommendationAfterPlaybackView_replayButton_1n2",replayIcon:"RecommendationAfterPlaybackView_replayIcon_1A9"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,'#dl8-content-container .RecommendationView_root_3th{overflow:visible;width:100%;display:inline-block;left:0;position:absolute}#dl8-content-container .RecommendationView_root_3th::-webkit-scrollbar{display:none}#dl8-content-container .RecommendationView_arrow_CB3{border-radius:50%;z-index:20;-o-transition:opacity .3s ease-in-out .2s;transition:opacity .3s ease-in-out .2s}#dl8-content-container .RecommendationView_arrowLeft_3un{position:absolute;left:5px;top:50%;padding:5px;margin-top:-15px}#dl8-content-container .RecommendationView_arrowRight_fpv{position:absolute;right:5px;top:50%;padding:5px;margin-top:-15px}#dl8-content-container .RecommendationView_wrapper_3Qi{overflow:hidden;display:-webkit-flex;display:flex}#dl8-content-container .RecommendationView_thumb_3yk{color:#fff;background-size:cover;position:relative;border:1px solid hsla(0,0%,100%,.5);cursor:pointer}#dl8-content-container .RecommendationView_thumb_3yk:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;-o-transition:background-color .2s ease-in-out;transition:background-color .2s ease-in-out}#dl8-content-container .RecommendationView_thumb_3yk:hover:after{background-color:rgba(0,0,0,.3)}#dl8-content-container .RecommendationView_thumbMobile_3Zp:hover:after{background-color:transparent}#dl8-content-container .RecommendationView_thumbTitle_1yC{-o-transition:opacity .3s ease-in-out .05s;transition:opacity .3s ease-in-out .05s;position:absolute;width:100%;top:7px;left:7px;margin:0;font-size:12px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}',""]),t.locals={root:"RecommendationView_root_3th",arrow:"RecommendationView_arrow_CB3",arrowLeft:"RecommendationView_arrowLeft_3un",arrowRight:"RecommendationView_arrowRight_fpv",wrapper:"RecommendationView_wrapper_3Qi",thumb:"RecommendationView_thumb_3yk",thumbMobile:"RecommendationView_thumbMobile_3Zp",thumbTitle:"RecommendationView_thumbTitle_1yC"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,'#dl8-content-container .SafariMotionInstructionView_root_EF4{font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;overflow-y:auto;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center;box-sizing:border-box;width:100%;height:100%;position:absolute;margin:0;top:0;left:0;background-color:#000}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_closeButton_2Ia{z-index:5;position:absolute;top:13px;right:13px;font-size:32px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_closeButton_2Ia>.dl8Icon{font-size:32px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mainInstructionContainer_oIi{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_fullSizeInstruction_Q9r{pointer-events:none;padding-left:25px;padding-right:25px;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_appIcon_RkX,#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_settingsIcon_2Qp{width:64px;height:64px;margin:0}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_appIcon_RkX{-webkit-transform:scale(.375) translate(-66%,-66%);-o-transform:scale(.375) translate(-66%,-66%);transform:scale(.375) translate(-66%,-66%)}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_appIcon_RkX:after{content:"";position:absolute;height:128px;width:128px;background:url('+n(161)+");border-radius:32px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_settingsIcon_2Qp{background:url("+n(161)+");-webkit-transform:scale(.5);-o-transform:scale(.5);transform:scale(.5);border-radius:8px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_appIconGrid_1Xd{display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;align-items:center;margin:.5em}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_appIconGrid_1Xd .SafariMotionInstructionView_appIcon_RkX:after{background-position:57.14286% 100%}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_appIconDock_3o_{display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-align-items:center;align-items:center;margin:0;margin-top:auto;-webkit-justify-content:space-evenly;justify-content:space-evenly;height:77.5px;width:100%;padding:0;z-index:1;background-color:#f6c47a;border-radius:0 0 16px 16px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_appIconDock_3o_ .SafariMotionInstructionView_appIcon_RkX:first-child::after{background-position:0 100%}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_appIconDock_3o_ .SafariMotionInstructionView_appIcon_RkX:nth-child(2):after{background-position:14.28571% 100%}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_appIconDock_3o_ .SafariMotionInstructionView_appIcon_RkX:nth-child(3):after{background-position:28.57143% 100%}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_appIconDock_3o_ .SafariMotionInstructionView_appIcon_RkX:nth-child(4):after{background-position:42.85714% 100%}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_instructionList_UNU{width:100%}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_instructionList_UNU .SafariMotionInstructionView_instructionImage_nuJ{opacity:.3;width:100%;height:auto}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_instructionList_UNU .SafariMotionInstructionView_instructionHeadline_2vf{text-align:left;font-size:18px;width:100%;min-height:72px;padding-top:.5em;padding-bottom:.5em;line-height:normal}@media only screen and (max-width:320px){#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_instructionList_UNU .SafariMotionInstructionView_instructionHeadline_2vf{min-height:50px;font-size:14px}}@media only screen and (orientation:landscape) and (min-height:300px){#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_instructionList_UNU .SafariMotionInstructionView_instructionHeadline_2vf{min-height:50px;font-size:14px;padding-bottom:0}}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_instructionList_UNU .SafariMotionInstructionView_instructionHeadline_2vf .SafariMotionInstructionView_instructionHeadlineStepNumber_cN5{margin:0;padding:0;font-weight:700;line-height:normal}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_instructionList_UNU .SafariMotionInstructionView_instructionHeadline_2vf .SafariMotionInstructionView_instructionHeadlineStepHeadline_3hv{margin:0;padding:0;line-height:normal}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_instructionNavigation_1JS{z-index:4;margin-top:auto;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;align-items:center;padding:25px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_instructionNavigation_1JS .SafariMotionInstructionView_posIndicator_3dr{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;min-width:33%;-webkit-justify-content:space-evenly;justify-content:space-evenly;-webkit-flex-direction:row;flex-direction:row}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_instructionNavigation_1JS .SafariMotionInstructionView_posIndicator_3dr .SafariMotionInstructionView_posCircle_Wl6{background:#fff;border-radius:50%;width:10px;height:10px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_appFooter_1wP{width:100%;height:61px;background:#ff5700;background:-o-linear-gradient(52deg,#ff5700 0,#f144b7 48%,#69b9ff 83%);background:linear-gradient(38deg,#ff5700,#f144b7 48%,#69b9ff 83%);display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around;margin-top:auto;font-size:13px}@media only screen and (max-width:320px){#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_appFooter_1wP{font-size:12px}}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_sprnextAppIcon_2Su{height:38px;width:auto;border-radius:8px;background-color:rgba(0,0,0,.21);border:1px solid #fff;margin-left:.75em}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_appStoreIcon_hrR{height:40px;width:auto;margin-right:.75em}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_downloadAppText__Dm{margin-left:.75em;margin-right:.75em;-webkit-flex-basis:50%;flex-basis:50%;-webkit-flex-shrink:3;flex-shrink:3;-webkit-filter:drop-shadow(0 1px 2px rgba(0,0,0,.51));filter:drop-shadow(0 1px 2px rgba(0,0,0,.51))}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_iphoneOutline_3ow{width:100%;background-clip:padding-box;border-radius:0 0 16px 16px;background:#fff;z-index:2}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_iphoneImage_2sb{background-image:url("+n(376)+');background-size:cover;background-repeat:no-repeat;background-position:50%;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;border-radius:16px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettingsMainHeader_3XT{width:100%;border-radius:16px 16px 0 0;background-color:#f8f8f8;color:#000;z-index:5;font-size:18px;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}@media only screen and (orientation:portrait) and (max-width:375px){#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettingsMainHeader_3XT{height:55px;min-height:55px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_iphoneOutline_3ow{height:250px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_iphoneImage_2sb{height:305px}}@media only screen and (orientation:portrait) and (max-width:320px){#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettingsMainHeader_3XT{height:55px;min-height:55px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_iphoneOutline_3ow{height:170px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_iphoneImage_2sb{height:225px}}@media only screen and (orientation:landscape) and (max-height:414px){#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettingsMainHeader_3XT{height:55px;min-height:55px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_iphoneOutline_3ow{height:calc(50vh - 55px)}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_iphoneImage_2sb{height:50vh}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_iphoneOutline_3ow,#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettingsMainHeader_3XT,#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_phoneImage_3A_{max-width:600px}}@media only screen and (min-height:768px){#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettingsMainHeader_3XT{height:55px;min-height:55px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_iphoneOutline_3ow{height:445px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_iphoneImage_2sb{height:500px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_iphoneOutline_3ow,#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettingsMainHeader_3XT,#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_phoneImage_3A_{max-width:600px}}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_button_2lH{margin:0}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_navButton_vdy{font-size:13px;width:90px;text-align:center}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_hidden_2dL{visibility:hidden}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_reloadButton_2bq{font-size:18px;margin-top:50px;padding:.75em 2.3em;pointer-events:auto;z-index:2}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3{width:100%;height:100%;background-color:transparent;color:#000;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;border-radius:0 0 16px 16px;overflow:hidden}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV{position:relative;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;height:200vh}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsUser_3zM{min-height:65px;height:65px;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;align-items:center}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsUser_3zM img{height:80%;width:auto;border-radius:100%;margin-left:14px;margin-right:14px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsUser_3zM div:last-child{width:20px;font-size:24px;color:#aaa}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsUser_3zM .SafariMotionInstructionView_mockIOSSettingsUserText_bEB{-webkit-flex:1;flex:1;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:space-evenly;justify-content:space-evenly}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsUser_3zM .SafariMotionInstructionView_mockIOSSettingsUserText_bEB span:first-of-type{font-weight:700}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsUser_3zM .SafariMotionInstructionView_mockIOSSettingsUserText_bEB span:nth-of-type(2){font-size:11px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsItem_i6S{min-height:22px;height:22px;padding:8px 8px 8px 0;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;align-items:center;font-size:15px;border-bottom:1px solid #d5d5d5;background-color:transparent}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsItem_i6S .SafariMotionInstructionView_settingsName_NTW{margin-left:1em}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsItem_i6S .SafariMotionInstructionView_appleSwitch_11l{position:relative;-webkit-appearance:none;outline:none;width:50px;height:30px;background-color:#fff;border:1px solid #d9dadc;border-radius:50px;box-shadow:inset -20px 0 0 0 #fff;margin-left:auto}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsItem_i6S .SafariMotionInstructionView_appleSwitch_11l:after{content:"";position:absolute;top:1px;left:1px;background:transparent;width:26px;height:26px;border-radius:50%;box-shadow:2px 4px 6px rgba(0,0,0,.2)}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsItem_i6S .SafariMotionInstructionView_appleSwitch_11l.SafariMotionInstructionView_toggleAnim_62m{-webkit-animation-duration:.5s;-o-animation-duration:.5s;animation-duration:.5s;-webkit-animation-delay:4.5s;-o-animation-delay:4.5s;animation-delay:4.5s;-webkit-animation-name:SafariMotionInstructionView_toggleAnimBorder_2iv;-o-animation-name:SafariMotionInstructionView_toggleAnimBorder_2iv;animation-name:SafariMotionInstructionView_toggleAnimBorder_2iv;-webkit-animation-fill-mode:forwards;-o-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes SafariMotionInstructionView_toggleAnimBorder_2iv{to{box-shadow:inset 20px 0 0 0 #4ed164;border-color:#4ed164}}@-o-keyframes SafariMotionInstructionView_toggleAnimBorder_2iv{to{box-shadow:inset 20px 0 0 0 #4ed164;border-color:#4ed164}}@keyframes SafariMotionInstructionView_toggleAnimBorder_2iv{to{box-shadow:inset 20px 0 0 0 #4ed164;border-color:#4ed164}}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsItem_i6S .SafariMotionInstructionView_appleSwitch_11l.SafariMotionInstructionView_toggleAnim_62m:after{-webkit-animation-duration:.5s;-o-animation-duration:.5s;animation-duration:.5s;-webkit-animation-delay:4.5s;-o-animation-delay:4.5s;animation-delay:4.5s;-webkit-animation-name:SafariMotionInstructionView_toggleAnimCircle_2d2;-o-animation-name:SafariMotionInstructionView_toggleAnimCircle_2d2;animation-name:SafariMotionInstructionView_toggleAnimCircle_2d2;-webkit-animation-fill-mode:forwards;-o-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes SafariMotionInstructionView_toggleAnimCircle_2d2{to{left:20px;box-shadow:-2px 4px 3px rgba(0,0,0,.05)}}@-o-keyframes SafariMotionInstructionView_toggleAnimCircle_2d2{to{left:20px;box-shadow:-2px 4px 3px rgba(0,0,0,.05)}}@keyframes SafariMotionInstructionView_toggleAnimCircle_2d2{to{left:20px;box-shadow:-2px 4px 3px rgba(0,0,0,.05)}}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsItem_i6S .SafariMotionInstructionView_appleSwitch_11l.SafariMotionInstructionView_toggled_2fu{box-shadow:inset 20px 0 0 0 #4ed164;border-color:#4ed164}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsItem_i6S .SafariMotionInstructionView_appleSwitch_11l.SafariMotionInstructionView_toggled_2fu:after{left:20px;box-shadow:-2px 4px 3px rgba(0,0,0,.05)}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsItem_i6S>* :last-of-type{-webkit-align-self:flex-end;align-self:flex-end}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockIOSSettings_3O3 .SafariMotionInstructionView_mockIOSSettingsList_1oV .SafariMotionInstructionView_mockIOSSettingsItemSeparator_24A{background-color:#f0f0f0;min-height:18px;height:18px}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_touchCircle_3XA{z-index:5;position:absolute;width:60px;height:60px;border-radius:50%;background:none;border:3px solid #0089ff;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;opacity:0}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_touchCircle_3XA.SafariMotionInstructionView_touching_QLB{-o-transition-property:opacity;transition-property:opacity;-o-transition-duration:.5s;transition-duration:.5s;-o-transition-delay:4.25s;transition-delay:4.25s;opacity:1}@-webkit-keyframes SafariMotionInstructionView_show_2dV{0%{opacity:0;-webkit-filter:blur(6px);filter:blur(6px)}to{opacity:1;-webkit-filter:blur(3px);filter:blur(3px)}}@-o-keyframes SafariMotionInstructionView_show_2dV{0%{opacity:0;filter:blur(6px)}to{opacity:1;filter:blur(3px)}}@keyframes SafariMotionInstructionView_show_2dV{0%{opacity:0;-webkit-filter:blur(6px);filter:blur(6px)}to{opacity:1;-webkit-filter:blur(3px);filter:blur(3px)}}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_touchCircle_3XA:before{content:"";position:absolute;width:68px;height:68px;border-radius:50%;background-color:rgba(0,137,255,.67);opacity:0;-webkit-filter:blur(6px);filter:blur(6px)}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_touchCircle_3XA.SafariMotionInstructionView_touching_QLB:before{-webkit-animation-duration:.75s;-o-animation-duration:.75s;animation-duration:.75s;-webkit-animation-delay:4.25s;-o-animation-delay:4.25s;animation-delay:4.25s;-webkit-animation-name:SafariMotionInstructionView_show_2dV;-o-animation-name:SafariMotionInstructionView_show_2dV;animation-name:SafariMotionInstructionView_show_2dV;-webkit-animation-direction:alternate;-o-animation-direction:alternate;animation-direction:alternate;opacity:0;-webkit-filter:blur(3px);filter:blur(3px)}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockSafariSettings_183 .SafariMotionInstructionView_touchCircle_3XA{right:0}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_appIconGrid_1Xd .SafariMotionInstructionView_touchCircle_3XA.SafariMotionInstructionView_touching_QLB{-o-transition-delay:0s;transition-delay:0s}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_appIconGrid_1Xd .SafariMotionInstructionView_touchCircle_3XA.SafariMotionInstructionView_touching_QLB:before{-webkit-animation-delay:1s;-o-animation-delay:1s;animation-delay:1s}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockMainSettingsListScrollAnimation_1E1{-webkit-transform:translateY(-1430px);-o-transform:translateY(-1430px);transform:translateY(-1430px);transition:-webkit-transform 2.5s ease-in-out 1s;-o-transition:-o-transform 2.5s ease-in-out 1s;transition:transform 2.5s ease-in-out 1s;transition:transform 2.5s ease-in-out 1s,-webkit-transform 2.5s ease-in-out 1s,-o-transform 2.5s ease-in-out 1s;z-index:0}#dl8-content-container .SafariMotionInstructionView_root_EF4 .SafariMotionInstructionView_mockSafariSettingsListScrollAnimation_2vl{-webkit-transform:translateY(-690px);-o-transform:translateY(-690px);transform:translateY(-690px);transition:-webkit-transform 2.5s ease-in-out 1s;-o-transition:-o-transform 2.5s ease-in-out 1s;transition:transform 2.5s ease-in-out 1s;transition:transform 2.5s ease-in-out 1s,-webkit-transform 2.5s ease-in-out 1s,-o-transform 2.5s ease-in-out 1s;z-index:0}',""]),
t.locals={root:"SafariMotionInstructionView_root_EF4",closeButton:"SafariMotionInstructionView_closeButton_2Ia",mainInstructionContainer:"SafariMotionInstructionView_mainInstructionContainer_oIi",fullSizeInstruction:"SafariMotionInstructionView_fullSizeInstruction_Q9r",settingsIcon:"SafariMotionInstructionView_settingsIcon_2Qp",appIcon:"SafariMotionInstructionView_appIcon_RkX",appIconGrid:"SafariMotionInstructionView_appIconGrid_1Xd",appIconDock:"SafariMotionInstructionView_appIconDock_3o_",instructionList:"SafariMotionInstructionView_instructionList_UNU",instructionImage:"SafariMotionInstructionView_instructionImage_nuJ",instructionHeadline:"SafariMotionInstructionView_instructionHeadline_2vf",instructionHeadlineStepNumber:"SafariMotionInstructionView_instructionHeadlineStepNumber_cN5",instructionHeadlineStepHeadline:"SafariMotionInstructionView_instructionHeadlineStepHeadline_3hv",instructionNavigation:"SafariMotionInstructionView_instructionNavigation_1JS",posIndicator:"SafariMotionInstructionView_posIndicator_3dr",posCircle:"SafariMotionInstructionView_posCircle_Wl6",appFooter:"SafariMotionInstructionView_appFooter_1wP",sprnextAppIcon:"SafariMotionInstructionView_sprnextAppIcon_2Su",appStoreIcon:"SafariMotionInstructionView_appStoreIcon_hrR",downloadAppText:"SafariMotionInstructionView_downloadAppText__Dm",iphoneOutline:"SafariMotionInstructionView_iphoneOutline_3ow",iphoneImage:"SafariMotionInstructionView_iphoneImage_2sb",mockIOSSettingsMainHeader:"SafariMotionInstructionView_mockIOSSettingsMainHeader_3XT",phoneImage:"SafariMotionInstructionView_phoneImage_3A_",button:"SafariMotionInstructionView_button_2lH",navButton:"SafariMotionInstructionView_navButton_vdy",hidden:"SafariMotionInstructionView_hidden_2dL",reloadButton:"SafariMotionInstructionView_reloadButton_2bq",mockIOSSettings:"SafariMotionInstructionView_mockIOSSettings_3O3",mockIOSSettingsList:"SafariMotionInstructionView_mockIOSSettingsList_1oV",mockIOSSettingsUser:"SafariMotionInstructionView_mockIOSSettingsUser_3zM",mockIOSSettingsUserText:"SafariMotionInstructionView_mockIOSSettingsUserText_bEB",mockIOSSettingsItem:"SafariMotionInstructionView_mockIOSSettingsItem_i6S",settingsName:"SafariMotionInstructionView_settingsName_NTW",appleSwitch:"SafariMotionInstructionView_appleSwitch_11l",toggleAnim:"SafariMotionInstructionView_toggleAnim_62m",toggleAnimBorder:"SafariMotionInstructionView_toggleAnimBorder_2iv",toggleAnimCircle:"SafariMotionInstructionView_toggleAnimCircle_2d2",toggled:"SafariMotionInstructionView_toggled_2fu",mockIOSSettingsItemSeparator:"SafariMotionInstructionView_mockIOSSettingsItemSeparator_24A",touchCircle:"SafariMotionInstructionView_touchCircle_3XA",touching:"SafariMotionInstructionView_touching_QLB",show:"SafariMotionInstructionView_show_2dV",mockSafariSettings:"SafariMotionInstructionView_mockSafariSettings_183",mockMainSettingsListScrollAnimation:"SafariMotionInstructionView_mockMainSettingsListScrollAnimation_1E1",mockSafariSettingsListScrollAnimation:"SafariMotionInstructionView_mockSafariSettingsListScrollAnimation_2vl"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,"#dl8-content-container{font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;-webkit-transform:scale(.375) translate(-66%,-66%);-o-transform:scale(.375) translate(-66%,-66%);transform:scale(.375) translate(-66%,-66%)}#dl8-content-container .SafariMotionWarningView_root_1FA{background:#fff;border-radius:10px;color:#000;max-width:350px;box-sizing:border-box;width:95%;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,.1);display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-align-items:flex-start;align-items:flex-start;padding:.75em}@media only screen and (max-width:320px){#dl8-content-container .SafariMotionWarningView_root_1FA{padding:.5em}}#dl8-content-container .SafariMotionWarningView_iconContainer_2pe{min-width:43px;-webkit-transform-origin:center;-o-transform-origin:center;transform-origin:center;-webkit-transform:scale(.3255) translate(-100%,-66%);-o-transform:scale(.3255) translate(-100%,-66%);transform:scale(.3255) translate(-100%,-66%)}#dl8-content-container .SafariMotionWarningView_iconContainer_2pe .SafariMotionWarningView_icon_1b_{position:absolute;width:128px;height:128px;min-width:128px;min-height:128px;background:url("+n(161)+");background-position:14.28571% 100%;border-radius:32px;border:2px solid #dedede;z-index:1}#dl8-content-container .SafariMotionWarningView_iconContainer_2pe .SafariMotionWarningView_topRightIcon_1q3{position:absolute;color:#fff;-webkit-transform:translate(107px,-16px);-o-transform:translate(107px,-16px);transform:translate(107px,-16px);border-radius:50%;background-color:#e3003d;z-index:2;width:52px;height:52px;font-size:47px;text-align:center}#dl8-content-container .SafariMotionWarningView_main_2eI{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;margin:0 0 0 1.15em;height:100%}#dl8-content-container .SafariMotionWarningView_main_2eI,#dl8-content-container .SafariMotionWarningView_title_3B6{font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}#dl8-content-container .SafariMotionWarningView_title_3B6{font-size:14px;font-weight:700;margin:0 0 .6em}#dl8-content-container .SafariMotionWarningView_desc_2Kq{margin:0;line-height:1.3em;font-size:12px}@media only screen and (max-width:320px){#dl8-content-container .SafariMotionWarningView_desc_2Kq{line-height:1.1em}}#dl8-content-container .SafariMotionWarningView_infoButton_1f1{margin-top:auto;width:160px}#dl8-content-container .SafariMotionWarningView_closeButtonArea_Fxn{margin-right:.75em}#dl8-content-container .SafariMotionWarningView_closeButtonArea_Fxn i{color:#707070}#dl8-content-container .SafariMotionWarningView_button_3Nf{margin-left:0!important;margin-top:10px!important}",""]),t.locals={root:"SafariMotionWarningView_root_1FA",iconContainer:"SafariMotionWarningView_iconContainer_2pe",icon:"SafariMotionWarningView_icon_1b_",topRightIcon:"SafariMotionWarningView_topRightIcon_1q3",main:"SafariMotionWarningView_main_2eI",title:"SafariMotionWarningView_title_3B6",desc:"SafariMotionWarningView_desc_2Kq",infoButton:"SafariMotionWarningView_infoButton_1f1",closeButtonArea:"SafariMotionWarningView_closeButtonArea_Fxn",button:"SafariMotionWarningView_button_3Nf"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,'#dl8-content-container .SeekingView_bar_2Dd{width:100%;position:relative;height:12px;margin:0 10px;cursor:pointer;-webkit-tap-highlight-color:rgba(255,255,255,0);-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#dl8-content-container .SeekingView_bar_2Dd.SeekingView_noSeek_3TF{cursor:inherit}#dl8-content-container .SeekingView_bar_2Dd:not(.SeekingView_fullWidth_DTb){-webkit-flex:1;flex:1}#dl8-content-container .SeekingView_bar_2Dd:not(.SeekingView_noSeek_3TF).SeekingView_grow_3vl:hover>.SeekingView_handle_3Wy{-webkit-transform:scale(1);-o-transform:scale(1);transform:scale(1)}#dl8-content-container .SeekingView_bar_2Dd:not(.SeekingView_noSeek_3TF).SeekingView_grow_3vl:hover>.SeekingView_barCommon_1xu{height:4px;margin:4px 0 6px}#dl8-content-container .SeekingView_barCommon_1xu{height:2px;margin:5px 0;cursor:pointer}#dl8-content-container .SeekingView_barCommon_1xu.SeekingView_noSeek_3TF{cursor:inherit}#dl8-content-container .SeekingView_bg_2wE{background:hsla(0,0%,100%,.2);border-radius:5px;position:absolute;top:0;left:0;width:100%;z-index:0}#dl8-content-container .SeekingView_progress_2uA{position:absolute;width:0;top:0;left:0;z-index:2;cursor:pointer;border-radius:5px}#dl8-content-container .SeekingView_progress_2uA.SeekingView_noSeek_3TF{cursor:inherit}#dl8-content-container .SeekingView_seekTime_3mq{display:none;position:absolute;top:-35px;left:0;padding:5px 10px;font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-size:14px;min-width:35px;pointer-events:none;text-align:center;background:hsla(0,0%,9%,.701961);border-radius:5px}#dl8-content-container .SeekingView_seekTime_3mq.SeekingView_withThumb_1at{background:transparent;border-radius:5px;bottom:22px;padding:1px;top:auto;margin-left:-40px}#dl8-content-container .SeekingView_seekTime_3mq.SeekingView_withThumb_1at>span{position:absolute;bottom:6px;left:0;width:100%;z-index:2;text-align:center}#dl8-content-container .SeekingView_seekTime_3mq.SeekingView_withThumb_1at>span:after{bottom:-7px}#dl8-content-container .SeekingView_seekTime_3mq.SeekingView_withThumb_1at:before{position:absolute;border-radius:5px;top:1px;left:1px;z-index:1;width:calc(100% - 2px);height:calc(100% - 2px);background:-o-linear-gradient(bottom,rgba(0,0,0,.6) 0,rgba(0,0,0,.2) 30%,transparent 100%);background:linear-gradient(0deg,rgba(0,0,0,.6) 0,rgba(0,0,0,.2) 30%,transparent);content:""}#dl8-content-container .SeekingView_seekTime_3mq.SeekingView_withThumb_1at>.SeekingView_arrow_3Gy{background:hsla(0,0%,100%,.5)}#dl8-content-container .SeekingView_seekTime_3mq.SeekingView_visible_14C{display:block}#dl8-content-container .SeekingView_seekTime_3mq>.SeekingView_arrow_3Gy{position:absolute;content:"";left:50%;margin-left:5px;bottom:-12px;display:block;width:1px;height:13px}#dl8-content-container .SeekingView_handle_3Wy{position:absolute;left:0;top:-24px;padding:25px 20px 7px;z-index:3;pointer-events:none;-webkit-tap-highlight-color:rgba(255,255,255,0);-webkit-tap-highlight-color:transparent;cursor:pointer}#dl8-content-container .SeekingView_handle_3Wy>div{-webkit-transform:scale(0);-o-transform:scale(0);transform:scale(0);-webkit-transform-origin:50% 50%;-o-transform-origin:50% 50%;transform-origin:50% 50%;width:10px;height:10px;border-radius:50%;background:#fff}#dl8-content-container .SeekingView_handle_3Wy.SeekingView_grow_3vl{pointer-events:auto}#dl8-content-container .SeekingView_handle_3Wy.SeekingView_grow_3vl>div{-webkit-transform:scale(1);-o-transform:scale(1);transform:scale(1)}#dl8-content-container .SeekingView_handle_3Wy.SeekingView_grow_3vl:active>div{-webkit-transform:scale(1.5);-o-transform:scale(1.5);transform:scale(1.5)}#dl8-content-container .SeekingView_handle_3Wy.SeekingView_visible_14C>div{-webkit-transform:scale(1);-o-transform:scale(1);transform:scale(1)}#dl8-content-container .SeekingView_buffering_aXS,#dl8-content-container .SeekingView_preview_1bz{position:absolute;top:0;left:0;width:0;cursor:pointer}#dl8-content-container .SeekingView_buffering_aXS,#dl8-content-container .SeekingView_preview_1bz{background:hsla(0,0%,100%,.3);border-radius:5px;z-index:1}#dl8-content-container .SeekingView_spinner_ICz{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;background:rgba(0,0,0,.3)}#dl8-content-container .SeekingView_spinner_ICz.SeekingView_hidden_2ub{display:none}#dl8-content-container .SeekingView_thumb_Ve5{border-radius:5px}',""]),t.locals={bar:"SeekingView_bar_2Dd",noSeek:"SeekingView_noSeek_3TF",fullWidth:"SeekingView_fullWidth_DTb",grow:"SeekingView_grow_3vl",handle:"SeekingView_handle_3Wy",barCommon:"SeekingView_barCommon_1xu",bg:"SeekingView_bg_2wE",progress:"SeekingView_progress_2uA",seekTime:"SeekingView_seekTime_3mq",withThumb:"SeekingView_withThumb_1at",arrow:"SeekingView_arrow_3Gy",visible:"SeekingView_visible_14C",preview:"SeekingView_preview_1bz",buffering:"SeekingView_buffering_aXS",spinner:"SeekingView_spinner_ICz",hidden:"SeekingView_hidden_2ub",thumb:"SeekingView_thumb_Ve5"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,"#dl8-content-container .SettingsPanel_disabled_3xv{opacity:.5}#dl8-content-container .SettingsPanel_root_3DO{position:absolute;bottom:65px;right:20px;list-style:none;font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-size:12px;padding:0;margin:0;border-radius:5px;overflow:hidden}#dl8-content-container .SettingsPanel_root_3DO.SettingsPanel_mobile_2VE{bottom:45px;right:15px}#dl8-content-container .SettingsPanel_root_3DO>.SettingsPanel_selectOverlay_nHV{position:fixed;top:0;left:0;background:rgba(0,0,0,.9);display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;width:100%;height:100%;z-index:222}#dl8-content-container .SettingsPanel_root_3DO>.SettingsPanel_selectOverlay_nHV.SettingsPanel_hidden_3lA{display:none}#dl8-content-container .SettingsPanel_root_3DO>.SettingsPanel_selectOverlay_nHV>button{position:absolute;top:12px;right:12px}#dl8-content-container .SettingsPanel_root_3DO>.SettingsPanel_selectOverlay_nHV>div{text-align:center;width:100%}#dl8-content-container .SettingsPanel_root_3DO>.SettingsPanel_selectOverlay_nHV>div>h2{color:#fff}#dl8-content-container .SettingsPanel_root_3DO>.SettingsPanel_selectOverlay_nHV>div>ul{list-style:none;box-sizing:border-box;margin:auto;display:inline-block;text-align:center;width:100%;max-width:400px;padding:0 2rem;max-height:65vh;overflow-y:auto}#dl8-content-container .SettingsPanel_root_3DO>.SettingsPanel_selectOverlay_nHV>div>ul>li{margin:0;padding:0;width:100%}#dl8-content-container .SettingsPanel_root_3DO>ul{margin:0;list-style:none}#dl8-content-container .SettingsPanel_root_3DO>ul>li{text-align:left;padding:7px 15px;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center}#dl8-content-container .SettingsPanel_root_3DO>ul>li.SettingsPanel_info_1A8{font-size:9px;opacity:.5;line-height:12px}#dl8-content-container .SettingsPanel_root_3DO>ul>li.SettingsPanel_info_1A8>span{width:auto}#dl8-content-container .SettingsPanel_root_3DO>ul>li>span{letter-spacing:1px;vertical-align:middle;padding:0;width:100px}#dl8-content-container .SettingsPanel_root_3DO>ul>li>button,#dl8-content-container .SettingsPanel_root_3DO>ul>li>input,#dl8-content-container .SettingsPanel_root_3DO>ul>li>select{text-align:left;-webkit-flex:1 auto;flex:1 auto;min-width:80px}#dl8-content-container .SettingsPanel_root_3DO>ul>li>.SettingsPanel_select_3Su,#dl8-content-container .SettingsPanel_root_3DO>ul>li>select{font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;padding:5px 23px 5px 8px;border:1px solid #eee;border-radius:5px;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:12px;background:url("+n(699)+") 96%/15% no-repeat transparent;background-size:20px}#dl8-content-container .SettingsPanel_root_3DO>ul>li>.SettingsPanel_select_3Su:focus,#dl8-content-container .SettingsPanel_root_3DO>ul>li>select:focus{outline:none}#dl8-content-container .SettingsPanel_root_3DO>ul>li>.SettingsPanel_select_3Su>option,#dl8-content-container .SettingsPanel_root_3DO>ul>li>select>option{background:#fff;color:#333;padding:auto 3px}",""]),t.locals={disabled:"SettingsPanel_disabled_3xv",root:"SettingsPanel_root_3DO",mobile:"SettingsPanel_mobile_2VE",selectOverlay:"SettingsPanel_selectOverlay_nHV",hidden:"SettingsPanel_hidden_3lA",info:"SettingsPanel_info_1A8",select:"SettingsPanel_select_3Su"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,"#dl8-content-container .SoundControlView_root_26o{width:28px;overflow:hidden;-o-transition:width .3s ease-in-out;transition:width .3s ease-in-out}#dl8-content-container .SoundControlView_root_26o.SoundControlView_hovered_1CN{width:156px}#dl8-content-container .SoundControlView_root_26o>.SoundControlView_wrapper_121{width:156px;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center}#dl8-content-container .SoundControlView_root_26o>.SoundControlView_wrapper_121>.dl8Btn{margin-top:3px}#dl8-content-container .SoundControlView_root_26o>.SoundControlView_wrapper_121>.dl8Btn>.dl8Icon{font-size:25.6px}#dl8-content-container .SoundControlView_root_26o>.SoundControlView_wrapper_121>.dl8Btn>.dl8Icon:active{-webkit-filter:none;filter:none}#dl8-content-container .SoundControlView_root_26o>.SoundControlView_wrapper_121>.SoundControlView_bar_1uc{width:108px;position:relative;height:12px;margin:0 10px;box-sizing:border-box;cursor:pointer;display:inline-block}#dl8-content-container .SoundControlView_root_26o>.SoundControlView_wrapper_121 .SoundControlView_barCommon_3vK{height:2px;margin:5px 0;cursor:pointer}#dl8-content-container .SoundControlView_root_26o>.SoundControlView_wrapper_121 .SoundControlView_bg_3x9{background:hsla(0,0%,100%,.2);position:absolute;top:0;left:0;width:100%;z-index:0}#dl8-content-container .SoundControlView_root_26o>.SoundControlView_wrapper_121 .SoundControlView_progress_2gV{position:absolute;width:0;top:0;left:0;z-index:1}#dl8-content-container .SoundControlView_root_26o>.SoundControlView_wrapper_121 .SoundControlView_handle_2Uf{-webkit-transform-origin:50% 50%;-o-transform-origin:50% 50%;transform-origin:50% 50%;position:absolute;left:0;top:0;width:12px;height:12px;background:#fff;z-index:2;border-radius:50%;pointer-events:none;-webkit-tap-highlight-color:rgba(255,255,255,0);-webkit-tap-highlight-color:transparent;cursor:pointer}",""]),t.locals={root:"SoundControlView_root_26o",hovered:"SoundControlView_hovered_1CN",wrapper:"SoundControlView_wrapper_121",bar:"SoundControlView_bar_1uc",barCommon:"SoundControlView_barCommon_3vK",bg:"SoundControlView_bg_3x9",progress:"SoundControlView_progress_2gV",handle:"SoundControlView_handle_2Uf"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,"#dl8-content-container .TextButton_root_1ZC{border:none;background:transparent;color:inherit;text-align:inherit;font-size:100%;font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;cursor:pointer;line-height:inherit;outline:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(255,255,255,0);-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:142px;padding:13px;text-transform:uppercase;letter-spacing:.8px;border-radius:3px;font-weight:700;box-shadow:none;box-sizing:border-box;text-decoration:none;-webkit-appearance:none;-moz-appearance:none}#dl8-content-container .TextButton_root_1ZC:after{display:none}#dl8-content-container .TextButton_root_1ZC:active{background:transparent}#dl8-content-container .TextButton_root_1ZC.TextButton_fullWidth_1xq{width:100%;margin:5px auto}#dl8-content-container .TextButton_root_1ZC.TextButton_autoWidth_3ut{width:auto;margin:5px auto}#dl8-content-container .TextButton_root_1ZC.TextButton_disabled_FaA{opacity:.3!important}#dl8-content-container .TextButton_root_1ZC.TextButton_spaced_KFE{margin-top:30px}#dl8-content-container .TextButton_root_1ZC.TextButton_ghost_7sM{border:2pt solid transparent}#dl8-content-container .TextButton_root_1ZC.TextButton_small_arJ{font-size:12px;padding:10px 13px;text-transform:none;letter-spacing:normal}",""]),t.locals={root:"TextButton_root_1ZC",fullWidth:"TextButton_fullWidth_1xq",autoWidth:"TextButton_autoWidth_3ut",disabled:"TextButton_disabled_FaA",spaced:"TextButton_spaced_KFE",ghost:"TextButton_ghost_7sM",small:"TextButton_small_arJ"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,"#dl8-content-container .WarningView_root_3cP{background:#fff;border-radius:10px;display:-webkit-flex;display:flex;color:#000;width:80%;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,.1)}#dl8-content-container .WarningView_root_3cP>div{padding:10px 0;-webkit-flex:1 1;flex:1 1;-webkit-align-self:center;align-self:center}#dl8-content-container .WarningView_root_3cP>div:first-child{width:30px;padding:5px 8px;-webkit-align-self:center;align-self:center;-webkit-flex:inherit;flex:inherit}#dl8-content-container .WarningView_root_3cP>div:last-child{-webkit-align-self:flex-start;align-self:flex-start;padding:10px 10px 0 5px;-webkit-flex:inherit;flex:inherit}#dl8-content-container .WarningView_root_3cP>div:last-child>i{font-size:26px;text-decoration:none;color:#000;opacity:.6}#dl8-content-container .WarningView_root_3cP>div>img{background:#f77;width:100%;max-width:100%;border-radius:5px}#dl8-content-container .WarningView_root_3cP>div>span{font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;line-height:16px;letter-spacing:.6px;text-align:left;font-size:10.8px;display:block}#dl8-content-container .WarningView_root_3cP>div>span.WarningView_desc_2KF{opacity:.6}",""]),t.locals={root:"WarningView_root_3cP",desc:"WarningView_desc_2KF"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,"#dl8-content-container .App_root_1N-{width:100%;height:100%;pointer-events:auto;background:#000;text-align:left}#dl8-content-container .App_root_1N-.App_hidden_1Ew{display:none}body.x-dl8-fullscreen,html.x-dl8-fullscreen{overflow:hidden!important;width:100vw!important;height:100vh!important;background:#000!important;margin:0!important;padding:0!important}body.x-dl8-fullscreen.x-dl8-mobile,html.x-dl8-fullscreen.x-dl8-mobile{height:200vh!important}body.x-dl8-fullscreen .x-dl8-native-video>video,html.x-dl8-fullscreen .x-dl8-native-video>video{border-radius:15px!important}",""]),t.locals={root:"App_root_1N-",hidden:"App_hidden_1Ew"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,'#dl8-content-container .PlayerHudView_warningSpot_14H{position:absolute;bottom:75px;left:18px;display:inline-block;min-width:256px;z-index:25}#dl8-content-container .PlayerHudView_warningSpot_14H.PlayerHudView_isMobile_DqL{bottom:45px}#dl8-content-container .PlayerHudView_exitVrButton_109{position:absolute;bottom:10px;right:10px}#dl8-content-container .PlayerHudView_vrActionsBottom_38t{position:absolute;left:50%;width:200px;margin-left:-100px;text-align:center}#dl8-content-container .PlayerHudView_vrActionsBottom_38t>*{margin:auto 3px}#dl8-content-container .PlayerHudView_vrActionsTop_2BY{position:absolute;top:10px;right:10px}#dl8-content-container .PlayerHudView_vrActionsBottom_38t{bottom:13px}#dl8-content-container .PlayerHudView_cardboardSeparator_1fe{width:3px;background:#fff;height:100%;position:absolute;bottom:50px;left:50%;margin-left:-1px}#dl8-content-container .PlayerHudView_overlayContainer_2KY{top:0;left:0;right:0;bottom:0;position:absolute}#dl8-content-container .PlayerHudView_overlay_8Ud{position:absolute;width:100%;height:100%;text-align:center;display:-webkit-flex;display:flex;-webkit-align-content:center;align-content:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-direction:column;flex-direction:column;top:0;left:0;font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_horizontalOverlay_3T9{-webkit-flex-direction:row;flex-direction:row}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_noWebGlOverlay_1tv{z-index:5000}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_immediateVrOverlay_135{z-index:4999}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_getVrOverlay_29c{z-index:101}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_getVrOverlay_29c>div.PlayerHudView_overlayVerticalContent_19R{overflow-y:auto;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_getVrOverlay_29c>div.PlayerHudView_overlayVerticalContent_19R>div{display:inline-block;padding:20px}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_getVrOverlay_29c>div.PlayerHudView_overlayVerticalContent_19R>div:last-child:not(:first-child){max-width:256px;padding-left:40px}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_getVrOverlay_29c>div.PlayerHudView_overlayVerticalContent_19R>div:last-child:not(:first-child)>p{max-width:256px;margin:0;text-align:left}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_getVrOverlay_29c>div.PlayerHudView_overlayVerticalContent_19R>div>h2,#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_getVrOverlay_29c>div.PlayerHudView_overlayVerticalContent_19R>div>p{width:500px;margin-bottom:25px}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM{-webkit-overflow-scrolling:touch;overflow-y:auto;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center;width:100vw;box-sizing:border-box;height:calc(100vh - 75px);margin:0;background-color:#000}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mainInstructionContainer_3O7{z-index:99999;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;width:100%;box-sizing:border-box}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_fullSizeInstruction_2VR{padding-left:25px;padding-right:25px;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_appIcon_a8J,#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_settingsIcon_1-R{width:64px;height:64px;margin:0}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_appIcon_a8J{-webkit-transform:scale(.375) translate(-134%,-66%);-o-transform:scale(.375) translate(-134%,-66%);transform:scale(.375) translate(-134%,-66%)}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_appIcon_a8J:after{content:"";position:absolute;height:128px;width:128px;background:url('+n(161)+");border-radius:32px}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_settingsIcon_1-R{background:url("+n(161)+");-webkit-transform:scale(.5);-o-transform:scale(.5);transform:scale(.5);border-radius:8px}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_appIconGrid_3hm{display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;align-items:center;margin:.5em}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_appIconGrid_3hm .PlayerHudView_appIcon_a8J:after{background-position:57.14286% 100%}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_appIconDock_2sO{display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-align-items:center;align-items:center;margin:0;margin-top:auto;-webkit-justify-content:space-evenly;justify-content:space-evenly;height:77.5px;width:100%;padding:0;background-color:#f6c47a;border-radius:0 0 16px 16px}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_appIconDock_2sO .PlayerHudView_appIcon_a8J:first-child::after{background-position:0 100%}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_appIconDock_2sO .PlayerHudView_appIcon_a8J:nth-child(2):after{background-position:14.28571% 100%}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_appIconDock_2sO .PlayerHudView_appIcon_a8J:nth-child(3):after{background-position:28.57143% 100%}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_appIconDock_2sO .PlayerHudView_appIcon_a8J:nth-child(4):after{background-position:42.85714% 100%}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_instructionList_2Wp{width:100%}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_instructionList_2Wp .PlayerHudView_instructionImage_3Yj{opacity:.3;width:100%;height:auto}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_instructionList_2Wp .PlayerHudView_instructionHeadline_1Y1{text-align:left;font-size:18px;width:100%;min-height:72px;padding-top:.5em;padding-bottom:.5em;line-height:normal}@media only screen and (max-width:320px){#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_instructionList_2Wp .PlayerHudView_instructionHeadline_1Y1{min-height:50px;font-size:14px}}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_instructionList_2Wp .PlayerHudView_instructionHeadline_1Y1 .PlayerHudView_instructionHeadlineStepNumber_18I{margin:0;padding:0;font-weight:700;line-height:normal}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_instructionList_2Wp .PlayerHudView_instructionHeadline_1Y1 .PlayerHudView_instructionHeadlineStepHeadline_JkD{margin:0;padding:0;line-height:normal}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_instructionNavigation_2a0{margin-top:auto;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;align-items:center;padding:25px}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_instructionNavigation_2a0 .PlayerHudView_posIndicator_1OE{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;min-width:33%;-webkit-justify-content:space-evenly;justify-content:space-evenly;-webkit-flex-direction:row;flex-direction:row}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_instructionNavigation_2a0 .PlayerHudView_posIndicator_1OE .PlayerHudView_posCircle_AHB{background:#fff;border-radius:50%;width:10px;height:10px}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_appAnnouncement_1p7{width:100%;height:73px;min-height:73px;background:#ff5700;background:-o-linear-gradient(52deg,#ff5700 0,#f144b7 48%,#69b9ff 83%);background:linear-gradient(38deg,#ff5700,#f144b7 48%,#69b9ff 83%);display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around;margin-top:auto;font-size:13px;padding:.5em}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_appAnnouncement_1p7 img{height:100%;width:auto;margin:0}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_iphoneOutline_3Dv{width:100%;height:300px;background-clip:padding-box;background:#fff;border-radius:16px;z-index:1}@media only screen and (max-width:320px){#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_iphoneOutline_3Dv{height:230px}}@media only screen and (min-height:1024px){#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_iphoneOutline_3Dv{height:500px}}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_iphoneImage_1dA{background-image:url("+n(376)+');background-size:cover;background-repeat:no-repeat;background-position:50%;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_roundButton_3Cg{color:#fff;background:-o-linear-gradient(bottom,#3540c6 0,#6b76e7 100%);background:linear-gradient(0deg,#3540c6,#6b76e7);border:none;border-radius:3em;text-decoration:none;padding:.1em .2em;height:2.5em;min-width:6em;text-align:center;display:inline-block;font-weight:700;margin:0;box-shadow:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_roundButton_3Cg:active{transition:-webkit-filter .2s;-o-transition:filter .2s;transition:filter .2s;transition:filter .2s,-webkit-filter .2s;-webkit-filter:blur(5px);filter:blur(5px)}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_navButton_127{font-size:13px}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_reloadButton_1hn{font-size:20px;margin-top:25%;padding:.75em 2.3em}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O{pointer-events:none;width:100%;height:100%;background-color:transparent;color:#000;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;border-radius:16px;overflow:hidden}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockIOSSettingsMainHeader_u7b{height:55px;min-height:55px;background-color:#f8f8f8;border-radius:16px 16px 0 0;z-index:5}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockIOSSettingsMainHeader_u7b span{text-align:center;position:relative;top:35%;font-weight:700;-webkit-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%)}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockIOSSettingsList_ZB8{position:relative;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;height:200vh}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockIOSSettingsList_ZB8 .PlayerHudView_mockIOSSettingsUser_3D8{min-height:65px;height:65px;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:space-around;justify-content:space-around;-webkit-align-items:center;align-items:center}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockIOSSettingsList_ZB8 .PlayerHudView_mockIOSSettingsUser_3D8 img{height:80%;width:auto;border-radius:100%}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockIOSSettingsList_ZB8 .PlayerHudView_mockIOSSettingsUser_3D8 .PlayerHudView_mockIOSSettingsUserText_1nm{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:space-evenly;justify-content:space-evenly}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockIOSSettingsList_ZB8 .PlayerHudView_mockIOSSettingsUser_3D8 .PlayerHudView_mockIOSSettingsUserText_1nm span:nth-of-type(2){font-size:11px}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockIOSSettingsList_ZB8 .PlayerHudView_mockIOSSettingsItem_11X{min-height:22px;height:22px;padding:10px;padding-left:0;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;align-items:center;font-size:15px;border-bottom:1px solid #d5d5d5;margin-left:11px;margin-right:11px;background-color:transparent}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockIOSSettingsList_ZB8 .PlayerHudView_mockIOSSettingsItem_11X .PlayerHudView_appleSwitch_2VX{position:relative;-webkit-appearance:none;outline:none;width:50px;height:30px;background-color:#fff;border:1px solid #d9dadc;border-radius:50px;box-shadow:inset -20px 0 0 0 #fff;margin-left:auto}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockIOSSettingsList_ZB8 .PlayerHudView_mockIOSSettingsItem_11X .PlayerHudView_appleSwitch_2VX:after{content:"";position:absolute;top:1px;left:1px;background:transparent;width:26px;height:26px;border-radius:50%;box-shadow:2px 4px 6px rgba(0,0,0,.2)}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockIOSSettingsList_ZB8 .PlayerHudView_mockIOSSettingsItem_11X .PlayerHudView_appleSwitch_2VX.PlayerHudView_toggled_2pR{-webkit-animation-duration:.5s;-o-animation-duration:.5s;animation-duration:.5s;-webkit-animation-delay:5s;-o-animation-delay:5s;animation-delay:5s;-webkit-animation-name:PlayerHudView_toggleAnimBorder_1iv;-o-animation-name:PlayerHudView_toggleAnimBorder_1iv;animation-name:PlayerHudView_toggleAnimBorder_1iv;-webkit-animation-fill-mode:forwards;-o-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes PlayerHudView_toggleAnimBorder_1iv{to{box-shadow:inset 20px 0 0 0 #4ed164;border-color:#4ed164}}@-o-keyframes PlayerHudView_toggleAnimBorder_1iv{to{box-shadow:inset 20px 0 0 0 #4ed164;border-color:#4ed164}}@keyframes PlayerHudView_toggleAnimBorder_1iv{to{box-shadow:inset 20px 0 0 0 #4ed164;border-color:#4ed164}}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockIOSSettingsList_ZB8 .PlayerHudView_mockIOSSettingsItem_11X .PlayerHudView_appleSwitch_2VX.PlayerHudView_toggled_2pR:after{-webkit-animation-duration:.5s;-o-animation-duration:.5s;animation-duration:.5s;-webkit-animation-delay:5s;-o-animation-delay:5s;animation-delay:5s;-webkit-animation-name:PlayerHudView_toggleAnimCircle_1nx;-o-animation-name:PlayerHudView_toggleAnimCircle_1nx;animation-name:PlayerHudView_toggleAnimCircle_1nx;-webkit-animation-fill-mode:forwards;-o-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes PlayerHudView_toggleAnimCircle_1nx{to{left:20px;box-shadow:-2px 4px 3px rgba(0,0,0,.05)}}@-o-keyframes PlayerHudView_toggleAnimCircle_1nx{to{left:20px;box-shadow:-2px 4px 3px rgba(0,0,0,.05)}}@keyframes PlayerHudView_toggleAnimCircle_1nx{to{left:20px;box-shadow:-2px 4px 3px rgba(0,0,0,.05)}}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockIOSSettingsList_ZB8 .PlayerHudView_mockIOSSettingsItem_11X>* :last-of-type{-webkit-align-self:flex-end;align-self:flex-end}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockIOSSettingsList_ZB8 .PlayerHudView_mockIOSSettingsItemSeparator_2Xf{background-color:#f2e7e7;min-height:18px;height:18px}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockMainSettingsListScrollAnimation_2ZX{-webkit-transform:translateY(-1550px);-o-transform:translateY(-1550px);transform:translateY(-1550px);transition:-webkit-transform 2.5s ease-in-out 1.5s;-o-transition:-o-transform 2.5s ease-in-out 1.5s;transition:transform 2.5s ease-in-out 1.5s;transition:transform 2.5s ease-in-out 1.5s,-webkit-transform 2.5s ease-in-out 1.5s,-o-transform 2.5s ease-in-out 1.5s;z-index:0}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockIOSSettings_10O .PlayerHudView_mockSafariSettingsListScrollAnimation_2Sx{-webkit-transform:translateY(-500px);-o-transform:translateY(-500px);transform:translateY(-500px);transition:-webkit-transform 2.5s ease-in-out 1.5s;-o-transition:-o-transform 2.5s ease-in-out 1.5s;transition:transform 2.5s ease-in-out 1.5s;transition:transform 2.5s ease-in-out 1.5s,-webkit-transform 2.5s ease-in-out 1.5s,-o-transform 2.5s ease-in-out 1.5s;z-index:0}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_touchCircle_3eK{z-index:9999999999;position:absolute;width:105px;height:105px;border-radius:50%;background:none;border:3px solid #0089ff;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;opacity:0}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_touchCircle_3eK.PlayerHudView_touching_3By{-o-transition-property:opacity;transition-property:opacity;-o-transition-duration:.5s;transition-duration:.5s;-o-transition-delay:4.75s;transition-delay:4.75s;opacity:1}@-webkit-keyframes PlayerHudView_show_2NK{0%{opacity:0;-webkit-filter:blur(6px);filter:blur(6px)}to{opacity:1;-webkit-filter:blur(3px);filter:blur(3px)}}@-o-keyframes PlayerHudView_show_2NK{0%{opacity:0;filter:blur(6px)}to{opacity:1;filter:blur(3px)}}@keyframes PlayerHudView_show_2NK{0%{opacity:0;-webkit-filter:blur(6px);filter:blur(6px)}to{opacity:1;-webkit-filter:blur(3px);filter:blur(3px)}}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_touchCircle_3eK:before{content:"";position:absolute;width:68px;height:68px;border-radius:50%;background-color:rgba(0,137,255,.67);opacity:0;-webkit-filter:blur(6px);filter:blur(6px)}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_touchCircle_3eK.PlayerHudView_touching_3By:before{-webkit-animation-duration:.75s;-o-animation-duration:.75s;animation-duration:.75s;-webkit-animation-delay:4.75s;-o-animation-delay:4.75s;animation-delay:4.75s;-webkit-animation-name:PlayerHudView_show_2NK;-o-animation-name:PlayerHudView_show_2NK;animation-name:PlayerHudView_show_2NK;-webkit-animation-direction:alternate;-o-animation-direction:alternate;animation-direction:alternate;opacity:0;-webkit-filter:blur(3px);filter:blur(3px)}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_mockSafariSettings_3mi .PlayerHudView_touchCircle_3eK{right:0}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_appIconGrid_3hm .PlayerHudView_touchCircle_3eK.PlayerHudView_touching_3By{-o-transition-delay:0s;transition-delay:0s}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM .PlayerHudView_appIconGrid_3hm .PlayerHudView_touchCircle_3eK.PlayerHudView_touching_3By:before{-webkit-animation-delay:1s;-o-animation-delay:1s;animation-delay:1s}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_indicatorOverlay_1BL>.dl8Icon{font-size:44px;border-radius:50%;width:100px;height:100px;-webkit-animation-fill-mode:both;-o-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:.6s;-o-animation-duration:.6s;animation-duration:.6s;-webkit-transform-origin:50% 50%;-o-transform-origin:50% 50%;transform-origin:50% 50%;background:rgba(30,30,30,.3);pointer-events:none}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_indicatorOverlay_1BL>.dl8Icon:before{padding-top:28px;display:block}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_indicatorOverlay_1BL>.iconPlay{-webkit-animation-name:PlayerHudView_play-indicator-anim_2_b;-o-animation-name:PlayerHudView_play-indicator-anim_2_b;animation-name:PlayerHudView_play-indicator-anim_2_b}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_indicatorOverlay_1BL>.iconPause{-webkit-animation-name:PlayerHudView_pause-indicator-anim_21n;-o-animation-name:PlayerHudView_pause-indicator-anim_21n;animation-name:PlayerHudView_pause-indicator-anim_21n}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_indicatorOverlay_1BL>.iconStop{-webkit-animation-name:PlayerHudView_stop-indicator-anim_21G;-o-animation-name:PlayerHudView_stop-indicator-anim_21G;animation-name:PlayerHudView_stop-indicator-anim_21G}#dl8-content-container .PlayerHudView_overlay_8Ud.PlayerHudView_indicatorOverlay_1BL>.iconReplay{-webkit-animation-name:PlayerHudView_replay-indicator-anim_1ms;-o-animation-name:PlayerHudView_replay-indicator-anim_1ms;animation-name:PlayerHudView_replay-indicator-anim_1ms}#dl8-content-container .PlayerHudView_overlay_8Ud .PlayerHudView_onScreenPlayButton_2bj{border-radius:50%}#dl8-content-container .PlayerHudView_overlay_8Ud .PlayerHudView_onScreenPlayButton_2bj.PlayerHudView_invisible_1l9{visibility:hidden;pointer-events:none}#dl8-content-container .PlayerHudView_overlay_8Ud .PlayerHudView_onScreenPlayButton_2bj>.dl8Icon{font-size:60.8px;text-shadow:none;border-radius:50%;padding:20px}#dl8-content-container .PlayerHudView_overlay_8Ud .PlayerHudView_onScreenPlayButton_2bj.mobile.PlayerHudView_hasAdvertisement_3QU{margin-top:0;margin-left:calc(25% + 160px)}#dl8-content-container .PlayerHudView_overlay_8Ud .PlayerHudView_onScreenPlayButton_2bj.mobile.PlayerHudView_hasAdvertisement_3QU.PlayerHudView_hasMinHeightToCenter_3ah{margin-top:300px;margin-left:0}#dl8-content-container .PlayerHudView_overlay_8Ud .PlayerHudView_onScreenPlayButton_2bj.mobile.PlayerHudView_hasAdvertisement_3QU.PlayerHudView_hasMinHeightToCenter_3ah.PlayerHudView_hasBottomAddons_3Ti{margin-top:180px;margin-left:0}#dl8-content-container .PlayerHudView_overlay_8Ud>.PlayerHudView_closeButton_unm{position:absolute;top:13px;right:13px;font-size:32px}#dl8-content-container .PlayerHudView_overlay_8Ud>.PlayerHudView_closeButton_unm>.dl8Icon{font-size:32px}#dl8-content-container .PlayerHudView_overlay_8Ud>.PlayerHudView_closeButton_unm.mobile{top:10px;right:10px}#dl8-content-container .PlayerHudView_overlay_8Ud h2{margin:25px 5px 15px;padding:0;font-size:36.8px;letter-spacing:2.4px;line-height:43.2px;-webkit-flex:0 1 auto;flex:0 1 auto;font-weight:300;max-width:80vw;width:300px}#dl8-content-container .PlayerHudView_overlay_8Ud p{width:300px;max-width:80vw;margin-left:10px;margin-right:10px;margin-bottom:35px;line-height:25.6px;letter-spacing:.8px;font-weight:300}#dl8-content-container .PlayerHudView_overlay_8Ud>div{text-align:center}#dl8-content-container .PlayerHudView_overlay_8Ud>div>img{margin-bottom:24px}#dl8-content-container .PlayerHudView_overlay_8Ud>div>ul{margin:0;padding:0;list-style:none}#dl8-content-container .PlayerHudView_overlay_8Ud>div>ul>li{margin:7.2px auto;padding:0;font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;position:relative;display:inline-block}#dl8-content-container .PlayerHudView_overlay_8Ud>div>ul>li:before{content:"";border-radius:50%;background:#fff;width:6px;height:6px;position:absolute;left:-13px;top:5px}#dl8-content-container .PlayerHudView_root_2cs{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;overflow:hidden;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center}#dl8-content-container .PlayerHudView_root_2cs p{font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI{position:absolute}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk{display:none;width:100%;height:100%;z-index:1;position:relative;overflow:visible}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk.PlayerHudView_active_1ao{display:block}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_compass_pcc{position:absolute;width:100%;height:100%;top:0;left:0}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_compass_pcc>button{cursor:pointer;pointer-events:auto;position:absolute;right:12px;top:50%;margin-top:-12px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_vrExtraHud_2BR{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;width:100%;height:100%}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_vrExtraHud_2BR.PlayerHudView_four_3tv>.dl8Btn{margin:0 40px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_vrExtraHud_2BR>.dl8Btn{margin:0 60px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_vrExtraHud_2BR>.dl8Btn.dl8WiderTouch{padding:0}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_vrExtraHud_2BR>.dl8Btn>.dl8Icon{font-size:64px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_vrExtraHud_2BR>.dl8Btn.PlayerHudView_qualitySwitchButton_3zp{background:url('+n(704)+') no-repeat 50% 50%;background-size:64px;width:64px;height:64px;color:transparent}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_vrExtraHud_2BR>.dl8Btn.PlayerHudView_qualitySwitchButton_3zp>option{color:#333}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu{position:absolute;width:100%;box-sizing:border-box;top:0;left:0;display:-webkit-flex;display:flex;padding:15px 15px 50px;-webkit-justify-content:flex-end;justify-content:flex-end}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu.PlayerHudView_isMobile_DqL{padding:10px 12px 0}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_branding_2Xb{display:block;pointer-events:auto;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;min-width:32px;-webkit-flex:0 0 auto;flex:0 0 auto}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_branding_2Xb:hover{opacity:.8}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_branding_2Xb>img{box-shadow:none!important;max-width:90px;max-height:28px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_titleView_1-o{display:-webkit-flex;display:flex;-webkit-flex:1 1 auto;flex:1 1 auto;-webkit-flex-direction:column;flex-direction:column;pointer-events:auto;cursor:auto;margin:0 18px;-webkit-justify-content:center;justify-content:center}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_titleView_1-o>h4{padding:4px 8px 3px;display:inline-block;border-radius:5px;font-size:10px;margin-top:2px;margin-bottom:3px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_titleView_1-o>h2,#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_titleView_1-o>h4{overflow:hidden;font-weight:700;letter-spacing:inherit;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;-webkit-align-self:flex-start;align-self:flex-start}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_titleView_1-o>h2{line-height:15px;font-size:12px;-webkit-tap-highlight-color:transparent;text-overflow:ellipsis;word-wrap:normal;padding:0;max-width:100%;max-height:29px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_titleView_1-o>h2.PlayerHudView_singleLine_O7o{font-size:15px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_titleView_1-o>h6{font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;margin-top:4px;margin-bottom:0;font-size:10px;font-weight:400;-webkit-align-self:flex-start;align-self:flex-start}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_systemActions_3La{pointer-events:auto;min-width:32px;text-align:right;-webkit-flex:0;flex:0}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_systemActions_3La.PlayerHudView_noTitle_C0H{-webkit-flex:1;flex:1}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_systemActions_3La.PlayerHudView_fullWidth_1Ok{width:100%}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_systemActions_3La .dl8Btn{margin-top:2px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_systemActions_3La>.PlayerHudView_muteButton_1hT{border-radius:50%;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;width:30px;height:30px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_topBar_3Tu>.PlayerHudView_systemActions_3La>.PlayerHudView_muteButton_1hT>.dl8Icon{margin-left:-1px;font-size:21px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n{position:absolute;width:100%;bottom:0;left:0;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap;box-sizing:border-box;pointer-events:none;padding:50px 10px 10px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n.PlayerHudView_slim_3ny{padding:7px 10px;-webkit-justify-content:flex-end;justify-content:flex-end}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>*{pointer-events:auto}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_affiliatePauseSpot_1GU{position:absolute;bottom:75px;right:18px;display:inline-block;min-width:256px;z-index:0}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_affiliatePauseSpot_1GU.PlayerHudView_isMobile_DqL{bottom:45px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_controls_2cO{-webkit-flex:1 1 auto;flex:1 1 auto;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;pointer-events:none}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_controls_2cO>*{margin:auto 10px;pointer-events:auto}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_controls_2cO>.PlayerHudView_playButton_1LZ{margin-top:3px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_controls_2cO>.PlayerHudView_playButton_1LZ>.dl8Icon{font-size:32px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_seek_3Jt{-webkit-flex:1 1 auto;flex:1 1 auto}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161{text-align:right;padding-left:5px;padding-top:4px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161.PlayerHudView_fullWidth_1Ok{width:100%}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161>.dl8Btn{vertical-align:middle}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161>.PlayerHudView_settingsButton_2Q7{transition:-webkit-transform .1s ease-in-out;-o-transition:-o-transform .1s ease-in-out;transition:transform .1s ease-in-out;transition:transform .1s ease-in-out,-webkit-transform .1s ease-in-out,-o-transform .1s ease-in-out}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161>.PlayerHudView_settingsButton_2Q7.PlayerHudView_settingsOpen_1uF{-webkit-transform:rotate(25deg);-o-transform:rotate(25deg);transform:rotate(25deg)}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161>.PlayerHudView_fullscreenButton_1Bj>.dl8Icon{margin-right:0!important}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161>.PlayerHudView_vrButton_2fZ{position:relative}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161>.PlayerHudView_vrButton_2fZ>.PlayerHudView_hint_9iE{display:none}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161>.PlayerHudView_vrButton_2fZ>.dl8Icon{font-size:32px;margin-right:2px!important;margin-top:-4px!important}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161>.PlayerHudView_vrButton_2fZ.dl8Disabled{opacity:1}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161>.PlayerHudView_vrButton_2fZ.dl8Disabled>.dl8Icon{color:hsla(0,0%,100%,.3)}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161>.PlayerHudView_vrButton_2fZ.dl8Disabled:hover>.PlayerHudView_hint_9iE{display:block;position:absolute;top:-281px;width:500px;right:-6px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161>.PlayerHudView_vrButton_2fZ.dl8Disabled:hover>.PlayerHudView_hint_9iE>div{background:#fff;border-radius:5px;padding:15px 20px;max-width:80vw;text-align:left;margin-bottom:20px;line-height:20px!important;font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-family:Open Sans,Helvetica,Arial,sans-serif!important;font-size:12.8px!important;text-transform:inherit}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161>.PlayerHudView_vrButton_2fZ.dl8Disabled:hover>.PlayerHudView_hint_9iE>div :after{content:"";position:absolute;bottom:10px;right:16px;border-width:10px 10px 0;border-style:solid;border-color:#fff transparent;display:block;width:0}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161>.PlayerHudView_vrButton_2fZ.dl8Disabled:hover>.PlayerHudView_hint_9iE>div>a{font-style:italic;font-weight:700}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_controlWrapper_2pk>.PlayerHudView_bottomBar_A0n>.PlayerHudView_actions_161 .dl8Btn>.dl8Icon{margin:0 5px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_branding_2Xb{position:absolute;top:10px;left:12px;pointer-events:auto}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_branding_2Xb:hover{opacity:.8}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI>.PlayerHudView_branding_2Xb>img{box-shadow:none!important;width:32px;height:32px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI .PlayerHudView_hidden_2vV{display:none!important}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI .PlayerHudView_tapToUnmute_3-M{width:100%;height:100%;z-index:30;top:0;left:0;position:absolute;display:-webkit-flex;display:flex;-webkit-align-items:flex-end;align-items:flex-end;-webkit-justify-content:left;justify-content:left;pointer-events:auto;cursor:pointer}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI .PlayerHudView_tapToUnmute_3-M>button{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;top:0;left:0;border-radius:45px;padding:7px 13px;margin-left:15px;margin-bottom:15px;font-size:14px;font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;color:#fff}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI .PlayerHudView_tapToUnmute_3-M>button.PlayerHudView_hidden_2vV{display:none}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI .PlayerHudView_tapToUnmute_3-M>button>i{margin-right:5px;font-size:20px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI .PlayerHudView_time_3xm{color:#fff;font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-size:11px;display:inline;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding-left:5px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI .PlayerHudView_liveBadge_3-S{-webkit-tap-highlight-color:rgba(255,255,255,0);-webkit-tap-highlight-color:transparent;cursor:pointer;line-height:9px}#dl8-content-container .PlayerHudView_root_2cs>.PlayerHudView_rootWrapper_3SI .PlayerHudView_liveBadge_3-S>span{cursor:pointer;font-size:12.8px;margin-top:-2px;padding-right:3px;position:relative;vertical-align:middle;font-family:dl8-elements;display:inline-block;speak:none;font-style:normal;font-weight:400;-webkit-font-feature-settings:normal;-moz-font-feature-settings:normal;font-feature-settings:normal;font-variant:normal;text-transform:none}@-webkit-keyframes PlayerHudView_play-indicator-anim_2_b{0%{-webkit-transform:scale(0);transform:scale(0);opacity:0}50%{opacity:1}to{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}@-o-keyframes PlayerHudView_play-indicator-anim_2_b{0%{-o-transform:scale(0);transform:scale(0);opacity:0}50%{opacity:1}to{opacity:0;-o-transform:scale(1);transform:scale(1)}}@keyframes PlayerHudView_play-indicator-anim_2_b{0%{-webkit-transform:scale(0);-o-transform:scale(0);transform:scale(0);opacity:0}50%{opacity:1}to{opacity:0;-webkit-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@-webkit-keyframes PlayerHudView_pause-indicator-anim_21n{0%{-webkit-transform:scale(0);transform:scale(0);opacity:0}50%{opacity:1}to{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}@-o-keyframes PlayerHudView_pause-indicator-anim_21n{0%{-o-transform:scale(0);transform:scale(0);opacity:0}50%{opacity:1}to{opacity:0;-o-transform:scale(1);transform:scale(1)}}@keyframes PlayerHudView_pause-indicator-anim_21n{0%{-webkit-transform:scale(0);-o-transform:scale(0);transform:scale(0);opacity:0}50%{opacity:1}to{opacity:0;-webkit-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@-webkit-keyframes PlayerHudView_stop-indicator-anim_21G{0%{-webkit-transform:scale(0);transform:scale(0);opacity:0}50%{opacity:1}to{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}@-o-keyframes PlayerHudView_stop-indicator-anim_21G{0%{-o-transform:scale(0);transform:scale(0);opacity:0}50%{opacity:1}to{opacity:0;-o-transform:scale(1);transform:scale(1)}}@keyframes PlayerHudView_stop-indicator-anim_21G{0%{-webkit-transform:scale(0);-o-transform:scale(0);transform:scale(0);opacity:0}50%{opacity:1}to{opacity:0;-webkit-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@-webkit-keyframes PlayerHudView_replay-indicator-anim_1ms{0%{-webkit-transform:scale(0);transform:scale(0);opacity:0}50%{opacity:1}to{-webkit-transform:scale(1);transform:scale(1)}}@-o-keyframes PlayerHudView_replay-indicator-anim_1ms{0%{-o-transform:scale(0);transform:scale(0);opacity:0}50%{opacity:1}to{-o-transform:scale(1);transform:scale(1)}}@keyframes PlayerHudView_replay-indicator-anim_1ms{0%{-webkit-transform:scale(0);-o-transform:scale(0);transform:scale(0);opacity:0}50%{opacity:1}to{-webkit-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}',""]),
t.locals={warningSpot:"PlayerHudView_warningSpot_14H",isMobile:"PlayerHudView_isMobile_DqL",exitVrButton:"PlayerHudView_exitVrButton_109",vrActionsBottom:"PlayerHudView_vrActionsBottom_38t",vrActionsTop:"PlayerHudView_vrActionsTop_2BY",cardboardSeparator:"PlayerHudView_cardboardSeparator_1fe",overlayContainer:"PlayerHudView_overlayContainer_2KY",overlay:"PlayerHudView_overlay_8Ud",horizontalOverlay:"PlayerHudView_horizontalOverlay_3T9",noWebGlOverlay:"PlayerHudView_noWebGlOverlay_1tv",immediateVrOverlay:"PlayerHudView_immediateVrOverlay_135",getVrOverlay:"PlayerHudView_getVrOverlay_29c",overlayVerticalContent:"PlayerHudView_overlayVerticalContent_19R",iOSWithoutDeviceMotionOverlay:"PlayerHudView_iOSWithoutDeviceMotionOverlay_2YM",mainInstructionContainer:"PlayerHudView_mainInstructionContainer_3O7",fullSizeInstruction:"PlayerHudView_fullSizeInstruction_2VR",settingsIcon:"PlayerHudView_settingsIcon_1-R",appIcon:"PlayerHudView_appIcon_a8J",appIconGrid:"PlayerHudView_appIconGrid_3hm",appIconDock:"PlayerHudView_appIconDock_2sO",instructionList:"PlayerHudView_instructionList_2Wp",instructionImage:"PlayerHudView_instructionImage_3Yj",instructionHeadline:"PlayerHudView_instructionHeadline_1Y1",instructionHeadlineStepNumber:"PlayerHudView_instructionHeadlineStepNumber_18I",instructionHeadlineStepHeadline:"PlayerHudView_instructionHeadlineStepHeadline_JkD",instructionNavigation:"PlayerHudView_instructionNavigation_2a0",posIndicator:"PlayerHudView_posIndicator_1OE",posCircle:"PlayerHudView_posCircle_AHB",appAnnouncement:"PlayerHudView_appAnnouncement_1p7",iphoneOutline:"PlayerHudView_iphoneOutline_3Dv",iphoneImage:"PlayerHudView_iphoneImage_1dA",roundButton:"PlayerHudView_roundButton_3Cg",navButton:"PlayerHudView_navButton_127",reloadButton:"PlayerHudView_reloadButton_1hn",mockIOSSettings:"PlayerHudView_mockIOSSettings_10O",mockIOSSettingsMainHeader:"PlayerHudView_mockIOSSettingsMainHeader_u7b",mockIOSSettingsList:"PlayerHudView_mockIOSSettingsList_ZB8",mockIOSSettingsUser:"PlayerHudView_mockIOSSettingsUser_3D8",mockIOSSettingsUserText:"PlayerHudView_mockIOSSettingsUserText_1nm",mockIOSSettingsItem:"PlayerHudView_mockIOSSettingsItem_11X",appleSwitch:"PlayerHudView_appleSwitch_2VX",toggled:"PlayerHudView_toggled_2pR",toggleAnimBorder:"PlayerHudView_toggleAnimBorder_1iv",toggleAnimCircle:"PlayerHudView_toggleAnimCircle_1nx",mockIOSSettingsItemSeparator:"PlayerHudView_mockIOSSettingsItemSeparator_2Xf",mockMainSettingsListScrollAnimation:"PlayerHudView_mockMainSettingsListScrollAnimation_2ZX",mockSafariSettingsListScrollAnimation:"PlayerHudView_mockSafariSettingsListScrollAnimation_2Sx",touchCircle:"PlayerHudView_touchCircle_3eK",touching:"PlayerHudView_touching_3By",show:"PlayerHudView_show_2NK",mockSafariSettings:"PlayerHudView_mockSafariSettings_3mi",indicatorOverlay:"PlayerHudView_indicatorOverlay_1BL","play-indicator-anim":"PlayerHudView_play-indicator-anim_2_b","pause-indicator-anim":"PlayerHudView_pause-indicator-anim_21n","stop-indicator-anim":"PlayerHudView_stop-indicator-anim_21G","replay-indicator-anim":"PlayerHudView_replay-indicator-anim_1ms",onScreenPlayButton:"PlayerHudView_onScreenPlayButton_2bj",invisible:"PlayerHudView_invisible_1l9",hasAdvertisement:"PlayerHudView_hasAdvertisement_3QU",hasMinHeightToCenter:"PlayerHudView_hasMinHeightToCenter_3ah",hasBottomAddons:"PlayerHudView_hasBottomAddons_3Ti",closeButton:"PlayerHudView_closeButton_unm",root:"PlayerHudView_root_2cs",rootWrapper:"PlayerHudView_rootWrapper_3SI",controlWrapper:"PlayerHudView_controlWrapper_2pk",active:"PlayerHudView_active_1ao",compass:"PlayerHudView_compass_pcc",vrExtraHud:"PlayerHudView_vrExtraHud_2BR",four:"PlayerHudView_four_3tv",qualitySwitchButton:"PlayerHudView_qualitySwitchButton_3zp",topBar:"PlayerHudView_topBar_3Tu",branding:"PlayerHudView_branding_2Xb",titleView:"PlayerHudView_titleView_1-o",singleLine:"PlayerHudView_singleLine_O7o",systemActions:"PlayerHudView_systemActions_3La",noTitle:"PlayerHudView_noTitle_C0H",fullWidth:"PlayerHudView_fullWidth_1Ok",muteButton:"PlayerHudView_muteButton_1hT",bottomBar:"PlayerHudView_bottomBar_A0n",slim:"PlayerHudView_slim_3ny",affiliatePauseSpot:"PlayerHudView_affiliatePauseSpot_1GU",controls:"PlayerHudView_controls_2cO",playButton:"PlayerHudView_playButton_1LZ",seek:"PlayerHudView_seek_3Jt",actions:"PlayerHudView_actions_161",settingsButton:"PlayerHudView_settingsButton_2Q7",settingsOpen:"PlayerHudView_settingsOpen_1uF",fullscreenButton:"PlayerHudView_fullscreenButton_1Bj",vrButton:"PlayerHudView_vrButton_2fZ",hint:"PlayerHudView_hint_9iE",hidden:"PlayerHudView_hidden_2vV",tapToUnmute:"PlayerHudView_tapToUnmute_3-M",time:"PlayerHudView_time_3xm",liveBadge:"PlayerHudView_liveBadge_3-S"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,"#dl8-content-container .PlayerView_root_3mD{width:100%;height:100%;overflow:hidden}#dl8-content-container .PlayerView_root_3mD>canvas{width:100%;height:100%;cursor:move;cursor:-webkit-grab;cursor:grab;-webkit-tap-highlight-color:transparent}#dl8-content-container .PlayerView_root_3mD>canvas.PlayerView_hidden_2ji{display:none}#dl8-content-container .PlayerView_root_3mD>div{width:100%;height:100%;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;-webkit-tap-highlight-color:transparent}#dl8-content-container .PlayerView_root_3mD>div>div{-webkit-tap-highlight-color:transparent}#dl8-content-container .PlayerView_root_3mD>div>div>video{width:100%;height:100%;cursor:pointer;display:block!important;-webkit-tap-highlight-color:transparent}#dl8-content-container .PlayerView_root_3mD:active>canvas{cursor:move;cursor:-webkit-grabbing;cursor:grabbing}",""]),t.locals={root:"PlayerView_root_3mD",hidden:"PlayerView_hidden_2ji"}},function(e,t,n){t=e.exports=n(22)(),t.push([e.id,'#dl8-content-container .VRSetupWizardView_root_3el{position:absolute;top:0;left:0;width:100%;height:100%;font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;text-align:center;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column}#dl8-content-container .VRSetupWizardView_root_3el p{font-size:100%}#dl8-content-container .VRSetupWizardView_root_3el h2,#dl8-content-container .VRSetupWizardView_root_3el p{font-family:Open Sans,Helvetica,Arial,sans-serif!important;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}#dl8-content-container .VRSetupWizardView_root_3el h2{letter-spacing:2.4px;font-size:36.8px;line-height:43.2px;font-weight:300;padding:0}#dl8-content-container .VRSetupWizardView_root_3el.VRSetupWizardView_dialogLandscape_2Q-,#dl8-content-container .VRSetupWizardView_root_3el.VRSetupWizardView_dialogPortrait_2Jz{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center}#dl8-content-container .VRSetupWizardView_root_3el.VRSetupWizardView_dialogLandscape_2Q->h2,#dl8-content-container .VRSetupWizardView_root_3el.VRSetupWizardView_dialogPortrait_2Jz>h2{margin:0 90px}#dl8-content-container .VRSetupWizardView_root_3el.VRSetupWizardView_dialogLandscape_2Q->img,#dl8-content-container .VRSetupWizardView_root_3el.VRSetupWizardView_dialogPortrait_2Jz>img{margin-bottom:16px}#dl8-content-container .VRSetupWizardView_root_3el.VRSetupWizardView_dialogLandscape_2Q->.VRSetupWizardView_closeButton_1Yh,#dl8-content-container .VRSetupWizardView_root_3el.VRSetupWizardView_dialogPortrait_2Jz>.VRSetupWizardView_closeButton_1Yh{position:absolute;top:10px;right:10px}#dl8-content-container .VRSetupWizardView_root_3el.VRSetupWizardView_dialogPortrait_2Jz>h2{margin:0 20px 35px}#dl8-content-container .VRSetupWizardView_root_3el.VRSetupWizardView_dialogPortrait_2Jz>p{margin:0 30px 35px;line-height:27.2px;letter-spacing:.8px;font-size:13.6px}#dl8-content-container .VRSetupWizardView_root_3el.VRSetupWizardView_dialogPortrait_2Jz>p>a{font-style:italic;font-weight:700}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_header_2d-{background:rgba(0,0,0,.4);padding-top:10px;box-sizing:border-box;width:100%;height:60px;position:fixed;top:0;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;text-align:left;z-index:200}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_header_2d->p{-webkit-flex:1 auto;flex:1 auto;text-align:center;padding:0 42px 0 0;margin-top:8px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_header_2d->.dl8Btn{padding:0 0 0 20px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_header_2d->.dl8Btn>.dl8Icon{width:32px;height:32px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_header_2d-.VRSetupWizardView_right_35r{-webkit-flex-direction:row-reverse;flex-direction:row-reverse}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_header_2d-.VRSetupWizardView_right_35r>p{padding:0 0 0 42px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_header_2d-.VRSetupWizardView_right_35r>.btn{padding:0 20px 0 0}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136{-webkit-flex:1 auto;flex:1 auto;overflow-x:hidden;overflow-y:scroll;-webkit-overflow-scrolling:touch;padding-left:30px;padding-right:30px;margin-top:60px;box-sizing:border-box;height:calc(100% - 40px)}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136 .VRSetupWizardView_carousel_o2s{padding:0 30px;box-sizing:border-box;display:inline-block}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_carouselWrapper_1Xc{position:relative;margin-bottom:30px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_carouselWrapper_1Xc>.VRSetupWizardView_arrowLeft_6U2{position:absolute;top:0;left:7px;height:100%;z-index:10;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_carouselWrapper_1Xc>.VRSetupWizardView_arrowLeft_6U2>i{font-family:dl8;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_carouselWrapper_1Xc>.VRSetupWizardView_arrowRight_2Mp{position:absolute;top:0;right:7px;height:100%;z-index:10;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_carouselWrapper_1Xc>.VRSetupWizardView_arrowRight_2Mp>i{font-family:dl8;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_hmdGrid_Jbm{display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-justify-content:center;justify-content:center;margin-bottom:40px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_hmdGrid_Jbm>figure{width:calc(50% - 17px);height:auto;margin:17px 0;border-radius:3px;position:relative}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_hmdGrid_Jbm>figure:nth-child(2n){margin-left:17px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_hmdGrid_Jbm>figure:nth-child(odd){margin-right:17px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_hmdGrid_Jbm>figure>label{position:absolute;bottom:-18px;left:50%;margin-left:-60px;width:120px;font-size:12.8px;font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_hmdGrid_Jbm>figure>img{width:100%}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136.VRSetupWizardView_nospace_fgA{padding:0}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_filter_G_P{border-bottom:1px solid #171717;width:100%;position:relative;box-sizing:border-box}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_filter_G_P>input{padding:0 30px;margin:0;font-size:17.6px;height:70px;-webkit-appearance:none;border:0;border-radius:0;width:100%;text-align:left}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_filter_G_P.VRSetupWizardView_dark_3Pn ::-webkit-input-placeholder{color:#fff}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_filter_G_P.VRSetupWizardView_dark_3Pn :-moz-placeholder,#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_filter_G_P.VRSetupWizardView_dark_3Pn ::-moz-placeholder{color:#fff}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_filter_G_P.VRSetupWizardView_dark_3Pn :-ms-input-placeholder{color:#fff}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_filter_G_P:not(.VRSetupWizardView_dark_3Pn) ::-webkit-input-placeholder{color:#000}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_filter_G_P:not(.VRSetupWizardView_dark_3Pn) :-moz-placeholder,#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_filter_G_P:not(.VRSetupWizardView_dark_3Pn) ::-moz-placeholder{color:#000}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_filter_G_P:not(.VRSetupWizardView_dark_3Pn) :-ms-input-placeholder{color:#000}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_filter_G_P>.iconSearch{position:absolute;right:23px;top:21px;font-size:28.8px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_filter_G_P>.iconSearch.VRSetupWizardView_hidden_1L9{display:none}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>ul{list-style:none;text-align:left;margin:0;padding:0}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>ul.VRSetupWizardView_options_zKT>li{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;padding:17px 43px 17px 30px;opacity:1}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>ul.VRSetupWizardView_options_zKT>li>span{-webkit-flex:1;flex:1}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>ul.VRSetupWizardView_options_zKT>li>span.VRSetupWizardView_optionTitle_3xm{opacity:1}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>ul.VRSetupWizardView_options_zKT>li>span.VRSetupWizardView_optionValue_vGR{opacity:.6;text-align:right;position:relative}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>ul.VRSetupWizardView_options_zKT>li>span.VRSetupWizardView_optionValue_vGR:after{opacity:.7;position:absolute;content:"\\E901";top:calc(50% - 11px);font-family:dl8;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;right:-25px;font-size:22px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>ul>li{margin:0;font-family:Open Sans,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;border-bottom:1px solid hsla(0,0%,100%,.08);background:hsla(0,0%,100%,.08);position:relative;font-size:13.6px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding:17px 75px 17px 30px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>ul>li>span>div>span{display:block;margin-bottom:3px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>ul>li>span>div>small{font-size:10px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>ul>li:first-child{border-top:1px solid hsla(0,0%,100%,.22)}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>ul>li:last-child{border-bottom:1px solid hsla(0,0%,100%,.22)}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>ul>li:not(.VRSetupWizardView_active_2Rp)>span{opacity:.6}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>ul>li>.iconCheck{display:none}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>ul>li.VRSetupWizardView_active_2Rp>.iconCheck{position:absolute;display:block;right:20px;top:50%;margin-top:-15px;font-size:28.8px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>ul>li:active{background:hsla(0,0%,100%,.2)}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>h2,#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>p{text-align:center}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>h2{margin:35px 5px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136 p{margin:25px 30px 10px;line-height:16px;letter-spacing:.6px;text-align:left;font-size:10.8px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136 p.VRSetupWizardView_nospace_fgA{margin:0}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136 p>a{color:#666}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_buttonContainer_1TP{padding:0 10px;max-width:256px;margin:auto}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_buttonContainer_1TP p{opacity:.6;text-align:center;margin:1px auto 15px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_thumbnail_2r_{background:#fff;border-radius:2px;display:block;width:128px;height:128px;margin:auto auto 30px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_thumbnail_2r_>img{width:46px;margin-top:20px}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_body_136>.VRSetupWizardView_hmdPreview_m6m{margin-top:64px;width:80%}#dl8-content-container .VRSetupWizardView_root_3el>.VRSetupWizardView_footer_qBC.VRSetupWizardView_buttonWrapper_3nN{padding:10px 30px}',""]),t.locals={root:"VRSetupWizardView_root_3el",dialogLandscape:"VRSetupWizardView_dialogLandscape_2Q-",dialogPortrait:"VRSetupWizardView_dialogPortrait_2Jz",closeButton:"VRSetupWizardView_closeButton_1Yh",header:"VRSetupWizardView_header_2d-",right:"VRSetupWizardView_right_35r",body:"VRSetupWizardView_body_136",carousel:"VRSetupWizardView_carousel_o2s",carouselWrapper:"VRSetupWizardView_carouselWrapper_1Xc",arrowLeft:"VRSetupWizardView_arrowLeft_6U2",arrowRight:"VRSetupWizardView_arrowRight_2Mp",hmdGrid:"VRSetupWizardView_hmdGrid_Jbm",nospace:"VRSetupWizardView_nospace_fgA",filter:"VRSetupWizardView_filter_G_P",dark:"VRSetupWizardView_dark_3Pn",hidden:"VRSetupWizardView_hidden_1L9",options:"VRSetupWizardView_options_zKT",optionTitle:"VRSetupWizardView_optionTitle_3xm",optionValue:"VRSetupWizardView_optionValue_vGR",active:"VRSetupWizardView_active_2Rp",buttonContainer:"VRSetupWizardView_buttonContainer_1TP",thumbnail:"VRSetupWizardView_thumbnail_2r_",hmdPreview:"VRSetupWizardView_hmdPreview_m6m",footer:"VRSetupWizardView_footer_qBC",buttonWrapper:"VRSetupWizardView_buttonWrapper_3nN"}},,function(e,t,n){function i(e,t){function n(e,s,l){l=l?l:1,Object.keys(e).forEach(function(u){var c=e[u],d=t.safe&&Array.isArray(c),h=Object.prototype.toString.call(c),f=a(c),_="[object Object]"===h||"[object Array]"===h,p=s?s+i+u:u;return!d&&!f&&_&&Object.keys(c).length&&(!t.maxDepth||l<r)?n(c,p,l+1):void(o[p]=c)})}t=t||{};var i=t.delimiter||".",r=t.maxDepth,o={};return n(e),o}function r(e,t){function n(e){var t=Number(e);return isNaN(t)||e.indexOf(".")!==-1?e:t}t=t||{};var i=t.delimiter||".",o=t.overwrite||!1,s={},l=a(e);return l||"[object Object]"!==Object.prototype.toString.call(e)?e:(Object.keys(e).forEach(function(a){for(var l=a.split(i),u=n(l.shift()),c=n(l[0]),d=s;void 0!==c;){var h=Object.prototype.toString.call(d[u]),f="[object Object]"===h||"[object Array]"===h;if(!o&&!f&&"undefined"!=typeof d[u])return;(o&&!f||!o&&null==d[u])&&(d[u]="number"!=typeof c||t.object?{}:[]),d=d[u],l.length>0&&(u=n(l.shift()),c=n(l[0]))}d[u]=r(e[a],t)}),s)}var a=n(626);e.exports=i;i.flatten=i,i.unflatten=r},function(e,t,n){"use strict";function i(e){return a.isMemo(e)?u:c[e.$$typeof]||o}function r(e,t,n){if("string"!=typeof t){if(m){var a=p(t);a&&a!==m&&r(e,a,n)}var o=h(t);f&&(o=o.concat(f(t)));for(var l=i(e),u=i(t),c=0;c<o.length;++c){var A=o[c];if(!(s[A]||n&&n[A]||u&&u[A]||l&&l[A])){var g=_(t,A);try{d(e,A,g)}catch(e){}}}return e}return e}var a=n(360),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};c[a.ForwardRef]=l;var d=Object.defineProperty,h=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=r},,function(e,t){"use strict";e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function i(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}/*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   */
e.exports=function(e){return null!=e&&(n(e)||i(e)||!!e._isBuffer)}},function(e,t){e.exports={hud:{howToExp:"Wie erlebe ich VR?",settings:"Einstellungen",COUnsupported:"Cross-origin Videos werden nicht von ihrem Browser unterstützt. Klicken Sie auf die Schaltfläche um die Back-Up-URL in einem neuen Fenster zu öffnen.",viewCont:"Inhalt anzeigen",resetPose:"Position zurücksetzen",exitVR:"VR-Modus verlassen",enterVR:"VR-Modus",getVR:"VR-Modus betreten",browserBug:"Browserfehler",browserBugDesc:"Fehler beim aufrufen von Bewegungsereignissen. Magic Window und VR deaktiviert.",exitFull:"Vollbild verlassen",enterFull:"Vollbild",switchQual:"Qualität ändern",activateSeated:"Sitz-Erlebnis aktivieren",activateRoomScale:"Room-Scale aktivieren",exitPlayer:"Player verlassen",hideHud:"HUD verbergen",showHud:"HUD anzeigen",setupHmd:"HMD einrichten",home:"Zurück zum Hauptmenü",delightVRPlayer:"Delight XR Player",report:"Fehler melden",noWebGLP1:"Ihr Browser unterstützt entweder WebGL nicht oder es ist im Moment deaktiviert. Bitte besuchen Sie ",noWebGLP2:"get.webgl.org",noWebGLP3:" um weitere Informationen zu finden.",contentIssue:"Probleme mit Inhalt",COUnsupportedIOS:" Cross-origin Videos werden nicht von iOS/MacOS Safari unterstützt. Dies ist eine bekannte Einschränkung von Safari. Wechseln Sie auf einen anderen Browser oder versuchen Sie den Inhalt mit dem gleichen Ursprung wie der Ihrer Webseite zu hosten. ",COUnsupportedIE:" Cross-origin Videos werden nicht von Internet Explorer unterstützt. Dies ist eine bekannte Einschränkung von IE. Wechseln Sie auf einen anderen Browser oder versuchen Sie den Inhalt mit dem gleichen Ursprung wie der Ihrer Webseite zu hosten. ",COUnsupportedGeneral:" Cross-origin Videos werden nicht Ihrem Browser unterstützt. Wechseln Sie auf einen anderen Browser oder versuchen Sie den Inhalt mit dem gleichen Ursprung wie der Ihrer Webseite zu hosten. ",start:"Starten",toEnterVRP1:"Um in den VR-Modus zu gelangen, benutzen Sie einen ",toEnterVRP2:"WebVR-kompatiblen Browser",toEnterVRP3:" oder benutzen Sie ein WebGL-kompatibles Mobiltelefon indem sie diesen Code scannen:",encounterError:"Delight XR hat einen Fehler entdeckt!",rotateDevice:"Drehen Sie bitte das Smartphone",attachToHMD:"Platzieren Sie das Smartphone im Headset",mountHMD:"Setzen Sie das Headset auf",noWebGL:"WebGL wird nicht unterstützt",noWebVRP1:"WebVR ist nicht aktiviert",noWebVRP2:"Um WebVR zu aktivieren, navigieren Sie zu",noWebVRP3:"⋮ (Obere rechte Ecke) -&gt; Labs -&gt; Enable WebVR",noWebVRP4:"und laden Sie den Tab erneut",pause:"Pausieren",play:"Abspielen",live:"LIVE",tapToUnmute:"Ton an",clickToUnmute:"Ton an"},iosWithoutDeviceMotion:{warning_title:"Deine VR-Erfahrung ist eingeschränkt",warning_desc:"Safari blockiert die Bewegungsdaten deines Gerätes. So kannst du es beheben.",warning_btntext:"Lies unsere Kurzanleitung",warning_13_btntext:"Hier konfigurieren",step1:"Schritt 1:",step1_headline:"Öffne deine iOS Einstellungen von deinem Homescreen aus",step2:"Schritt 2:",step2_headline:"Scrolle nach unten und wähle die Safari-Einstellungen aus",step3:"Schritt 3:",step3_headline:"Scrolle nach unten und aktiviere Bewegungs- & Ausrichtungszugriff",step4:"Schritt 4:",step4_headline:"Komme wieder zu diesem Tab zurück und klicke den Neuladen-Button",fullname:"Max Mustermann",appleID:"Apple-ID, iCloud, iTunes & App Store",next:"Nächste",prev:"Vorherige",replay:"Von Anfang",reloadButton:"Neuladen und VR genießen",downloadAppA:"Lade die ",downloadAppB:" App für eine bessere Erfahrung",flightmode:"Flugmodus",wifi:"WLAN",bt:"Bluetooth",mobile_network:"Mobiles Netz",personal_hotspot:"Persönlicher Hotspot",notifications:"Mitteilungen",sound:"Töne & Haptik",dnd:"Nicht stören",screentime:"Bildschirmzeit",general:"Allgemein",controlcenter:"Kontrollzentrum",display:"Anzeige & Helligkeit",wallpaper:"Hintergrundbild",siri:"Siri & Suchen",touchid:"Touch ID & Code",sos:"Notruf SOS",battery:"Batterie",privacy:"Datenschutz",itunes:"iTunes & App Store",wallet:"Wallet & Apple Pay",passwords:"Passwörter & Accounts",mail:"Mail",contacts:"Kontakte",calendar:"Kalender",notes:"Notizen",reminders:"Erinnerungen",speechmode:"Sprachmemos",telephone:"Telefon",facetime:"FaceTime",messages:"Nachrichten",map:"Karten",compass:"Kompass",measuringtape:"Maßband",safari:"Safari",stocks:"Aktien",music:"Musik",safari_searchengines:"Suchmaschine",safari_searchengineSuggestions:"Suchmaschinenvorschläge",safari_safariSuggestions:"Safari-Vorschläge",safari_quickWebsiteSearch:"Schnelle Website-Suche",safari_preload:"Toptreffer vorab laden",safari_autofill:"Autom. ausfüllen",safari_frequentlyVisited:"Häufig besuchte Websites",safari_favorites:"Favoriten",safari_links:"Links öffnen",safari_tabIcons:"Symbole in Tabs anzeigen",safari_blockPopups:"Pop-Ups blockieren",safari_crossSiteTracking:"Cross-Sitetracking verhindern",safari_blockCookies:"Alle Cookies blockieren",safari_dnt:"Websitetracking ablehnen",safari_fraudulentWarning:"Betrugswarnung",safari_cameraMicAccess:"Kamera- & Mikrofonzugriff",safari_motionAccess:"Bewegungs- & Ausrichtungszugriff",safari_checkApplePay:"Apple Pay prüfen"},wizard:{initSetup:"Ersteinrichtung des VR-Modus",setup:"VR-Modus Einstellungen",phoneSetup:"Telefon Auswahl",headSetup:"Headset Auswahl",advSetup:"Erweiterte Einstellungen",interSetup:"Interaktionsmodus auswählen",interVR:"VR-Interaktion",gaze:"Blick",gazeBase:"Blick-basiert",button:"Taste",buttonBase:"Klick-basiert (empfohlen)",strtCarmel:"Mit Carmel starten",noCarmelP1:"",noCarmelP2:"Carmel Browser",noCarmelP3:" muss installiert sein.",strtSams:"Mit Samsung VR Starten",noSamsP1:"",noSamsP2:"Samsung VR",noSamsP3:" App muss installiert sein",prvntOculusP1:"Verwenden Sie ",prvntOculusP2:"CB Enabler",prvntOculusP3:" um zu verhindern dass Oculus Home gestartet wird.",strtCB:"Mit Carboard VR starten",strtVR:"VR-Modus einschalten",setOptions:"Bitte passen Sie die folgenden Einstellungen richtig an, um das bestmögliche Erlebnis zu erhalten.",phone:"Telefon",choose:"Wählen Sie Ihr Telefon...",headset:"Headset",filter:"Filtern",search:"suchen",popularHMD:"Beliebte HMDs",otherHMD:"Weitere HMDs",hmdHasBttnP1:"Das von Ihnen ausgewähltes HMD, (",hmdHasBttnP2:"), besitzt Interaktionstasten. Wählen Sie Ihren bevorzugten Interaktionsmodus"},compass:{resetPose:"Position zurücksetzen"},recommend:{prev:"Zurück",next:"Weiter",replay:"Nochmal ansehen",autoplay1:"Video startet in",autoplay2:"Sekunden"},setPanel:{magWindow:"Magic Window",dragCtrl:"Steuerung durch ziehen",qual:"Qualität",delightVer:"Delight XR v",chooseQual:"Qualität auswählen",chooseCtrl:"Steuermodus auswählen",cancel:"Abbrechen",controls:"Steuerung"},sndCtrl:{mute:"Stummschalten",unmute:"Stummschaltung aufheben"},warning:{learn:"Weitere Informationen."},index:{auto:"Automatisch",qualityP1:"p@",qualityP2:"Mbps"},playUtil:{ambiUn:"Ambisonics werden im Moment nicht von Safari iOS unterstützt. Bitte stellen Sie eine Backup-Audio-Quelle zur Verfügung.",noSrc:"Keine abspielbare Quelle gefunden."},hudVR:{menu:"Menü öffnen",back:"Zurück zum Hauptmenü",interReCtr:"Stillhalten um das Display neu zu zentrieren",stillReCtr:"Hier interagieren um das Display neu zu zentrieren",qual:"Qualität",mute:"Stummschalten",unmute:"Stummschaltung aufheben",resetOrient:"Orientierung zurücksetzen",skip:"Zu LIVE springen"},player:{ambiUn:"Ambisonics werden im Moment nicht von Ihrem Browser unterstützt",contentSizeP1:"Ihre Inhaltsgröße (",contentSizeP2:") überschreitet die maximale Texturgröße (",contentSizeP3:", ",contentSizeP4:") der Hardware.",close:"Schließen"}}},function(e,t){e.exports={hud:{howToExp:"How to experience VR",settings:"Settings",COUnsupported:"Cross-origin videos are unsupported in your browser. Click the button to visit the backup URL in another window.",viewCont:"View Content",resetPose:"Reset Position",exitVR:"Exit VR",enterVR:"Enter VR",getVR:"Get VR",browserBug:"Browser Bug",browserBugDesc:"Error retrieving Motion Events. Magic window and VR disabled.",iosSafariMotionCostrained:"",iosSafariMotionCostrainedDesc:"Error retrieving Motion Events. Magic window and VR disabled.",exitFull:"Exit Fullscreen",enterFull:"Enter Fullscreen",switchQual:"Change Quality",activateSeated:"Activate seated experience",activateRoomScale:"Activate room scale",exitPlayer:"Exit Player",hideHud:"Hide HUD",showHud:"Show HUD",setupHmd:"Set Up HMD",home:"Home",delightVRPlayer:"Delight XR Player",report:"Report",noWebGLP1:"Your browser does not support WebGL or it is currently disabled. Please visit ",noWebGLP2:"get.webgl.org",noWebGLP3:" for more information.",contentIssue:"Content issue",COUnsupportedIOS:" Cross-origin videos on iOS/MacOS Safari are unsupported. This is a known limitation of Safari. Use another browser, or if at all possible, try to host your content with the same origin as your website. ",COUnsupportedIE:" Cross-origin videos on Internet Explorer are unsupported. This is a known limitation of IE. Use another browser, or if at all possible, try to host your content with the same origin as your website. ",COUnsupportedGeneral:" Cross-origin content is not supported in your browser. Use another browser, or if at all possible, try to host your content with the same origin as your website. ",start:"Start",toEnterVRP1:"To enter VR, use a ",toEnterVRP2:"WebVR-compatible browser",toEnterVRP3:" or a WebGL-compatible mobile phone by scanning this code:",encounterError:"Delight XR encountered an error!",rotateDevice:"Please rotate your device",attachToHMD:"Attach the phone to your HMD",mountHMD:"Mount your HMD",noWebGL:"No WebGL support",noWebVRP1:"WebVR is not enabled",noWebVRP2:"To enable, navigate to",noWebVRP3:"⋮ (Top Right Corner) -&gt; Labs -&gt; Enable WebVR",noWebVRP4:"and reload the tab",pause:"Pause",play:"Play",live:"LIVE",tapToUnmute:"Tap to unmute",clickToUnmute:"Click to unmute"},iosWithoutDeviceMotion:{warning_title:"Configure your browser for VR",warning_desc:"Safari needs to be configured to allow motion controls. Learn how to do this.",warning_btntext:"Read our Quick Guide",warning_13_btntext:"Tap to configure",step1:"Step 1:",step1_headline:"Open the iOS Settings from your home screen",step2:"Step 2:",step2_headline:"Scroll down and navigate to Safari Settings",step3:"Step 3:",step3_headline:"Scroll down and enable Motion & Orientation Access",step4:"Step 4:",step4_headline:"Come back to this tab and click the reload button below",fullname:"John Doe",appleID:"Apple-ID, iCloud, iTunes & App Store",next:"Next",prev:"Previous",replay:"Start over",reloadButton:"Reload and Enjoy VR",downloadAppA:"Download the ",downloadAppB:" App for a better Experience",flightmode:"Airplane Mode",wifi:"Wi-Fi",bt:"Bluetooth",mobile_network:"Mobile Data",personal_hotspot:"Personal Hotspot",notifications:"Notifications",sound:"Sound & Haptics",dnd:"Do Not Disturb",screentime:"Screen Time",general:"General",controlcenter:"Control Centre",display:"Display & Brightness",wallpaper:"Wallpaper",siri:"Siri & Search",touchid:"Touch ID & Passcode",sos:"Emergency SOS",battery:"Battery",privacy:"Privacy",itunes:"iTunes & App Store",wallet:"Wallet & Apple Pay",passwords:"Passwords & Accounts",mail:"Mail",contacts:"Contacts",calendar:"Calendar",notes:"Notes",reminders:"Reminders",speechmode:"Voice Memos",telephone:"Phone",facetime:"FaceTime",messages:"Messages",map:"Maps",compass:"Compass",measuringtape:"Measure",safari:"Safari",stocks:"Stocks",music:"Music",safari_searchengines:"Search Engine",safari_searchengineSuggestions:"Search Engine Suggestions",safari_safariSuggestions:"Safari Suggestions",safari_quickWebsiteSearch:"Quick Website Search",safari_preload:"Preload Top Hit",safari_autofill:"AutoFill",safari_frequentlyVisited:"Frequently Visited Sites",safari_favorites:"Favourites",safari_links:"Open Links",safari_tabIcons:"Show Icons in Tabs",safari_blockPopups:"Block Pop-ups",safari_crossSiteTracking:"Prevent Cross-Site Tracking",safari_blockCookies:"Block All Cookies",safari_dnt:"Ask Websites Not to Track Me",safari_fraudulentWarning:"Fraudulent Website Warning",safari_cameraMicAccess:"Camera & Microphone Access",safari_motionAccess:"Motion & Orientation Access",safari_checkApplePay:"Check for Apple Pay"},wizard:{initSetup:"Initial VR Setup",setup:"VR Setup",phoneSetup:"Phone Selection",headSetup:"Headset Selection",advSetup:"Advanced Setup",interSetup:"Select an Interaction Mode",interVR:"VR Interaction",gaze:"Gaze",gazeBase:"Gaze-based",button:"Button",buttonBase:"Button-based (recommended)",strtCarmel:"Start in Carmel",noCarmelP1:"Must have ",noCarmelP2:"Carmel Browser ",noCarmelP3:" installed.",strtSams:"Start in Samsung VR",noSamsP1:"Must have ",noSamsP2:"Samsung VR",noSamsP3:" app installed.",prvntOculusP1:"Prevent Oculus Home from launching with ",prvntOculusP2:"CB Enabler",prvntOculusP3:".",strtCB:"Start Cardboard VR",strtVR:"Start VR",setOptions:"Please adjust the settings below as needed for the best possible experience.",phone:"Phone",choose:"Choose...",headset:"Headset",filter:"Filter results",search:"search",popularHMD:"Popular HMDs",otherHMD:"Other HMDs",hmdHasBttnP1:"Your selected HMD, (",hmdHasBttnP2:"), has a button. Select your preferred mode of interaction."},compass:{resetPose:"Reset Position"},recommend:{prev:"Previous",next:"Next",replay:"Watch again",autoplay1:"Video will play in",autoplay2:"seconds"},setPanel:{magWindow:"Magic Window",dragCtrl:"Drag Controls",qual:"Quality",delightVer:"Delight XR v",chooseQual:"Select quality",chooseCtrl:"Select control mode",cancel:"Cancel",controls:"Controls"},sndCtrl:{mute:"Mute",unmute:"Unmute"},warning:{learn:"Learn more."},index:{auto:"Auto",qualityP1:"p@",qualityP2:"Mbps"},playUtil:{ambiUn:"Ambisonics is currently not supported on Safari iOS. Please provide a backup source.",noSrc:"No playable video source found."},hudVR:{menu:"Open Menu",back:"Back to Home",stillReCtr:"Hold still to recenter",interReCtr:"Interact here to recenter",qual:"Quality",mute:"Mute",unmute:"Unmute",resetOrient:"Reset Orientation",skip:"Skip to LIVE"},player:{ambiUn:"Ambisonics not supported by this browser.",contentSizeP1:"The content size (",contentSizeP2:") exceeds the maximum texture size (",contentSizeP3:", ",contentSizeP4:") of the hardware.",close:"Close"}}},function(e,t,n){(function(e,n){function i(e,t){var n=e?e.length:0;return!!n&&s(e,t,0)>-1}function r(e,t,n){for(var i=-1,r=e?e.length:0;++i<r;)if(n(t,e[i]))return!0;return!1}function a(e,t){for(var n=-1,i=e?e.length:0;++n<i;)if(t(e[n],n,e))return!0;return!1}function o(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}function s(e,t,n){if(t!==t)return o(e,l,n);for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function l(e){return e!==e}function u(e){return function(t){return null==t?void 0:t[e]}}function c(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function d(e){return function(t){return e(t)}}function h(e,t){return e.has(t)}function f(e,t){return null==e?void 0:e[t]}function _(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function p(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function m(e,t){return function(n){return e(t(n))}}function A(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function g(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function v(){this.__data__=sn?sn(null):{}}function y(e){return this.has(e)&&delete this.__data__[e]}function b(e){var t=this.__data__;if(sn){var n=t[e];return n===We?void 0:n}return Xt.call(t,e)?t[e]:void 0}function E(e){var t=this.__data__;return sn?void 0!==t[e]:Xt.call(t,e)}function w(e,t){var n=this.__data__;return n[e]=sn&&void 0===t?We:t,this}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function T(){this.__data__=[]}function x(e){var t=this.__data__,n=j(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():$t.call(t,n,1),!0}function C(e){var t=this.__data__,n=j(t,e);return n<0?void 0:t[n][1]}function M(e){return j(this.__data__,e)>-1}function P(e,t){var n=this.__data__,i=j(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function I(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function R(){this.__data__={hash:new g,map:new(nn||S),string:new g}}function k(e){return he(this,e).delete(e)}function D(e){return he(this,e).get(e)}function V(e){return he(this,e).has(e)}function B(e,t){return he(this,e).set(e,t),this}function O(e){var t=-1,n=e?e.length:0;for(this.__data__=new I;++t<n;)this.add(e[t])}function N(e){return this.__data__.set(e,We),this}function L(e){return this.__data__.has(e)}function F(e){this.__data__=new S(e)}function U(){this.__data__=new S}function H(e){return this.__data__.delete(e)}function G(e){return this.__data__.get(e)}function z(e){return this.__data__.has(e)}function Q(e,t){var n=this.__data__;if(n instanceof S){var i=n.__data__;if(!nn||i.length<ze-1)return i.push([e,t]),this;n=this.__data__=new I(i)}return n.set(e,t),this}function W(e,t){var n=vn(e)||Me(e)?c(e.length,String):[],i=n.length,r=!!i;for(var a in e)!t&&!Xt.call(e,a)||r&&("length"==a||me(a,i))||n.push(a);return n}function j(e,t){for(var n=e.length;n--;)if(Ce(e[n][0],t))return n;return-1}function X(e,t){t=Ae(t,e)?[t]:le(t);for(var n=0,i=t.length;null!=e&&n<i;)e=e[we(t[n++])];return n&&n==i?e:void 0}function Y(e){return Yt.call(e)}function q(e,t){return null!=e&&t in Object(e)}function Z(e,t,n,i,r){return e===t||(null==e||null==t||!De(e)&&!Ve(t)?e!==e&&t!==t:K(e,t,Z,n,i,r))}function K(e,t,n,i,r,a){var o=vn(e),s=vn(t),l=Ke,u=Ke;o||(l=An(e),l=l==Ze?at:l),s||(u=An(t),u=u==Ze?at:u);var c=l==at&&!_(e),d=u==at&&!_(t),h=l==u;if(h&&!c)return a||(a=new F),o||yn(e)?ue(e,t,n,i,r,a):ce(e,t,l,n,i,r,a);if(!(r&Xe)){var f=c&&Xt.call(e,"__wrapped__"),p=d&&Xt.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,A=p?t.value():t;return a||(a=new F),n(m,A,i,r,a)}}return!!h&&(a||(a=new F),de(e,t,n,i,r,a))}function J(e,t,n,i){var r=n.length,a=r,o=!i;if(null==e)return!a;for(e=Object(e);r--;){var s=n[r];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<a;){s=n[r];var l=s[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new F;if(i)var h=i(u,c,l,e,t,d);if(!(void 0===h?Z(c,u,i,je|Xe,d):h))return!1}}return!0}function $(e){if(!De(e)||ve(e))return!1;var t=Re(e)||_(e)?qt:Pt;return t.test(Se(e))}function ee(e){return Ve(e)&&ke(e.length)&&!!Rt[Yt.call(e)]}function te(e){return"function"==typeof e?e:null==e?Ue:"object"==typeof e?vn(e)?re(e[0],e[1]):ie(e):Ge(e)}function ne(e){if(!ye(e))return en(e);var t=[];for(var n in Object(e))Xt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ie(e){var t=fe(e);return 1==t.length&&t[0][2]?Ee(t[0][0],t[0][1]):function(n){return n===e||J(n,e,t)}}function re(e,t){return Ae(e)&&be(t)?Ee(we(e),t):function(n){var i=Ne(n,e);return void 0===i&&i===t?Le(n,e):Z(t,i,void 0,je|Xe)}}function ae(e){return function(t){return X(t,e)}}function oe(e){if("string"==typeof e)return e;if(Be(e))return pn?pn.call(e):"";var t=e+"";return"0"==t&&1/e==-Ye?"-0":t}function se(e,t,n){var a=-1,o=i,s=e.length,l=!0,u=[],c=u;if(n)l=!1,o=r;else if(s>=ze){var d=t?null:mn(e);if(d)return A(d);l=!1,o=h,c=new O}else c=t?[]:u;e:for(;++a<s;){var f=e[a],_=t?t(f):f;if(f=n||0!==f?f:0,l&&_===_){for(var p=c.length;p--;)if(c[p]===_)continue e;t&&c.push(_),u.push(f)}else o(c,_,n)||(c!==u&&c.push(_),u.push(f))}return u}function le(e){return vn(e)?e:gn(e)}function ue(e,t,n,i,r,o){var s=r&Xe,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var d=-1,h=!0,f=r&je?new O:void 0;for(o.set(e,t),o.set(t,e);++d<l;){var _=e[d],p=t[d];if(i)var m=s?i(p,_,d,t,e,o):i(_,p,d,e,t,o);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!a(t,function(e,t){if(!f.has(t)&&(_===e||n(_,e,i,r,o)))return f.add(t)})){h=!1;break}}else if(_!==p&&!n(_,p,i,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function ce(e,t,n,i,r,a,o){switch(n){case ft:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ht:return!(e.byteLength!=t.byteLength||!i(new Kt(e),new Kt(t)));case Je:case $e:case rt:return Ce(+e,+t);case et:return e.name==t.name&&e.message==t.message;case st:case ut:return e==t+"";case it:var s=p;case lt:var l=a&Xe;if(s||(s=A),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;a|=je,o.set(e,t);var c=ue(s(e),s(t),i,r,a,o);return o.delete(e),c;case ct:if(_n)return _n.call(e)==_n.call(t)}return!1}function de(e,t,n,i,r,a){var o=r&Xe,s=Fe(e),l=s.length,u=Fe(t),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var h=s[d];if(!(o?h in t:Xt.call(t,h)))return!1}var f=a.get(e);if(f&&a.get(t))return f==t;var _=!0;a.set(e,t),a.set(t,e);for(var p=o;++d<l;){h=s[d];var m=e[h],A=t[h];if(i)var g=o?i(A,m,h,t,e,a):i(m,A,h,e,t,a);if(!(void 0===g?m===A||n(m,A,i,r,a):g)){_=!1;break}p||(p="constructor"==h)}if(_&&!p){var v=e.constructor,y=t.constructor;v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(_=!1)}return a.delete(e),a.delete(t),_}function he(e,t){var n=e.__data__;return ge(t)?n["string"==typeof t?"string":"hash"]:n.map}function fe(e){for(var t=Fe(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,be(r)]}return t}function _e(e,t){var n=f(e,t);return $(n)?n:void 0}function pe(e,t,n){t=Ae(t,e)?[t]:le(t);for(var i,r=-1,a=t.length;++r<a;){var o=we(t[r]);if(!(i=null!=e&&n(e,o)))break;e=e[o]}if(i)return i;var a=e?e.length:0;return!!a&&ke(a)&&me(o,a)&&(vn(e)||Me(e))}function me(e,t){return t=null==t?qe:t,!!t&&("number"==typeof e||It.test(e))&&e>-1&&e%1==0&&e<t}function Ae(e,t){if(vn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Be(e))||(St.test(e)||!wt.test(e)||null!=t&&e in Object(t))}function ge(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ve(e){return!!Wt&&Wt in e}function ye(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||zt;return e===n}function be(e){return e===e&&!De(e)}function Ee(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function we(e){if("string"==typeof e||Be(e))return e;var t=e+"";return"0"==t&&1/e==-Ye?"-0":t}function Se(e){if(null!=e){try{return jt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Te(e,t){return e&&e.length?se(e,te(t,2)):[]}function xe(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(Qe);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=e.apply(this,i);return n.cache=a.set(r,o),o};return n.cache=new(xe.Cache||I),n}function Ce(e,t){return e===t||e!==e&&t!==t}function Me(e){return Ie(e)&&Xt.call(e,"callee")&&(!Jt.call(e,"callee")||Yt.call(e)==Ze)}function Pe(e){return null!=e&&ke(e.length)&&!Re(e)}function Ie(e){return Ve(e)&&Pe(e)}function Re(e){var t=De(e)?Yt.call(e):"";return t==tt||t==nt}function ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=qe}function De(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ve(e){return!!e&&"object"==typeof e}function Be(e){return"symbol"==typeof e||Ve(e)&&Yt.call(e)==ct}function Oe(e){return null==e?"":oe(e)}function Ne(e,t,n){var i=null==e?void 0:X(e,t);return void 0===i?n:i}function Le(e,t){return null!=e&&pe(e,t,q)}function Fe(e){return Pe(e)?W(e):ne(e)}function Ue(e){return e}function He(){}function Ge(e){return Ae(e)?u(we(e)):ae(e)}var ze=200,Qe="Expected a function",We="__lodash_hash_undefined__",je=1,Xe=2,Ye=1/0,qe=9007199254740991,Ze="[object Arguments]",Ke="[object Array]",Je="[object Boolean]",$e="[object Date]",et="[object Error]",tt="[object Function]",nt="[object GeneratorFunction]",it="[object Map]",rt="[object Number]",at="[object Object]",ot="[object Promise]",st="[object RegExp]",lt="[object Set]",ut="[object String]",ct="[object Symbol]",dt="[object WeakMap]",ht="[object ArrayBuffer]",ft="[object DataView]",_t="[object Float32Array]",pt="[object Float64Array]",mt="[object Int8Array]",At="[object Int16Array]",gt="[object Int32Array]",vt="[object Uint8Array]",yt="[object Uint8ClampedArray]",bt="[object Uint16Array]",Et="[object Uint32Array]",wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,St=/^\w*$/,Tt=/^\./,xt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ct=/[\\^$.*+?()[\]{}|]/g,Mt=/\\(\\)?/g,Pt=/^\[object .+?Constructor\]$/,It=/^(?:0|[1-9]\d*)$/,Rt={};Rt[_t]=Rt[pt]=Rt[mt]=Rt[At]=Rt[gt]=Rt[vt]=Rt[yt]=Rt[bt]=Rt[Et]=!0,Rt[Ze]=Rt[Ke]=Rt[ht]=Rt[Je]=Rt[ft]=Rt[$e]=Rt[et]=Rt[tt]=Rt[it]=Rt[rt]=Rt[at]=Rt[st]=Rt[lt]=Rt[ut]=Rt[dt]=!1;var kt="object"==typeof e&&e&&e.Object===Object&&e,Dt="object"==typeof self&&self&&self.Object===Object&&self,Vt=kt||Dt||Function("return this")(),Bt="object"==typeof t&&t&&!t.nodeType&&t,Ot=Bt&&"object"==typeof n&&n&&!n.nodeType&&n,Nt=Ot&&Ot.exports===Bt,Lt=Nt&&kt.process,Ft=function(){try{return Lt&&Lt.binding("util")}catch(e){}}(),Ut=Ft&&Ft.isTypedArray,Ht=Array.prototype,Gt=Function.prototype,zt=Object.prototype,Qt=Vt["__core-js_shared__"],Wt=function(){var e=/[^.]+$/.exec(Qt&&Qt.keys&&Qt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),jt=Gt.toString,Xt=zt.hasOwnProperty,Yt=zt.toString,qt=RegExp("^"+jt.call(Xt).replace(Ct,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zt=Vt.Symbol,Kt=Vt.Uint8Array,Jt=zt.propertyIsEnumerable,$t=Ht.splice,en=m(Object.keys,Object),tn=_e(Vt,"DataView"),nn=_e(Vt,"Map"),rn=_e(Vt,"Promise"),an=_e(Vt,"Set"),on=_e(Vt,"WeakMap"),sn=_e(Object,"create"),ln=Se(tn),un=Se(nn),cn=Se(rn),dn=Se(an),hn=Se(on),fn=Zt?Zt.prototype:void 0,_n=fn?fn.valueOf:void 0,pn=fn?fn.toString:void 0;g.prototype.clear=v,g.prototype.delete=y,g.prototype.get=b,g.prototype.has=E,g.prototype.set=w,S.prototype.clear=T,S.prototype.delete=x,S.prototype.get=C,S.prototype.has=M,S.prototype.set=P,I.prototype.clear=R,I.prototype.delete=k,I.prototype.get=D,I.prototype.has=V,I.prototype.set=B,O.prototype.add=O.prototype.push=N,O.prototype.has=L,F.prototype.clear=U,F.prototype.delete=H,F.prototype.get=G,F.prototype.has=z,F.prototype.set=Q;var mn=an&&1/A(new an([,-0]))[1]==Ye?function(e){return new an(e)}:He,An=Y;(tn&&An(new tn(new ArrayBuffer(1)))!=ft||nn&&An(new nn)!=it||rn&&An(rn.resolve())!=ot||an&&An(new an)!=lt||on&&An(new on)!=dt)&&(An=function(e){var t=Yt.call(e),n=t==at?e.constructor:void 0,i=n?Se(n):void 0;if(i)switch(i){case ln:return ft;case un:return it;case cn:return ot;case dn:return lt;case hn:return dt}return t});var gn=xe(function(e){e=Oe(e);var t=[];return Tt.test(e)&&t.push(""),e.replace(xt,function(e,n,i,r){t.push(i?r.replace(Mt,"$1"):n||e)}),t});xe.Cache=I;var vn=Array.isArray,yn=Ut?d(Ut):ee;n.exports=Te}).call(t,function(){return this}(),n(279)(e))},function(e,t){(function(t){function n(e,t){var n=e?e.length:0;return!!n&&a(e,t,0)>-1}function i(e,t,n){for(var i=-1,r=e?e.length:0;++i<r;)if(n(t,e[i]))return!0;return!1}function r(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}function a(e,t,n){if(t!==t)return r(e,o,n);for(var i=n-1,a=e.length;++i<a;)if(e[i]===t)return i;return-1}function o(e){return e!==e}function s(e,t){return e.has(t)}function l(e,t){return null==e?void 0:e[t]}function u(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function d(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function h(){this.__data__=fe?fe(null):{}}function f(e){return this.has(e)&&delete this.__data__[e]}function _(e){var t=this.__data__;if(fe){var n=t[e];return n===j?void 0:n}return se.call(t,e)?t[e]:void 0}function p(e){var t=this.__data__;return fe?void 0!==t[e]:se.call(t,e)}function m(e,t){var n=this.__data__;return n[e]=fe&&void 0===t?j:t,this}function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function g(){this.__data__=[]}function v(e){var t=this.__data__,n=k(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():ce.call(t,n,1),!0}function y(e){var t=this.__data__,n=k(t,e);return n<0?void 0:t[n][1]}function b(e){return k(this.__data__,e)>-1}function E(e,t){var n=this.__data__,i=k(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function w(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function S(){this.__data__={hash:new d,map:new(de||A),string:new d}}function T(e){return B(this,e).delete(e)}function x(e){return B(this,e).get(e)}function C(e){return B(this,e).has(e)}function M(e,t){return B(this,e).set(e,t),this}function P(e){var t=-1,n=e?e.length:0;for(this.__data__=new w;++t<n;)this.add(e[t])}function I(e){return this.__data__.set(e,j),this}function R(e){return this.__data__.has(e)}function k(e,t){for(var n=e.length;n--;)if(H(e[n][0],t))return n;return-1}function D(e){if(!z(e)||L(e))return!1;var t=G(e)||u(e)?ue:K;return t.test(F(e))}function V(e,t,r){var a=-1,o=n,l=e.length,u=!0,d=[],h=d;if(r)u=!1,o=i;else if(l>=W){var f=t?null:_e(e);if(f)return c(f);u=!1,o=s,h=new P}else h=t?[]:d;e:for(;++a<l;){var _=e[a],p=t?t(_):_;if(_=r||0!==_?_:0,u&&p===p){for(var m=h.length;m--;)if(h[m]===p)continue e;t&&h.push(p),d.push(_)}else o(h,p,r)||(h!==d&&h.push(p),d.push(_))}return d}function B(e,t){var n=e.__data__;return N(t)?n["string"==typeof t?"string":"hash"]:n.map}function O(e,t){var n=l(e,t);return D(n)?n:void 0}function N(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function L(e){return!!ae&&ae in e}function F(e){if(null!=e){try{return oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function U(e,t){return e&&e.length?V(e,void 0,t):[]}function H(e,t){return e===t||e!==e&&t!==t}function G(e){var t=z(e)?le.call(e):"";return t==Y||t==q}function z(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Q(){}var W=200,j="__lodash_hash_undefined__",X=1/0,Y="[object Function]",q="[object GeneratorFunction]",Z=/[\\^$.*+?()[\]{}|]/g,K=/^\[object .+?Constructor\]$/,J="object"==typeof t&&t&&t.Object===Object&&t,$="object"==typeof self&&self&&self.Object===Object&&self,ee=J||$||Function("return this")(),te=Array.prototype,ne=Function.prototype,ie=Object.prototype,re=ee["__core-js_shared__"],ae=function(){var e=/[^.]+$/.exec(re&&re.keys&&re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),oe=ne.toString,se=ie.hasOwnProperty,le=ie.toString,ue=RegExp("^"+oe.call(se).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=te.splice,de=O(ee,"Map"),he=O(ee,"Set"),fe=O(Object,"create");d.prototype.clear=h,d.prototype.delete=f,d.prototype.get=_,d.prototype.has=p,d.prototype.set=m,A.prototype.clear=g,A.prototype.delete=v,A.prototype.get=y,A.prototype.has=b,A.prototype.set=E,w.prototype.clear=S,w.prototype.delete=T,w.prototype.get=x,w.prototype.has=C,w.prototype.set=M,P.prototype.add=P.prototype.push=I,P.prototype.has=R;var _e=he&&1/c(new he([,-0]))[1]==X?function(e){return new he(e)}:Q;e.exports=U}).call(t,function(){return this}())},function(e,t,n){/*!mobile-detect v1.4.3 2018-09-08*/
/*!@license Copyright 2013, Heinrich Goebl, License: MIT, see https://github.com/hgoebl/mobile-detect.js*/
!function(e,t){e(function(){"use strict";function e(e,t){return null!=e&&null!=t&&e.toLowerCase()===t.toLowerCase()}function n(e,t){var n,i,r=e.length;if(!r||!t)return!1;for(n=t.toLowerCase(),i=0;i<r;++i)if(n===e[i].toLowerCase())return!0;return!1}function i(e){for(var t in e)l.call(e,t)&&(e[t]=new RegExp(e[t],"i"))}function r(e){return(e||"").substr(0,500)}function a(e,t){this.ua=r(e),this._cache={},this.maxPhoneWidth=t||600}var o={};o.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo (3DS|Switch)",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",GoogleTablet:"Android.*Pixel C",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304F|TB-X304L|TB-8703F|Tab2A7-10F|TB2-X30L",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b(?!\\))",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9|TECNO DP8D",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",VerizonTablet:"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",WeChat:"\\bMicroMessenger\\b",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]",UCBrowser:["UCWEB[VER]","UC.*Browser/[VER]"],MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},o.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,
tabletPattern:/android|ipad|playbook|silk/i};var s,l=Object.prototype.hasOwnProperty;return o.FALLBACK_PHONE="UnknownPhone",o.FALLBACK_TABLET="UnknownTablet",o.FALLBACK_MOBILE="UnknownMobile",s="isArray"in Array?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},function(){var e,t,n,r,a,u,c=o.mobileDetectRules;for(e in c.props)if(l.call(c.props,e)){for(t=c.props[e],s(t)||(t=[t]),a=t.length,r=0;r<a;++r)n=t[r],u=n.indexOf("[VER]"),u>=0&&(n=n.substring(0,u)+"([\\w._\\+]+)"+n.substring(u+5)),t[r]=new RegExp(n,"i");c.props[e]=t}i(c.oss),i(c.phones),i(c.tablets),i(c.uas),i(c.utils),c.oss0={WindowsPhoneOS:c.oss.WindowsPhoneOS,WindowsMobileOS:c.oss.WindowsMobileOS}}(),o.findMatch=function(e,t){for(var n in e)if(l.call(e,n)&&e[n].test(t))return n;return null},o.findMatches=function(e,t){var n=[];for(var i in e)l.call(e,i)&&e[i].test(t)&&n.push(i);return n},o.getVersionStr=function(e,t){var n,i,r,a,s=o.mobileDetectRules.props;if(l.call(s,e))for(n=s[e],r=n.length,i=0;i<r;++i)if(a=n[i].exec(t),null!==a)return a[1];return null},o.getVersion=function(e,t){var n=o.getVersionStr(e,t);return n?o.prepareVersionNo(n):NaN},o.prepareVersionNo=function(e){var t;return t=e.split(/[a-z._ \/\-]/i),1===t.length&&(e=t[0]),t.length>1&&(e=t[0]+".",t.shift(),e+=t.join("")),Number(e)},o.isMobileFallback=function(e){return o.detectMobileBrowsers.fullPattern.test(e)||o.detectMobileBrowsers.shortPattern.test(e.substr(0,4))},o.isTabletFallback=function(e){return o.detectMobileBrowsers.tabletPattern.test(e)},o.prepareDetectionCache=function(e,n,i){if(e.mobile===t){var r,s,l;return(s=o.findMatch(o.mobileDetectRules.tablets,n))?(e.mobile=e.tablet=s,void(e.phone=null)):(r=o.findMatch(o.mobileDetectRules.phones,n))?(e.mobile=e.phone=r,void(e.tablet=null)):void(o.isMobileFallback(n)?(l=a.isPhoneSized(i),l===t?(e.mobile=o.FALLBACK_MOBILE,e.tablet=e.phone=null):l?(e.mobile=e.phone=o.FALLBACK_PHONE,e.tablet=null):(e.mobile=e.tablet=o.FALLBACK_TABLET,e.phone=null)):o.isTabletFallback(n)?(e.mobile=e.tablet=o.FALLBACK_TABLET,e.phone=null):e.mobile=e.tablet=e.phone=null)}},o.mobileGrade=function(e){var t=null!==e.mobile();return e.os("iOS")&&e.version("iPad")>=4.3||e.os("iOS")&&e.version("iPhone")>=3.1||e.os("iOS")&&e.version("iPod")>=3.1||e.version("Android")>2.1&&e.is("Webkit")||e.version("Windows Phone OS")>=7||e.is("BlackBerry")&&e.version("BlackBerry")>=6||e.match("Playbook.*Tablet")||e.version("webOS")>=1.4&&e.match("Palm|Pre|Pixi")||e.match("hp.*TouchPad")||e.is("Firefox")&&e.version("Firefox")>=12||e.is("Chrome")&&e.is("AndroidOS")&&e.version("Android")>=4||e.is("Skyfire")&&e.version("Skyfire")>=4.1&&e.is("AndroidOS")&&e.version("Android")>=2.3||e.is("Opera")&&e.version("Opera Mobi")>11&&e.is("AndroidOS")||e.is("MeeGoOS")||e.is("Tizen")||e.is("Dolfin")&&e.version("Bada")>=2||(e.is("UC Browser")||e.is("Dolfin"))&&e.version("Android")>=2.3||e.match("Kindle Fire")||e.is("Kindle")&&e.version("Kindle")>=3||e.is("AndroidOS")&&e.is("NookTablet")||e.version("Chrome")>=11&&!t||e.version("Safari")>=5&&!t||e.version("Firefox")>=4&&!t||e.version("MSIE")>=7&&!t||e.version("Opera")>=10&&!t?"A":e.os("iOS")&&e.version("iPad")<4.3||e.os("iOS")&&e.version("iPhone")<3.1||e.os("iOS")&&e.version("iPod")<3.1||e.is("Blackberry")&&e.version("BlackBerry")>=5&&e.version("BlackBerry")<6||e.version("Opera Mini")>=5&&e.version("Opera Mini")<=6.5&&(e.version("Android")>=2.3||e.is("iOS"))||e.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||e.version("Opera Mobi")>=11&&e.is("SymbianOS")?"B":(e.version("BlackBerry")<5||e.match("MSIEMobile|Windows CE.*Mobile")||e.version("Windows Mobile")<=5.2,"C")},o.detectOS=function(e){return o.findMatch(o.mobileDetectRules.oss0,e)||o.findMatch(o.mobileDetectRules.oss,e)},o.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},a.prototype={constructor:a,mobile:function(){return o.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return o.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return o.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===t&&(this._cache.userAgent=o.findMatch(o.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===t&&(this._cache.userAgents=o.findMatches(o.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===t&&(this._cache.os=o.detectOS(this.ua)),this._cache.os},version:function(e){return o.getVersion(e,this.ua)},versionStr:function(e){return o.getVersionStr(e,this.ua)},is:function(t){return n(this.userAgents(),t)||e(t,this.os())||e(t,this.phone())||e(t,this.tablet())||n(o.findMatches(o.mobileDetectRules.utils,this.ua),t)},match:function(e){return e instanceof RegExp||(e=new RegExp(e,"i")),e.test(this.ua)},isPhoneSized:function(e){return a.isPhoneSized(e||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===t&&(this._cache.grade=o.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?a.isPhoneSized=function(e){return e<0?t:o.getDeviceSmallerSide()<=e}:a.isPhoneSized=function(){},a._impl=o,a.version="1.4.3 2018-09-08",a})}(function(t){return"undefined"!=typeof e&&e.exports?function(t){e.exports=t()}:n(193)}())},101,function(e,t,n){"use strict";function i(){}var r=n(634);e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,n){!function(i){"use strict";function r(){return X?new v:i.document.createElement("canvas")}function a(){return X?new T:i.document.createElement("img")}function o(e,t,n){var r=t.mime||P;i.location.href=e.toDataURL(r).replace(r,I),"function"==typeof n&&n()}function s(e){return"string"==typeof e&&(e={value:e}),e||{}}function l(e,t,n){function i(){S.write(r,a,0,a.length,0,function(e){S.close(r),n(e)})}if("string"!=typeof t.path)return n(new TypeError("Invalid path type: "+typeof t.path));var r,a;e.toBuffer(function(e,t){return e?n(e):(a=t,void(r&&i()))}),S.open(t.path,"w",H,function(e,t){return e?n(e):(r=t,void(a&&i()))})}function u(e,t){if("string"!=typeof t.path)throw new TypeError("Invalid path type: "+typeof t.path);var n=e.toBuffer(),i=S.openSync(t.path,"w",H);try{S.writeSync(i,n,0,n.length,0)}finally{S.closeSync(i)}}function c(e,t){var n;e>t&&(n=e,e=t,t=n),n=t,n*=t,n+=t,n>>=1,n+=e,j[n]=1}function d(e,t){var n;for(W[e+C*t]=1,n=-2;n<2;n++)W[e+n+C*(t-2)]=1,W[e-2+C*(t+n+1)]=1,W[e+2+C*(t+n)]=1,W[e+n+1+C*(t+2)]=1;for(n=0;n<2;n++)c(e-1,t+n),c(e+1,t-n),c(e-n,t-1),c(e+n,t+1)}function h(e){for(;e>=255;)e-=255,e=(e>>8)+(255&e);return e}function f(e,t,n,i){var r,a,o;for(a=0;a<i;a++)Z[n+a]=0;for(a=0;a<t;a++){if(r=B[Z[e+a]^Z[n]],255!==r)for(o=1;o<i;o++)Z[n+o-1]=Z[n+o]^V[h(r+Y[i-o])];else for(o=n;o<n+i;o++)Z[o]=Z[o+1];Z[n+i-1]=255===r?0:V[h(r+Y[0])]}}function _(e,t){var n;return e>t&&(n=e,e=t,t=n),n=t,n+=t*t,n>>=1,n+=e,1===j[n]}function p(e){var t,n,i,r;switch(e){case 0:for(n=0;n<C;n++)for(t=0;t<C;t++)t+n&1||_(t,n)||(W[t+n*C]^=1);break;case 1:for(n=0;n<C;n++)for(t=0;t<C;t++)1&n||_(t,n)||(W[t+n*C]^=1);break;case 2:for(n=0;n<C;n++)for(i=0,t=0;t<C;t++,i++)3===i&&(i=0),i||_(t,n)||(W[t+n*C]^=1);break;case 3:for(r=0,n=0;n<C;n++,r++)for(3===r&&(r=0),i=r,t=0;t<C;t++,i++)3===i&&(i=0),i||_(t,n)||(W[t+n*C]^=1);break;case 4:for(n=0;n<C;n++)for(i=0,r=n>>1&1,t=0;t<C;t++,i++)3===i&&(i=0,r=!r),r||_(t,n)||(W[t+n*C]^=1);break;case 5:for(r=0,n=0;n<C;n++,r++)for(3===r&&(r=0),i=0,t=0;t<C;t++,i++)3===i&&(i=0),(t&n&1)+!(!i|!r)||_(t,n)||(W[t+n*C]^=1);break;case 6:for(r=0,n=0;n<C;n++,r++)for(3===r&&(r=0),i=0,t=0;t<C;t++,i++)3===i&&(i=0),(t&n&1)+(i&&i===r)&1||_(t,n)||(W[t+n*C]^=1);break;case 7:for(r=0,n=0;n<C;n++,r++)for(3===r&&(r=0),i=0,t=0;t<C;t++,i++)3===i&&(i=0),(i&&i===r)+(t+n&1)&1||_(t,n)||(W[t+n*C]^=1)}}function m(e){var t,n=0;for(t=0;t<=e;t++)G[t]>=5&&(n+=O+G[t]-5);for(t=3;t<e-1;t+=2)G[t-2]===G[t+2]&&G[t+2]===G[t-1]&&G[t-1]===G[t+1]&&3*G[t-1]===G[t]&&(0===G[t-3]||t+3>e||3*G[t-3]>=4*G[t]||3*G[t+3]>=4*G[t])&&(n+=L);return n}function A(){var e,t,n,i,r,a,o,s,l;for(n=r=a=0,l=0;l<C-1;l++)for(s=0;s<C-1;s++)(W[s+C*l]&&W[s+1+C*l]&&W[s+C*(l+1)]&&W[s+1+C*(l+1)]||!(W[s+C*l]||W[s+1+C*l]||W[s+C*(l+1)]||W[s+1+C*(l+1)]))&&(n+=N);for(l=0;l<C;l++){for(G[0]=0,o=e=s=0;s<C;s++)(t=W[s+C*l])===e?G[o]++:G[++o]=1,e=t,r+=e?1:-1;n+=m(o)}for(r<0&&(r=-r),i=r,i+=i<<2,i<<=1;i>C*C;)i-=C*C,a++;for(n+=a*F,s=0;s<C;s++){for(G[0]=0,o=e=l=0;l<C;l++)(t=W[s+C*l])===e?G[o]++:G[++o]=1,e=t;n+=m(o)}return n}function g(e){var t,n,i,r,a,o,s,l;a=e.length,x=0;do if(x++,i=4*(Q-1)+16*(x-1),E=R[i++],w=R[i++],y=R[i++],b=R[i],i=y*(E+w)+w-3+(x<=9),a<=i)break;while(x<40);for(C=17+4*x,o=y+(y+b)*(E+w)+w,a=0;a<o;a++)z[a]=0;for(Z=e.slice(0),a=0;a<C*C;a++)W[a]=0;for(a=0;a<(C*(C+1)+1)/2;a++)j[a]=0;for(a=0;a<3;a++){for(i=l=0,1===a&&(i=C-7),2===a&&(l=C-7),W[l+3+C*(i+3)]=1,s=0;s<6;s++)W[l+s+C*i]=1,W[l+C*(i+s+1)]=1,W[l+6+C*(i+s)]=1,W[l+s+1+C*(i+6)]=1;for(s=1;s<5;s++)c(l+s,i+1),c(l+1,i+s+1),c(l+5,i+s),c(l+s+1,i+5);for(s=2;s<4;s++)W[l+s+C*(i+2)]=1,W[l+2+C*(i+s+1)]=1,W[l+4+C*(i+s)]=1,W[l+s+1+C*(i+4)]=1}if(x>1)for(a=M[x],l=C-7;;){for(s=C-7;s>a-3&&(d(s,l),!(s<a));)s-=a;if(l<=a+9)break;l-=a,d(6,l),d(l,6)}for(W[8+C*(C-8)]=1,l=0;l<7;l++)c(7,l),c(C-8,l),c(7,l+C-7);for(s=0;s<8;s++)c(s,7),c(s+C-8,7),c(s,C-8);for(s=0;s<9;s++)c(s,8);for(s=0;s<8;s++)c(s+C-8,8),c(8,s);for(l=0;l<7;l++)c(8,l+C-7);for(s=0;s<C-14;s++)1&s?(c(8+s,6),c(6,8+s)):(W[8+s+6*C]=1,W[6+C*(8+s)]=1);if(x>6)for(a=U[x-7],i=17,s=0;s<6;s++)for(l=0;l<3;l++,i--)1&(i>11?x>>i-12:a>>i)?(W[5-s+C*(2-l+C-11)]=1,W[2-l+C-11+C*(5-s)]=1):(c(5-s,2-l+C-11),c(2-l+C-11,5-s));for(l=0;l<C;l++)for(s=0;s<=l;s++)W[s+C*l]&&c(s,l);for(o=Z.length,t=0;t<o;t++)z[t]=Z.charCodeAt(t);if(Z=z.slice(0),s=y*(E+w)+w,o>=s-2&&(o=s-2,x>9&&o--),t=o,x>9){for(Z[t+2]=0,Z[t+3]=0;t--;)a=Z[t],Z[t+3]|=255&a<<4,Z[t+2]=a>>4;Z[2]|=255&o<<4,Z[1]=o>>4,Z[0]=64|o>>12}else{for(Z[t+1]=0,Z[t+2]=0;t--;)a=Z[t],Z[t+2]|=255&a<<4,Z[t+1]=a>>4;Z[1]|=255&o<<4,Z[0]=64|o>>4}for(t=o+3-(x<10);t<s;)Z[t++]=236,Z[t++]=17;for(Y[0]=1,t=0;t<b;t++){for(Y[t+1]=1,n=t;n>0;n--)Y[n]=Y[n]?Y[n-1]^V[h(B[Y[n]]+t)]:Y[n-1];Y[0]=V[h(B[Y[0]]+t)]}for(t=0;t<=b;t++)Y[t]=B[Y[t]];for(i=s,l=0,t=0;t<E;t++)f(l,y,i,b),l+=y,i+=b;for(t=0;t<w;t++)f(l,y+1,i,b),l+=y+1,i+=b;for(l=0,t=0;t<y;t++){for(n=0;n<E;n++)z[l++]=Z[t+n*y];for(n=0;n<w;n++)z[l++]=Z[E*y+t+n*(y+1)]}for(n=0;n<w;n++)z[l++]=Z[E*y+t+n*(y+1)];for(t=0;t<b;t++)for(n=0;n<E+w;n++)z[l++]=Z[s+t+n*b];for(Z=z,s=l=C-1,i=o=1,r=(y+b)*(E+w)+w,t=0;t<r;t++)for(a=Z[t],n=0;n<8;n++,a<<=1){128&a&&(W[s+C*l]=1);do o?s--:(s++,i?0!==l?l--:(s-=2,i=!i,6===s&&(s--,l=9)):l!==C-1?l++:(s-=2,i=!i,6===s&&(s--,l-=8))),o=!o;while(_(s,l))}for(Z=W.slice(0),a=0,l=3e4,i=0;i<8&&(p(i),s=A(),s<l&&(l=s,a=i),7!==a);i++)W=Z.slice(0);for(a!==i&&p(a),l=D[a+(Q-1<<3)],i=0;i<8;i++,l>>=1)1&l&&(W[C-1-i+8*C]=1,i<6?W[8+C*i]=1:W[8+C*(i+1)]=1);for(i=0;i<7;i++,l>>=1)1&l&&(W[8+C*(C-7+i)]=1,i?W[6-i+8*C]=1:W[7+8*C]=1);return W}var v,y,b,E,w,S,T,x,C,M=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],P="image/png",I="image/octet-stream",R=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],k={L:1,M:2,Q:3,H:4},D=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],V=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],B=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],O=3,N=3,L=40,F=10,U=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],H=parseInt("0666",8),G=[],z=[],Q=1,W=[],j=[],X=!1,Y=[],q=i.qr,Z=[],K={VERSION:"1.1.4",canvas:function(e){e=s(e);var t=e.size>=1&&e.size<=10?e.size:4;t*=25;var n=e.canvas||r(),i=n.getContext("2d");i.canvas.width=t,i.canvas.height=t,i.fillStyle=e.background||"#fff",i.fillRect(0,0,t,t),Q=k[e.level&&e.level.toUpperCase()||"L"];var a=g(e.value||"");i.lineWidth=1;var o=t;o/=C,o=Math.floor(o);var l=Math.floor((t-o*C)/2);i.clearRect(0,0,t,t),i.fillStyle=e.background||"#fff",i.fillRect(0,0,t,t),i.fillStyle=e.foreground||"#000";var u,c;for(u=0;u<C;u++)for(c=0;c<C;c++)a[c*C+u]&&i.fillRect(o*u+l,o*c+l,o,o);return n},image:function(e){e=s(e);var t=this.canvas(e),n=e.image||a();return n.src=t.toDataURL(e.mime||P),n.height=t.height,n.width=t.width,n},save:function(e,t,n){function i(e){r||(r=!0,n(e))}switch(e=s(e),typeof t){case"function":n=t,t=null;break;case"string":e.path=t}if("function"!=typeof n)throw new TypeError("Invalid callback type: "+typeof n);var r=!1,a=this.canvas(e);X?l(a,e,i):o(a,e,i)},saveSync:function(e,t){e=s(e),"string"==typeof t&&(e.path=t);var n=this.canvas(e);X?u(n,e):o(n,e)},toDataURL:function(e){return e=s(e),this.canvas(e).toDataURL(e.mime||P)},noConflict:function(){return i.qr=q,this}};X=!1,"undefined"!=typeof e&&e.exports&&(t=e.exports=K),t.qr=K,S=n(632)}(function(){return this}.call(null))},function(e,t,n){/** @license React v16.8.6
   * react-dom-server.browser.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";function i(e,t,n,i,r,a,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,r,a,o,s],u=0;e=Error(t.replace(/%s/g,function(){return l[u++]})),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function r(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);i(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function a(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case B:return"ConcurrentMode";case I:return"Fragment";case P:return"Portal";case k:return"Profiler";case R:return"StrictMode";case N:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case V:return"Context.Consumer";case D:return"Context.Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case L:return a(e.type);case F:if(e=1===e._status?e._result:null)return a(e)}return null}function o(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}function s(e,t,n){var i=e.contextType;if("object"==typeof i&&null!==i)return o(i,n),i[n];if(e=e.contextTypes){n={};for(var r in e)n[r]=t[r];t=n}else t=H;return t}function l(e){return!!W.call(X,e)||!W.call(j,e)&&(Q.test(e)?X[e]=!0:(j[e]=!0,!1))}function u(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),"data-"!==e&&"aria-"!==e));default:return!1}}function c(e,t,n,i){if(null===t||"undefined"==typeof t||u(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function d(e,t,n,i,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t}function h(e){return e[1].toUpperCase()}function f(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=Z.exec(e);if(t){var n,i="",r=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}r!==n&&(i+=e.substring(r,n)),r=n+1,i+=t}e=r!==n?i+e.substring(r,n):i}return e}function _(){return null===K?r("321"):void 0,K}function p(){return 0<ie&&r("312"),{memoizedState:null,queue:null,next:null}}function m(){return null===$?null===J?(ee=!1,J=$=p()):(ee=!0,$=J):null===$.next?(ee=!1,$=$.next=p()):(ee=!0,$=$.next),$}function A(e,t,n,i){for(;te;)te=!1,ie+=1,$=null,n=e(t,i);return J=K=null,ie=0,$=ne=null,n}function g(e,t){return"function"==typeof t?t(e):t}function v(e,t,n){if(K=_(),$=m(),ee){var i=$.queue;if(t=i.dispatch,null!==ne&&(n=ne.get(i),void 0!==n)){ne.delete(i),i=$.memoizedState;do i=e(i,n.action),n=n.next;while(null!==n);return $.memoizedState=i,[i,t]}return[$.memoizedState,t]}return e=e===g?"function"==typeof t?t():t:void 0!==n?n(t):t,$.memoizedState=e,e=$.queue={last:null,dispatch:null},e=e.dispatch=y.bind(null,K,e),[$.memoizedState,e]}function y(e,t,n){if(25>ie?void 0:r("301"),e===K)if(te=!0,e={action:n,next:null},null===ne&&(ne=new Map),n=ne.get(t),void 0===n)ne.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function b(){}function E(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w(e){if(void 0===e||null===e)return e;var t="";return C.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}function S(e,t){void 0===e&&r("152",a(t)||"Component")}function T(e,t,n){function i(i,o){var l=s(o,t,n),u=[],c=!1,d={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===u)return null},enqueueReplaceState:function(e,t){c=!0,u=[t]},enqueueSetState:function(e,t){return null===u?null:void u.push(t)}},h=void 0;if(o.prototype&&o.prototype.isReactComponent){if(h=new o(i.props,l,d),"function"==typeof o.getDerivedStateFromProps){var f=o.getDerivedStateFromProps.call(null,i.props,h.state);null!=f&&(h.state=x({},h.state,f))}}else if(K={},h=o(i.props,l,d),h=A(o,i.props,h,l),null==h||null==h.render)return e=h,void S(e,o);if(h.props=i.props,h.context=l,h.updater=d,d=h.state,void 0===d&&(h.state=d=null),"function"==typeof h.UNSAFE_componentWillMount||"function"==typeof h.componentWillMount)if("function"==typeof h.componentWillMount&&"function"!=typeof o.getDerivedStateFromProps&&h.componentWillMount(),"function"==typeof h.UNSAFE_componentWillMount&&"function"!=typeof o.getDerivedStateFromProps&&h.UNSAFE_componentWillMount(),u.length){d=u;var _=c;if(u=null,c=!1,_&&1===d.length)h.state=d[0];else{f=_?d[0]:h.state;var p=!0;for(_=_?1:0;_<d.length;_++){var m=d[_];m="function"==typeof m?m.call(h,f,i.props,l):m,null!=m&&(p?(p=!1,f=x({},f,m)):x(f,m))}h.state=f}}else u=null;if(e=h.render(),S(e,o),i=void 0,"function"==typeof h.getChildContext&&(l=o.childContextTypes,"object"==typeof l)){i=h.getChildContext();for(var g in i)g in l?void 0:r("108",a(o)||"Unknown",g)}i&&(t=x({},t,i))}for(;C.isValidElement(e);){var o=e,l=o.type;if("function"!=typeof l)break;i(o,l)}return{child:e,context:t}}var x=n(188),C=n(16),M="function"==typeof Symbol&&Symbol.for,P=M?Symbol.for("react.portal"):60106,I=M?Symbol.for("react.fragment"):60107,R=M?Symbol.for("react.strict_mode"):60108,k=M?Symbol.for("react.profiler"):60114,D=M?Symbol.for("react.provider"):60109,V=M?Symbol.for("react.context"):60110,B=M?Symbol.for("react.concurrent_mode"):60111,O=M?Symbol.for("react.forward_ref"):60112,N=M?Symbol.for("react.suspense"):60113,L=M?Symbol.for("react.memo"):60115,F=M?Symbol.for("react.lazy"):60116,U=C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;U.hasOwnProperty("ReactCurrentDispatcher")||(U.ReactCurrentDispatcher={current:null});for(var H={},G=new Uint16Array(16),z=0;15>z;z++)G[z]=z+1;G[15]=0;var Q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,j={},X={},Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Y[e]=new d(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Y[t]=new d(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Y[e]=new d(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Y[e]=new d(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Y[e]=new d(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){Y[e]=new d(e,3,!0,e,null)}),["capture","download"].forEach(function(e){Y[e]=new d(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){Y[e]=new d(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){Y[e]=new d(e,5,!1,e.toLowerCase(),null)});var q=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(q,h);Y[t]=new d(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(q,h);Y[t]=new d(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(q,h);Y[t]=new d(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){Y[e]=new d(e,1,!1,e.toLowerCase(),null)});var Z=/["'&<>]/,K=null,J=null,$=null,ee=!1,te=!1,ne=null,ie=0,re=0,ae={readContext:function(e){var t=re;return o(e,t),e[t]},useContext:function(e){_();var t=re;return o(e,t),e[t]},useMemo:function(e,t){if(K=_(),$=m(),t=void 0===t?null:t,null!==$){var n=$.memoizedState;if(null!==n&&null!==t){e:{var i=n[1];if(null===i)i=!1;else{for(var r=0;r<i.length&&r<t.length;r++){var a=t[r],o=i[r];if((a!==o||0===a&&1/a!==1/o)&&(a===a||o===o)){i=!1;break e}}i=!0}}if(i)return n[0]}}return e=e(),$.memoizedState=[e,t],e},useReducer:v,useRef:function(e){K=_(),$=m();var t=$.memoizedState;return null===t?(e={current:e},$.memoizedState=e):t},useState:function(e){return v(g,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:b,useEffect:b,useDebugValue:b},oe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},se={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},le=x({menuitem:!0},se),ue={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ce=["Webkit","ms","Moz","O"];Object.keys(ue).forEach(function(e){ce.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ue[t]=ue[e]})});var de=/([A-Z])/g,he=/^ms-/,fe=C.Children.toArray,_e=U.ReactCurrentDispatcher,pe={listing:!0,pre:!0,textarea:!0},me=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Ae={},ge={},ve=Object.prototype.hasOwnProperty,ye={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null},be=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");C.isValidElement(t)?t.type!==I?t=[t]:(t=t.props.children,t=C.isValidElement(t)?[t]:fe(t)):t=fe(t),t={type:null,domNamespace:oe.html,children:t,childIndex:0,context:H,footer:""};var i=G[0];if(0===i){var a=G;i=a.length;var o=2*i;65536>=o?void 0:r("304");var s=new Uint16Array(o);for(s.set(a),G=s,G[0]=i+1,a=i;a<o-1;a++)G[a]=a+1;G[o-1]=0}else G[0]=G[i];this.threadID=i,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=n,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}return e.prototype.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;G[e]=G[0],G[0]=e}},e.prototype.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,i=this.threadID;o(n,i);var r=n[i];this.contextStack[t]=n,this.contextValueStack[t]=r,n[i]=e.props.value},e.prototype.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},e.prototype.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},e.prototype.read=function(e){if(this.exhausted)return null;var t=re;re=this.threadID;var n=_e.current;_e.current=ae;try{for(var i=[""],a=!1;i[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var o=this.threadID;G[o]=G[0],G[0]=o;break}var s=this.stack[this.stack.length-1];if(a||s.childIndex>=s.children.length){var l=s.footer;if(""!==l&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===s.type)this.currentSelectValue=null;else if(null!=s.type&&null!=s.type.type&&s.type.type.$$typeof===D)this.popProvider(s.type);else if(s.type===N){this.suspenseDepth--;var u=i.pop();if(a){a=!1;var c=s.fallbackFrame;c?void 0:r("303"),this.stack.push(c);continue}i[this.suspenseDepth]+=u}i[this.suspenseDepth]+=l}else{var d=s.children[s.childIndex++],h="";try{h+=this.render(d,s.context,s.domNamespace)}catch(e){throw e}finally{}i.length<=this.suspenseDepth&&i.push(""),i[this.suspenseDepth]+=h}}return i[0]}finally{_e.current=n,re=t}},e.prototype.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return n=""+e,""===n?"":this.makeStaticMarkup?f(n):this.previousWasTextNode?"<!-- -->"+f(n):(this.previousWasTextNode=!0,f(n));if(t=T(e,t,this.threadID),e=t.child,t=t.context,null===e||!1===e)return"";if(!C.isValidElement(e)){if(null!=e&&null!=e.$$typeof){var i=e.$$typeof;i===P?r("257"):void 0,r("258",i.toString())}return e=fe(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}if(i=e.type,"string"==typeof i)return this.renderDOM(e,t,n);switch(i){case R:case B:case k:case I:return e=fe(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case N:r("294")}if("object"==typeof i&&null!==i)switch(i.$$typeof){case O:K={};var a=i.render(e.props,e.ref);return a=A(i.render,e.props,a,e.ref),a=fe(a),this.stack.push({type:null,domNamespace:n,children:a,childIndex:0,context:t,footer:""}),"";case L:return e=[C.createElement(i.type,x({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case D:return i=fe(e.props.children),n={type:e,domNamespace:n,children:i,childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case V:i=e.type,a=e.props;var s=this.threadID;return o(i,s),i=fe(a.children(i[s])),this.stack.push({type:e,domNamespace:n,children:i,childIndex:0,context:t,footer:""}),"";case F:r("295")}r("130",null==i?i:typeof i,"")},e.prototype.renderDOM=function(e,t,n){var i=e.type.toLowerCase();n===oe.html&&E(i),Ae.hasOwnProperty(i)||(me.test(i)?void 0:r("65",i),Ae[i]=!0);var a=e.props;if("input"===i)a=x({type:void 0},a,{defaultChecked:void 0,defaultValue:void 0,value:null!=a.value?a.value:a.defaultValue,checked:null!=a.checked?a.checked:a.defaultChecked});else if("textarea"===i){var o=a.value;if(null==o){o=a.defaultValue;var s=a.children;null!=s&&(null!=o?r("92"):void 0,Array.isArray(s)&&(1>=s.length?void 0:r("93"),s=s[0]),o=""+s),null==o&&(o="")}a=x({},a,{value:void 0,children:""+o})}else if("select"===i)this.currentSelectValue=null!=a.value?a.value:a.defaultValue,a=x({},a,{value:void 0});else if("option"===i){s=this.currentSelectValue;var u=w(a.children);if(null!=s){var d=null!=a.value?a.value+"":u;if(o=!1,Array.isArray(s)){for(var h=0;h<s.length;h++)if(""+s[h]===d){o=!0;break}}else o=""+s===d;a=x({selected:void 0,children:void 0},a,{selected:o,children:u})}}(o=a)&&(le[i]&&(null!=o.children||null!=o.dangerouslySetInnerHTML?r("137",i,""):void 0),null!=o.dangerouslySetInnerHTML&&(null!=o.children?r("60"):void 0,"object"==typeof o.dangerouslySetInnerHTML&&"__html"in o.dangerouslySetInnerHTML?void 0:r("61")),null!=o.style&&"object"!=typeof o.style?r("62",""):void 0),o=a,s=this.makeStaticMarkup,u=1===this.stack.length,d="<"+e.type;for(b in o)if(ve.call(o,b)){var _=o[b];if(null!=_){if("style"===b){h=void 0;var p="",m="";for(h in _)if(_.hasOwnProperty(h)){var A=0===h.indexOf("--"),g=_[h];if(null!=g){var v=h;if(ge.hasOwnProperty(v))v=ge[v];else{var y=v.replace(de,"-$1").toLowerCase().replace(he,"-ms-");v=ge[v]=y}p+=m+v+":",m=h,A=null==g||"boolean"==typeof g||""===g?"":A||"number"!=typeof g||0===g||ue.hasOwnProperty(m)&&ue[m]?(""+g).trim():g+"px",p+=A,m=";"}}_=p||null}h=null;e:if(A=i,g=o,-1===A.indexOf("-"))A="string"==typeof g.is;else switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":A=!1;break e;default:A=!0}A?ye.hasOwnProperty(b)||(h=b,h=l(h)&&null!=_?h+"="+('"'+f(_)+'"'):""):(A=b,h=_,_=Y.hasOwnProperty(A)?Y[A]:null,(g="style"!==A)&&(g=null!==_?0===_.type:2<A.length&&("o"===A[0]||"O"===A[0])&&("n"===A[1]||"N"===A[1])),g||c(A,h,_,!1)?h="":null!==_?(A=_.attributeName,_=_.type,h=3===_||4===_&&!0===h?A+'=""':A+"="+('"'+f(h)+'"')):h=l(A)?A+"="+('"'+f(h)+'"'):""),h&&(d+=" "+h)}}s||u&&(d+=' data-reactroot=""');var b=d;o="",se.hasOwnProperty(i)?b+="/>":(b+=">",o="</"+e.type+">");e:{if(s=a.dangerouslySetInnerHTML,null!=s){if(null!=s.__html){s=s.__html;break e}}else if(s=a.children,"string"==typeof s||"number"==typeof s){s=f(s);break e}s=null}return null!=s?(a=[],pe[i]&&"\n"===s.charAt(0)&&(b+="\n"),b+=s):a=fe(a.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?E(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:i,children:a,childIndex:0,context:t,footer:o}),this.previousWasTextNode=!1,b},e}(),Ee={renderToString:function(e){e=new be(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new be(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){r("207")},renderToStaticNodeStream:function(){r("208")},version:"16.8.6"},we={default:Ee},Se=we&&Ee||we;e.exports=Se.default||Se},function(e,t,n){/** @license React v16.8.6
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";function i(e,t,n,i,r,a,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,r,a,o,s],u=0;e=Error(t.replace(/%s/g,function(){return l[u++]})),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function r(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);i(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function a(e,t,n,i,r,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}function o(e,t,n,i,r,o,s,l,u){ur=!1,cr=null,a.apply(fr,arguments)}function s(e,t,n,i,a,s,l,u,c){if(o.apply(this,arguments),ur){if(ur){var d=cr;ur=!1,cr=null}else r("198"),d=void 0;dr||(dr=!0,hr=d)}}function l(){if(_r)for(var e in pr){var t=pr[e],n=_r.indexOf(e);if(-1<n?void 0:r("96",e),!mr[n]){t.extractEvents?void 0:r("97",e),mr[n]=t,n=t.eventTypes;for(var i in n){var a=void 0,o=n[i],s=t,l=i;Ar.hasOwnProperty(l)?r("99",l):void 0,Ar[l]=o;var c=o.phasedRegistrationNames;if(c){for(a in c)c.hasOwnProperty(a)&&u(c[a],s,l);a=!0}else o.registrationName?(u(o.registrationName,s,l),a=!0):a=!1;a?void 0:r("98",i,e)}}}}function u(e,t,n){gr[e]?r("100",e):void 0,gr[e]=t,vr[e]=t.eventTypes[n].dependencies}function c(e,t,n){var i=e.type||"unknown-event";e.currentTarget=Er(n),s(i,t,void 0,e),e.currentTarget=null}function d(e,t){return null==t?r("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function h(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function f(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)c(e,t[i],n[i]);else t&&c(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function _(e,t){var n=e.stateNode;if(!n)return null;var i=yr(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(e=e.type,i=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(n&&"function"!=typeof n?r("231",t,typeof n):void 0,n)}function p(e){if(null!==e&&(wr=d(wr,e)),e=wr,wr=null,e&&(h(e,f),wr?r("95"):void 0,dr))throw e=hr,dr=!1,hr=null,e}function m(e){if(e[xr])return e[xr];for(;!e[xr];){if(!e.parentNode)return null;e=e.parentNode}return e=e[xr],5===e.tag||6===e.tag?e:null}function A(e){return e=e[xr],!e||5!==e.tag&&6!==e.tag?null:e}function g(e){return 5===e.tag||6===e.tag?e.stateNode:void r("33")}function v(e){return e[Cr]||null}function y(e){do e=e.return;while(e&&5!==e.tag);return e?e:null}function b(e,t,n){(t=_(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=d(n._dispatchListeners,t),n._dispatchInstances=d(n._dispatchInstances,e))}function E(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=y(t);for(t=n.length;0<t--;)b(n[t],"captured",e);for(t=0;t<n.length;t++)b(n[t],"bubbled",e)}}function w(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=_(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=d(n._dispatchListeners,t),n._dispatchInstances=d(n._dispatchInstances,e))}function S(e){e&&e.dispatchConfig.registrationName&&w(e._targetInst,null,e)}function T(e){h(e,E)}function x(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function C(e){if(Ir[e])return Ir[e];if(!Pr[e])return e;var t,n=Pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Rr)return Ir[e]=n[t];return e}function M(){if(Fr)return Fr;var e,t,n=Lr,i=n.length,r="value"in Nr?Nr.value:Nr.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[a-t];t++);return Fr=r.slice(e,1<t?1-t:void 0)}function P(){return!0}function I(){return!1}function R(e,t,n,i){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var r in e)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?P:I,this.isPropagationStopped=I,this}function k(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function D(e){e instanceof this?void 0:r("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function V(e){e.eventPool=[],e.getPooled=k,e.release=D}function B(e,t){switch(e){case"keyup":return-1!==Gr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function O(e){return e=e.detail,"object"==typeof e&&"data"in e?e.data:null}function N(e,t){switch(e){case"compositionend":return O(t);case"keypress":return 32!==t.which?null:(qr=!0,Xr);case"textInput":return e=t.data,e===Xr&&qr?null:e;default:return null}}function L(e,t){if(Zr)return"compositionend"===e||!zr&&B(e,t)?(e=M(),Fr=Lr=Nr=null,Zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jr&&"ko"!==t.locale?null:t.data;default:return null}}function F(e){if(e=br(e)){"function"!=typeof Jr?r("280"):void 0;var t=yr(e.stateNode);Jr(e.stateNode,e.type,t)}}function U(e){$r?ea?ea.push(e):ea=[e]:$r=e}function H(){if($r){var e=$r,t=ea;if(ea=$r=null,F(e),t)for(e=0;e<t.length;e++)F(t[e])}}function G(e,t){return e(t)}function z(e,t,n){return e(t,n)}function Q(){}function W(e,t){if(ta)return e(t);ta=!0;try{return G(e,t)}finally{ta=!1,(null!==$r||null!==ea)&&(Q(),H())}}function j(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!na[e.type]:"textarea"===t}function X(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Y(e){if(!Mr)return!1;e="on"+e;var t=e in document;return t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"==typeof t[e]),t}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!=typeof n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function K(e){e._valueTracker||(e._valueTracker=Z(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=q(e)?e.checked?"true":"false":e.value),e=i,e!==n&&(t.setValue(e),!0)}function $(e){return null===e||"object"!=typeof e?null:(e=ga&&e[ga]||e["@@iterator"],"function"==typeof e?e:null)}function ee(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case fa:return"ConcurrentMode";case la:return"Fragment";case sa:return"Portal";case ca:return"Profiler";case ua:return"StrictMode";case pa:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case ha:return"Context.Consumer";case da:return"Context.Provider";case _a:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ma:return ee(e.type);case Aa:if(e=1===e._status?e._result:null)return ee(e)}return null}function te(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,a=ee(e.type);n=null,i&&(n=ee(i.type)),i=a,a="",r?a=" (at "+r.fileName.replace(ra,"")+":"+r.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ne(e){return!!ya.call(Ea,e)||!ya.call(ba,e)&&(va.test(e)?Ea[e]=!0:(ba[e]=!0,!1))}function ie(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),"data-"!==e&&"aria-"!==e));default:return!1}}function re(e,t,n,i){if(null===t||"undefined"==typeof t||ie(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ae(e,t,n,i,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t}function oe(e){return e[1].toUpperCase()}function se(e,t,n,i){var r=wa.hasOwnProperty(t)?wa[t]:null,a=null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]));a||(re(t,n,r,i)&&(n=null),i||null===r?ne(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(r=r.type,n=3===r||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}function le(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ue(e,t){var n=t.checked;return sr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ce(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=le(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function de(e,t){t=t.checked,null!=t&&se(e,"checked",t,!1)}function he(e,t){de(e,t);var n=le(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?_e(e,t.type,n):t.hasOwnProperty("defaultValue")&&_e(e,t.type,le(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function fe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function _e(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function pe(e,t,n){return e=R.getPooled(Ta.change,e,t,n),e.type="change",U(n),T(e),e}function me(e){p(e)}function Ae(e){var t=g(e);if(J(t))return e}function ge(e,t){if("change"===e)return t}function ve(){xa&&(xa.detachEvent("onpropertychange",ye),Ca=xa=null)}function ye(e){"value"===e.propertyName&&Ae(Ca)&&(e=pe(Ca,e,X(e)),W(me,e))}function be(e,t,n){"focus"===e?(ve(),xa=t,Ca=n,xa.attachEvent("onpropertychange",ye)):"blur"===e&&ve()}function Ee(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ae(Ca)}function we(e,t){if("click"===e)return Ae(t)}function Se(e,t){if("input"===e||"change"===e)return Ae(t)}function Te(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ra[e])&&!!t[e]}function xe(){return Te}function Ce(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}function Me(e,t){if(Ce(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Ua.call(t,n[i])||!Ce(e[n[i]],t[n[i]]))return!1;return!0}function Pe(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!==(2&t.effectTag))return 1}return 3===t.tag?2:3}function Ie(e){2!==Pe(e)?r("188"):void 0}function Re(e){var t=e.alternate;if(!t)return t=Pe(e),3===t?r("188"):void 0,1===t?null:e;for(var n=e,i=t;;){var a=n.return,o=a?a.alternate:null;if(!a||!o)break;if(a.child===o.child){for(var s=a.child;s;){if(s===n)return Ie(a),e;if(s===i)return Ie(a),t;s=s.sibling}r("188")}if(n.return!==i.return)n=a,i=o;else{s=!1;for(var l=a.child;l;){if(l===n){s=!0,n=a,i=o;break}if(l===i){s=!0,i=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=a;break}if(l===i){s=!0,i=o,n=a;break}l=l.sibling}s?void 0:r("189")}}n.alternate!==i?r("190"):void 0}return 3!==n.tag?r("188"):void 0,n.stateNode.current===n?e:t}function ke(e){if(e=Re(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function De(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ve(e,t){var n=e[0];e=e[1];var i="on"+(e[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[n],isInteractive:t},Ja[e]=t,$a[n]=t}function Be(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i;for(i=n;i.return;)i=i.return;if(i=3!==i.tag?null:i.stateNode.containerInfo,!i)break;e.ancestors.push(n),n=m(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=X(e.nativeEvent);i=e.topLevelType;for(var a=e.nativeEvent,o=null,s=0;s<mr.length;s++){var l=mr[s];l&&(l=l.extractEvents(i,t,a,r))&&(o=d(o,l))}p(o)}}function Oe(e,t){if(!t)return null;var n=(to(e)?Le:Fe).bind(null,e);t.addEventListener(e,n,!1)}function Ne(e,t){if(!t)return null;var n=(to(e)?Le:Fe).bind(null,e);t.addEventListener(e,n,!0)}function Le(e,t){z(Fe,e,t)}function Fe(e,t){if(io){var n=X(t);if(n=m(n),null===n||"number"!=typeof n.tag||2===Pe(n)||(n=null),no.length){var i=no.pop();i.topLevelType=e,i.nativeEvent=t,i.targetInst=n,e=i}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{W(Be,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>no.length&&no.push(e)}}}function Ue(e){return Object.prototype.hasOwnProperty.call(e,oo)||(e[oo]=ao++,ro[e[oo]]={}),ro[e[oo]]}function He(e){if(e=e||("undefined"!=typeof document?document:void 0),"undefined"==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ge(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ze(e,t){var n=Ge(e);e=0;for(var i;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ge(n)}}function Qe(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Qe(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function We(){for(var e=window,t=He();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;e=t.contentWindow,t=He(e.document)}return t}function je(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Xe(){var e=We();if(je(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var i=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{t.nodeType,r.nodeType}catch(e){t=null;break e}var a=0,o=-1,s=-1,l=0,u=0,c=e,d=null;t:for(;;){for(var h;c!==t||0!==i&&3!==c.nodeType||(o=a+i),c!==r||0!==n&&3!==c.nodeType||(s=a+n),3===c.nodeType&&(a+=c.nodeValue.length),null!==(h=c.firstChild);)d=c,c=h;for(;;){if(c===e)break t;if(d===t&&++l===i&&(o=a),d===r&&++u===n&&(s=a),null!==(h=c.nextSibling))break;c=d,d=c.parentNode}c=h}t=-1===o||-1===s?null:{start:o,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}function Ye(e){var t=We(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Qe(n.ownerDocument.documentElement,n)){if(null!==i&&je(n))if(t=i.start,e=i.end,void 0===e&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=void 0===i.end?a:Math.min(i.end,r),!e.extend&&a>i&&(r=i,i=a,a=r),r=ze(n,a);var o=ze(n,i);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}function qe(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return fo||null==uo||uo!==He(n)?null:(n=uo,"selectionStart"in n&&je(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ho&&Me(ho,n)?null:(ho=n,e=R.getPooled(lo.select,co,e,t),e.type="select",e.target=uo,T(e),e))}function Ze(e){var t="";return or.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}function Ke(e,t){return e=sr({children:void 0},t),(t=Ze(t.children))&&(e.children=t),e}function Je(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+le(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function $e(e,t){return null!=t.dangerouslySetInnerHTML?r("91"):void 0,sr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function et(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n?r("92"):void 0,Array.isArray(t)&&(1>=t.length?void 0:r("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:le(n)}}function tt(e,t){var n=le(t.value),i=le(t.defaultValue);null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function nt(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function it(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rt(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?it(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function at(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ot(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||go.hasOwnProperty(e)&&go[e]?(""+t).trim():t+"px"}function st(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ot(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}function lt(e,t){t&&(yo[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?r("137",e,""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?r("60"):void 0,"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML?void 0:r("61")),null!=t.style&&"object"!=typeof t.style?r("62",""):void 0)}function ut(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ct(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=Ue(e);t=vr[t];for(var i=0;i<t.length;i++){var r=t[i];if(!n.hasOwnProperty(r)||!n[r]){switch(r){case"scroll":Ne("scroll",e);break;case"focus":case"blur":Ne("focus",e),Ne("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Y(r)&&Ne(r,e);break;case"invalid":case"submit":case"reset":break;default:-1===Or.indexOf(r)&&Oe(r,e)}n[r]=!0}}}function dt(){}function ht(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ft(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function _t(e,t,n,i,r){e[Cr]=r,"input"===n&&"radio"===r.type&&null!=r.name&&de(e,r),ut(n,i),i=ut(n,r);for(var a=0;a<t.length;a+=2){var o=t[a],s=t[a+1];"style"===o?st(e,s):"dangerouslySetInnerHTML"===o?Ao(e,s):"children"===o?at(e,s):se(e,o,s,i)}switch(n){case"input":he(e,r);break;case"textarea":tt(e,r);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!r.multiple,n=r.value,null!=n?Je(e,!!r.multiple,n,!1):t!==!!r.multiple&&(null!=r.defaultValue?Je(e,!!r.multiple,r.defaultValue,!0):Je(e,!!r.multiple,r.multiple?[]:"",!1))}}function pt(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function mt(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function At(e){0>Mo||(e.current=Co[Mo],Co[Mo]=null,Mo--)}function gt(e,t){Mo++,Co[Mo]=e.current,e.current=t}function vt(e,t){var n=e.type.contextTypes;if(!n)return Po;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yt(e){return e=e.childContextTypes,null!==e&&void 0!==e}function bt(e){At(Ro,e),At(Io,e)}function Et(e){At(Ro,e),At(Io,e)}function wt(e,t,n){Io.current!==Po?r("168"):void 0,gt(Io,t,e),gt(Ro,n,e)}function St(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;i=i.getChildContext();for(var a in i)a in e?void 0:r("108",ee(t)||"Unknown",a);return sr({},n,i)}function Tt(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Po,ko=Io.current,gt(Io,t,e),gt(Ro,Ro.current,e),!0}function xt(e,t,n){var i=e.stateNode;i?void 0:r("169"),n?(t=St(e,t,ko),i.__reactInternalMemoizedMergedChildContext=t,At(Ro,e),At(Io,e),gt(Io,t,e)):At(Ro,e),gt(Ro,n,e)}function Ct(e){return function(t){try{return e(t)}catch(e){}}}function Mt(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Do=Ct(function(e){return t.onCommitFiberRoot(n,e)}),Vo=Ct(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function Pt(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function It(e,t,n,i){return new Pt(e,t,n,i)}function Rt(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kt(e){if("function"==typeof e)return Rt(e)?1:0;if(void 0!==e&&null!==e){if(e=e.$$typeof,e===_a)return 11;if(e===ma)return 14}return 2}function Dt(e,t){var n=e.alternate;return null===n?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vt(e,t,n,i,a,o){var s=2;if(i=e,"function"==typeof e)Rt(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case la:return Bt(n.children,a,o,t);case fa:return Ot(n,3|a,o,t);case ua:return Ot(n,2|a,o,t);case ca:return e=It(12,n,t,4|a),e.elementType=ca,e.type=ca,e.expirationTime=o,e;case pa:return e=It(13,n,t,a),e.elementType=pa,e.type=pa,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case da:s=10;break e;case ha:s=9;break e;case _a:s=11;break e;case ma:s=14;break e;case Aa:s=16,i=null;break e}r("130",null==e?e:typeof e,"")}return t=It(s,n,t,a),t.elementType=e,t.type=i,t.expirationTime=o,t}function Bt(e,t,n,i){return e=It(7,e,i,t),e.expirationTime=n,e}function Ot(e,t,n,i){return e=It(8,e,i,t),t=0===(1&t)?ua:fa,e.elementType=t,e.type=t,e.expirationTime=n,e}function Nt(e,t,n){return e=It(6,e,null,t),e.expirationTime=n,e}function Lt(e,t,n){return t=It(4,null!==e.children?e.children:[],e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ft(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),zt(t,e)}function Ut(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),n=e.earliestSuspendedTime,0===n?Ft(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Ft(e,t)):t>n&&Ft(e,t)}zt(0,e)}function Ht(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,i=e.latestPendingTime;n===t?e.earliestPendingTime=i===t?e.latestPendingTime=0:i:i===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,i=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:i>t&&(e.latestSuspendedTime=t),zt(t,e)}function Gt(e,t){var n=e.earliestPendingTime;return e=e.earliestSuspendedTime,n>t&&(t=n),e>t&&(t=e),t}function zt(e,t){var n=t.earliestSuspendedTime,i=t.latestSuspendedTime,r=t.earliestPendingTime,a=t.latestPingedTime;r=0!==r?r:a,0===r&&(0===e||i<e)&&(r=i),e=r,0!==e&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=r,t.expirationTime=e}function Qt(e,t){if(e&&e.defaultProps){t=sr({},t),e=e.defaultProps;for(var n in e)void 0===t[n]&&(t[n]=e[n])}return t}function Wt(e){var t=e._result;switch(e._status){case 1:return t;case 2:throw t;case 0:throw t;default:switch(e._status=0,t=e._ctor,t=t(),t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}function jt(e,t,n,i){t=e.memoizedState,n=n(i,t),n=null===n||void 0===n?t:sr({},t,n),e.memoizedState=n,i=e.updateQueue,null!==i&&0===e.expirationTime&&(i.baseState=n)}function Xt(e,t,n,i,r,a,o){return e=e.stateNode,"function"==typeof e.shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Me(n,i)||!Me(r,a))}function Yt(e,t,n){var i=!1,r=Po,a=t.contextType;return"object"==typeof a&&null!==a?a=Hn(a):(r=yt(t)?ko:Io.current,i=t.contextTypes,a=(i=null!==i&&void 0!==i)?vt(e,r):Po),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Oo,e.stateNode=t,t._reactInternalFiber=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function qt(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Oo.enqueueReplaceState(t,t.state,null)}function Zt(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Bo;var a=t.contextType;"object"==typeof a&&null!==a?r.context=Hn(a):(a=yt(t)?ko:Io.current,r.context=vt(e,a)),a=e.updateQueue,null!==a&&(Zn(e,a,n,r,i),r.state=e.memoizedState),a=t.getDerivedStateFromProps,"function"==typeof a&&(jt(e,t,a,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Oo.enqueueReplaceState(r,r.state,null),a=e.updateQueue,null!==a&&(Zn(e,a,n,r,i),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}function Kt(e,t,n){if(e=n.ref,null!==e&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var i=void 0;n&&(1!==n.tag?r("309"):void 0,i=n.stateNode),i?void 0:r("147",e);var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}"string"!=typeof e?r("284"):void 0,n._owner?void 0:r("290",e)}return e}function Jt(e,t){"textarea"!==e.type&&r("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function $t(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return e=Dt(e,t,n),e.index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?(i=t.alternate,null!==i?(i=i.index,i<n?(t.effectTag=2,n):i):(t.effectTag=2,n)):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,i){return null===t||6!==t.tag?(t=Nt(n,e.mode,i),t.return=e,t):(t=a(t,n,i),t.return=e,t)}function u(e,t,n,i){return null!==t&&t.elementType===n.type?(i=a(t,n.props,i),i.ref=Kt(e,t,n),i.return=e,i):(i=Vt(n.type,n.key,n.props,null,e.mode,i),i.ref=Kt(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Lt(n,e.mode,i),t.return=e,t):(t=a(t,n.children||[],i),t.return=e,t)}function d(e,t,n,i,r){return null===t||7!==t.tag?(t=Bt(n,e.mode,i,r),t.return=e,t):(t=a(t,n,i),t.return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return t=Nt(""+t,e.mode,n),t.return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case oa:return n=Vt(t.type,t.key,t.props,null,e.mode,n),n.ref=Kt(e,null,t),n.return=e,n;case sa:return t=Lt(t,e.mode,n),t.return=e,t}if(No(t)||$(t))return t=Bt(t,e.mode,n,null),t.return=e,t;Jt(e,t)}return null;
}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case oa:return n.key===r?n.type===la?d(e,t,n.props.children,i,r):u(e,t,n,i):null;case sa:return n.key===r?c(e,t,n,i):null}if(No(n)||$(n))return null!==r?null:d(e,t,n,i,null);Jt(e,n)}return null}function _(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return e=e.get(n)||null,l(t,e,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case oa:return e=e.get(null===i.key?n:i.key)||null,i.type===la?d(t,e,i.props.children,r,i.key):u(t,e,i,r);case sa:return e=e.get(null===i.key?n:i.key)||null,c(t,e,i,r)}if(No(i)||$(i))return e=e.get(n)||null,d(t,e,i,r,null);Jt(t,i)}return null}function p(r,a,s,l){for(var u=null,c=null,d=a,p=a=0,m=null;null!==d&&p<s.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var A=f(r,d,s[p],l);if(null===A){null===d&&(d=m);break}e&&d&&null===A.alternate&&t(r,d),a=o(A,a,p),null===c?u=A:c.sibling=A,c=A,d=m}if(p===s.length)return n(r,d),u;if(null===d){for(;p<s.length;p++)(d=h(r,s[p],l))&&(a=o(d,a,p),null===c?u=d:c.sibling=d,c=d);return u}for(d=i(r,d);p<s.length;p++)(m=_(d,r,p,s[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),a=o(m,a,p),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach(function(e){return t(r,e)}),u}function m(a,s,l,u){var c=$(l);"function"!=typeof c?r("150"):void 0,l=c.call(l),null==l?r("151"):void 0;for(var d=c=null,p=s,m=s=0,A=null,g=l.next();null!==p&&!g.done;m++,g=l.next()){p.index>m?(A=p,p=null):A=p.sibling;var v=f(a,p,g.value,u);if(null===v){p||(p=A);break}e&&p&&null===v.alternate&&t(a,p),s=o(v,s,m),null===d?c=v:d.sibling=v,d=v,p=A}if(g.done)return n(a,p),c;if(null===p){for(;!g.done;m++,g=l.next())g=h(a,g.value,u),null!==g&&(s=o(g,s,m),null===d?c=g:d.sibling=g,d=g);return c}for(p=i(a,p);!g.done;m++,g=l.next())g=_(p,a,m,g.value,u),null!==g&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),s=o(g,s,m),null===d?c=g:d.sibling=g,d=g);return e&&p.forEach(function(e){return t(a,e)}),c}return function(e,i,o,l){var u="object"==typeof o&&null!==o&&o.type===la&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case oa:e:{for(c=o.key,u=i;null!==u;){if(u.key===c){if(7===u.tag?o.type===la:u.elementType===o.type){n(e,u.sibling),i=a(u,o.type===la?o.props.children:o.props,l),i.ref=Kt(e,u,o),i.return=e,e=i;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===la?(i=Bt(o.props.children,e.mode,l,o.key),i.return=e,e=i):(l=Vt(o.type,o.key,o.props,null,e.mode,l),l.ref=Kt(e,i,o),l.return=e,e=l)}return s(e);case sa:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),i=a(i,o.children||[],l),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=Lt(o,e.mode,l),i.return=e,e=i}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),i=a(i,o,l),i.return=e,e=i):(n(e,i),i=Nt(o,e.mode,l),i.return=e,e=i),s(e);if(No(o))return p(e,i,o,l);if($(o))return m(e,i,o,l);if(c&&Jt(e,o),"undefined"==typeof o&&!u)switch(e.tag){case 1:case 0:l=e.type,r("152",l.displayName||l.name||"Component")}return n(e,i)}}function en(e){return e===Uo?r("174"):void 0,e}function tn(e,t){gt(zo,t,e),gt(Go,e,e),gt(Ho,Uo,e);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rt(null,"");break;default:n=8===n?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=rt(t,n)}At(Ho,e),gt(Ho,t,e)}function nn(e){At(Ho,e),At(Go,e),At(zo,e)}function rn(e){en(zo.current);var t=en(Ho.current),n=rt(t,e.type);t!==n&&(gt(Go,e,e),gt(Ho,n,e))}function an(e){Go.current===e&&(At(Ho,e),At(Go,e))}function on(){r("321")}function sn(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ce(e[n],t[n]))return!1;return!0}function ln(e,t,n,i,a,o){if($o=o,es=t,ns=null!==e?e.memoizedState:null,Jo.current=null===ns?fs:_s,t=n(i,a),us){do us=!1,ds+=1,ns=null!==e?e.memoizedState:null,as=is,ss=rs=ts=null,Jo.current=_s,t=n(i,a);while(us);cs=null,ds=0}return Jo.current=hs,e=es,e.memoizedState=is,e.expirationTime=os,e.updateQueue=ss,e.effectTag|=ls,e=null!==ts&&null!==ts.next,$o=0,as=rs=is=ns=ts=es=null,os=0,ss=null,ls=0,e?r("300"):void 0,t}function un(){Jo.current=hs,$o=0,as=rs=is=ns=ts=es=null,os=0,ss=null,ls=0,us=!1,cs=null,ds=0}function cn(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===rs?is=rs=e:rs=rs.next=e,rs}function dn(){if(null!==as)rs=as,as=rs.next,ts=ns,ns=null!==ts?ts.next:null;else{null===ns?r("310"):void 0,ts=ns;var e={memoizedState:ts.memoizedState,baseState:ts.baseState,queue:ts.queue,baseUpdate:ts.baseUpdate,next:null};rs=null===rs?is=e:rs.next=e,ns=ts.next}return rs}function hn(e,t){return"function"==typeof t?t(e):t}function fn(e){var t=dn(),n=t.queue;if(null===n?r("311"):void 0,n.lastRenderedReducer=e,0<ds){var i=n.dispatch;if(null!==cs){var a=cs.get(n);if(void 0!==a){cs.delete(n);var o=t.memoizedState;do o=e(o,a.action),a=a.next;while(null!==a);return Ce(o,t.memoizedState)||(vs=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,i]}}return[t.memoizedState,i]}i=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==i&&(i.next=null),i=s.next):i=null!==i?i.next:null,null!==i){var l=a=null,u=i,c=!1;do{var d=u.expirationTime;d<$o?(c||(c=!0,l=s,a=o),d>os&&(os=d)):o=u.eagerReducer===e?u.eagerState:e(o,u.action),s=u,u=u.next}while(null!==u&&u!==i);c||(l=s,a=o),Ce(o,t.memoizedState)||(vs=!0),t.memoizedState=o,t.baseUpdate=l,t.baseState=a,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function _n(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===ss?(ss={lastEffect:null},ss.lastEffect=e.next=e):(t=ss.lastEffect,null===t?ss.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,ss.lastEffect=e)),e}function pn(e,t,n,i){var r=cn();ls|=e,r.memoizedState=_n(t,n,void 0,void 0===i?null:i)}function mn(e,t,n,i){var r=dn();i=void 0===i?null:i;var a=void 0;if(null!==ts){var o=ts.memoizedState;if(a=o.destroy,null!==i&&sn(i,o.deps))return void _n(Qo,n,a,i)}ls|=e,r.memoizedState=_n(t,n,a,i)}function An(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function gn(){}function vn(e,t,n){25>ds?void 0:r("301");var i=e.alternate;if(e===es||null!==i&&i===es)if(us=!0,e={expirationTime:$o,action:n,eagerReducer:null,eagerState:null,next:null},null===cs&&(cs=new Map),n=cs.get(t),void 0===n)cs.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{gi();var a=Bi();a=Si(a,e);var o={expirationTime:a,action:n,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)o.next=o;else{var l=s.next;null!==l&&(o.next=l),s.next=o}if(t.last=o,0===e.expirationTime&&(null===i||0===i.expirationTime)&&(i=t.lastRenderedReducer,null!==i))try{var u=t.lastRenderedState,c=i(u,n);if(o.eagerReducer=i,o.eagerState=c,Ce(c,u))return}catch(e){}finally{}Mi(e,a)}}function yn(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function bn(e,t){switch(e.tag){case 5:var n=e.type;return t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,null!==t&&(e.stateNode=t,!0);case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t&&(e.stateNode=t,!0);case 13:return!1;default:return!1}}function En(e){if(As){var t=ms;if(t){var n=t;if(!bn(e,t)){if(t=pt(n),!t||!bn(e,t))return e.effectTag|=2,As=!1,void(ps=e);yn(ps,n)}ps=e,ms=mt(t)}else e.effectTag|=2,As=!1,ps=e}}function wn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;ps=e}function Sn(e){if(e!==ps)return!1;if(!As)return wn(e),As=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!ft(t,e.memoizedProps))for(t=ms;t;)yn(e,t),t=pt(t);return wn(e),ms=ps?pt(e.stateNode):null,!0}function Tn(){ms=ps=null,As=!1}function xn(e,t,n,i){t.child=null===e?Fo(t,null,n,i):Lo(t,e.child,n,i)}function Cn(e,t,n,i,r){n=n.render;var a=t.ref;return Un(t,r),i=ln(e,t,n,i,a,r),null===e||vs?(t.effectTag|=1,xn(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),On(e,t,r))}function Mn(e,t,n,i,r,a){if(null===e){var o=n.type;return"function"!=typeof o||Rt(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?(e=Vt(n.type,null,i,null,t.mode,a),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Pn(e,t,o,i,r,a))}return o=e.child,r<a&&(r=o.memoizedProps,n=n.compare,n=null!==n?n:Me,n(r,i)&&e.ref===t.ref)?On(e,t,a):(t.effectTag|=1,e=Dt(o,i,a),e.ref=t.ref,e.return=t,t.child=e)}function Pn(e,t,n,i,r,a){return null!==e&&Me(e.memoizedProps,i)&&e.ref===t.ref&&(vs=!1,r<a)?On(e,t,a):Rn(e,t,n,i,a)}function In(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Rn(e,t,n,i,r){var a=yt(n)?ko:Io.current;return a=vt(t,a),Un(t,r),n=ln(e,t,n,i,a,r),null===e||vs?(t.effectTag|=1,xn(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),On(e,t,r))}function kn(e,t,n,i,r){if(yt(n)){var a=!0;Tt(t)}else a=!1;if(Un(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Yt(t,n,i,r),Zt(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=Hn(u):(u=yt(n)?ko:Io.current,u=vt(t,u));var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==i||l!==u)&&qt(t,o,i,u),Ms=!1;var h=t.memoizedState;l=o.state=h;var f=t.updateQueue;null!==f&&(Zn(t,f,i,o,r),l=t.memoizedState),s!==i||h!==l||Ro.current||Ms?("function"==typeof c&&(jt(t,n,c,i),l=t.memoizedState),(s=Ms||Xt(t,n,s,i,h,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=u,i=s):("function"==typeof o.componentDidMount&&(t.effectTag|=4),i=!1)}else o=t.stateNode,s=t.memoizedProps,o.props=t.type===t.elementType?s:Qt(t.type,s),l=o.context,u=n.contextType,"object"==typeof u&&null!==u?u=Hn(u):(u=yt(n)?ko:Io.current,u=vt(t,u)),c=n.getDerivedStateFromProps,(d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==i||l!==u)&&qt(t,o,i,u),Ms=!1,l=t.memoizedState,h=o.state=l,f=t.updateQueue,null!==f&&(Zn(t,f,i,o,r),h=t.memoizedState),s!==i||l!==h||Ro.current||Ms?("function"==typeof c&&(jt(t,n,c,i),h=t.memoizedState),(c=Ms||Xt(t,n,s,i,l,h,u))?(d||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(i,h,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,h,u)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=h),o.props=i,o.state=h,o.context=u,i=c):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return Dn(e,t,n,i,a,r)}function Dn(e,t,n,i,r,a){In(e,t);var o=0!==(64&t.effectTag);if(!i&&!o)return r&&xt(t,n,!1),On(e,t,a);i=t.stateNode,gs.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&o?(t.child=Lo(t,e.child,null,a),t.child=Lo(t,null,s,a)):xn(e,t,s,a),t.memoizedState=i.state,r&&xt(t,n,!0),t.child}function Vn(e){var t=e.stateNode;t.pendingContext?wt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wt(e,t.context,!1),tn(e,t.containerInfo)}function Bn(e,t,n){var i=t.mode,r=t.pendingProps,a=t.memoizedState;if(0===(64&t.effectTag)){a=null;var o=!1}else a={timedOutAt:null!==a?a.timedOutAt:0},o=!0,t.effectTag&=-65;if(null===e)if(o){var s=r.fallback;e=Bt(null,i,0,null),0===(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),i=Bt(s,i,n,null),e.sibling=i,n=e,n.return=i.return=t}else n=i=Fo(t,null,r.children,n);else null!==e.memoizedState?(i=e.child,s=i.sibling,o?(n=r.fallback,r=Dt(i,i.pendingProps,0),0===(1&t.mode)&&(o=null!==t.memoizedState?t.child.child:t.child,o!==i.child&&(r.child=o)),i=r.sibling=Dt(s,n,s.expirationTime),n=r,r.childExpirationTime=0,n.return=i.return=t):n=i=Lo(t,i.child,r.children,n)):(s=e.child,o?(o=r.fallback,r=Bt(null,i,0,null),r.child=s,0===(1&t.mode)&&(r.child=null!==t.memoizedState?t.child.child:t.child),i=r.sibling=Bt(o,i,n,null),i.effectTag|=2,n=r,r.childExpirationTime=0,n.return=i.return=t):i=n=Lo(t,s,r.children,n)),t.stateNode=e.stateNode;return t.memoizedState=a,t.child=n,i}function On(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child?r("153"):void 0,null!==t.child){for(e=t.child,n=Dt(e,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=Dt(e,e.pendingProps,e.expirationTime),n.return=t;n.sibling=null}return t.child}function Nn(e,t,n){var i=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Ro.current)vs=!0;else if(i<n){switch(vs=!1,t.tag){case 3:Vn(t),Tn();break;case 5:rn(t);break;case 1:yt(t.type)&&Tt(t);break;case 4:tn(t,t.stateNode.containerInfo);break;case 10:Ln(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return i=t.child.childExpirationTime,0!==i&&i>=n?Bn(e,t,n):(t=On(e,t,n),null!==t?t.sibling:null)}return On(e,t,n)}}else vs=!1;switch(t.expirationTime=0,t.tag){case 2:i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var a=vt(t,Io.current);if(Un(t,n),a=ln(null,t,i,e,a,n),t.effectTag|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,un(),yt(i)){var o=!0;Tt(t)}else o=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;var s=i.getDerivedStateFromProps;"function"==typeof s&&jt(t,i,s,e),a.updater=Oo,t.stateNode=a,a._reactInternalFiber=t,Zt(t,i,e,n),t=Dn(null,t,i,!0,o,n)}else t.tag=0,xn(null,t,a,n),t=t.child;return t;case 16:switch(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=Wt(a),t.type=e,a=t.tag=kt(e),o=Qt(e,o),s=void 0,a){case 0:s=Rn(null,t,e,o,n);break;case 1:s=kn(null,t,e,o,n);break;case 11:s=Cn(null,t,e,o,n);break;case 14:s=Mn(null,t,e,Qt(e.type,o),i,n);break;default:r("306",e,"")}return s;case 0:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Qt(i,a),Rn(e,t,i,a,n);case 1:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Qt(i,a),kn(e,t,i,a,n);case 3:return Vn(t),i=t.updateQueue,null===i?r("282"):void 0,a=t.memoizedState,a=null!==a?a.element:null,Zn(t,i,t.pendingProps,null,n),i=t.memoizedState.element,i===a?(Tn(),t=On(e,t,n)):(a=t.stateNode,(a=(null===e||null===e.child)&&a.hydrate)&&(ms=mt(t.stateNode.containerInfo),ps=t,a=As=!0),a?(t.effectTag|=2,t.child=Fo(t,null,i,n)):(xn(e,t,i,n),Tn()),t=t.child),t;case 5:return rn(t),null===e&&En(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ft(i,a)?s=null:null!==o&&ft(i,o)&&(t.effectTag|=16),In(e,t),1!==n&&1&t.mode&&a.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(xn(e,t,s,n),t=t.child),t;case 6:return null===e&&En(t),null;case 13:return Bn(e,t,n);case 4:return tn(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Lo(t,null,i,n):xn(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Qt(i,a),Cn(e,t,i,a,n);case 7:return xn(e,t,t.pendingProps,n),t.child;case 8:return xn(e,t,t.pendingProps.children,n),t.child;case 12:return xn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Ln(t,o),null!==s){var l=s.value;if(o=Ce(l,o)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823),0===o){if(s.children===a.children&&!Ro.current){t=On(e,t,n);break e}}else for(l=t.child,null!==l&&(l.return=t);null!==l;){var u=l.contextDependencies;if(null!==u){s=l.child;for(var c=u.first;null!==c;){if(c.context===i&&0!==(c.observedBits&o)){1===l.tag&&(c=Qn(n),c.tag=xs,jn(l,c)),l.expirationTime<n&&(l.expirationTime=n),c=l.alternate,null!==c&&c.expirationTime<n&&(c.expirationTime=n),c=n;for(var d=l.return;null!==d;){var h=d.alternate;if(d.childExpirationTime<c)d.childExpirationTime=c,null!==h&&h.childExpirationTime<c&&(h.childExpirationTime=c);else{if(!(null!==h&&h.childExpirationTime<c))break;h.childExpirationTime=c}d=d.return}u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(l=s.sibling,null!==l){l.return=s.return,s=l;break}s=s.return}l=s}}xn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,o=t.pendingProps,i=o.children,Un(t,n),a=Hn(a,o.unstable_observedBits),i=i(a),t.effectTag|=1,xn(e,t,i,n),t.child;case 14:return a=t.type,o=Qt(a,t.pendingProps),o=Qt(a.type,o),Mn(e,t,a,o,i,n);case 15:return Pn(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Qt(i,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,yt(i)?(e=!0,Tt(t)):e=!1,Un(t,n),Yt(t,i,a,n),Zt(t,i,a,n),Dn(null,t,i,!0,e,n)}r("156")}function Ln(e,t){var n=e.type._context;gt(ys,n._currentValue,e),n._currentValue=t}function Fn(e){var t=ys.current;At(ys,e),e.type._context._currentValue=t}function Un(e,t){bs=e,ws=Es=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(vs=!0),e.contextDependencies=null}function Hn(e,t){return ws!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(ws=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Es?(null===bs?r("308"):void 0,Es=t,bs.contextDependencies={first:t,expirationTime:0}):Es=Es.next=t),e._currentValue}function Gn(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function zn(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Qn(e){return{expirationTime:e,tag:Ss,payload:null,callback:null,next:null,nextEffect:null}}function Wn(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function jn(e,t){var n=e.alternate;if(null===n){var i=e.updateQueue,r=null;null===i&&(i=e.updateQueue=Gn(e.memoizedState))}else i=e.updateQueue,r=n.updateQueue,null===i?null===r?(i=e.updateQueue=Gn(e.memoizedState),r=n.updateQueue=Gn(n.memoizedState)):i=e.updateQueue=zn(r):null===r&&(r=n.updateQueue=zn(i));null===r||i===r?Wn(i,t):null===i.lastUpdate||null===r.lastUpdate?(Wn(i,t),Wn(r,t)):(Wn(i,t),r.lastUpdate=t)}function Xn(e,t){var n=e.updateQueue;n=null===n?e.updateQueue=Gn(e.memoizedState):Yn(e,n),null===n.lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Yn(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=zn(t)),t}function qn(e,t,n,i,r,a){switch(n.tag){case Ts:return e=n.payload,"function"==typeof e?e.call(a,i,r):e;case Cs:e.effectTag=e.effectTag&-2049|64;case Ss:if(e=n.payload,r="function"==typeof e?e.call(a,i,r):e,null===r||void 0===r)break;return sr({},i,r);case xs:Ms=!0}return i}function Zn(e,t,n,i,r){Ms=!1,t=Yn(e,t);for(var a=t.baseState,o=null,s=0,l=t.firstUpdate,u=a;null!==l;){var c=l.expirationTime;c<r?(null===o&&(o=l,a=u),s<c&&(s=c)):(u=qn(e,t,l,u,n,i),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<r?(null===c&&(c=l,null===o&&(a=u)),s<d&&(s=d)):(u=qn(e,t,l,u,n,i),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===o&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===c&&(a=u),t.baseState=a,t.firstUpdate=o,t.firstCapturedUpdate=c,e.expirationTime=s,e.memoizedState=u}function Kn(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Jn(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Jn(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Jn(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var i=t;"function"!=typeof n?r("191",n):void 0,n.call(i)}e=e.nextEffect}}function $n(e,t){return{value:e,source:t,stack:te(t)}}function ei(e){e.effectTag|=4}function ti(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=te(n)),null!==n&&ee(n.type),t=t.value,null!==e&&1===e.tag&&ee(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function ni(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){wi(e,t)}else t.current=null}function ii(e,t,n){if(n=n.updateQueue,n=null!==n?n.lastEffect:null,null!==n){var i=n=n.next;do{if((i.tag&e)!==Qo){var r=i.destroy;i.destroy=void 0,void 0!==r&&r()}(i.tag&t)!==Qo&&(r=i.create,i.destroy=r()),i=i.next}while(i!==n)}}function ri(e,t){for(var n=e;;){if(5===n.tag){var i=n.stateNode;if(t)i.style.display="none";else{i=n.stateNode;var r=n.memoizedProps.style;r=void 0!==r&&null!==r&&r.hasOwnProperty("display")?r.display:null,i.style.display=ot("display",r)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){i=n.child.sibling,i.return=n,n=i;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ai(e){switch("function"==typeof Vo&&Vo(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&(t=t.lastEffect,null!==t)){var n=t=t.next;do{var i=n.destroy;if(void 0!==i){var r=e;try{i()}catch(e){wi(r,e)}}n=n.next}while(n!==t)}break;case 1:if(ni(e),t=e.stateNode,"function"==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){wi(e,t)}break;case 5:ni(e);break;case 4:li(e)}}function oi(e){return 5===e.tag||3===e.tag||4===e.tag}function si(e){e:{for(var t=e.return;null!==t;){if(oi(t)){var n=t;break e}t=t.return}r("160"),n=void 0}var i=t=void 0;switch(n.tag){case 5:t=n.stateNode,i=!1;break;case 3:t=n.stateNode.containerInfo,i=!0;break;case 4:t=n.stateNode.containerInfo,i=!0;break;default:r("161")}16&n.effectTag&&(at(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||oi(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var a=e;;){if(5===a.tag||6===a.tag)if(n)if(i){var o=t,s=a.stateNode,l=n;8===o.nodeType?o.parentNode.insertBefore(s,l):o.insertBefore(s,l)}else t.insertBefore(a.stateNode,n);else i?(s=t,l=a.stateNode,8===s.nodeType?(o=s.parentNode,o.insertBefore(l,s)):(o=s,o.appendChild(l)),s=s._reactRootContainer,null!==s&&void 0!==s||null!==o.onclick||(o.onclick=dt)):t.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function li(e){for(var t=e,n=!1,i=void 0,a=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n?r("160"):void 0,n.tag){case 5:i=n.stateNode,a=!1;break e;case 3:i=n.stateNode.containerInfo,a=!0;break e;case 4:i=n.stateNode.containerInfo,a=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,s=o;;)if(ai(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}a?(o=i,s=t.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){i=t.stateNode.containerInfo,a=!0,t.child.return=t,t=t.child;continue}}else if(ai(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,4===t.tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function ui(e,t){switch(t.tag){case 0:case 11:case 14:case 15:ii(jo,Xo,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var a=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&_t(n,o,a,e,i,t)}break;case 6:null===t.stateNode?r("162"):void 0,t.stateNode.nodeValue=t.memoizedProps;break;case 3:break;case 12:break;case 13:if(n=t.memoizedState,i=void 0,e=t,null===n?i=!1:(i=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=Bi())),null!==e&&ri(e,i),n=t.updateQueue,null!==n){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new Ds),n.forEach(function(e){var n=xi.bind(null,t,e);s.has(e)||(s.add(e),e.then(n,n))})}break;case 17:break;default:r("163")}}function ci(e,t,n){n=Qn(n),n.tag=Cs,n.payload={element:null};var i=t.value;return n.callback=function(){Qi(i),ti(e,t)},n}function di(e,t,n){n=Qn(n),n.tag=Cs;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return i(r)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===qs?qs=new Set([this]):qs.add(this));var n=t.value,r=t.stack;ti(e,t),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function hi(e){switch(e.tag){case 1:yt(e.type)&&bt(e);var t=e.effectTag;return 2048&t?(e.effectTag=t&-2049|64,e):null;case 3:return nn(e),Et(e),t=e.effectTag,0!==(64&t)?r("285"):void 0,e.effectTag=t&-2049|64,e;case 5:return an(e),null;case 13:return t=e.effectTag,2048&t?(e.effectTag=t&-2049|64,e):null;case 18:return null;case 4:return nn(e),null;case 10:return Fn(e),null;default:return null}}function fi(){if(null!==Fs)for(var e=Fs.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!==n&&void 0!==n&&bt(t);break;case 3:nn(t),Et(t);break;case 5:an(t);break;case 4:nn(t);break;case 10:Fn(t)}e=e.return}Us=null,Hs=0,Gs=-1,zs=!1,Fs=null}function _i(){for(;null!==Qs;){var e=Qs.effectTag;if(16&e&&at(Qs.stateNode,""),128&e){var t=Qs.alternate;null!==t&&(t=t.ref,null!==t&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:si(Qs),Qs.effectTag&=-3;break;case 6:si(Qs),Qs.effectTag&=-3,ui(Qs.alternate,Qs);break;case 4:ui(Qs.alternate,Qs);break;case 8:e=Qs,li(e),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e=e.alternate,null!==e&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Qs=Qs.nextEffect}}function pi(){for(;null!==Qs;){if(256&Qs.effectTag)e:{var e=Qs.alternate,t=Qs;switch(t.tag){case 0:case 11:case 15:ii(Wo,Qo,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Qt(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:r("163")}}Qs=Qs.nextEffect}}function mi(e,t){for(;null!==Qs;){var n=Qs.effectTag;if(36&n){var i=Qs.alternate,a=Qs,o=t;switch(a.tag){case 0:case 11:case 15:ii(Yo,qo,a);break;case 1:var s=a.stateNode;if(4&a.effectTag)if(null===i)s.componentDidMount();else{var l=a.elementType===a.type?i.memoizedProps:Qt(a.type,i.memoizedProps);s.componentDidUpdate(l,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}i=a.updateQueue,null!==i&&Kn(a,i,s,o);break;case 3:if(i=a.updateQueue,null!==i){if(s=null,null!==a.child)switch(a.child.tag){case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}Kn(a,i,s,o)}break;case 5:o=a.stateNode,null===i&&4&a.effectTag&&ht(a.type,a.memoizedProps)&&o.focus();break;case 6:break;case 4:break;case 12:break;case 13:break;case 17:break;default:r("163")}}128&n&&(a=Qs.ref,null!==a&&(o=Qs.stateNode,"function"==typeof a?a(o):a.current=o)),512&n&&(js=e),Qs=Qs.nextEffect}}function Ai(e,t){Ys=Xs=js=null;var n=el;el=!0;do{if(512&t.effectTag){var i=!1,r=void 0;try{var a=t;ii(Ko,Qo,a),ii(Qo,Zo,a)}catch(e){i=!0,r=e}i&&wi(t,r)}t=t.nextEffect}while(null!==t);el=n,n=e.expirationTime,0!==n&&Oi(e,n),ol||el||Ui(1073741823,!1)}function gi(){null!==Xs&&xo(Xs),null!==Ys&&Ys()}function vi(e,t){Ws=Ls=!0,e.current===t?r("177"):void 0;var n=e.pendingCommitExpirationTime;0===n?r("261"):void 0,e.pendingCommitExpirationTime=0;var i=t.expirationTime,a=t.childExpirationTime;for(Ut(e,a>i?a:i),Os.current=null,i=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,i=t.firstEffect):i=t:i=t.firstEffect,bo=io,Eo=Xe(),io=!1,Qs=i;null!==Qs;){a=!1;var o=void 0;try{pi()}catch(e){a=!0,o=e}a&&(null===Qs?r("178"):void 0,wi(Qs,o),null!==Qs&&(Qs=Qs.nextEffect))}for(Qs=i;null!==Qs;){a=!1,o=void 0;try{_i()}catch(e){a=!0,o=e}a&&(null===Qs?r("178"):void 0,wi(Qs,o),null!==Qs&&(Qs=Qs.nextEffect))}for(Ye(Eo),Eo=null,io=!!bo,bo=null,e.current=t,Qs=i;null!==Qs;){a=!1,o=void 0;try{mi(e,n)}catch(e){a=!0,o=e}a&&(null===Qs?r("178"):void 0,wi(Qs,o),null!==Qs&&(Qs=Qs.nextEffect))}if(null!==i&&null!==js){var s=Ai.bind(null,e,i);Xs=lr.unstable_runWithPriority(lr.unstable_NormalPriority,function(){return To(s)}),Ys=s}Ls=Ws=!1,"function"==typeof Do&&Do(t.stateNode),n=t.expirationTime,t=t.childExpirationTime,t=t>n?t:n,0===t&&(qs=null),Vi(e,t)}function yi(e){for(;;){var t=e.alternate,n=e.return,i=e.sibling;if(0===(1024&e.effectTag)){Fs=e;e:{var a=t;t=e;var o=Hs,s=t.pendingProps;switch(t.tag){case 2:break;case 16:break;case 15:case 0:break;case 1:yt(t.type)&&bt(t);break;case 3:nn(t),Et(t),s=t.stateNode,s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==a&&null!==a.child||(Sn(t),t.effectTag&=-3),Is(t);break;case 5:an(t);var l=en(zo.current);if(o=t.type,null!==a&&null!=t.stateNode)Rs(a,t,o,s,l),a.ref!==t.ref&&(t.effectTag|=128);else if(s){var u=en(Ho.current);if(Sn(t)){s=t,a=s.stateNode;var c=s.type,d=s.memoizedProps,h=l;switch(a[xr]=s,a[Cr]=d,o=void 0,l=c){case"iframe":case"object":Oe("load",a);break;case"video":case"audio":for(c=0;c<Or.length;c++)Oe(Or[c],a);break;case"source":Oe("error",a);break;case"img":case"image":case"link":Oe("error",a),Oe("load",a);break;case"form":Oe("reset",a),Oe("submit",a);break;case"details":Oe("toggle",a);break;case"input":ce(a,d),Oe("invalid",a),ct(h,"onChange");break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Oe("invalid",a),ct(h,"onChange");break;case"textarea":et(a,d),Oe("invalid",a),ct(h,"onChange")}lt(l,d),c=null;for(o in d)d.hasOwnProperty(o)&&(u=d[o],"children"===o?"string"==typeof u?a.textContent!==u&&(c=["children",u]):"number"==typeof u&&a.textContent!==""+u&&(c=["children",""+u]):gr.hasOwnProperty(o)&&null!=u&&ct(h,o));switch(l){case"input":K(a),fe(a,d,!0);break;case"textarea":
K(a),nt(a,d);break;case"select":case"option":break;default:"function"==typeof d.onClick&&(a.onclick=dt)}o=c,s.updateQueue=o,s=null!==o,s&&ei(t)}else{d=t,h=o,a=s,c=9===l.nodeType?l:l.ownerDocument,u===po.html&&(u=it(h)),u===po.html?"script"===h?(a=c.createElement("div"),a.innerHTML="<script></script>",c=a.removeChild(a.firstChild)):"string"==typeof a.is?c=c.createElement(h,{is:a.is}):(c=c.createElement(h),"select"===h&&(h=c,a.multiple?h.multiple=!0:a.size&&(h.size=a.size))):c=c.createElementNS(u,h),a=c,a[xr]=d,a[Cr]=s,Ps(a,t,!1,!1),h=a,c=o,d=s;var f=l,_=ut(c,d);switch(c){case"iframe":case"object":Oe("load",h),l=d;break;case"video":case"audio":for(l=0;l<Or.length;l++)Oe(Or[l],h);l=d;break;case"source":Oe("error",h),l=d;break;case"img":case"image":case"link":Oe("error",h),Oe("load",h),l=d;break;case"form":Oe("reset",h),Oe("submit",h),l=d;break;case"details":Oe("toggle",h),l=d;break;case"input":ce(h,d),l=ue(h,d),Oe("invalid",h),ct(f,"onChange");break;case"option":l=Ke(h,d);break;case"select":h._wrapperState={wasMultiple:!!d.multiple},l=sr({},d,{value:void 0}),Oe("invalid",h),ct(f,"onChange");break;case"textarea":et(h,d),l=$e(h,d),Oe("invalid",h),ct(f,"onChange");break;default:l=d}lt(c,l),u=void 0;var p=c,m=h,A=l;for(u in A)if(A.hasOwnProperty(u)){var g=A[u];"style"===u?st(m,g):"dangerouslySetInnerHTML"===u?(g=g?g.__html:void 0,null!=g&&Ao(m,g)):"children"===u?"string"==typeof g?("textarea"!==p||""!==g)&&at(m,g):"number"==typeof g&&at(m,""+g):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(gr.hasOwnProperty(u)?null!=g&&ct(f,u):null!=g&&se(m,u,g,_))}switch(c){case"input":K(h),fe(h,d,!1);break;case"textarea":K(h),nt(h,d);break;case"option":null!=d.value&&h.setAttribute("value",""+le(d.value));break;case"select":l=h,l.multiple=!!d.multiple,h=d.value,null!=h?Je(l,!!d.multiple,h,!1):null!=d.defaultValue&&Je(l,!!d.multiple,d.defaultValue,!0);break;default:"function"==typeof l.onClick&&(h.onclick=dt)}(s=ht(o,s))&&ei(t),t.stateNode=a}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode?r("166"):void 0;break;case 6:a&&null!=t.stateNode?ks(a,t,a.memoizedProps,s):("string"!=typeof s&&(null===t.stateNode?r("166"):void 0),a=en(zo.current),en(Ho.current),Sn(t)?(s=t,o=s.stateNode,a=s.memoizedProps,o[xr]=s,(s=o.nodeValue!==a)&&ei(t)):(o=t,s=(9===a.nodeType?a:a.ownerDocument).createTextNode(s),s[xr]=t,o.stateNode=s));break;case 11:break;case 13:if(s=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=o,Fs=t;break e}s=null!==s,o=null!==a&&null!==a.memoizedState,null!==a&&!s&&o&&(a=a.child.sibling,null!==a&&(l=t.firstEffect,null!==l?(t.firstEffect=a,a.nextEffect=l):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),(s||o)&&(t.effectTag|=4);break;case 7:break;case 8:break;case 12:break;case 4:nn(t),Is(t);break;case 10:Fn(t);break;case 9:break;case 14:break;case 17:yt(t.type)&&bt(t);break;case 18:break;default:r("156")}Fs=null}if(t=e,1===Hs||1!==t.childExpirationTime){for(s=0,o=t.child;null!==o;)a=o.expirationTime,l=o.childExpirationTime,a>s&&(s=a),l>s&&(s=l),o=o.sibling;t.childExpirationTime=s}if(null!==Fs)return Fs;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(e=hi(e,Hs),null!==e)return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==i)return i;if(null===n)break;e=n}return null}function bi(e){var t=Nn(e.alternate,e,Hs);return e.memoizedProps=e.pendingProps,null===t&&(t=yi(e)),Os.current=null,t}function Ei(e,t){Ls?r("243"):void 0,gi(),Ls=!0;var n=Bs.current;Bs.current=hs;var i=e.nextExpirationTimeToWorkOn;i===Hs&&e===Us&&null!==Fs||(fi(),Us=e,Hs=i,Fs=Dt(Us.current,null,Hs),e.pendingCommitExpirationTime=0);for(var a=!1;;){try{if(t)for(;null!==Fs&&!Li();)Fs=bi(Fs);else for(;null!==Fs;)Fs=bi(Fs)}catch(t){if(ws=Es=bs=null,un(),null===Fs)a=!0,Qi(t);else{null===Fs?r("271"):void 0;var o=Fs,s=o.return;if(null!==s){e:{var l=e,u=s,c=o,d=t;if(s=Hs,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==d&&"object"==typeof d&&"function"==typeof d.then){var h=d;d=u;var f=-1,_=-1;do{if(13===d.tag){var p=d.alternate;if(null!==p&&(p=p.memoizedState,null!==p)){_=10*(1073741822-p.timedOutAt);break}p=d.pendingProps.maxDuration,"number"==typeof p&&(0>=p?f=0:(-1===f||p<f)&&(f=p))}d=d.return}while(null!==d);d=u;do{if((p=13===d.tag)&&(p=void 0!==d.memoizedProps.fallback&&null===d.memoizedState),p){if(u=d.updateQueue,null===u?(u=new Set,u.add(h),d.updateQueue=u):u.add(h),0===(1&d.mode)){d.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:(s=Qn(1073741823),s.tag=xs,jn(c,s))),c.expirationTime=1073741823;break e}c=l,u=s;var m=c.pingCache;null===m?(m=c.pingCache=new Vs,p=new Set,m.set(h,p)):(p=m.get(h),void 0===p&&(p=new Set,m.set(h,p))),p.has(u)||(p.add(u),c=Ti.bind(null,c,h,u),h.then(c,c)),-1===f?l=1073741823:(-1===_&&(_=10*(1073741822-Gt(l,s))-5e3),l=_+f),0<=l&&Gs<l&&(Gs=l),d.effectTag|=2048,d.expirationTime=s;break e}d=d.return}while(null!==d);d=Error((ee(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+te(c))}zs=!0,d=$n(d,c),l=u;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=s,s=ci(l,d,s),Xn(l,s);break e;case 1:if(f=d,_=l.type,c=l.stateNode,0===(64&l.effectTag)&&("function"==typeof _.getDerivedStateFromError||null!==c&&"function"==typeof c.componentDidCatch&&(null===qs||!qs.has(c)))){l.effectTag|=2048,l.expirationTime=s,s=di(l,f,s),Xn(l,s);break e}}l=l.return}while(null!==l)}Fs=yi(o);continue}a=!0,Qi(t)}}break}if(Ls=!1,Bs.current=n,ws=Es=bs=null,un(),a)Us=null,e.finishedWork=null;else if(null!==Fs)e.finishedWork=null;else{if(n=e.current.alternate,null===n?r("281"):void 0,Us=null,zs){if(a=e.latestPendingTime,o=e.latestSuspendedTime,s=e.latestPingedTime,0!==a&&a<i||0!==o&&o<i||0!==s&&s<i)return Ht(e,i),void ki(e,n,i,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,i=e.nextExpirationTimeToWorkOn=i,t=e.expirationTime=1073741823,void ki(e,n,i,t,-1)}t&&-1!==Gs?(Ht(e,i),t=10*(1073741822-Gt(e,i)),t<Gs&&(Gs=t),t=10*(1073741822-Bi()),t=Gs-t,ki(e,n,i,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=i,e.finishedWork=n)}}function wi(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===qs||!qs.has(i)))return e=$n(t,e),e=di(n,e,1073741823),jn(n,e),void Mi(n,1073741823);break;case 3:return e=$n(t,e),e=ci(n,e,1073741823),jn(n,e),void Mi(n,1073741823)}n=n.return}3===e.tag&&(n=$n(t,e),n=ci(e,n,1073741823),jn(e,n),Mi(e,1073741823))}function Si(e,t){var n=lr.unstable_getCurrentPriorityLevel(),i=void 0;if(0===(1&t.mode))i=1073741823;else if(Ls&&!Ws)i=Hs;else{switch(n){case lr.unstable_ImmediatePriority:i=1073741823;break;case lr.unstable_UserBlockingPriority:i=1073741822-10*(((1073741822-e+15)/10|0)+1);break;case lr.unstable_NormalPriority:i=1073741822-25*(((1073741822-e+500)/25|0)+1);break;case lr.unstable_LowPriority:case lr.unstable_IdlePriority:i=1;break;default:r("313")}null!==Us&&i===Hs&&--i}return n===lr.unstable_UserBlockingPriority&&(0===il||i<il)&&(il=i),i}function Ti(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),null!==Us&&Hs===n?Us=null:(t=e.earliestSuspendedTime,i=e.latestSuspendedTime,0!==t&&n<=t&&n>=i&&(e.didError=!1,t=e.latestPingedTime,(0===t||t>n)&&(e.latestPingedTime=n),zt(n,e),n=e.expirationTime,0!==n&&Oi(e,n)))}function xi(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Bi(),t=Si(t,e),e=Ci(e,t),null!==e&&(Ft(e,t),t=e.expirationTime,0!==t&&Oi(e,t))}function Ci(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return r}function Mi(e,t){e=Ci(e,t),null!==e&&(!Ls&&0!==Hs&&t>Hs&&fi(),Ft(e,t),Ls&&!Ws&&Us===e||Oi(e,e.expirationTime),fl>hl&&(fl=0,r("185")))}function Pi(e,t,n,i,r){return lr.unstable_runWithPriority(lr.unstable_ImmediatePriority,function(){return e(t,n,i,r)})}function Ii(){cl=1073741822-((lr.unstable_now()-ul)/10|0)}function Ri(e,t){if(0!==Js){if(t<Js)return;null!==$s&&lr.unstable_cancelCallback($s)}Js=t,e=lr.unstable_now()-ul,$s=lr.unstable_scheduleCallback(Fi,{timeout:10*(1073741822-t)-e})}function ki(e,t,n,i,r){e.expirationTime=i,0!==r||Li()?0<r&&(e.timeoutHandle=wo(Di.bind(null,e,t,n),r)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function Di(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,Ii(),dl=cl,Hi(e,n)}function Vi(e,t){e.expirationTime=t,e.finishedWork=null}function Bi(){return el?dl:(Ni(),0!==nl&&1!==nl||(Ii(),dl=cl),dl)}function Oi(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===Ks?(Zs=Ks=e,e.nextScheduledRoot=e):(Ks=Ks.nextScheduledRoot=e,Ks.nextScheduledRoot=Zs)):t>e.expirationTime&&(e.expirationTime=t),el||(ol?sl&&(tl=e,nl=1073741823,Gi(e,1073741823,!1)):1073741823===t?Ui(1073741823,!1):Ri(e,t))}function Ni(){var e=0,t=null;if(null!==Ks)for(var n=Ks,i=Zs;null!==i;){var a=i.expirationTime;if(0===a){if(null===n||null===Ks?r("244"):void 0,i===i.nextScheduledRoot){Zs=Ks=i.nextScheduledRoot=null;break}if(i===Zs)Zs=a=i.nextScheduledRoot,Ks.nextScheduledRoot=a,i.nextScheduledRoot=null;else{if(i===Ks){Ks=n,Ks.nextScheduledRoot=Zs,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if(a>e&&(e=a,t=i),i===Ks)break;if(1073741823===e)break;n=i,i=i.nextScheduledRoot}}tl=t,nl=e}function Li(){return!!pl||!!lr.unstable_shouldYield()&&(pl=!0)}function Fi(){try{if(!Li()&&null!==Zs){Ii();var e=Zs;do{var t=e.expirationTime;0!==t&&cl<=t&&(e.nextExpirationTimeToWorkOn=cl),e=e.nextScheduledRoot}while(e!==Zs)}Ui(0,!0)}finally{pl=!1}}function Ui(e,t){if(Ni(),t)for(Ii(),dl=cl;null!==tl&&0!==nl&&e<=nl&&!(pl&&cl>nl);)Gi(tl,nl,cl>nl),Ni(),Ii(),dl=cl;else for(;null!==tl&&0!==nl&&e<=nl;)Gi(tl,nl,!1),Ni();if(t&&(Js=0,$s=null),0!==nl&&Ri(tl,nl),fl=0,_l=null,null!==ll)for(e=ll,ll=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){rl||(rl=!0,al=e)}}if(rl)throw e=al,al=null,rl=!1,e}function Hi(e,t){el?r("253"):void 0,tl=e,nl=t,Gi(e,t,!1),Ui(1073741823,!1)}function Gi(e,t,n){if(el?r("245"):void 0,el=!0,n){var i=e.finishedWork;null!==i?zi(e,i,t):(e.finishedWork=null,i=e.timeoutHandle,-1!==i&&(e.timeoutHandle=-1,So(i)),Ei(e,n),i=e.finishedWork,null!==i&&(Li()?e.finishedWork=i:zi(e,i,t)))}else i=e.finishedWork,null!==i?zi(e,i,t):(e.finishedWork=null,i=e.timeoutHandle,-1!==i&&(e.timeoutHandle=-1,So(i)),Ei(e,n),i=e.finishedWork,null!==i&&zi(e,i,t));el=!1}function zi(e,t,n){var i=e.firstBatch;return null!==i&&i._expirationTime>=n&&(null===ll?ll=[i]:ll.push(i),i._defer)?(e.finishedWork=t,void(e.expirationTime=0)):(e.finishedWork=null,e===_l?fl++:(_l=e,fl=0),void lr.unstable_runWithPriority(lr.unstable_ImmediatePriority,function(){vi(e,t)}))}function Qi(e){null===tl?r("246"):void 0,tl.expirationTime=0,rl||(rl=!0,al=e)}function Wi(e,t){var n=ol;ol=!0;try{return e(t)}finally{(ol=n)||el||Ui(1073741823,!1)}}function ji(e,t){if(ol&&!sl){sl=!0;try{return e(t)}finally{sl=!1}}return e(t)}function Xi(e,t,n){ol||el||0===il||(Ui(il,!1),il=0);var i=ol;ol=!0;try{return lr.unstable_runWithPriority(lr.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(ol=i)||el||Ui(1073741823,!1)}}function Yi(e,t,n,i,a){var o=t.current;e:if(n){n=n._reactInternalFiber;t:{2===Pe(n)&&1===n.tag?void 0:r("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);r("171"),s=void 0}if(1===n.tag){var l=n.type;if(yt(l)){n=St(n,l,s);break e}}n=s}else n=Po;return null===t.context?t.context=n:t.pendingContext=n,t=a,a=Qn(i),a.payload={element:e},t=void 0===t?null:t,null!==t&&(a.callback=t),gi(),jn(o,a),Mi(o,i),i}function qi(e,t,n,i){var r=t.current,a=Bi();return r=Si(a,r),Yi(e,t,n,r,i)}function Zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ki(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:sa,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Ji(e){var t=1073741822-25*(((1073741822-Bi()+500)/25|0)+1);t>=Ns&&(t=Ns-1),this._expirationTime=Ns=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function $i(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function er(e,t,n){t=It(3,null,null,t?3:0),e={current:t,containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function tr(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nr(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new er(e,!1,t)}function ir(e,t,n,i,r){var a=n._reactRootContainer;if(a){if("function"==typeof r){var o=r;r=function(){var e=Zi(a._internalRoot);o.call(e)}}null!=e?a.legacy_renderSubtreeIntoContainer(e,t,r):a.render(t,r)}else{if(a=n._reactRootContainer=nr(n,i),"function"==typeof r){var s=r;r=function(){var e=Zi(a._internalRoot);s.call(e)}}ji(function(){null!=e?a.legacy_renderSubtreeIntoContainer(e,t,r):a.render(t,r)})}return Zi(a._internalRoot)}function rr(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return tr(t)?void 0:r("200"),Ki(e,t,null,n)}function ar(e,t){return tr(e)?void 0:r("299","unstable_createRoot"),new er(e,!0,null!=t&&!0===t.hydrate)}var or=n(16),sr=n(188),lr=n(664);or?void 0:r("227");var ur=!1,cr=null,dr=!1,hr=null,fr={onError:function(e){ur=!0,cr=e}},_r=null,pr={},mr=[],Ar={},gr={},vr={},yr=null,br=null,Er=null,wr=null,Sr={injectEventPluginOrder:function(e){_r?r("101"):void 0,_r=Array.prototype.slice.call(e),l()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];pr.hasOwnProperty(t)&&pr[t]===i||(pr[t]?r("102",t):void 0,pr[t]=i,n=!0)}n&&l()}},Tr=Math.random().toString(36).slice(2),xr="__reactInternalInstance$"+Tr,Cr="__reactEventHandlers$"+Tr,Mr=!("undefined"==typeof window||!window.document||!window.document.createElement),Pr={animationend:x("Animation","AnimationEnd"),animationiteration:x("Animation","AnimationIteration"),animationstart:x("Animation","AnimationStart"),transitionend:x("Transition","TransitionEnd")},Ir={},Rr={};Mr&&(Rr=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);var kr=C("animationend"),Dr=C("animationiteration"),Vr=C("animationstart"),Br=C("transitionend"),Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=null,Lr=null,Fr=null;sr(R.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=P)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=P)},persist:function(){this.isPersistent=P},isPersistent:I,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=I,this._dispatchInstances=this._dispatchListeners=null}}),R.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},R.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var r=new t;return sr(r,n.prototype),n.prototype=r,n.prototype.constructor=n,n.Interface=sr({},i.Interface,e),n.extend=i.extend,V(n),n},V(R);var Ur=R.extend({data:null}),Hr=R.extend({data:null}),Gr=[9,13,27,32],zr=Mr&&"CompositionEvent"in window,Qr=null;Mr&&"documentMode"in document&&(Qr=document.documentMode);var Wr=Mr&&"TextEvent"in window&&!Qr,jr=Mr&&(!zr||Qr&&8<Qr&&11>=Qr),Xr=String.fromCharCode(32),Yr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},qr=!1,Zr=!1,Kr={eventTypes:Yr,extractEvents:function(e,t,n,i){var r=void 0,a=void 0;if(zr)e:{switch(e){case"compositionstart":r=Yr.compositionStart;break e;case"compositionend":r=Yr.compositionEnd;break e;case"compositionupdate":r=Yr.compositionUpdate;break e}r=void 0}else Zr?B(e,n)&&(r=Yr.compositionEnd):"keydown"===e&&229===n.keyCode&&(r=Yr.compositionStart);return r?(jr&&"ko"!==n.locale&&(Zr||r!==Yr.compositionStart?r===Yr.compositionEnd&&Zr&&(a=M()):(Nr=i,Lr="value"in Nr?Nr.value:Nr.textContent,Zr=!0)),r=Ur.getPooled(r,t,n,i),a?r.data=a:(a=O(n),null!==a&&(r.data=a)),T(r),a=r):a=null,(e=Wr?N(e,n):L(e,n))?(t=Hr.getPooled(Yr.beforeInput,t,n,i),t.data=e,T(t)):t=null,null===a?t:null===t?a:[a,t]}},Jr=null,$r=null,ea=null,ta=!1,na={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},ia=or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;ia.hasOwnProperty("ReactCurrentDispatcher")||(ia.ReactCurrentDispatcher={current:null});var ra=/^(.*)[\\\/]/,aa="function"==typeof Symbol&&Symbol.for,oa=aa?Symbol.for("react.element"):60103,sa=aa?Symbol.for("react.portal"):60106,la=aa?Symbol.for("react.fragment"):60107,ua=aa?Symbol.for("react.strict_mode"):60108,ca=aa?Symbol.for("react.profiler"):60114,da=aa?Symbol.for("react.provider"):60109,ha=aa?Symbol.for("react.context"):60110,fa=aa?Symbol.for("react.concurrent_mode"):60111,_a=aa?Symbol.for("react.forward_ref"):60112,pa=aa?Symbol.for("react.suspense"):60113,ma=aa?Symbol.for("react.memo"):60115,Aa=aa?Symbol.for("react.lazy"):60116,ga="function"==typeof Symbol&&Symbol.iterator,va=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ya=Object.prototype.hasOwnProperty,ba={},Ea={},wa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wa[e]=new ae(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wa[t]=new ae(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){wa[e]=new ae(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wa[e]=new ae(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wa[e]=new ae(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){wa[e]=new ae(e,3,!0,e,null)}),["capture","download"].forEach(function(e){wa[e]=new ae(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){wa[e]=new ae(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){wa[e]=new ae(e,5,!1,e.toLowerCase(),null)});var Sa=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sa,oe);wa[t]=new ae(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sa,oe);wa[t]=new ae(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sa,oe);wa[t]=new ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){wa[e]=new ae(e,1,!1,e.toLowerCase(),null)});var Ta={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},xa=null,Ca=null,Ma=!1;Mr&&(Ma=Y("input")&&(!document.documentMode||9<document.documentMode));var Pa={eventTypes:Ta,_isInputEventSupported:Ma,extractEvents:function(e,t,n,i){var r=t?g(t):window,a=void 0,o=void 0,s=r.nodeName&&r.nodeName.toLowerCase();return"select"===s||"input"===s&&"file"===r.type?a=ge:j(r)?Ma?a=Se:(a=Ee,o=be):(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(a=we),a&&(a=a(e,t))?pe(a,n,i):(o&&o(e,r,t),void("blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&_e(r,"number",r.value)))}},Ia=R.extend({view:null,detail:null}),Ra={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},ka=0,Da=0,Va=!1,Ba=!1,Oa=Ia.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:xe,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=ka;return ka=e.screenX,Va?"mousemove"===e.type?e.screenX-t:0:(Va=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Da;return Da=e.screenY,Ba?"mousemove"===e.type?e.screenY-t:0:(Ba=!0,0)}}),Na=Oa.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),La={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Fa={eventTypes:La,extractEvents:function(e,t,n,i){var r="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(r&&(n.relatedTarget||n.fromElement)||!a&&!r)return null;if(r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window,a?(a=t,t=(t=n.relatedTarget||n.toElement)?m(t):null):a=null,a===t)return null;var o=void 0,s=void 0,l=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(o=Oa,s=La.mouseLeave,l=La.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(o=Na,s=La.pointerLeave,l=La.pointerEnter,u="pointer");var c=null==a?r:g(a);if(r=null==t?r:g(t),e=o.getPooled(s,a,n,i),e.type=u+"leave",e.target=c,e.relatedTarget=r,n=o.getPooled(l,t,n,i),n.type=u+"enter",n.target=r,n.relatedTarget=c,i=t,a&&i)e:{for(t=a,r=i,u=0,o=t;o;o=y(o))u++;for(o=0,l=r;l;l=y(l))o++;for(;0<u-o;)t=y(t),u--;for(;0<o-u;)r=y(r),o--;for(;u--;){if(t===r||t===r.alternate)break e;t=y(t),r=y(r)}t=null}else t=null;for(r=t,t=[];a&&a!==r&&(u=a.alternate,null===u||u!==r);)t.push(a),a=y(a);for(a=[];i&&i!==r&&(u=i.alternate,null===u||u!==r);)a.push(i),i=y(i);for(i=0;i<t.length;i++)w(t[i],"bubbled",e);for(i=a.length;0<i--;)w(a[i],"captured",n);return[e,n]}},Ua=Object.prototype.hasOwnProperty,Ha=R.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ga=R.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),za=Ia.extend({relatedTarget:null}),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ja=Ia.extend({key:function(e){if(e.key){var t=Qa[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=De(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Wa[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:xe,charCode:function(e){return"keypress"===e.type?De(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?De(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Xa=Oa.extend({dataTransfer:null}),Ya=Ia.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:xe}),qa=R.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Za=Oa.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Ka=[["abort","abort"],[kr,"animationEnd"],[Dr,"animationIteration"],[Vr,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[Br,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Ja={},$a={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){Ve(e,!0)}),Ka.forEach(function(e){Ve(e,!1)});var eo={eventTypes:Ja,isInteractiveTopLevelEventType:function(e){return e=$a[e],void 0!==e&&!0===e.isInteractive},extractEvents:function(e,t,n,i){var r=$a[e];if(!r)return null;switch(e){case"keypress":if(0===De(n))return null;case"keydown":case"keyup":e=ja;break;case"blur":case"focus":e=za;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Xa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Ya;break;case kr:case Dr:case Vr:e=Ha;break;case Br:e=qa;break;case"scroll":e=Ia;break;case"wheel":e=Za;break;case"copy":case"cut":case"paste":e=Ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Na;break;default:e=R}return t=e.getPooled(r,t,n,i),T(t),t}},to=eo.isInteractiveTopLevelEventType,no=[],io=!0,ro={},ao=0,oo="_reactListenersID"+(""+Math.random()).slice(2),so=Mr&&"documentMode"in document&&11>=document.documentMode,lo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},uo=null,co=null,ho=null,fo=!1,_o={eventTypes:lo,extractEvents:function(e,t,n,i){var r,a=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!a)){e:{a=Ue(a),r=vr.onSelect;for(var o=0;o<r.length;o++){var s=r[o];if(!a.hasOwnProperty(s)||!a[s]){a=!1;break e}}a=!0}r=!a}if(r)return null;switch(a=t?g(t):window,e){case"focus":(j(a)||"true"===a.contentEditable)&&(uo=a,co=t,ho=null);break;case"blur":ho=co=uo=null;break;case"mousedown":fo=!0;break;case"contextmenu":case"mouseup":case"dragend":return fo=!1,qe(n,i);case"selectionchange":if(so)break;case"keydown":case"keyup":return qe(n,i)}return null}};Sr.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),yr=v,br=A,Er=g,Sr.injectEventPluginsByName({
SimpleEventPlugin:eo,EnterLeaveEventPlugin:Fa,ChangeEventPlugin:Pa,SelectEventPlugin:_o,BeforeInputEventPlugin:Kr});var po={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},mo=void 0,Ao=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!==po.svg||"innerHTML"in e)e.innerHTML=t;else{for(mo=mo||document.createElement("div"),mo.innerHTML="<svg>"+t+"</svg>",t=mo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),go={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vo=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(e){vo.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),go[t]=go[e]})});var yo=sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),bo=null,Eo=null,wo="function"==typeof setTimeout?setTimeout:void 0,So="function"==typeof clearTimeout?clearTimeout:void 0,To=lr.unstable_scheduleCallback,xo=lr.unstable_cancelCallback;new Set;var Co=[],Mo=-1,Po={},Io={current:Po},Ro={current:!1},ko=Po,Do=null,Vo=null,Bo=(new or.Component).refs,Oo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===Pe(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=Bi();i=Si(i,e);var r=Qn(i);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),gi(),jn(e,r),Mi(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=Bi();i=Si(i,e);var r=Qn(i);r.tag=Ts,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),gi(),jn(e,r),Mi(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Bi();n=Si(n,e);var i=Qn(n);i.tag=xs,void 0!==t&&null!==t&&(i.callback=t),gi(),jn(e,i),Mi(e,n)}},No=Array.isArray,Lo=$t(!0),Fo=$t(!1),Uo={},Ho={current:Uo},Go={current:Uo},zo={current:Uo},Qo=0,Wo=2,jo=4,Xo=8,Yo=16,qo=32,Zo=64,Ko=128,Jo=ia.ReactCurrentDispatcher,$o=0,es=null,ts=null,ns=null,is=null,rs=null,as=null,os=0,ss=null,ls=0,us=!1,cs=null,ds=0,hs={readContext:Hn,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on},fs={readContext:Hn,useCallback:function(e,t){return cn().memoizedState=[e,void 0===t?null:t],e},useContext:Hn,useEffect:function(e,t){return pn(516,Ko|Zo,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,pn(4,jo|qo,An.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pn(4,jo|qo,e,t)},useMemo:function(e,t){var n=cn();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=cn();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=i.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=vn.bind(null,es,e),[i.memoizedState,e]},useRef:function(e){var t=cn();return e={current:e},t.memoizedState=e},useState:function(e){var t=cn();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={last:null,dispatch:null,lastRenderedReducer:hn,lastRenderedState:e},e=e.dispatch=vn.bind(null,es,e),[t.memoizedState,e]},useDebugValue:gn},_s={readContext:Hn,useCallback:function(e,t){var n=dn();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&sn(t,i[1])?i[0]:(n.memoizedState=[e,t],e)},useContext:Hn,useEffect:function(e,t){return mn(516,Ko|Zo,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,mn(4,jo|qo,An.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mn(4,jo|qo,e,t)},useMemo:function(e,t){var n=dn();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&sn(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:fn,useRef:function(){return dn().memoizedState},useState:function(e){return fn(hn,e)},useDebugValue:gn},ps=null,ms=null,As=!1,gs=ia.ReactCurrentOwner,vs=!1,ys={current:null},bs=null,Es=null,ws=null,Ss=0,Ts=1,xs=2,Cs=3,Ms=!1,Ps=void 0,Is=void 0,Rs=void 0,ks=void 0;Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Rs=function(e,t,n,i,r){var a=e.memoizedProps;if(a!==i){var o=t.stateNode;switch(en(Ho.current),e=null,n){case"input":a=ue(o,a),i=ue(o,i),e=[];break;case"option":a=Ke(o,a),i=Ke(o,i),e=[];break;case"select":a=sr({},a,{value:void 0}),i=sr({},i,{value:void 0}),e=[];break;case"textarea":a=$e(o,a),i=$e(o,i),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof i.onClick&&(o.onclick=dt)}lt(n,i),o=n=void 0;var s=null;for(n in a)if(!i.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var l=a[n];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(gr.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in i){var u=i[n];if(l=null!=a?a[n]:void 0,i.hasOwnProperty(n)&&u!==l&&(null!=u||null!=l))if("style"===n)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(s||(s={}),s[o]=u[o])}else s||(e||(e=[]),e.push(n,s)),s=u;else"dangerouslySetInnerHTML"===n?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(n,""+u)):"children"===n?l===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(n,""+u):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(gr.hasOwnProperty(n)?(null!=u&&ct(r,n),e||l===u||(e=[])):(e=e||[]).push(n,u))}s&&(e=e||[]).push("style",s),r=e,(t.updateQueue=r)&&ei(t)}},ks=function(e,t,n,i){n!==i&&ei(t)};var Ds="function"==typeof WeakSet?WeakSet:Set,Vs="function"==typeof WeakMap?WeakMap:Map,Bs=ia.ReactCurrentDispatcher,Os=ia.ReactCurrentOwner,Ns=1073741822,Ls=!1,Fs=null,Us=null,Hs=0,Gs=-1,zs=!1,Qs=null,Ws=!1,js=null,Xs=null,Ys=null,qs=null,Zs=null,Ks=null,Js=0,$s=void 0,el=!1,tl=null,nl=0,il=0,rl=!1,al=null,ol=!1,sl=!1,ll=null,ul=lr.unstable_now(),cl=1073741822-(ul/10|0),dl=cl,hl=50,fl=0,_l=null,pl=!1;Jr=function(e,t,n){switch(t){case"input":if(he(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=v(i);a?void 0:r("90"),J(i),he(i,a)}}}break;case"textarea":tt(e,n);break;case"select":t=n.value,null!=t&&Je(e,!!n.multiple,t,!1)}},Ji.prototype.render=function(e){this._defer?void 0:r("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,i=new $i;return Yi(e,t,null,n,i._onCommit),i},Ji.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ji.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t?void 0:r("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var i=null,a=t;a!==this;)i=a,a=a._next;null===i?r("251"):void 0,i._next=a._next,this._next=t,e.firstBatch=this}this._defer=!1,Hi(e,n),t=this._next,this._next=null,t=e.firstBatch=t,null!==t&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Ji.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},$i.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},$i.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n?r("191",n):void 0,n()}}},er.prototype.render=function(e,t){var n=this._internalRoot,i=new $i;return t=void 0===t?null:t,null!==t&&i.then(t),qi(e,n,null,i._onCommit),i},er.prototype.unmount=function(e){var t=this._internalRoot,n=new $i;return e=void 0===e?null:e,null!==e&&n.then(e),qi(null,t,null,n._onCommit),n},er.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var i=this._internalRoot,r=new $i;return n=void 0===n?null:n,null!==n&&r.then(n),qi(t,i,e,r._onCommit),r},er.prototype.createBatch=function(){var e=new Ji(this),t=e._expirationTime,n=this._internalRoot,i=n.firstBatch;if(null===i)n.firstBatch=e,e._next=null;else{for(n=null;null!==i&&i._expirationTime>=t;)n=i,i=i._next;e._next=i,null!==n&&(n._next=e)}return e},G=Wi,z=Xi,Q=function(){el||0===il||(Ui(il,!1),il=0)};var ml={createPortal:rr,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?r("188"):r("268",Object.keys(e))),e=ke(t),e=null===e?null:e.stateNode},hydrate:function(e,t,n){return tr(t)?void 0:r("200"),ir(null,e,t,!0,n)},render:function(e,t,n){return tr(t)?void 0:r("200"),ir(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return tr(n)?void 0:r("200"),null==e||void 0===e._reactInternalFiber?r("38"):void 0,ir(e,t,n,!1,i)},unmountComponentAtNode:function(e){return tr(e)?void 0:r("40"),!!e._reactRootContainer&&(ji(function(){ir(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return rr.apply(void 0,arguments)},unstable_batchedUpdates:Wi,unstable_interactiveUpdates:Xi,flushSync:function(e,t){el?r("187"):void 0;var n=ol;ol=!0;try{return Pi(e,t)}finally{ol=n,Ui(1073741823,!1)}},unstable_createRoot:ar,unstable_flushControlled:function(e){var t=ol;ol=!0;try{Pi(e)}finally{(ol=t)||el||Ui(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[A,g,v,Sr.injectEventPluginsByName,Ar,T,function(e){h(e,S)},U,H,Fe,p]}};!function(e){var t=e.findFiberByHostInstance;return Mt(sr({},e,{overrideProps:null,currentDispatcherRef:ia.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ke(e),null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:m,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var Al={default:ml},gl=Al&&ml||Al;e.exports=gl.default||gl},function(e,t,n){"use strict";e.exports=n(636)},function(e,t){/** @license React v16.8.6
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";function n(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case h:case f:case s:case u:case l:case p:return e;default:switch(e=e&&e.$$typeof){case d:case _:case c:return e;default:return t}}case A:case m:case o:return t}}}function i(e){return n(e)===f}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,_=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,A=r?Symbol.for("react.lazy"):60116;t.typeOf=n,t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=d,t.ContextProvider=c,t.Element=a,t.ForwardRef=_,t.Fragment=s,t.Lazy=A,t.Memo=m,t.Portal=o,t.Profiler=u,t.StrictMode=l,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===f||e===u||e===l||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===A||e.$$typeof===m||e.$$typeof===c||e.$$typeof===d||e.$$typeof===_)},t.isAsyncMode=function(e){return i(e)||n(e)===h},t.isConcurrentMode=i,t.isContextConsumer=function(e){return n(e)===d},t.isContextProvider=function(e){return n(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return n(e)===_},t.isFragment=function(e){return n(e)===s},t.isLazy=function(e){return n(e)===A},t.isMemo=function(e){return n(e)===m},t.isPortal=function(e){return n(e)===o},t.isProfiler=function(e){return n(e)===u},t.isStrictMode=function(e){return n(e)===l},t.isSuspense=function(e){return n(e)===p}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.localize=void 0;var r=n(16),a=(i(r),n(122)),o=n(189),s=function(e,t){return function(n){var i=t?t(n):e&&n[e]||n,r=(0,o.getActiveLanguage)(i),a=r?r.code:void 0,s=(0,o.getTranslate)(i);return{currentLanguage:a,translate:s}}};t.localize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,a.connect)(s(t,n))(e)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Translate=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(16),d=r(c),h=n(638),f=i(h),_=n(46),p=i(_),m=n(189),A=n(361),g="locale",v="store",y=t.Translate=function(e){function t(e,n){o(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(!i.getStore())throw new Error("react-localize-redux: Unable to locate redux store in context. Ensure your app is wrapped with <Provider />.");if(!i.getStateSlice().languages)throw new Error("react-localize-redux: cannot find languages ensure you have correctly dispatched initialize action.");return i.state={hasUpdated:!1},i.onStateDidChange=i.onStateDidChange.bind(i),i.addDefaultTranslation(),i}return l(t,e),u(t,[{key:"componentDidMount",value:function(){this.unsubscribeFromStore=(0,A.storeDidChange)(this.getStore(),this.onStateDidChange)}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromStore()}},{key:"onStateDidChange",value:function(e){var t=this.getStateSlice(e),n=this.getStateSlice(),i=(0,m.getActiveLanguage)(t),r=(0,m.getActiveLanguage)(n),a=(0,m.getOptions)(t),o=(0,m.getOptions)(n),s=(0,m.getTranslationsForActiveLanguage)(t),l=(0,m.getTranslationsForActiveLanguage)(n),u=i.code!==r.code,c=a!==o,d=s!==l;(u||c||d)&&this.setState({hasUpdated:!0})}},{key:"addDefaultTranslation",value:function(){var e=this.getStateSlice(),t=this.props,n=t.id,i=t.children;if(void 0!==i&&"function"!=typeof i&&!e.options.ignoreTranslateChildren&&void 0!==n){var r=this.getStore(),o=f.default.renderToStaticMarkup(i),s=e.options.defaultLanguage||e.languages[0].code;r.dispatch((0,m.addTranslationForLanguage)(a({},n,o),s))}}},{key:"getStore",value:function(){var e=this.context.storeKey;return this.context[e||v]}},{key:"getStateSlice",value:function(e){var t=this.context,n=t.getLocaleState,i=(t.storeKey,e||this.getStore().getState());return void 0!==n?n(i):i[g]||i}},{key:"render",value:function(){var e=(0,m.getTranslate)(this.getStateSlice()),t=(0,m.getActiveLanguage)(this.getStateSlice()),n=(0,m.getLanguages)(this.getStateSlice()),i=this.props,r=i.id,a=void 0===r?"":r,o=i.data,s=i.options;return"function"==typeof this.props.children?this.props.children(e,t,n):e(a,o,s)}}]),t}(d.Component);y.contextTypes={store:p.default.shape({subscribe:p.default.func.isRequired,dispatch:p.default.func.isRequired,getState:p.default.func.isRequired}),getLocaleState:p.default.func,storeKey:p.default.string}},function(e,t,n){"use strict";var i=n(282),r=n(47);t.__esModule=!0,t.default=void 0;var a=r(n(377)),o=r(n(281)),s=i(n(16)),l=r(n(654)),u=n(190),c=r(n(272)),d=function(e){function t(t){var n;n=e.call(this,t)||this;var i=t.store;n.notifySubscribers=n.notifySubscribers.bind((0,a.default)(n));var r=new c.default(i);return r.onStateChange=n.notifySubscribers,n.state={store:i,subscription:r},n.previousState=i.getState(),n}(0,o.default)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.state.subscription.trySubscribe(),this.previousState!==this.props.store.getState()&&this.state.subscription.notifyNestedSubs()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this.state.subscription.tryUnsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(e){if(this.props.store!==e.store){this.state.subscription.tryUnsubscribe();var t=new c.default(this.props.store);t.onStateChange=this.notifySubscribers,this.setState({store:this.props.store,subscription:t})}},n.notifySubscribers=function(){this.state.subscription.notifyNestedSubs()},n.render=function(){var e=this.props.context||u.ReactReduxContext;return s.default.createElement(e.Provider,{value:this.state},this.props.children)},t}(s.Component);d.propTypes={store:l.default.shape({subscribe:l.default.func.isRequired,dispatch:l.default.func.isRequired,getState:l.default.func.isRequired}),context:l.default.object,children:l.default.any};var h=d;t.default=h},function(e,t,n){"use strict";function i(e,t,n){for(var i=t.length-1;i>=0;i--){var r=t[i](e);if(r)return r}return function(t,i){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+i.wrappedComponentName+".")}}function r(e,t){return e===t}function a(e){var t=void 0===e?{}:e,n=t.connectHOC,a=void 0===n?u.default:n,o=t.mapStateToPropsFactories,p=void 0===o?h.default:o,m=t.mapDispatchToPropsFactories,A=void 0===m?d.default:m,g=t.mergePropsFactories,v=void 0===g?f.default:g,y=t.selectorFactory,b=void 0===y?_.default:y;return function(e,t,n,o){void 0===o&&(o={});var u=o,d=u.pure,h=void 0===d||d,f=u.areStatesEqual,_=void 0===f?r:f,m=u.areOwnPropsEqual,g=void 0===m?c.default:m,y=u.areStatePropsEqual,E=void 0===y?c.default:y,w=u.areMergedPropsEqual,S=void 0===w?c.default:w,T=(0,l.default)(u,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),x=i(e,p,"mapStateToProps"),C=i(t,A,"mapDispatchToProps"),M=i(n,v,"mergeProps");return a(b,(0,s.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:C,initMergeProps:M,pure:h,areStatesEqual:_,areOwnPropsEqual:g,areStatePropsEqual:E,areMergedPropsEqual:S},T))}}var o=n(47);t.__esModule=!0,t.createConnect=a,t.default=void 0;var s=o(n(162)),l=o(n(163)),u=o(n(363)),c=o(n(368)),d=o(n(644)),h=o(n(645)),f=o(n(646)),_=o(n(647)),p=a();t.default=p},function(e,t,n){"use strict";function i(e){return"function"==typeof e?(0,s.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function r(e){return e?void 0:(0,s.wrapMapToPropsConstant)(function(e){return{dispatch:e}})}function a(e){return e&&"object"==typeof e?(0,s.wrapMapToPropsConstant)(function(t){return(0,o.bindActionCreators)(e,t)}):void 0}t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=i,t.whenMapDispatchToPropsIsMissing=r,t.whenMapDispatchToPropsIsObject=a,t.default=void 0;var o=n(191),s=n(364),l=[i,r,a];t.default=l},function(e,t,n){"use strict";function i(e){return"function"==typeof e?(0,a.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function r(e){return e?void 0:(0,a.wrapMapToPropsConstant)(function(){return{}})}t.__esModule=!0,t.whenMapStateToPropsIsFunction=i,t.whenMapStateToPropsIsMissing=r,t.default=void 0;var a=n(364),o=[i,r];t.default=o},function(e,t,n){"use strict";function i(e,t,n){return(0,l.default)({},n,e,t)}function r(e){return function(t,n){var i,r=(n.displayName,n.pure),a=n.areMergedPropsEqual,o=!1;return function(t,n,s){var l=e(t,n,s);return o?r&&a(l,i)||(i=l):(o=!0,i=l),i}}}function a(e){return"function"==typeof e?r(e):void 0}function o(e){return e?void 0:function(){return i}}var s=n(47);t.__esModule=!0,t.defaultMergeProps=i,t.wrapMergePropsFunc=r,t.whenMergePropsIsFunction=a,t.whenMergePropsIsOmitted=o,t.default=void 0;var l=s(n(162)),u=(s(n(369)),[a,o]);t.default=u},function(e,t,n){"use strict";function i(e,t,n,i){return function(r,a){return n(e(r,a),t(i,a),a)}}function r(e,t,n,i,r){function a(r,a){return c=r,d=a,h=e(c,d),f=t(i,d),_=n(h,f,d),g=!0,_}function o(){return h=e(c,d),t.dependsOnOwnProps&&(f=t(i,d)),_=n(h,f,d)}function s(){return e.dependsOnOwnProps&&(h=e(c,d)),t.dependsOnOwnProps&&(f=t(i,d)),_=n(h,f,d)}function l(){var t=e(c,d),i=!A(t,h);return h=t,i&&(_=n(h,f,d)),_}function u(e,t){var n=!m(t,d),i=!p(e,c);return c=e,d=t,n&&i?o():n?s():i?l():_}var c,d,h,f,_,p=r.areStatesEqual,m=r.areOwnPropsEqual,A=r.areStatePropsEqual,g=!1;return function(e,t){return g?u(e,t):a(e,t)}}function a(e,t){var n=t.initMapStateToProps,a=t.initMapDispatchToProps,o=t.initMergeProps,l=(0,s.default)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),u=n(e,l),c=a(e,l),d=o(e,l),h=l.pure?r:i;return h(u,c,d,e,l)}var o=n(47);t.__esModule=!0,t.impureFinalPropsSelectorFactory=i,t.pureFinalPropsSelectorFactory=r,t.default=a;var s=o(n(163));o(n(648))},function(e,t,n){"use strict";function i(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||(0,o.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function r(e,t,n,r){i(e,"mapStateToProps",r),i(t,"mapDispatchToProps",r),i(n,"mergeProps",r)}var a=n(47);t.__esModule=!0,t.default=r;var o=a(n(370))},function(e,t,n){"use strict";function i(){var e=(0,r.useStore)();return e.dispatch}t.__esModule=!0,t.useDispatch=i;var r=n(366)},function(e,t,n){"use strict";function i(e,t){void 0===t&&(t=c),(0,o.default)(e,"You must pass a selector to useSelectors");var n,i=(0,s.useReduxContext)(),r=i.store,d=i.subscription,h=(0,a.useReducer)(function(e){return e+1},0),f=h[1],_=(0,a.useMemo)(function(){return new l.default(r,d)},[r,d]),p=(0,a.useRef)(),m=(0,a.useRef)(),A=(0,a.useRef)();try{n=e!==m.current||p.current?e(r.getState()):A.current}catch(e){var g="An error occured while selecting the store state: "+e.message+".";throw p.current&&(g+="\nThe error may be correlated with this previous error:\n"+p.current.stack+"\n\nOriginal stack trace:"),new Error(g)}return u(function(){m.current=e,A.current=n,p.current=void 0}),u(function(){function e(){try{var e=m.current(r.getState());if(t(e,A.current))return;A.current=e}catch(e){p.current=e}f({})}return _.onStateChange=e,_.trySubscribe(),e(),function(){return _.tryUnsubscribe()}},[r,_]),n}var r=n(47);t.__esModule=!0,t.useSelector=i;var a=n(16),o=r(n(273)),s=n(365),l=r(n(272)),u="undefined"!=typeof window?a.useLayoutEffect:a.useEffect,c=function(e,t){return e===t}},function(e,t){"use strict";function n(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";t.__esModule=!0,t.unstable_batchedUpdates=void 0;var i=n(359);t.unstable_batchedUpdates=i.unstable_batchedUpdates},function(e,t,n){"use strict";function i(){}function r(){}var a=n(655);r.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,r,o){if(o!==a){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){e.exports=n(653)()},634,function(e,t,n){/** @license React v16.8.6
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";function i(e,t,n,i,r,a,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,r,a,o,s],u=0;e=Error(t.replace(/%s/g,function(){return l[u++]})),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function r(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);i(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function a(e,t,n){this.props=e,this.context=t,this.refs=N,this.updater=n||O}function o(){}function s(e,t,n){this.props=e,this.context=t,this.refs=N,this.updater=n||O}function l(e,t,n){var i=void 0,r={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)H.call(t,i)&&!G.hasOwnProperty(i)&&(r[i]=t[i]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===r[i]&&(r[i]=s[i]);return{$$typeof:w,type:e,key:a,ref:o,props:r,_owner:U.current}}function u(e,t){return{$$typeof:w,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function c(e){return"object"==typeof e&&null!==e&&e.$$typeof===w}function d(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function h(e,t,n,i){if(Q.length){var r=Q.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function f(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>Q.length&&Q.push(e)}function _(e,t,n,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var o=!1;if(null===e)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case w:case S:o=!0}}if(o)return n(i,e,""===t?"."+m(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){a=e[s];var l=t+m(a,s);o+=_(a,l,n,i)}else if(null===e||"object"!=typeof e?l=null:(l=B&&e[B]||e["@@iterator"],l="function"==typeof l?l:null),"function"==typeof l)for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=t+m(a,s++),o+=_(a,l,n,i);else"object"===a&&(n=""+e,r("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return o}function p(e,t,n){return null==e?0:_(e,"",t,n)}function m(e,t){return"object"==typeof e&&null!==e&&null!=e.key?d(e.key):t.toString(36)}function A(e,t){e.func.call(e.context,t,e.count++)}function g(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?v(e,i,n,function(e){return e}):null!=e&&(c(e)&&(e=u(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(z,"$&/")+"/")+n)),i.push(e))}function v(e,t,n,i,r){var a="";null!=n&&(a=(""+n).replace(z,"$&/")+"/"),t=h(t,a,i,r),p(e,g,t),f(t)}function y(){var e=F.current;return null===e?r("321"):void 0,e}var b=n(188),E="function"==typeof Symbol&&Symbol.for,w=E?Symbol.for("react.element"):60103,S=E?Symbol.for("react.portal"):60106,T=E?Symbol.for("react.fragment"):60107,x=E?Symbol.for("react.strict_mode"):60108,C=E?Symbol.for("react.profiler"):60114,M=E?Symbol.for("react.provider"):60109,P=E?Symbol.for("react.context"):60110,I=E?Symbol.for("react.concurrent_mode"):60111,R=E?Symbol.for("react.forward_ref"):60112,k=E?Symbol.for("react.suspense"):60113,D=E?Symbol.for("react.memo"):60115,V=E?Symbol.for("react.lazy"):60116,B="function"==typeof Symbol&&Symbol.iterator,O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N={};a.prototype.isReactComponent={},a.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?r("85"):void 0,this.updater.enqueueSetState(this,e,t,"setState")},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=a.prototype;var L=s.prototype=new o;L.constructor=s,b(L,a.prototype),L.isPureReactComponent=!0;var F={current:null},U={current:null},H=Object.prototype.hasOwnProperty,G={key:!0,ref:!0,__self:!0,__source:!0},z=/\/+/g,Q=[],W={Children:{map:function(e,t,n){if(null==e)return e;var i=[];return v(e,i,null,t,n),i},forEach:function(e,t,n){return null==e?e:(t=h(null,null,t,n),p(e,A,t),void f(t))},count:function(e){return p(e,function(){return null},null)},toArray:function(e){var t=[];return v(e,t,null,function(e){return e}),t},only:function(e){return c(e)?void 0:r("143"),e}},createRef:function(){return{current:null}},Component:a,PureComponent:s,createContext:function(e,t){return void 0===t&&(t=null),e={$$typeof:P,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:M,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:R,render:e}},lazy:function(e){return{$$typeof:V,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:D,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return y().useCallback(e,t)},useContext:function(e,t){return y().useContext(e,t)},useEffect:function(e,t){return y().useEffect(e,t)},useImperativeHandle:function(e,t,n){return y().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return y().useLayoutEffect(e,t)},useMemo:function(e,t){return y().useMemo(e,t)},useReducer:function(e,t,n){return y().useReducer(e,t,n)},useRef:function(e){return y().useRef(e)},useState:function(e){return y().useState(e)},Fragment:T,StrictMode:x,Suspense:k,createElement:l,cloneElement:function(e,t,n){null===e||void 0===e?r("267",e):void 0;var i=void 0,a=b({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,l=U.current),void 0!==t.key&&(o=""+t.key);var u=void 0;e.type&&e.type.defaultProps&&(u=e.type.defaultProps);for(i in t)H.call(t,i)&&!G.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==u?u[i]:t[i])}if(i=arguments.length-2,1===i)a.children=n;else if(1<i){u=Array(i);for(var c=0;c<i;c++)u[c]=arguments[c+2];a.children=u}return{$$typeof:w,type:e.type,key:o,ref:s,props:a,_owner:l}},createFactory:function(e){var t=l.bind(null,e);return t.type=e,t},isValidElement:c,version:"16.8.6",unstable_ConcurrentMode:I,unstable_Profiler:C,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:F,ReactCurrentOwner:U,assign:b}},j={default:W},X=j&&W||j;e.exports=X.default||X},function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,i=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,i,e):t(r)}}}}t.__esModule=!0;var i=n();i.withExtraArgument=n,t.default=i},function(e,t,n){(function(e,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(659),s=r(o);a="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:i;var l=(0,s.default)(a);t.default=l}).call(t,function(){return this}(),n(279)(e))},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e,t){return e===t}function i(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var i=t.length,r=0;r<i;r++)if(!e(t[r],n[r]))return!1;return!0}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=null,a=null;return function(){return i(t,r,arguments)||(a=e.apply(null,arguments)),r=arguments,a}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+n+"]"))}return t}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];var s=0,l=i.pop(),u=a(i),c=e.apply(void 0,[function(){return s++,l.apply(null,arguments)}].concat(n)),d=r(function(){for(var e=[],t=u.length,n=0;n<t;n++)e.push(u[n].apply(null,arguments));return c.apply(null,e)});return d.resultFunc=l,d.recomputations=function(){return s},d.resetRecomputations=function(){return s=0},d}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce(function(e,t,i){return e[n[i]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=r,t.createSelectorCreator=o,t.createStructuredSelector=s;var l=t.createSelector=o(r)},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){function n(){a&&(a=!1,e()),o&&r()}function i(){_(n)}function r(){var e=Date.now();if(a){if(e-s<p)return;o=!0}else a=!0,o=!1,setTimeout(i,t);s=e}var a=!1,o=!1,s=0;return r}function n(e){return parseFloat(e)||0}function i(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.reduce(function(t,i){var r=e["border-"+i+"-width"];return t+n(r)},0)}function r(e){for(var t=["top","right","bottom","left"],i={},r=0,a=t;r<a.length;r++){var o=a[r],s=e["padding-"+o];i[o]=n(s)}return i}function a(e){var t=e.getBBox();return c(0,0,t.width,t.height)}function o(e){var t=e.clientWidth,a=e.clientHeight;if(!t&&!a)return E;var o=b(e).getComputedStyle(e),l=r(o),u=l.left+l.right,d=l.top+l.bottom,h=n(o.width),f=n(o.height);if("border-box"===o.boxSizing&&(Math.round(h+u)!==t&&(h-=i(o,"left","right")+u),Math.round(f+d)!==a&&(f-=i(o,"top","bottom")+d)),!s(e)){var _=Math.round(h+u)-t,p=Math.round(f+d)-a;1!==Math.abs(_)&&(h-=_),1!==Math.abs(p)&&(f-=p)}return c(l.left,l.top,h,f)}function s(e){return e===b(e).document.documentElement}function l(e){return h?w(e)?a(e):o(e):E}function u(e){var t=e.x,n=e.y,i=e.width,r=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return y(o,{x:t,y:n,width:i,height:r,top:n,right:t+i,bottom:r+n,left:t}),o}function c(e,t,n,i){return{x:e,y:t,width:n,height:i}}var d=function(){function e(e,t){var n=-1;return e.some(function(e,i){return e[0]===t&&(n=i,!0)}),n}return"undefined"!=typeof Map?Map:function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),h="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,f=function(){return"undefined"!=typeof t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")()}(),_=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(f):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),p=2,m=20,A=["top","right","bottom","left","width","height","size","weight"],g="undefined"!=typeof MutationObserver,v=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=e(this.refresh.bind(this),m)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},t.prototype.connect_=function(){h&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),g?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){h&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,i=A.some(function(e){return!!~n.indexOf(e)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),y=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},b=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||f},E=c(0,0,0,0),w=function(){return"undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof b(e).SVGGraphicsElement}:function(e){return e instanceof b(e).SVGElement&&"function"==typeof e.getBBox}}(),S=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=c(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=l(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),T=function(){function e(e,t){var n=u(t);y(this,{target:e,contentRect:n})}return e}(),x=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new d,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof b(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new S(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof b(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new T(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),C="undefined"!=typeof WeakMap?new WeakMap:new d,M=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=v.getInstance(),i=new x(t,n,this);C.set(this,i)}return e}();["observe","unobserve","disconnect"].forEach(function(e){M.prototype[e]=function(){var t;return(t=C.get(this))[e].apply(t,arguments)}});var P=function(){return"undefined"!=typeof f.ResizeObserver?f.ResizeObserver:M}();return P})}).call(t,function(){return this}())},function(e,t){"use strict";function n(){return l="CSS"in window&&"function"==typeof CSS.supports?CSS.supports("top: env(safe-area-inset-top)")?"env":CSS.supports("top: constant(safe-area-inset-top)")?"constant":"":""}function i(){function e(e,t){var n=e.style;Object.keys(t).forEach(function(e){var i=t[e];n[e]=i})}function t(e){e?r.push(e):r.forEach(function(e){e()})}function i(n,i){var r=document.createElement("div"),s=document.createElement("div"),u=document.createElement("div"),d=document.createElement("div"),h=100,f=1e4,_={position:"absolute",width:h+"px",height:"200px",boxSizing:"border-box",overflow:"hidden",paddingBottom:l+"(safe-area-inset-"+i+")"};e(r,_),e(s,_),e(u,{transition:"0s",animation:"none",width:"400px",height:"400px"}),e(d,{transition:"0s",animation:"none",width:"250%",height:"250%"}),r.appendChild(u),s.appendChild(d),n.appendChild(r),n.appendChild(s),t(function(){function e(){this.scrollTop!==(this===r?t:n)&&(r.scrollTop=s.scrollTop=f,t=r.scrollTop,n=s.scrollTop,a(i))}r.scrollTop=s.scrollTop=f;var t=r.scrollTop,n=s.scrollTop;r.addEventListener("scroll",e,o),s.addEventListener("scroll",e,o)});var p=getComputedStyle(r);Object.defineProperty(c,i,{configurable:!0,get:function(){return parseFloat(p.paddingBottom)}})}if(l="string"==typeof l?l:n(),!l)return void u.forEach(function(e){c[e]=0});var r=[],o=!1;try{var d=Object.defineProperty({},"passive",{get:function(){o={passive:!0}}});window.addEventListener("test",null,d)}catch(e){}var h=document.createElement("div");e(h,{position:"absolute",left:"0",top:"0",width:"0",height:"0",zIndex:"-1",overflow:"hidden",visibility:"hidden"}),u.forEach(function(e){i(h,e)}),document.body.appendChild(h),t(),s=!0}function r(e){return s||i(),c[e]}function a(e){d.length||setTimeout(function(){var e={};d.forEach(function(t){e[t]=c[t]}),d.length=0,h.forEach(function(t){t(e)})},0),d.push(e)}function o(e){n()&&(s||i(),"function"==typeof e&&h.push(e))}var s,l,u=["top","left","right","bottom"],c={},d=[],h=[],f={get support(){return 0!=("string"==typeof l?l:n()).length},get top(){return r("top")},get left(){return r("left")},get right(){return r("right")},get bottom(){return r("bottom")},onChange:o};e.exports=f},function(e,t){(function(e){/** @license React v0.13.6
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";function n(){if(!_){var e=u.expirationTime;p?w():p=!0,E(a,e)}}function i(){var e=u,t=u.next;if(u===t)u=null;else{var i=u.previous;u=i.next=t,t.previous=i}e.next=e.previous=null,i=e.callback,t=e.expirationTime,e=e.priorityLevel;var r=d,a=f;d=e,f=t;try{var o=i()}finally{d=r,f=a}if("function"==typeof o)if(o={callback:o,priorityLevel:e,expirationTime:t,next:null,previous:null},null===u)u=o.next=o.previous=o;else{i=null,e=u;do{if(e.expirationTime>=t){i=e;break}e=e.next}while(e!==u);null===i?i=u:i===u&&(u=o,n()),t=i.previous,t.next=i.previous=o,o.next=i,o.previous=t}}function r(){if(-1===h&&null!==u&&1===u.priorityLevel){_=!0;try{do i();while(null!==u&&1===u.priorityLevel)}finally{_=!1,null!==u?n():p=!1}}}function a(e){_=!0;var a=c;c=e;try{if(e)for(;null!==u;){var o=t.unstable_now();if(!(u.expirationTime<=o))break;do i();while(null!==u&&u.expirationTime<=o)}else if(null!==u)do i();while(null!==u&&!S())}finally{_=!1,c=a,null!==u?n():p=!1,r()}}function o(e){s=v(function(t){g(l),e(t)}),l=A(function(){y(s),e(t.unstable_now())},100)}Object.defineProperty(t,"__esModule",{value:!0});var s,l,u=null,c=!1,d=3,h=-1,f=-1,_=!1,p=!1,m=Date,A="function"==typeof setTimeout?setTimeout:void 0,g="function"==typeof clearTimeout?clearTimeout:void 0,v="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,y="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;if("object"==typeof performance&&"function"==typeof performance.now){var b=performance;t.unstable_now=function(){return b.now()}}else t.unstable_now=function(){return m.now()};var E,w,S,T=null;if("undefined"!=typeof window?T=window:"undefined"!=typeof e&&(T=e),T&&T._schedMock){var x=T._schedMock;E=x[0],w=x[1],S=x[2],t.unstable_now=x[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var C=null,M=function(e){if(null!==C)try{C(e)}finally{C=null}};E=function(e){null!==C?setTimeout(E,0,e):(C=e,setTimeout(M,0,!1))},w=function(){C=null},S=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof v&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var P=null,I=!1,R=-1,k=!1,D=!1,V=0,B=33,O=33;S=function(){return V<=t.unstable_now()};var N=new MessageChannel,L=N.port2;N.port1.onmessage=function(){I=!1;var e=P,n=R;P=null,R=-1;var i=t.unstable_now(),r=!1;if(0>=V-i){if(!(-1!==n&&n<=i))return k||(k=!0,o(F)),P=e,void(R=n);r=!0}if(null!==e){D=!0;try{e(r)}finally{D=!1}}};var F=function(e){if(null!==P){o(F);var t=e-V+O;t<O&&B<O?(8>t&&(t=8),O=t<B?B:t):B=t,V=e+O,I||(I=!0,L.postMessage(void 0))}else k=!1};E=function(e,t){P=e,R=t,D||0>t?L.postMessage(void 0):k||(k=!0,o(F))},w=function(){P=null,I=!1,R=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=d,a=h;d=e,h=t.unstable_now();try{return n()}finally{d=i,h=a,r()}},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var n=3;break;default:n=d}var i=d,a=h;d=n,h=t.unstable_now();try{return e()}finally{d=i,h=a,r()}},t.unstable_scheduleCallback=function(e,i){var r=-1!==h?h:t.unstable_now();if("object"==typeof i&&null!==i&&"number"==typeof i.timeout)i=r+i.timeout;else switch(d){case 1:i=r+-1;break;case 2:i=r+250;break;case 5:i=r+1073741823;break;case 4:i=r+1e4;break;default:i=r+5e3}if(e={callback:e,priorityLevel:d,expirationTime:i,next:null,previous:null},null===u)u=e.next=e.previous=e,n();else{r=null;var a=u;do{if(a.expirationTime>i){r=a;break}a=a.next}while(a!==u);null===r?r=u:r===u&&(u=e,n()),i=r.previous,i.next=r.previous=e,e.next=r,e.previous=i}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)u=null;else{e===u&&(u=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=d;return function(){var i=d,a=h;d=n,h=t.unstable_now();try{return e.apply(this,arguments)}finally{d=i,h=a,r()}}},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_shouldYield=function(){return!c&&(null!==u&&u.expirationTime<f||S())},t.unstable_continueExecution=function(){null!==u&&n()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return u}}).call(t,function(){return this}())},function(e,t,n){"use strict";e.exports=n(663)},function(e,t,n){"use strict";var i=n(625),r=Array.prototype.concat,a=Array.prototype.slice,o=e.exports=function(e){for(var t=[],n=0,o=e.length;n<o;n++){var s=e[n];i(s)?t=r.call(t,a.call(s)):t.push(s)}return t};o.wrap=function(e){return function(){return e(o(arguments))}}},,function(e,t,n){var i=n(601);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(602);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(603);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(604);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(605);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(606);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(607);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(608);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(609);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(610);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(611);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(612);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(613);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(614);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(615);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(616);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(617);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(618);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(619);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){var i=n(620);"string"==typeof i&&(i=[[e.id,i,""]]);n(23)(i,{});i.locals&&(e.exports=i.locals)},function(e,t){!function(t,n){"undefined"!=typeof e&&e.exports?e.exports=n():t.Swipe=n()}(this,function(){"use strict";return function(e,t){function n(){p=v.children,g=p.length,S=!(p.length<2)&&t.continuous,_.transitions&&S&&p.length<3&&(v.appendChild(p[0].cloneNode(!0)),v.appendChild(v.children[1].cloneNode(!0)),p=v.children),m=new Array(p.length),A=Math.round(e.getBoundingClientRect().width||e.offsetWidth),v.style.width=p.length*A+"px";for(var n=p.length;n--;){var i=p[n];i.style.width=A+"px",i.setAttribute("data-index",n),_.transitions&&(i.style.left=n*-A+"px",s(n,E>n?-A:E<n?A:0,0))}S&&_.transitions&&(s(a(E-1),-A,0),s(a(E+1),A,0)),_.transitions||(v.style.left=E*-A+"px"),e.style.visibility="visible"}function i(){S?o(E-1):E&&o(E-1)}function r(){S?o(E+1):E<p.length-1&&o(E+1)}function a(e){return(p.length+e%p.length)%p.length}function o(e,n){if(E!=e){if(_.transitions){var i=Math.abs(E-e)/(E-e);if(S){var r=i;i=-m[a(e)]/A,i!==r&&(e=-i*p.length+e)}for(var o=Math.abs(E-e)-1;o--;)s(a((e>E?e:E)-o-1),A*i,0);e=a(e),s(E,A*i,n||w),s(e,0,n||w),S&&s(a(e-i),-(A*i),0)}else e=a(e),u(E*-A,e*-A,n||w);E=e,f(t.callback&&t.callback(E,p[E]))}}function s(e,t,n){l(e,t,n),m[e]=t}function l(e,t,n){var i=p[e],r=i&&i.style;r&&(r.webkitTransitionDuration=r.MozTransitionDuration=r.msTransitionDuration=r.OTransitionDuration=r.transitionDuration=n+"ms",r.webkitTransform="translate("+t+"px,0)translateZ(0)",r.msTransform=r.MozTransform=r.OTransform="translateX("+t+"px)")}function u(e,n,i){if(!i)return void(v.style.left=n+"px");var r=+new Date,a=setInterval(function(){var o=+new Date-r;return o>i?(v.style.left=n+"px",T&&c(),t.transitionEnd&&t.transitionEnd.call(event,E,p[E]),void clearInterval(a)):void(v.style.left=(n-e)*(Math.floor(o/i*100)/100)+e+"px")},4)}function c(){clearTimeout(y),y=setTimeout(r,T)}function d(){T=0,clearTimeout(y)}var h=function(){},f=function(e){setTimeout(e||h,0)},_={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,transitions:function(e){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in t)if(void 0!==e.style[t[n]])return!0;return!1}(document.createElement("swipe"))};if(e){var p,m,A,g,v=e.children[0];t=t||{};var y,b,E=parseInt(t.startSlide,10)||0,w=t.speed||300,S=t.continuous=void 0===t.continuous||t.continuous,T=t.auto||0,x={},C={},M={handleEvent:function(e){switch(e.type){case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":f(this.end(e));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":f(this.transitionEnd(e));break;case"resize":f(n)}t.stopPropagation&&e.stopPropagation()},start:function(e){var t=e.touches[0];x={x:t.pageX,y:t.pageY,time:+new Date},b=void 0,C={},v.addEventListener("touchmove",this,!1),v.addEventListener("touchend",this,!1)},move:function(e){if(!(e.touches.length>1||e.scale&&1!==e.scale||t.disableScroll)){var n=e.touches[0];C={x:n.pageX-x.x,y:n.pageY-x.y},"undefined"==typeof b&&(b=!!(b||Math.abs(C.x)<Math.abs(C.y))),b||(e.preventDefault(),d(),S?(l(a(E-1),C.x+m[a(E-1)],0),l(E,C.x+m[E],0),l(a(E+1),C.x+m[a(E+1)],0)):(C.x=C.x/(!E&&C.x>0||E==p.length-1&&C.x<0?Math.abs(C.x)/A+1:1),l(E-1,C.x+m[E-1],0),l(E,C.x+m[E],0),l(E+1,C.x+m[E+1],0)),t.swiping&&t.swiping(-C.x/A))}},end:function(e){var n=+new Date-x.time,i=Number(n)<250&&Math.abs(C.x)>20||Math.abs(C.x)>A/2,r=!E&&C.x>0||E==p.length-1&&C.x<0;S&&(r=!1);var o=C.x<0;b||(i&&!r?(o?(S?(s(a(E-1),-A,0),s(a(E+2),A,0)):s(E-1,-A,0),s(E,m[E]-A,w),s(a(E+1),m[a(E+1)]-A,w),E=a(E+1)):(S?(s(a(E+1),A,0),s(a(E-2),-A,0)):s(E+1,A,0),s(E,m[E]+A,w),s(a(E-1),m[a(E-1)]+A,w),E=a(E-1)),t.callback&&t.callback(E,p[E])):S?(s(a(E-1),-A,w),s(E,0,w),s(a(E+1),A,w)):(s(E-1,-A,w),s(E,0,w),s(E+1,A,w))),v.removeEventListener("touchmove",M,!1),v.removeEventListener("touchend",M,!1),v.removeEventListener("touchforcechange",function(){},!1)},transitionEnd:function(e){parseInt(e.target.getAttribute("data-index"),10)==E&&(T&&c(),t.transitionEnd&&t.transitionEnd.call(e,E,p[E]))}};return n(),T&&c(),_.addEventListener?(_.touch&&(v.addEventListener("touchstart",M,!1),v.addEventListener("touchforcechange",function(){},!1)),_.transitions&&(v.addEventListener("webkitTransitionEnd",M,!1),v.addEventListener("msTransitionEnd",M,!1),v.addEventListener("oTransitionEnd",M,!1),v.addEventListener("otransitionend",M,!1),v.addEventListener("transitionend",M,!1)),window.addEventListener("resize",M,!1)):window.onresize=function(){n()},{setup:function(){n()},slide:function(e,t){d(),o(e,t)},prev:function(){d(),i()},next:function(){d(),r()},stop:function(){d()},getPos:function(){return E},getNumSlides:function(){return g},kill:function(){d(),v.style.width="",v.style.left="";for(var e=p.length;e--;){var t=p[e];t.style.width="",t.style.left="",_.transitions&&l(e,0,0)}_.addEventListener?(v.removeEventListener("touchstart",M,!1),v.removeEventListener("webkitTransitionEnd",M,!1),v.removeEventListener("msTransitionEnd",M,!1),v.removeEventListener("oTransitionEnd",M,!1),v.removeEventListener("otransitionend",M,!1),v.removeEventListener("transitionend",M,!1),window.removeEventListener("resize",M,!1)):window.onresize=null}}}}})},,688,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAGFBMVEUAAABHcEwAAADU1NQAAADk5OSwsLD///+3s9gbAAAAB3RSTlNNAB22OsyVHgcjWwAABZdJREFUeNrlnU+SozwMxV+AnnVMcQBI5QC9yxZSHGB2vZ07TPXH9WfR+d8GLFn2o+vTMkXFP73IsQFZgtPa4TCOAIBqHA8H9ddAN/ixx4tV50MugPr76FeGLgNAPWLBxi4xQH3EiklVkAGsDg8A52QAdY8gq7o0AEcE2zkBQKj7UhGQZHwAnS1AA7ENlgBHKOxsB6AaP5AA6cYPI0DC8YMIkHL8EAIkiH/RXEDa8dcJVgBqRFsXBdDHA1QxAC0MrNADHGFiZy1ADSPrlAC9FUClA2hhZoUGoIGhDQqA3hKgkgO0MLVCClDD2DohQG8NUMkAGpjbIAJAApMAtCkAinCAGkmsCwZo0wAUoQCJBPBLgHwC+CVARgG8EiCjAF4JkFMAnwTIKYBPAmQVwCMBsgrgkQA5VoGlFeH1g31qgN0KQJ8aoFoGaJDchkWANj1AsQRQI4N1CwD7HAC7BYA+B0A1D9Agiw2zAG0egGIWAJlsDqDJBTDMALS5AAo/QI1s1nkBmnwAgxegzQdQeAGQ0XwATU6AwQPQ5gQoPAAA5TcA5Rd4mIjIuhJ71mRkXYk9azLy/w0+/wbghMB9IoIxCR8nIjghcA8CkELgFgQghcAtCEAKgVsQgBQCtyAAKwSuQQBWCFyDAKwQuAYBWCFwDQIQ9gJPewLQYvAShSDsBZ72BKDF4CUKQYvBSxRCFoN/jK65RyFEMfj2d/2a8lMUhRD9D35M76vXnKbfkv9CSCbB2zStSlBO06dkGkAyCT6maVWC0zQFS1BcAPpwAVYlKKcpXILqAiARYE2C0zQJJPgCqCUCrEhQfl3zGT4NED4JvgRYluB0ueZ38DRA8CT4dfnuJQnK6zX/BU8DhE+Cq3cLEgRc8joNBADlqgRlgEgegOClaNU/qQConINgKVpzUCwA4Bwk26EVD8UCAJ2DZEu+7KJCAAwygGUfFQJgcBBtCJec1AiAnYNsQ7jgpUYAFFKAeTdVAqBwEO5IZ/1UCYBKDDDnqE4AVA7S27IZT3UCAA7S2zK/q0oBgE4M4PdVK4AGwOesWgB0kD8c8XirFgCDAuC7u3oBMEBxa/7NX70A2GkAXh2OEEAH8OpxhADYQfNw4tnlGAFQqACefY4RQAvw6HSUAFqAR6+jBEAB3fOhu9txAqBSAtz9/ogSQA9wczxOAD3AXYIoAVCpH/KVJgLE2MlCgBgryQI8S/DOACjJAjxK8M4BeLuO/4n/pwL0GGDPAqv/gd5CAL0E+sXIaC3YwGr4U/cDdjuiNk6A2D3hBnbFP/O+wPLOaB8pQKQEG7g7pj8faKIFiJJgA8+I6ngBYiTYwHNC+pNSZyBAhATix/XGT8s38b6gtRBAK8Em3hntTQRQSrATvrg0f2+4iTentY0AOgk60ev7BG/PZQkM9vkDFTuDYiM5JHsrAeQS7CSJTCnyiAZRKleCTKpOlMyWIJdMmM5nnk1XCRMazfMJC2lKp3VG5U6a1GqdUzqI03qNs2o7cWKzcV6xIrX7j9E1t0mwkeT2hgMwbOeAA/2IB/+QC+WMx25LB53oR73oh934x/3oBx7pRz7ph175x37pB5/pR7/ph9/5x//pBRDoJSD4RTDoZUDohVD4pWDoxXDo5YDoBZH4JaHoRbH4ZcHohdHopeH4xfHo5QHpBRL5JSLpRTL5ZULphVL5pWLpxXLp5YL5BZPpJaP5RbPpZcP5hdPppeP5xfPp7QP4DRT4LSToTTT4bUTojVSsf4Sf2EyH3k6I31CJ31KK3lSL31aM31iN31ounmCt2ebm2wvyGyzyW0zym2zy24zyG63yW83Km+1Wxs12+e2GHb3hsuO3nHb0ptsupO14kbTt+CrCOXXj9S+EmVjI03reOefc4TtDdT6ovkoH4Jxzh8M49gDQj2fl4M459w9D931EQLreJgAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAAD/BAMAAADMJh35AAAAD1BMVEVHcEz///////////////8T4DEaAAAABHRSTlMAM/elaP8dTgAAA2RJREFUeNrt3cmRGzEMhWGpJgFXexKQSgH0QQHYHuYf0xxm09ILQTzgPxi461H8tPVCQodDVVVVVVVVVVVVVVVVVVXVSh1/wWkvf5VP4HU2P+T6T0hwvLyZAVo76Z7A1JqV4NqajuB4ae3NDCAkmFqzElxb0xEcL60ZCV5aExJMH2mzFUBF8AFgIvgEEBFMX2mzFUBD8AVgIPgGkBBMP2mzFUBB8APQTXADICCYbtNmK4Cf4Bagk+AOwE0w3afNVgAvwT1AF8EDgJNgekybrQA+gkeADoLfrQkJpue0PYLX54eMEzwDtPZn4DEnIcD+bCYdwdhkhASDc5ERjE5FRjA8ExHB+EREBI55SAg805AQuGYhIPBNQkDgnIObwDsFN4F7Bs4A/2voTBC8i10Ris+xK0PyTeYI0XyXO1JEv2bDMarf8+Ec2RHNYJDumG4wSXhUOxSlPK4fyhICDIVJT2xG0qQAA3FagIE8MYA5UA1gTpQDGCP1AMbMAABTaASAKTUEwBAbA2DIDQLoDo4C6E4OA+iMjgPozA4E6AqPBOhKDwXoiI8F6MgPBtgdIBpgd4RwgJ0h4gF2xkgA2BwkA2BzlBSAjWFyADbGSQJYHSgLYHWkNICVofIAVggSAZYJEgEWCRaeQBzAIkEmwPK7IBOgiyASoIcgFqCDIBZgnyAaYJcgGmCPIB5ghyAeYJsgA2CTIANgiyAHYIMgB2CdIAtglSALYI0gD2CFIA/gcDgsEJwTARZfg8xXYPElOJ9YgFQC+mOIfxHRX8X4jxH9c4wfkNCHZPhBKX1Yjp+Y0Kdm+MkpfXqOX6CgL9H0AIQSLACcMy/T4Rcq6Uu1+MVq+nI9fsOCvmWD37Sib9vhNy7pW7f4zWv69j2+gIFewoEvYqGX8eALmeilXPhiNno5H76gkV7SiS9qpZf14gub6aXd+OJ2enk/vsGB3uKBb3Kht/ngG53orV74Zjd6ux++4ZHe8olveqW3/eIbn+mt3/jmd3r7P94AgW4BgTfBoNuA4I1Q6FYweDMcuh0Q3hCJbgmFN8Wi24LhjdHw1nB4czy8PSDfIBFvEck3ycTbhPKNUvFWsXyzXLxdMN8wGW8ZzTfNxtuG843T8dbxfPN8/O8D+D9QqKqqqqqqqqqqqqqqqqr6b+odlQ6ePvk1zrQAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHN0eWxlPi5zdDB7b3BhY2l0eTouNTR9LnN0MXtmaWxsOiM0ZjRmNGZ9LnN0MntmaWxsOiNiN2I3Yjd9LnN0M3tmaWxsOiNlYWVhZWF9LnN0NHtmaWxsOiNmZmZ9PC9zdHlsZT48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIvPjxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik0yNTYgNjQuOEMxNDguNSA2NC44IDYxLjMgMTUyIDYxLjMgMjU5LjVTMTQ4LjUgNDU0LjMgMjU2IDQ1NC4zczE5NC43LTg3LjIgMTk0LjctMTk0LjdTMzYzLjUgNjQuOCAyNTYgNjQuOHptMCAzNzcuMmMtMTAwLjcgMC0xODIuNC04MS43LTE4Mi40LTE4Mi40UzE1NS4zIDc3LjEgMjU2IDc3LjFzMTgyLjQgODEuNyAxODIuNCAxODIuNFMzNTYuNyA0NDIgMjU2IDQ0MnoiLz48cGF0aCBjbGFzcz0ic3QzIiBkPSJNMjU2IDIyLjFsNTEuNiA1My40SDIwNC40eiIvPjxjaXJjbGUgY2xhc3M9InN0MyIgY3g9IjI1NiIgY3k9IjI1OS40IiByPSIyOC40Ii8+PC9zdmc+"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHN0eWxlPi5zdDB7b3BhY2l0eTouNTR9LnN0MXtmaWxsOiM0ZjRmNGZ9LnN0MntmaWxsOiNiN2I3Yjd9LnN0M3tmaWxsOiNlYWVhZWF9LnN0NHtmaWxsOiNmZmZ9PC9zdHlsZT48cGF0aCBjbGFzcz0ic3Q0IiBkPSJNMjU2IDk5LjNjLTY4LjEgMC0xMTguNCAzNS44LTE0NC40IDk0LjNsMTAxLjggNDUuMmM3LjQtMTYuMiAyMy43LTI3LjQgNDIuNy0yNy40IDE5IDAgMzUuMyAxMS4yIDQyLjcgMjcuNGwxMDEuOC00NS4yYy0yNi4yLTU4LjUtNzYuNS05NC4zLTE0NC42LTk0LjN6Ii8+PC9zdmc+"},function(e,t,n){e.exports=n.p+"370779ac4f6aaf13851f741e5b546333.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAAOVBMVEUAAAAAAAAAAADy8vIAAAAAAAAAAABHcEwAAAAAAABjY2PNzc2np6dKSkqKiorb29svLy+5ubn///8Dr2K9AAAAEnRSTlPMhmz8nw9JACi53vTr2eX31O9tMN5mAAAHkUlEQVR42u2dW2LrKgxFBQYEfiSp5z/Y+9HeNqepW4y1MQ9rArVWpS1BQBB3bpT7D1rrnNZKGRNCICIiCiEYo5TWzvmWAXinlfnweduCUTonB8rkuzK0y4zKRAEOwDq90/cnCtrZugH4dOe/IPhKAVinAolYUMBAIJT3hkQNxgACwCkCmHJ1APA6EMgCQA+o8NB/0UTpVBAFYHH//OcwsIUC8IoymfIFAvCGMprxhQHI674kAqor+OUTgWp1XwoBHVd+OtGOV4SjAFygUy24UwHk1z5xNaRqo18oDw4A8IEKsSN5kAzAKirIlM0NoJx//0cQ+LwANBVnOiOAEsRfqhykAHBUqLk8ABQVayoDAGuoYDMWDaA09T9cDaiR9E8WAqq9+h2th9SI/CVLIbUif6lSSA36v4tANAAbqCILVhqAr8r/HeWQ2vQ/ngA16n80AWrV/1gC1Jz+7VRCatf/OALUVP1P6AeoZf9jCFAj/X/yuoBaWP8dWRtS9ev/g/sDvwPw1ID5dAD1FsD4YkjNFoCnUpAKQFEjptIAOGrGXAoATw2ZTwBgWgJg9gPQ1JTpvQA8NWZ+H4A2OoCYboAar4B/1kLqIwG2k4D6SIDtJKAOKsCvlYB6SYCtJKDWW6C/2iFqeg0QsSagThRwUwepFwXc0kHqRgE3dJA66AF/7QeprwB4DQHqKwBeSyF1FgAvIUCd9ECbIUC9BcD3EKDeAuB7CFB3AfAtBKirEvBDL/AMwFInZjcA6F4A6J8BtLwM3F4U0kn7AI/xNk/3YVjXdRju03wbH+fsC9AJNXC5TcP6asN0W/JXQspdA8e3n5z/hPA2Zq6ElFUCl/k37z8YzBniQL8CyCCB47TG2QQPg/AKAC6B432Nt/uYSwYpUxf4mNZ9NmGrgvoOANwFzut+m7N0g5QjA8ZhTbFhzJADlKEJmNdUAwaB+ReALSj7/xHDBzoHCJ0By7AesWEB5wCBa8C4HjWUEKh/AKC6oNt63G7QXoig6wAJ/2EE/BMAXbL/KAL6CYApNP+hOmC+AGCK4LLKGaQW2E8AkCL4GAQBDIh+wH0CgEjAfZW0O0oECCUB8yprM0gEiJm5aAHECWH4HwCiCxjEAQyYToAwGjiv8jZDVJAgC4FlRZh4LVQfAOQ1cIIAmBAqSAgNHFeMievgOwB5DbyDANwBKkgADUQFgHwIOGYC9IETDIC0Cmhmki8Cy4qzRbwMkHwRmIEAZvEyQPLbYQMQgHA7GJhJfDNgXJEmLIOWSbwKvkEBvEnXQRKvggMUgHAOOHkAy4q1RRyAcBtwAwOQ3SHW8gAmMIBJHIBwHwT2X1gElDiABxrA+pAGINsIjnAAop2AEQdwgwO4SQOQ7YRnOADR5UAQBzDBAUxlA7jDAdylAdTUCIvXwQuAOIAVb7L7wheAvgFcGiBeBrsHUGEf0H0nKLsYqmwtcK0GxTdEKtsPuHaE5DdF62oEr11h+R9G6vpd4PplCPDjaFW/DXrAz+NV/TpsAQckajofECBHZCo6IWIgh6QqOiOkIMfkKjolpjEHJes5J+gwR2XrOSnqQYelqzkrjDouX8tpcQO7MFHJfQEFuzJTyY0Rh7s0VcedIQ+8NlfFrTHkxcka7g0a6NXZCm6Oauzl6fLvDjvs9fnyb49b8ACF0ucHGPgIjcInSGj8EJWyZ4j4DGN0Sp4iE7IMUip4jpDKM0qr3ElSLtMwtWJnidlc4/QKnSanMg5ULHKeoMs5UrPEiZI271DV4maKqtxjdUubKvs6VpfRg5WLmiv8NV8+52jtgiZLq5OGqxczW9yfN16/iOny5twHFs5/X8Cd/8TGqS9MbDyx0f0jK9czO90/tHQ9tdX9Y2vXc3vdP7h4PbnZ/aOr17O73T+8fD293f3j602/u/i8DNwEkPfhxbzmOAZAu92Q4TgAzeqgjwTQqg5qjgXQpg7+oIBbANrUQcfxAFrsBxXvAdBeEvycAJsA2qsEnvcBaK0SaN4LoK12yPB+AC0lQfAJAFqqhY5TALRTCxWnAWhFBgynAmijG9jqACIAtCGEntMBtCCEjo8AqL8f0nwMQO2lQPFRALbqUmDsYQBVE/jb/wgAFRfD8Lf/MQCqJRDjfxQA9lUSCJ6lAFRJIM7/SAAVEoj0PxZAdQRi/Y8GUJkSRunfPgBV9QMm2v8dACoisMP/PQCqWReoPT7tAlDH2lAzDkAN+wOOkQCKL4fR5S8VQOFSuEf+EgEULQR6vzcJAMoVAsd5ALAvMg2M51wAikwDneZJIoDiqkHwnBcA26LaQmU5NwBmV0wQBJfuxQEAbAtRAm35HABllAPjD7lwDMD5eXAk+kUAnJwHh6JfBgCzP60eKH/86wUAnIVAwn0hAGeoofEyXy4EIDcCKfcFAeRMBOXlvloQALPVGYpiOK78MADM1oEzwTgr+8XCAJjZ48IgaC/+ufIAmNlB1EA5xLdCAABSQUmHPhgAM1unhHIhwLyHAnjXg8OBYAB5nw8AM1uXDsFo4L8+F4D3SHBqJwWjnM/yaXkAfFDQyvwpC8Eoncn33AA+OTitlTImhHcaIYRgjFJau5yenwagMPsPI5m5ZeMd8yoAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAJ1BMVEVHcEz///////////////////////////////////////////////8NopmKAAAADHRSTlMAZkVZKxOW6qnLu3qgm20YAAAE/ElEQVR42u2duVIbQRCGhbTKmT1URk4kwLmWI9/lyCUbHsA5se0qO3FOQugqch8ZEW9gbGofyoDFJWlXmp7jW7vUmcsF/amn+59lNdPdaCxtaUJrHx2sb2wrpaLtrfWDw6Ff78d7G2rCtjaPvX32ae/3DEMv7lNVbs4Rqt27Rzia5/42KQ/dffx9tZDtDLmP7zIIe0rDNu2Hf0Np2ZblZWj3laaFVgmCVGlblLH+bRLI/NsjkPq3RdAW+78hGBL5b7kWcmVksan/fWVou2b+Xytje8UUgKVS6CsLFsr9v1FWTJwGTWXJev4VyIoe5cqa7YgqQFm0zLcETy0CVgHiSmgryzbkMlC0KwXKumX+NdhAkZvKgfXYAGiFoKWc2GBhgNQNQIRmgE4IUlcAIRyARQuh7w4ghAOwWAhylwAxsA3q7ggjtwC7/p5EhWLUVI5twNXgQpUYKOeWkSk4Pw1T9wARmoLz1HDkAyDhRGBs8ApUrUHuByAma6DydYGnFShfg5EvgIRdgVItCpQ3y9gVKFuDvj+AEHgYnP++pOUTYMDJYLkYpj4BIrQIZxdiyy/AgE2BWUmQ+gWI4BSYToKmb4AetxHM3g76vgFCcCOYtR00/QP0SBmalqLcP0DM5uBEFgI5+DwLAwIgY3PweRaOCICELYLnZZASABFcBE/LIGAAMrYInpbBiAFI2CJ4WgZ9BiC0UoUXBj9rowq71xbq0KQKz4sz8zo0eB5bK4rf5k9lK+Lf8PJTURQfxT++aiwDlzf+i6sLUyHIjQJgEILYVAZOir/21lAIpACdsf/ipyGANACn9wDFZyMlkupQ98F/cW2kRG2xBj3amQlAINagRxOqUWYghOMSvDdZKfYMAC6f+ReqUU/+QDYRAGEIBvKt4KSYNIkarYq3gs6Uf5EaJWKA02kAiRol0r2oO8O/RI1iKcD5LACBGkkB1mb6F6hRLNsMp0pQXIqhDOCyxL++GskASgOgH4JQ9GfJSVFummoUSQA6Ff511UgEcFoFoKlGkeCJrFvpX1eNBBE4rwbQVCP9CKzN8a+pRtoAFSUoKkVtgBc/bux76ae//d9vbpegshD1HwnqAZByANESoB4AfTHA1Zc7+yoGCA0Bfo3F4V8HyDmAeAkg+9PMHkBSD4AVDmBV9oLCHsBA9orGHkCvHgABB5DVA6DNAQxlL6vtAQhf11sDCOsCkFMAsfBLK2sAifDbe2sAA+EXl533Y/swBrj/9zuREGIHKB6/um1TAA+HSCiA+hxgwI9wrDAASX2O8eAHmfCjXPhhNv4434gtghoc6cQPteLHevGDzfzRbvxwO368H7/ggF/x4C+5tNgcrMFFJ/yqF3/ZDb/uh194xK988pde8Wu/+MVn/Oo3f/kdv/6PN0DwV4hxXZtgeGrEUtE1FG+EgreC8bMGVX1bc3YFatAQCW8J5WM/SOrdFgxvjMa3hnPeHG9u09wRmYIeHg0X6BpMt4jkm2TibUL5RqnuQrBow+AWJUK1aRfsKgs0ekbTLaP5ptl423C+cTreOp5vno+PD7A8QEEySiTAStBBHspG6uBjRPBBKvwoGUuVYDBMhx8nhA9UspAGhiOl+KFa/FgxfLAaP1qOH67HjxfkByzyIyb5IZsNfMxogx+0yo+abeDDdm+DMDcT2InHkaeZzyUlGW56G73NDt0ex+Fu7HgKjR1f2v9kfwD72759RsO3agAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAAPFBMVEUlJSUlJSUlJSUlJSUlJSWampolJSVHcEwlJSUlJSUlJSUlJSUlJSVCQkJUVFTy8vLb29u9vb10dHT///9yIxnfAAAAE3RSTlPmB5euYfPYAEXAJ3oU6ez++/juHWvCDgAABwxJREFUeNrt3cd24zAMBdDHEoItTtH//+ssMml2bFESCTZhPXOOcEMCULEEYg7hrdZBSuWcMQYAjDHOKSmD1tYL7uMBZ+ZBKoOVMEoGTgcWAGG1dNgUTmorhgCINmzM/YdCsLFrAHEg+R8Iok+AqBXyhFE69gaQL/v/UcwAPWRf0iA/gJUoFtK2DhC1Q9FwuZdBVgAvwRDSNwpgFZhC2fYAROm1f70TRFsAvOnnJMgCYNnTBwBnGwGok34ugsMAXqFiKF8ZIAZUjhBrAmiD6mF0NYC6qz/TPsCBzm/QSJgDLXE3gHdoKJznBtBoLDQrQFRoLlTkA7AGDYaxTABCotGQggOgrep3uBZijOW/fxtsBQhoPEJRgHa3/+5CgN6739F+iEHK3+5SiFHK395SmA5g0VHY/AAaXYXODdBZ/ukCGKT97x4IMGr+qQIYNv9EAYy4/7fUAQycf5LAKoCw6DjscYCu808QWAPwpm8A448BxM7zB0w8AiAcug8nDgBIDBByP0DAEBH2AlgMEnYfgDejADxqBRi6ACYUQoxdANcLIYYvACtlAMMXgJUycA9AYbBQYhNAwHARtgB4DBg+HWCkDrjWCzHYNaDN14cwQQd42AkwQwf46gRpABrDhk4BiGZcACMSAAIGjrAO4DF0+FUANTaAXAOwGDzsCoAbHcA9Bhh+AdwsAUy2AG6WAGZbANdLAOOfBT4+K8R0C+BqCWCyCnBTBTDfAvi9BDDPEPj3aTGmOQu4c0aAQW8FJZ8RfANETBTxDwA9E4D+A8DNBOBuASymCnsDIOcCkNcAEZNFvALQswHoKwA1G4D6DTDdDvjaA5h0B3ztAUy6A772AGbdAZ97ALPugM89gBmnoJ+zEIiIhJkR4ONWMSY8D/h1PoDh74jfj/AF4OYEcJ8ANZvg89tz3UaIuiXg8rK8XKoWAVQtAZeXZakoEP4DVCsB78tHvFcsAiAStfJ/Wj7jqdIRCCLUKwHf+VcTsESodiLwtvyMt1qnA6h1IvA7/0oCkgh1auDz63IdrxUGAkeEKjXwj/zrCAhCjZvCl5flr6gwEHhChSZwJ/8aApbAPwe+L/eDeyQKBPYm8LQ8CuaBQBK4m8Dj/LkFHIF4L4e9LWvBOhAYQmwsf2aBCM4u+Gf7rzsQeNjm8mcVsOA7Fbrb/msOBJoPYEP+jAIaXHPQ+7ItmEaiAKY56GnZGjwDgWQC2J4/k4AEy5MBb8ue4BgIFFyz+bMIOAaA5PZfYyBwMA3nzyBgigNsav/8A0FxgIP5Fxco/fd/X45HrRtntdp/9atEzeXfr8Dl6Sv2dILX7/9+6bgKND4KmxNgegA3N4A7AdTcAKoewMvvqAZQ7YrQ7/O852pXhMLcAOEE0HMDaKZbY80CWKabo80CeKbb480CRKYHJFoFMFyPyLQK4LgekmoVQHI9JtcqQOB6ULJVAMv1qGyrAJ7rYelWAQTX4/KNAji2H0w0CiDZfjLTKIBm+9FUowCW7WdzjQIIth9Otgng+H462yZA4PvxdJsAlu/n88+Xm7j6F7f/oPwT0/F8gcL5Co3zJSrna3TOFymdr9I6X6Z2vk7vfKGimP6VmtO/VPV8re70L1ae/tXa58vVp3+9/vmBhek/sTH9R1bOz+xM/6Gl81Nb039sbZZOqO9/cXL2Dy7OsQT07B9dFQ8AxPSf3RWzf3j5/PT29B9fH/2MwK8CjH2vPNA6QBz4VrERCQAjT0OaUgDGrYOK0gBGrYPGJwKMWgc1pQKMOQ86kQww5ibwlA4w4iYItAVADNcJlNgEQH6wcch42gYw2mmhpq0AY90okrQdYKRe6MQOgIHKwN0C8BhgnDJgaR/AKNNAoL0AYxRCSfsBRpiHlDgAMMDlIRPpCED3reBRA0gC6LwVGEtHAfoWWM0/AaDni6SacgD0K5CQfxKA0OPmnwTQ6UgYKB9AjwJp+acC9FcHNOUF6E0gNf90gL7mAUv5Ach2MxWb9Py3AJDv5CLZ6vy/F4BiF2fHLlIpABIdXCGRggoCtD8QBKKCAM2Xwi3lbydA06XQeSoP0HAh2Lj99wK0ug2M3pPLLoAm+6HyxAfQ4CWCIIgToLVa6PzePHYDkNDtVAItiB+AyKuud/9xAKIWFsG+4p8JgGL10ThEqglA5KuORdIfPf7DAES2Wj9w9vjRZwAgUYcgR/p5AIiEZidwB1pffgAi4iXIlX5GACLLNhYom++oMwJwdYTjlb8YAFEsvROcjnmPODMAEdmCy0Da7IebH4Ao6iLVQOX+4xcDKGFQJvtyAHkNZKnsiwIQkbDhcE10wYqSx1gUgIgo2rB7JahgY+njKw7wsRK03LgUnNRl//KsAB8K3gapVq+gGCWD9YLtsPgAvh20DlIq54wBAGOMc05JGbT+n7lgPJ5/AWhDeZywqLcAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABRAAD/4QMfaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0NSA3OS4xNjM0OTksIDIwMTgvMDgvMTMtMTY6NDA6MjIgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjREN0Q1NjBCM0ZGRjExRTk4OTZCRTU4QjcxNzQwN0YzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjREN0Q1NjBBM0ZGRjExRTk4OTZCRTU4QjcxNzQwN0YzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJDN0NEODc4QjBGRUFFNDI1MEU2MTA0RUQ1MTkzN0VBMCIgc3RSZWY6ZG9jdW1lbnRJRD0iQzdDRDg3OEIwRkVBRTQyNTBFNjEwNEVENTE5MzdFQTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAIBgYHBgUIBwcHCQkICgwUDQwLCwwZEhMPFB0aHx4dGhwcICQuJyAiLCMcHCg3KSwwMTQ0NB8nOT04MjwuMzQyAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wgARCACAAIADASIAAhEBAxEB/8QAHAAAAgIDAQEAAAAAAAAAAAAAAAQGBwIDBQgB/9oACAEBAAAAAL/A5sU4XO+dDvSnqgBrgsO1a8T7lsl8/wBoa6yjmnXKZRtjMV0bZDam0r+FL42l3AEKYy3zWyeZT6q/ftUAKc4jDNyxaDKqyO2wApbgsMznlcFRXo3oAHn5FlntakVFJjbYAUxEGmmmkFFeh6CADzeoy432o8mqteExAgdL72W+5LK4UUWse4AKWge9pqwZ/wCfU1V9/p7aLeZPjDLV9SGnK0V0Z+qww8uZss2BcRo8/wDMk8/kYHBhEfavRgBZcAA3tAAfF9OJlt35gf/EABkBAAIDAQAAAAAAAAAAAAAAAAACAQMEBf/aAAgBAhAAAAAERZtYFmM9eu+a4Ksj9gzoV5Y70584VVde5ecakofcmE6U85QAD//EABsBAAIDAQEBAAAAAAAAAAAAAAAEAwUGAgEH/9oACAEDEAAAADt1qSKsh6sekS9czHrSixb6uszDC65c7Lj5xMQGi1Pvy72bk1F0nh055y0tqBQAA//EADoQAAIBAwICBwQJAwUBAAAAAAECAwAEBQYREjEHEyAhQUJxECNRYRQiJDNSYnKRoRVUgTAyQ1Oiwf/aAAgBAQABPwDsZLPY/FAi4nHWeEa97Vfa8uHJWyt0iX8Un1jVzqTK3X3t/Nt8FPCP4p7qSQ7vIzH4sd6S5eM7o7Kfkdqt9R5W1+6v5tvgzcQ/mrHpAu41Ed7AkyfiQ8JrGagx2V2W3m2l/wCp+5u3LLHBE0srhI0G7Mx2ArOa0lmLQY0mKLkZvM3p8KkmLsWZiSe8kmjJRkoy11ldZQkpJSpBBII5EVgtbz2pWDIlpoeQl5utQTxXMKTQyLJG43VlO4PYmljgieWVwkaDdmPgK1JqSTLzmKIlLND9VfxfM00lNJQZpHCIpZ2OwVRuSaxmhr26Akv5RaofIBxPVppHC2i99r17finPFU+l8LOuzY+JPnHuprI6AmQl8bdBx4RTdx/er6wvcXMIr23eFjyJ5N6GllpZK03qWbDXARy0lm595H/9FW88V1bpNA4eNxxKw9utc8Zrg4y3f3UR96R5mp3p3qGOW7uYraFeKWVwiD5msHpaxwvDKAZrvbYzP4fpHh2cxi4sxi5rOQDdhvGx8j+BqVZba4kgmUrLGxR1+BFLJSSVojUH0S7GNuX+zzH3ZPkf2Z/J/wBJw81yCOs24Y/mxqWQszMxJYnck07071oONJ9VIXG/VQu6+vb1qBDrC/A8xV/3UUslJJUUhBBB2IrTOWGYwcMzneZPdy+orpAv+O9t7FT9WJeNvU1I9SPUj10ezhdWon44JF7evJQdaX4Hl4B/4FI9I9RvXR1kTFlpbFj9S4TcD8y1qe7+l6hvpfDrSo9B3VI1SPUj1pS+FlqzGysdlMwjPo3d2h3mtS3v0zVOTn7wGuGA3+A7qR6jakatO3hs8/YTg7cMy7+hOxq6lMk0kh5sxapGqRqkaui4wNqO7EioZPo28e4/MN+30pSQnV6LHtxraoJfXc0jVG1RtUEhSRHB5EGroGKaSM81YrUjVI1SNWlcmcXqvHXIOymYRv8ApbuNEbHsjbes9kmy2oshfMfvZ2K/pB2H8CkNRmozUILuqjmSBWqrf6HqXIQ8h1xYejd4qVqkapGpnIO4JBHeCK6ONR3eocFOb+QS3NrN1Zk22LKRuCez0o6hvcLibS2sJzBLeO4d15hAKSkqM1Ea05am+1Dj7YeedN/QHc10pY/qcrb5CMe7nTgb9QqVqkapGp2robveDLZOxJ+9hWUeqns9L96JtT2loDuLa1BPqxpKSo6irowxxuM3LfOu8drHsP1tWrML/XtOXNqig3C7SQn84qbdWKsCCDsQakanamNYrMXeCykOSsX4Z4TuN+TDxU/I1byNNawyuoRpI1cqDvsSASPbkbiS0xd5cworywwPIityJCkiry/ucrfTX95KZbiduN2NJSCkFRDcitG4U4PTsMMi7XEvvZvU+Hs6T9LHH3hzVon2S4b3wHkkqRqdqY1ZW73uRtbWNSzzTJGFHM7kCuEKAo5AbD2zRiaCWI8pEKfuNqkt5LW4lt5UKSROUZSO8EHakWo1pFro50uclfjKXUf2O1bdAf8Akk9t1awX1pLa3MSywSoUdG5EVrfRV5pi/wB4lefHzNtDKBuR+RqsdD6lygDW+JnVD559ox/NY7oav5SGyeTggXxSBTI1ae0PgtNMJbO2Ml1/cznif/Hw7Od0bhNQsZb204bn+4hPA9X3RFPGS2Nyccg8EuE4T+4q80PqLHAtLjnlQeeAiQVpPSN5qG/4GR4bSJvfysNtvkPnVlZwY+zitLWMRwxLwqo7BUMNiAamtmX6y7lf9GK3Z+9u5aCheQ27bwJL4bH4ijaP3le8CmjdeaH2rG7ckJ/xS2zH/cQKSFEG4G5+J7P/xAAgEQADAQACAgIDAAAAAAAAAAAAAQIRAxASIQQxMDJC/9oACAECAQE/AOmxmi5GiaVdtGGIcpnJPiKsItUtJn0ORrvm/UZw1lYKRyX998i1DQhe0Yc0f1250qDxOCtkwuPKc7XF6K4ioxkW4ennOaVzyvruPkcVL36KcZul15Pfw//EACURAAICAQMEAQUAAAAAAAAAAAECAAMEERIxBRAhQRMiMDJhcf/aAAgBAwEBPwCJWznxK8ZRzFrA4nxA8iPgo/HiXY70nRuyLuOkRQo0EsuWseY+RY3uV5NqcGYN4yF/Yj462LtYTKxmx7NhlI0EWZX59+ijW8/yCudXxd9BYcrFaI0yW1fv0NtMgrpyIgl1YdSsDRHl3kbu/RadoNp9ytpcwRCx9RzoYHgfUad8M/GgSVWTrOUKsUr7bxHXcNJ9QOkRW705oHMqzkC7iZm5bZVu88fZ/9k="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNyAxMGw1IDUgNS01SDd6Ii8+PC9zdmc+"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAHlBMVEVHcEwaGhr5+fkyMjIaGhoaGhoaGhoaGhoaGhr///9RdPkOAAAACXRSTlMAmfugh24zUha+hXZKAAAES0lEQVR42u2dQW/TQBCFjZQ0PjLCdnLmxhHxB2KpBY62VLU9JlJbOCYSJRxTicKdG/8WMG3UJrHjsWf3M8jv5tM+787OjNezb4KgR4+GCK9XN6fHqUh0fHK+ul77Hf3b6lS2cLL66O3dP+yMfs/hs495CG9SKUV07ppCeFUxfEHhzCmF7weGLyh8cff6n6QW3q2513c5CVeiwBk2/a6W4SgXJeKZ6fipqBHN2PEtGTQb345B0/GtGISNx7exxDCXFojb78altMK47fiX0hJv241/J61xwWwAm63QzgANDPFSTNDYDEZihIV/D7RlBs0WYS5mSNAFaLgINjugxU74KqZ4r3ZBYowZZ4GN7HAk5tDZYW5PINaMPxQHyNgJUE3BnQg7BbkbAhFqAZopyF0RiOEJqDsFuTsCMeQEde5w6ZLAGAiD2qB465bAxF8m2jA/HYpjZKQJ1jDDI3GOGWmCh80wdU8gwrxgHW8490Eg4ZzAQVcwFC/I2BWoWAM/K1CxBp5WoHwN5r4IJJwXqvRFI/GGBRUHquNB7o/A3uw4FI/YF5MHPglk5CYs24ipTwIRkoxVG8HAL4EpawL7jCD1SyCCTWDXCIa+CWSsCewaQe6bQAwGgr9YU7nA/pxg4J/AlLXBbSvM/ROIYRt8aoUjgsCCtcGnVnhLEJjoj6ZebvD699OL0kf9cVXNWPxzg2LE0kd1RK67CV49jPCjGLH0Ub0NRgyBhXoTGBOYqjeBMYGJOhIYE0jUkcCYQKzOiI0JiDoUWRNYa0ORNYGFNiW3JpBpY6E1gak2FloTmGgTQmsCifY/kTWBsTYjtSbw4ImEIiDalNg2Idl4ovpHA7Yp2eaQoH5O/maDGo/1XSHyUfCYwJAjkHFfJY998TOOwHPus+hxMJhzBJJuEFhyBMZKAuaOSEvA3BWPledD5sEoVhIwD8ex8qDenEDUE9BlZPYEpCfQE+gJ0H5Aek/YDQJ4OMYTEjwl+4eSUkdpef9lhH+c4p/n+AEFfkSDE8CP6fCDSvyoFj+s5o/rlxSBcVd+2eA/rfDfdviPS/zXLf7zGv99zxcw4CUceBELXsaDFzLhpVx4MVuzcr7yR10w7kRBI17SiRe14mW9eGEzX9qNF7fj5f34BQf8igd/yQW/5oNfdMKvevGX3fDrfviFR/zKJ3/pdUh6Ae9GMOvi1W/+8jt+/R8XQOAlIHARDFwGBBdC4aVgcDEcXA6IF0TCJaF4USxcFgwXRuOl4XBxPFwekBdIxCUieZFMXCaUF0rFpWJ5sdzQ0RTUlgt2NQUKzeictIBOiGbjsuG8cDouHc+L5+PtA/gGCngLCb6JBt9GBG+kwreS4ZvpmLQT0rugLjVU4ltK8U21+LZirQzRprUb3VqOb67HtxfkGyzyLSb5JpsB3mY04But8q1mA7zZ7p9JOGgJbtsNB3jD5YIC23K6ANt0+34e0LbjPf4n/ALCQAMFQLzJIAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAJFBMVEX///9HcEz///////////////////////////////////////8l87hfAAAAC3RSTlNmAGcJeO9UQCsZsXNYiOwAAAYVSURBVHja7Z29buM4FIUPbmHZJSFgbXUEC3swnRAgjh9g32AfwIgAJ+n8A2Qynb0LJEgXIUCSerHVvsK+3BaWE9kjW6JE3qvCtwwwuN+QlxTNn3OghANngCb/+CILCYCLycfTj/vZbDqbzW5+PDy/XnACXHw83U+hjSZjjNFkCJ2bh+cLJoDJ0z3IGIAAo40BAJAxuHl4ZQCYPE3JANu0uSDAoGOPAPv0GsfDWCNYAYTvp9MDID37GfsCmNwTysPg5tULQPgxNagWnefYPUD4VNb6udAPsWuA6N4iP6BvUrcAk7mBVZjg1SXA1dQyP0Cdv9wBXE017KMaAbzlr0gAf/mrEZQDTGrnBzppc4BoXj8/EKRNAcLHJvlBt3FDgEdCIwB92wzgvVl+APjZBODqunH+sqEAfwVYrRBPAjy6yA+6rQswJriJVT2AaOoo/8n5CL47oKwT4L8DAOiVPUA0h8M4PhKOArxplwB0ZwswuIZTgOHGEmDttAEA07UD6BNcx8oGIJw7z48gtgAYw0OsqgP4aIBjTVAI8O4jP3RSFSBcegEoboIigLH2kp/MqhpAOPcDADOMKwGM4S1WVQD8DIFtjOIKAH14jEUFgLVPgG45wIB8AmBTCvCmvQLclQFE117z0zAtARj7bQDQqgRgDs8AwWmAAbzH5iSA5xIsWJ7uA4TX/lvg4IMAvlmweDYE3yxYPBuCcRIo/Km6B9DXHAD7H2Ww98BBH4C9Bw76APw9AFocAWDqgf0+AO8slPVBXAjQB1tsCgHeNFd+c1cIsGRrABoVAUR8PQCdFgBcaj4ASgoA1owtkBuI4B+E+wMRjIuxwoEIiRIAkPwCsOZtge4hAG8J5IoAMiXwVQSQKYGvItgBvHC3QO8AYMkNEOwDRMQNgHQPoK/ZARZ7AJf8AMkewJo9/24qgtfN2ZOLkjgHIFCDu0XJFmDAXwKgTQ7gUgIgyQG8QCB6OYClBEDwBcD9Lc5/kcG9Ij+cjCE0EX9OxpAaBLvJGEop9SID0PsEWMvUQPcTYCkDMNoBWI7C7/9m8ffxv1SKYZwBWI7C3//L4o/jf6k+DmG/JHcHsMkALA8pnAGYRQZwKQRASQbwIgSAXgawlqqBbgawlAIIxAFipWC/GnAHMNwC2C6J3QHodAsAKQBsAWzX5A4BNkrBfj3kDoAWSsH+uNghwEop2C/IHAIk7QB4kSvC3hYAwgBrOYCuUlDqT2mApRxAIA0wagVAKAkQK9hvDjgE6EgDDM8AwgB0boFzC5xb4DwRteRbIPc5plF8XhG1AkBwWf6tHT9MxH+ayf04pd55f0B4i8as2rFJJbdNZ7bbdAO5YbgR3qrNdkrlNqs72W651HY9jWLh84JRW45spA6tqCd8bIfdsV1fqgUWwke3ZtOWw+u6x/f//PKXmsf3ofQFBvkrHDKXWOjrEstvIgC5azwDGYBFe65yiV9mE7/OJ3+hUeQ2W9KmS60S13qRyl5s3ilStORqt0AVUtKu6/38VahT4Sceo4M3JuxVePjIhX1JkLTtoZP4Uy/xx27yz/3EHzyKP/kUf/TKOxMkwg+fkco+/UYg/Pidih+/X7E1gNkICyAMiwUQ+H6eHJGA8K5FdLgaE5MBGaZtFUJh6gNaCYvhDNP2ygHJCyJxzEWduM2iWPKyYN6F0RAIS8OZMmk431NBqTie5zI0pfKAngUSdblAorhEpE+V0GoimT5HYlBFJlRcKNWfUiqNqknFqndPI5EqiuWqaMnXAMWCyWO2CjgCEHmpgk51yWhx0Wx52XCn0v3ZV8BKON29dDwspeNdi+fDWjxf3D5A3kDBbR3WsJCQN9GQtxFx1gm6ppGKvJWMGxV7amCm48ROaNjATsiFoZJuZKikwreGBE0tpeRNtdRE2FZMqai+sRq5MFZTaiBsLVfb3I5cmevJ2wvWMlg0Lg0Wa1hMarcWk0pNrEw2ybnJpp3NKMG9zaiN0arxYrS67YYKCN6sZlVFs92OP7NdpVS0dTs++r/Xfu2GlcoMlwubgWqkr205bcxBOxijmSynldqZbptcsJpubxlEbcc/KQSN153FGeB/LjNNyMl9jckAAAAASUVORK5CYII=";
},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAJ1BMVEX///9HcEz///////////////////////////////////////////+QtxG+AAAADHRSTlNmAAlAUl8rGaDlgMHt3vVDAAAGfklEQVR42u2dzXIiRwzHVTU0PhtS5sxHzBVYr/dKYUiu1BqbKyxx+Tx27HOuqfAAW8nF5zxBat/AFR4qDAwww8zAtKSWSCq62/yq+69WT7dagnNlg/8BKH9cC00DoNZ8nX246g8Gd/3+zYfrx6eaJEDtdXZ1N4So3d1cP9aEAJqzq/iPh2Zurp8EAJqzAWTayB4BGH8+sIItghVA6fnIz69G4VPVFUAzfe6TWnhyAlB6HUBOGz1W+QFKsyHkNnNd5QaoXIGV3fi8AM2PYGm3T5wAlwOwttEXPoDLLiCs8IULAPf7OQnA3e/nIzgO0ET//lIHPh2g8hEIdutTAUoPQLL7KhHgJyDaDzSA5yEVwHyiAFx2gWxHXOEgQKUFDHZYiOBUADlkcAigPuQBMB0cQKULTFbwUQAPwGb3GACuCTgyCeDWAzbm+dYAPwOr/WgLcDHkBTBTS4AHYLZ7O4DykBsgS4fpAKUWsNtt1QKgDg6skx/AxQAsXbGaG+AZnFgvL4CbAcgYApBSQNYQgNwApA8BCA5AqiOA4ACkDkESoOzu98G0cwBMHAKkRARwHQaPBcUEwAs4tfExAL6daM79Kcj5YLon7gO0XAN4hwHcSjBNhiAqwRQZxgFKXfcAheoBgDIIWPsAwIMEwH02QKUrARBfCkB8BvaWAhCLQxlzAOIzsDcHID8DcT8AaR/YnwOQXYWSaxEozEBsDkA0DqQcV4BgJE6NyTuAylAOAPwUgIbg70c+0kB6Gdx3RJB3wrgjbgEuQNSmCYCGLEAvATCRBSjuA8hKICIC0JHATgSgI4GdCEA+EMQ/D8D9scjhcAAKgWD9iebHAMogbu0YQEMeoBcDmMgDFKMA8hrcHtmBkga3KgSddXC3FoKWBjcqBJ11MLCzCEBLA8DbAUjH4mhEBi0n2LgBIBfiP7kWY0A6wa+/MLkBIJ1g/v7GsyUAZCSYL/4gExS3AC0MwOIrix8C0guXAO/fOPwQcF5olgCLd6oQ/RAAE4oCgMXfRBlMQ4A6FoAqg3YI0EADLH4nLwSAWwZMCEAT4jgEmOBHgCbEYgjQIgCQhOhxAFCEGOxLAbcOmR3AAi8DswZA7QYiAHgZBDuCAABoAAt0YAyu8AC5J48C4IW4BsB8mJoYAFqI7RVAnTwC6PWoswJo0AGwQuytAL5nAEDK4PMK4IWuAawMxmiAxAjgAuMaYMIDgBFikRMAI8Q1QItFAyghemiAtBFACJEbwDowrgBKjAC2Mlh+GQDucMCkA9gGRjxAxgjYCtEBgJ0QXQBYrUf8GrAUolkBDFlHwEoGBScAFjJwMwIW6xEewBwCyK8C48ALrBbkghOAr7ZewAxgc3rmYh14fxuqroR28XAN0OIEsNsReFXmDYntnsjj3RMurI9vubdk1vtij3Vbjvgy4P0uWHwzOIAXJg0gvg7POL8NMd/HY77Pc9wJwWe2AwrkYV0PfUST0MBfhCOaMsMIIC+Q2kzHdHYhMHFMRwdAn5VO0Ue1cQ1gT4vDo1rUhmDOcEy5ujYDZALJnCxA2B7XE+8LCHcmHv7KZqcByq1REX9ptRsB+xAYCwXUazvazeHm2q6MB6DdnbbxV7ehBoi3x1P85XU4AsT7c592fU++Ot5e35dwCQzkHAqPkMIRaAAbAmPLAD6JhZ6+EEliaWAAqAkc0TQehB/OySksYT4fMpXL/PZGB/BJyWz09LNIMpt6Op9OQuP4lFI61ZNa1dN61ROb1VO79ZPb1dP71R84qD/xkF8Lz07tmY/6Qyf1p17qj930n/upP3hUf/IpK4Jiyqvb7yQBOsoPn41/ik+/JcPBOBXgQsEJT6sAgnoJCP0iGOplQKQWw2JmJZa6DEDndIvhqJcD0i+IpF4SSr0oln5ZMPXCaPql4dSL46mXB9QvkOg2IhVz1Kisy62CGXVKtcuEqhdK1S8V66pacO5iucwlyzPj4IGCyXUxBWQAuBmCQv6S0epFs504gmdTNpy1dH8YBawKp+uXjj+/1C6er94+QL+BgnoLCf0mGvptRNQbqei3kmHyBA/fTOf8gkEGlHZC+g2V9FtK6TfVUm8rRhNigaGxGoWAp7WcfnM9/faC+g0W9VtMBj1O7X6fu8mmfptR/Uar5+qtZs/1m+0GkeFYu+GR03bDq3nQbbgczINyy+nAkk23jWTT7TXDuu14/2406vfF245vJiPsu14l/I9/eev5/wTAP7NUVbWxjzG0AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAIVBMVEVHcEz///////////////////////////////////////+PBM77AAAACnRSTlMA3p2TuchTOSVv5px8mAAAAi5JREFUeNrt3L0vQ2EUx/HrJVqbJgxMjZBgsklMBmIl0cXUQQwmCZOpEYOYxGi76q3PXymohvY2z2lyf/dcfL9j03g+aWjlOc1JEiIiIiIiIiIiIiLKrnK3U8uxg9XT0c4/Wwg5l26Mcv5RELRrP/8qSFqxnj+1oAGk1t+D+yCqYzt/Osi69X0BQng2vQMEYZbfgjElYMYAWFMC2vHzq0FaKwoY1wLqUcCNFvDq+Udoey861AKeooAgLvpBpAY0/T4IbB8HE2rAetkB42pAHQAAAAAAAAAAAAAAAAAAAADw2wBp47P9bxdd3Yf67tPSuUZftTwA7cHLq5fuQ5M/n9i0jb5UgIeW8cJHBRhy+XVSFKBjvnYUAermq2cRwD5/0QDa9ptXDeDFfvmtAczYr/81gD37DEwD2Br+AzcBACgUUL3u5QO4GBxOAQAAAMCfAVQWe624ADICAAAAAAAAABQLqB73avIvGQAAJb6g4I4IgBvA/bLa/brefWDhPrJxH1r5j+3cB5fuo1v/4bVsfG//AkN4f2z+y5v1hCK+wtEe9ucPAAAAAAAAFAXolOUVmPICpEvbHy17AeIBAAAAAAAAAEoPYAeF+xqQihoQ3cmkBsTOVy/DeYwC3NcB3WgB8YVI7iuh3JdiDYy5cs2wFsx/MZr7ariMIUNumZbj+a8HdF+QmFS8V0QmlxqAeUlmkpwrzh9hTaj/otTcV8XOjroqloiIiIiIiIiIiOgf9QZ+RybMYMYYPAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTQuNSAxMy41aDJ2LTNoLTJNMTggMTRhMSAxIDAgMCAxLTEgMWgtLjc1djEuNWgtMS41VjE1SDE0YTEgMSAwIDAgMS0xLTF2LTRhMSAxIDAgMCAxIDEtMWgzYTEgMSAwIDAgMSAxIDFtLTcgNUg5LjV2LTJoLTJ2Mkg2VjloMS41djIuNWgyVjlIMTFtOC01SDVjLTEuMTEgMC0yIC44OS0yIDJ2MTJhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0yVjZhMiAyIDAgMCAwLTItMnoiLz48L3N2Zz4="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAMFBMVEX///9HcEz///////////////////////////////////////////////////////8jI1VHAAAAD3RSTlNmAGphCX88ShlWKt7yu5t/qJIwAAAIfElEQVR42u2dzWsUWRDAi25mYmZZYWBwg6dmJJFlSRjMJhlzGwgm5hTcY3QxbmDVU9RhRW+DQdDTgEETT4ZI1OvCntSdkye/FmFPGhVhT+vHH5Do7PTHdHom3T1dVe9jdtm6aAiT/k29evXq1XtdBVnNAv8DcD484YkOgImpq+s/n19ZubaysnL+l9N3FydUAkxcXb9wrWAAgAF5q/GPZR68cfruhCKAqfULw/bDW8QAa/jG6UUFAFN3ru14ui8HLy5KBphaj3m8g4DVAgogd/lc/ONtcxg7WZIFMHWqAAnEvL4oBaDx9SGh9CCUkBggd6cAicW8WBIN0HcKUHK9IhZg6hwgZWxRJMA0+vkNQ7gtDmB6AUAWQRKA6apFAYDe22IAaN8/qQ5Agv1tr1BjFT5A30/AkHSFC5A7xXk+GNdLTIB7wJSbPIDLBS6AeZIDMF0FtnSYjCDPAJMZYizAPUMEQLwZxAEcKgh5PpjzNIC+BRAkPRUSwD1RzwfjJgVA1AB0GIRIgNwCCJToRSES4AoIlWUswN6qWIDeVSTAGgiWcRyASAt0Zd88BiB3HITLaAkBMCn++WCWkwOInYK+PywlBpChgIaUkwLIUUCECkCdAsAoJwOQpYBwFYA6BYRbASjxAX50VkoAsEfe88GcSwCwJhEgZEXYAbC3IBNg32pHgCsgVZY7AfRV5QL0VjoATIJkKXcAOC4bYDQeQK4JOjNxNRbgiuzng7EcByBvGYhcEECZF/RlLgZgTQXAeDSAbCcQ5gpA+QgAzEcCrKkBGI8CUDMCbWMA6kcAjLkIAEUj0DoGAYBcVRVAbykUQNUItPoiULkOhIUlAYAFdQDpMIC+gjoAqIQATCp8fiAuAvWTsHUigspQICwo8AH2glJZ3QFwWC3A0g6AW2oBMu0Aak0gYASgxwS2jQB0eIGgJ2gCXFINsKsVgGwCKYtqBK0A5IVgdoa6Rau0AFBjgdQDKkAzJgCWGzJmt2aYrghYbihVowNkggBEGzRm63QAzxUBxwZTNQaAZ4XAsMGGAjgAcwGASaoCGACeLwS6H7QVwAHYFQA4TlUAByC9DUDaEzkK4AC4+yMgTwJHARwAdxoAdRK4CuAAuM4YqJPAVQALoOwDXCIrgAVQ9AFukRXAAsg0AXInyAqob/1A31IO+ABVsgLqWxsf/8pz5iGQZqGvAFue3H99hD4PgRSS+wrw1PDwHTk0twG+sTgKcGTzTwrAGQ/gMFMBZIIlD+CSAID61juaIwCSG5jdCVDfnCE5AhsA7QaM/hAV1J+h9yhpF4AQkRphKqijzcCOS4HkhwIq2Hj5oPnfxzMETwS0aGDbFc/k+z80EX4jeCKgHdX5KmgsRpYx9Ipmh/YRHhBzE63Lcf8rmgpcgD2UHXZTBd5y7P30Gfen7IMDoG4K2kKyoefOjy/QMRFQd8aeCpoA1t+uL0D7YmBszVsiopEawQxdAGJ6yFWBD2DOEsagyAFo35q5KnhGALgFDBUEgtKjzhig5kGGBdC+Pd9tT4Stt3iAE8BQQQDAeGOr4FdkXMwBaE/RzKKNIO0ALJABGg4wCLAb7Qx7bABOnrw1TWfUsJ6gERAwAfqDiUrrk62Ct2iAKnBUMNMeKmJcUS8boDVZ/TV2GggAMIM/OJ7gkVqAFnG88RfEB74VDOC4os8aNQBvkI7AFAxgfkIuR6I1YL5HAoi2AWdFxmSNhGvgKNIXozVgbDTkhUYNjMR7GpMGgFiMjA6uDjsEzmKEiQfytdiQAz0L0ABGvK9F+4EebEjWwdeaWE+Ijwnjn4BeCwbQYfmnWCtDr4b4fcHR2KALHQ9ksFsz4zsb4I+oX6Mjol3oveFgbB4EHRMW0dtzJ/T/EmchqKj4ezSAk6SNmun4fcESOkVz4E3MlxxC74zK+CTV+xgjQO8NvSQVJk1nfhX9LfG7Y2MVn6iMSQLg8wNeohKVqj3gJGIeRTopVIbES9WiYjJnxQ019RQ+R+Qlq3Hb48GInCwlS+al63EpklREPjBFyBMOkI5snDGo/96uAEqmdJx0aDUYekZFyhUXScd27nSvbx5pTRZRsuVLpIPL5knB0wAB7bzAOEM7uh3xDkueNkeBfGKySjy8bp4Xbb4+km+E6uQzI//wGrs7HPGPzB4/3AicmmEV4B/fZ88iyQfDTg3rW9hzwwHyFY78+7qIk9MM/RJL2NEt/uy4SL/GYw3VBJyelxkXmfLHnrcbAL5qyxznKpd5rMa9vxC4ykXJ0gwPvXweuENi4v9C4DIb5TqfAf0f7j/h3KJJcy80msPGjx837HtEZoHy+SL7SicYJgwPQ8GifXqJfamVKXP8a728pGLwWq/Kt6yCESn7ajdHMiIut3NkScj1frYNsl9w4Nqg/46Jcivs0f2SS1Hzaz5GudtedFL9qtf+Ure97Kb/dT/tLzyqNYL9pe576VX/a78qlwMz7MVnmYWQQrel3ffyu/bX/7UXQNBeAkLdGMx1axkQ7YVQsofUBEPz3VsMR3s5IP0FkVQEBftLeotiwXJ3lwWTXxgt3e2l4bQXx5NthkXNBRLNzgUS5XrDTIIalYfUecEuLROqvVCq/lKx8lSQsFiu/nLB2gsm6y8ZLUcFiKLZUnxBGlM2XELhdBNVOD2b0106Xn/xfO3tAwR2sHCmIL6BgvYWEiKbaACpiYb+NiLaG6kIGwRyKxlBzXRG6c10tLcT0t9QSYAZXNTbVCuqd4eytmKj7LZirMZqIKKxmv7WcvTJKKq5nv72grQGi2MCGyzqbzGpv8mm/jajqEarYzIarWa1t5rN6m+2m+3cbtiS227YVkJcw2VLfsNlVwshLadBWctpRw1XGwwFw/KPoSxzWGHTbW8o3LbjKwd1tB1vitd3vcT5G//u1vP/CYB/AN8i8Ee6CAfwAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAANlBMVEVHcEz///////////////////////////////////////////////////////////////////+GUsxbAAAAEXRSTlMAnHPChwk++LDiH2FQ0i4S7rEjrEgAAAtpSURBVHja7V3ZYuQoDDSHucH2///sPsxkppPxISEJJ73We9IWiCqVEDBNjz322GOPPfbYY4899thjjz322GOPPfaYrCWXtVXB1BjXdfXrusZqglI6uza/teezy8pEv51ZNEq75Q19bzrEDWwxaPdGweCs8RvavLHvMAgph3XrNh90+tHea7ORrf7UMVg4vP8Yg58Hiy74jdNCIX3N8MmPG7vF7jAoRo1d+cpvIuZV6/icXLetDY39TdACMphnHbdtCwPdN5uwGYdZir8o2L3H7H+MAJQVk/29FM2otT/CffAaaH+RqIxBfuvl3QejYHuZjDrE/7yKe+9V6kKiPMD9VsXdXy00DSifPybKK6pZPvqjBrox569zoeWxX3z6Y4a6/28Kus7i0y/tfi1gHN4BIvvTV7+Bur+fgXthHZn9t6H9A+KUDf/wTWj/MAX1osWURAv/tdZqjDG1xkii/XIsQEQDoPTlPr4qm137sjaX5rIN1eNpP59Ng6QO1l2F3nIxralY4zG0f1p6EdTBs8IXeKHTMUPL4R9y99DkdPCC0/3RFv58JNmrNWi+B/xFKzERkMKbmA5OERH5ImHYIAQspoMb2P8oU9AHVp6kdHCD0l+V+YICxJ8oJf6A/huR2J8zGH70rfNvRABoRuy4COngBPI/iri/WEzuae/D/1VLDH7C1Z1kdPAC8T9I/HTD7reJBMBsbor+htbdMjoY8BlKYPp79ttEdPB19W8VmP7SVXWQ0MH5htV/IXeH6uDmh2cec3ejhbuBAFbuH8XRvrgOvgKiygy7pD6TMh4AA2/u09RGMAEd7IayDrXRIg8HAFb4K9Q2GwEdHMb5n+l7bfw6OI+KuF7aF9bByzrG/8sq910BEIb8XrI8XTb8OriM8J+vvdSOZQCen2t828z8OtiKiw7W/kp2HXyqgQwD4Bbe7to2EgHjQuc95habMBIBPXW0Z/5zBew6uMolAIvl7y5l18FZDG6SSHfljg4mLdP5JERJLahN5lTJng4mAXWWAYAm1V2W90BMywRA/7+VO1USd0GMEKpaoOhSBFtL9T6L9c9V5F4ALHIXpYMNBa0yswSYtaT7uzPtSHxdWRlAgvYvdXCgrFfHWXYWO015GpWNlB8GvnyLVuXu18GKohASGwIOOU64l5gmUpFAM+XAxWxDrB0HQB9oR5aaS65j3N+L8sVTtgoKQwBI895FAFiSTA70AGjrMPf3cHleKdJ19vQAUOP835vhTyDmZ7YVAKaA5Mf5Xy+VXOFaAXBKtQMDoFwm8shUYPHkotsyMADiNYshN4wyXQaPDIAMWMOFZwWAtfU8kAL2dHClpW8reedRDwwADVFyK4sQBEPJHAcGwLJfCCFsGViyDs4DA8DCZhCjBwy5+aKO838vNQ00ET+Ts8AyMADUcSHks810CCjUEJKwBE3CHRkCwAm1G+h/ACfhlgwBgZxGjNfBXSDgiVlQG+i/gSfhfqJ+f/uGAeAQC7ARORyaS6WB/ldMLSMTMRAKASMLIQWDYZYYwUAIwOhgv64k1RxRMwhFwUgrBUB1sLG/7tBenO1OGzIqDQPWhpejX4NlATAd7G1iaJg52KM8BKGFRALAWghIB/97vHDpQQ6NVPMwGigkDITo4P3jhfhredYFmcll0hRqEoe+htLBzgL6YiaL5SFNYrFCQtAX/w9X4oIbgePyVCap2UBZQNc6OJ7sLCVUHUmhxRhsFVcKhF7PoWOTkQlNZJUSxKBE2PWvW3QxPeDlHCyZ94TRM53M/Xfu4IugdQQipR5mCCkEAofB5XTTMxGQZZwICBr6gRutJFzPhyTCLKr+sUPBMLCYULugpBFwzPZnEKhUDLijULoGwBEG4DqLAjQEJI4wAkCyJiRzpXsAAHeMUPYlMaGUBQbgMnqXlTpv8E2lKza9ZQA0kbowmyp6khuA3DkAkEII1wBc7lHmfhDujoC8jRsAO03jl8BV1EFyWFBR7vofXadTN7AAjL4BZcWZooOvBoCSB1iOhgDX//uobGL8AAAbAgDp5HU2Efr/CWQADrSAVxwNAZEDAgAJvSJogdQz7uBKTumFIFxdKxDkcFc9ALwfbOgk6AhUSqkIRZ6GgEINAEOgUlhJLOLbCxC7OueXLgAqYkVoEilVYVRjfKAtJZCeSqTtYfy+AK4vWpEiCbS7RdsXUNifXrhuvAUMJOzMaiZ1SGiB7/4yEburaYFQCWx3z5I2R7G7wx2N8XGvtQl0aTWsR8GQWjyw/QFdjfHhC6IAL5UAdvmshKr4iRyb+3XwHiLnP5+TMjCTBh5XONoahDYK4nqECI3x0ShrlYkcBAJZxNDzPrgusYGN8cAQPsRAaLM7qk/w5sZ4FAZCW30Lpqo/sjEe2Op62CkK7Zc/SiT3uuVvbozHCSrwia8VHoE390WjljD8DH0AR+DNjfE4NQc/OajBEagGDkAhrmDEbToOGoF3N8bjMlP41Se7MGpuDgDw/BnK1vTJ/yh0HUwx8N1NiUoiB1FUOXQwwTR5BWAu1GqgP7/7gDhyiwp1l1CERODIA+KWBuAb9kIxBYjAkQfE4cf2FXkId7PJvc78kQfEwTkMw90fu8vb3quD4XcXacKu5Ekk7X3Ad9TBJ+Up7G1i5fIDxgVALd1LtycN3FOE7UYdjHq2tnKtgM9JTrhPB4dGwe7+FfA5F3I36WD4A/SXy7LjRsV6KoMGBMBqEwm4enXAvzRf7tDBPW82V3ItYTcVqDfo4JhnypT1K4k9GMzEhgBR3ntNAldGCHwJ8z0ZJKqDe5+stgxKYg/oNGqsB/PeKy95hkRyJ9dZR+pgr/pfLajkDZX9ypgdp4O9JTySpDdWDvwTAn6YDl415TWQM1gmvDxjdpdPFKF92ptNRiIApsltY3RwpT7ZZzcBBJimacojdLAhPxLrNpkAQP+YuNw9SIGiVACINwRQeA/2Sfyvz90pd/EAsLK/P8mng1fL83GFZUNpeABQee8vJnmOHcX+HZNe3uP6srRy9BSwJFwjeQ9GAPwUyKKDA+OjiOc3D/EjIL0hwAdOXl4MT08Fh+QayXtA/9mfn6Q2BHDxHtD/NX2vAGDjPdj6F2AAkg6OmZuRr+6eU/z+9xdCKv9sXL3hw58C9etg4/i/pVzwkW8Cvzm4zEtCoyzwo+Z+3vuAv0tFJgAAPYUQUpn3ZPlfgnEVAAC8DqaVeU/C/zIdjRLj3m7nvd/sd70SJQAQq4NrnmQsA5LRIjLwN8ld9PQLFIGwARCckPuzhohRK/LbYB3MU+bdz0NAmbiS+XF7K+9NE/jJdiH/YTqYW+6+chCQhIPQ70N0MLvcfZl9aA4ShD4B0BAgxnvTVMAiTEl9Qr6N96Zk2c+W8+tgOd4rmPzbysXg+bg3Me9RNWgt5v+ZDobLXYciyKRx3m++yPnv6Lw357ptUWVQsLSs0MXH1cn5f6iDwbz38gS5Nyofx8LisjI9pfeaBP1vxO3Nxf7jkq9BWZ2La6215lzJ2qpQu7ed1DyNDgBwmbfzASHU8teS7u/qYHCZtyn508XRifq/o4PBZd424lhNWGT9/6qDEbw34noVnydhs194D+p+GXKqziRp/z/pYPApljkPOVYsjH5fdTC4zPtC+7KrP8n7/1cHg3lvh/ZlwD9PAyxj5W5SY27V8HYZ4f/vhgA476lte5vo/9DBiDJvGnSe2rhpkFVsmbcMgD9TRrk/uY7tzSwcBXWc+9PkukRWEcwAg5t+grkgQgWCm0631nKhsa+X6UdZ4QwDr9z082zJPGOwhjJPP9ToY/CTvf8o79tuZqzWTW9hqSjsIHhjyzK9k81OK1jd1xul3Ty9p7WiVagHgnmtweqSpv+BzamVkrW21lqrtc7FtTRPjz322GOPPfbYY4899thjjz322GMj7D+S83DxqoimdwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iRWJlbmVfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTA4LjkgMTU5LjgiPjxzdHlsZT4uc3Qwe2ZpbGw6I2ZmZn08L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDguMSA2Ni40YzEuNC0zLjgtLjUtOC00LjItOS41TDQ3LjggMzUuMWMwLS4yLS4xLS40LS4zLS41bC0yLjgtMS4xYy0uMi0uMS0uNSAwLS42LjJMMzkuNiAzMmMuMS0uMy0uMS0uNS0uMy0uNmwtMi44LTEuMWMtLjMtLjEtLjYgMC0uNy4zbC01LjItMmMuMS0uMyAwLS42LS4zLS43bC0zLjYtMS40Yy0uMy0uMS0uNiAwLS43LjN2LjFsLTEuNy0uNmMtMy44LTEuNC04IC41LTkuNSA0LjJMMS40IDY0LjRjLTEuNCAzLjguNSA4IDQuMiA5LjVsNTAuMSAxOS44SDY0bC01My4xLTIxIDE2LjgtNDIuNiA2Ny4yIDI2LjUtMTQuNiAzNy4xaDE3bDEwLjgtMjcuM3pNMTQuNSA0N2wtMS44IDQuNWMtLjEuMy0uNC40LS42LjNsLTEtLjRjLS4zLS4xLS40LS40LS4zLS42bDEuOC00LjVjLjEtLjMuNC0uNC42LS4zbDEgLjRjLjMgMCAuNC4zLjMuNnptNSAuNmwtMi43IDYuOGMtLjMuNy0xLjEgMS4xLTEuOS44LS43LS4zLTEuMS0xLjEtLjgtMS45bDIuNy02LjhjLjMtLjcgMS4xLTEuMSAxLjktLjguNy4zIDEuMSAxLjIuOCAxLjl6bTc4IDM0LjZjLTEgMi42LTMuOSAzLjktNi41IDIuOC0yLjYtMS0zLjktMy45LTIuOC02LjUgMS0yLjYgMy45LTMuOSA2LjUtMi44IDIuNiAxIDMuOCA0IDIuOCA2LjV6bTguNSAxMy41SDIuOUMxLjMgOTUuNyAwIDk3IDAgOTguNlYxNTdjMCAxLjYgMS4zIDIuOSAyLjkgMi45aDI5LjljMi44IDAgNS4yLTEuOCA2LjItNC4zbDcuNi0xNy4yYzEuMy0zLjIgNC4zLTUuNCA3LjktNS40IDMuNSAwIDYuNiAyLjMgNy45IDUuNGw3LjYgMTcuMmMxIDIuNSAzLjQgNC4zIDYuMSA0LjNoMzBjMS42IDAgMi45LTEuMyAyLjktMi45Vjk4LjZjLS4xLTEuNi0xLjQtMi45LTMtMi45em0tNzYuMiA0Mi44Yy02LjcgMC0xMi4xLTUuNi0xMi4xLTEyLjVzNS40LTEyLjUgMTIuMS0xMi41YzYuNyAwIDEyLjEgNS42IDEyLjEgMTIuNS0uMSA2LjktNS41IDEyLjUtMTIuMSAxMi41em00OS40IDBjLTYuNyAwLTEyLjEtNS42LTEyLjEtMTIuNXM1LjQtMTIuNSAxMi4xLTEyLjUgMTIuMSA1LjYgMTIuMSAxMi41Yy0uMSA2LjktNS41IDEyLjUtMTIuMSAxMi41ek0wIDE2LjdMMy41IDUuNWMuMi0uNi44LS45IDEuNC0uN2wxLjkuNmMuMiAwIC41LjIuNi41LjEuMy4yLjYuMS44bC0xLjYgNS4yQzIwLjQgNC4xIDM2LjggMCA1My4zIDBjMTkuNiAwIDM4LjUgNS42IDU0LjggMTYuMi4yLjIuNC40LjUuNy4xLjMgMCAuNi0uMi44bC0xLjEgMS42Yy0uMy41LTEgLjYtMS41LjNDOTAuMiA5LjUgNzIuMSA0LjEgNTMuMyA0LjEgMzcuNSA0LjEgMjEuOCA4IDcuOSAxNS41bDUuMyAxLjJjLjMuMS41LjIuNy41LjIuMi4yLjUuMS44bC0uNCAxLjljLS4xLjUtLjYuOC0xLjEuOGgtLjJMLjggMTguMWMtLjMtLjEtLjUtLjMtLjctLjUtLjEtLjMtLjEtLjYtLjEtLjl6Ii8+PC9zdmc+"},function(e,t,n){e.exports=n.p+"a63efdbaf22aedbb877efd400d04699a.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAKlBMVEVHcEz///////////////////////////////////////////////////+LBpLMAAAADXRSTlMAaBCLgMt36EkIpCu4HKhZWwAAB5FJREFUeNrtnUGLHEUUgF9m4mYma8MieMghUB6SQEhA8BShIQfBU2BRLyIDix7Ew8AKIisyMHgJEQIbRXLwsnoxHgYGxGMgeJEcAk4248TZqf9iNrubTHdXvXqv6r3pHPrdlp2Z/vrrrlf1qmqmAZpoookmmmiiiVcsOnUDjDbqPf5ZO6lZgLUJCtq30gXYFAWZ/XCYLCBFQWbt7BeTKCBFQXb49sUbiQISFGRH77+XJiBBwTGA/WqcJCBewQmAXQxTBMQreAFgp+dSBEQreAlgZ18kCIhWsARgZ58mCGAoaBsPANvBsgCGgtwLYGcb8QLICtrWD2CnnLbQKb6XqiDHAOyck5bP2wgFbYsC2C8ZAKdiFOQBAPuJroJnAgIAdktVQR4GmI4VFRwKCAFwchpbQU4BsL+qKXguIAwwG2spyGkAnIvAUnAkgABgf9dRkJMBpkZDwbEACoD9VkNBzgCYDeUVnAgoAHR+8xA8lVeQuwCg+72HYENawQsBtnSDvdVzAvwrrSD3AcD6yEnwtqyClwIqANB63wWwL6sgRwCg9bm6giUBDgDougieSCrIcQBo5boNYVmAEwDWH6nmgjwIAJ1BlUAsHXZ7YQD4UbNHuEAAgJvVHkGsU2z1CADdakL6WEWB97Sqt8EcNBR4Abp/JrREhgL/ha1ehAMNBYZ+GpzbkK4A+8xKS3igoAADWB/Ej9DXqAowgO6lsgJGpdgnKkAva6sXnQrICvD76kJ0p0xWgANUFIzFFQRaVlnBpriCAEBrEH8NaApCueVS/DWgKQgB/FxSsCetIJhdb8eOzIgKDDOrT3eFFYT7l1Fsn0xTEAb4qfgZ34CsgjBAqUviNESKAkIXX7oNjayC5Y9bpyxFMKpEkoLCFI17UrJbvAaPQVRBcY7oGuEa8G6CoILdAoB7OqodOzKkKIDiLJlzkaTUI22JKigB2J3wNdgGLQXP5wmvO/7xenx3wFJwtHzvSPbrxe4AtBRk3nWiPHpMwFKQeRcILkWPCVgKMu9MxOn4/oijIPOukRSTIXttnKog81fBhXNYuKYT3sNiQFOQ+ZeJ7oY6xNOWExMcwH4QyMZbqQAeBZnfcStUnjABJjiAo88fBaZKmABuBRmSbe8H+LkAExyg2uW+FmgGXACnggyZjDkVaAZsgAkOMMHvwmE6gEtBhg17RnhvwAeYoADVdnAbH5PwARwKMqyl3cVHxhEAExRggVYHEwmAqoIMG3V08HnrGIAJCvAAawZTEYCKggxNt4/QRBAFMMGyXcXyDTQRRAGgSymVk7yPdshxAOhq0hZ2gfZkAFAF21h1sikEgCk4wA7xjxAApuAJlggOpAAQBeW2/gNaH8YCYArKuXCAbamIBkAUbCCZaC4GgCjYQyrUhRyAX8E2Uh1N5QD8Ch4jQ5KZIIBXwVMsF+/KAXgVlO/0q9hwIQXAp2DOGa+kAPgUTLHeeigJUFZwxX2j6QFUdpkcpxysO9wQBfAoMMi4eEsUwKNgjADIGvAoGCOzJNdlAdwKhisEcCpYJYBTwUoBXApWCuBSMERagTyAQ8F4dXnArWDFAFUFZmWp2K3g79V1Rm4FF0t/n9EGCK3M6w1IiAsRV7HiXQQgoOC21qCUquC80rCcrOCGUmFCVjDSKc3oCpar430tAERB16qU5zlZwbrOBMVFsoJTKlM01vSpCs6qTFJZQ15ZPqMxTXeYUqkK7mtMVB4CUBWcRykTAKgKRlhnmARAU1Bcwd+VBKAp6CgsWJwAkBQUqoJ9WQCSgjNoIkwEoCgoDEceCwNQFORoHkoFCCsoNoLr0gBhBcXfFxiKAwQVFMqiGYgDBBUUxuRzBQDyVzLcrTAdgPyVjMP4TwOAo2BPA4CjwJEmOu944l0yAF3BbJezky2nAtAVzDnHL+0CwwDICpibSnMqAFnBJggqMMBXwNxYjCsw3j0KNvK7SUwFBnulW8EcQFCBQV/pVHDABmiTAUgKNkFSgQG2giFIKjDAVTAFkFRggKsg6he32mSAsIJtEFVggKtgA0QVGGAquAwgqsAAU0FstMkAIQUgq8BAzQoM1KzAQM0KDNSswEDNCgzUrMBAzQoM1KzAQM0KDNSswEDNCgzUrMBAzQoM1KzAQM0K/AD91SjwAlzhLq5HKvABOH6TSUeBB6A14u8viFPgAbgZsb8gToEb4HLUFosoBU6AO4OoLRZRClwAnV7kLpMYBQ4A18+i6SkwnONrKDCs4ysoKAPc6SXtNeIrKAH8MUjba8RXUABovZm83YqtoDBT2kvfbsVWsAyQSew44yrgAwgr4AMIKyAAfKaqIAywozs6DAJMx7oD5CDANeUBcghgR7tGCAAsjHaNgAOcPMNAUQEO8Jd+mYQC7KygUsQA9o2/UhxKKUAAFmN/QeX6yZw4BX6A0iMsigoeCh0fe4xI6T47rSKgGMsAs3NYuf4QtAGqx19eWVYSsATgfIRJX1vAS4D52PXvNW0BLwC+NrvopI2WgGOAmfeRUmvKAo4A5sjDzfq6Ag4BZvcMcn5rugKeAXwUSPF9VQHQ/i70ijVVAZToawqgxFrNAgBuQRNNNNFEE0008YrF/+6x9msJGn9JAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAKlBMVEVHcEz///////////////////////////////////////////////////+LBpLMAAAADXRSTlMAD4p/8kovaKLhzRy4DkEsFwAABi1JREFUeNrtnb+LZEUQx3vmnNnzRmEQQU4QTjEwebCigYnBBZ7RwAgGJgcDmhgczIGRsLCCYiADewiXyMKegcmxMMElisHlsiC3b3dnZqf/FwOTfV3V1d3vVXUp2xXv7vvst1//fFXfNqZEiRIlSpQoUaIEY/Q/UwZ41f46VQaw9Y9jXQBrtw+VAWz9gzKAtT8vlQHsdqoMYDcPlQFs/b4yQDaC/tgDYOt5FoDKC2DXOQj61g9gN7MMAlAAdrWUF4AEsJ/KC0AD2N/EBQgA1LvSAgQAZF/Evg0DiL4GVQyA/U5WgDDAeiYqQBhArBH+FSACwO5LChADsBkLChADYB8LChAFUE/lBGgADL73EHwiJ4Bttu8XE5xgLiaAA2DeOEYBTsUEcAHMEG+GO1ICAAAzehcDeCElAAQwvQ/FJbgiAAKAE5wKCYABmF4l2xGuCoACmOEJBDiTEQAHMINDSDAVEcADYF6DAPdEBPABmK/hymQpIYAXoLcABE8kBPACmAGYFlYSAvgBzB8yPbGKBoCNcC4gAAFgdsBrOOYXgAIwn7s//JxfABJg6A5HF/wCkADmd3dxOGMXgAboHTMPBVUigHmTd1JGBAgAAAlm3AIEAIAER9wChAB6h4xtULUAcDtCvWQWIAgwnLCNRVUrAHOfa2WGCxAGcGaEDbMAYQCz4JmTPQJEADg98S6vABEAowlHR/QJEAHgvIYtO2IVAzDEf/cmwy7RK0DziOanmNHwLqsATYD67Yg2eMEqgHNItZ6Gf70ecwrgnpKtxuE22OUUABzTPQ63wQGnAPCcEPv/Xuk2HVACQIAt0gjDbtNBlQRgnwb/xIxRAAQA+0Dwepfj8yoRADuJuNFhKKIFwACQ7Udv0n6DVCUDYBJ8fPV3tthxwgee+MimAyCHMc2XYBlqpIRAvxc8CjTkXBoAajwKbU94AZA5v7EyvBQHgKPtg0A3YAaA665bgW7ADAA3QDuBlSQ3wAU9FE3FAeCyZ0HPBtwA8BH36TUJO8A5ORZeygNsyd3BhTwAWHUM6HNrfgC3I/boVRk/AHgJTsiBgB9gRS4JpvIA4J98QE7IAgDuBuElciQSADigdicHGQDOqUf8nQHglBoIzjMArKlV2VkGALD2nVBHVRIAc2IkWuUA2Ce2ONscAG5X26MmAwmAS2JJUucAOKPG4nEGAPdNf4vqIhIAK2oymGUAcF+0l6n5WAJgTW2OcgBYajqc5wBYEuviLACz/xhAn1oviQBMC4A2wKwAaHdD9YFIeyhWn4zUp2P1BYn6kkx9Uaq+LFffmOwTh7Xba7E51d6eb7QPKNSPaNQPqY6oyfAoA8Bc+aCyJo9qd6/BYbX6cT35wWJ9DT7ZqH+0utT+bHdH+cPlWvvTLZjtepYcBtgB9pU/38MWyJzAoJ7CMVdOYllpp/E8SU9kGrzjifdaACDF5sFULtZktl9aJLNxpvMhuWxd0vnSExqf8iY0Jqd0YnYDzyw9E7AmtWKuFwvq+I45rRerH+iY1puU2Ixml3dMbE5K7f4L+wN7ll6NMCa3o54fnZPb49P70eR6p8SiTXp/bIHDFn+/G8vBdlYEcSUet/Dyco4Sj7giF09wFLl0KvNp9oG29XbtC52GLIVOfKVej1oCqBe7tS73u0F/xegsQb6CR/2Sz3ZFr19Zlk7olyAAMDq0LJ3QL0EA4Lbz40edANJLv0e8pd/pxe+uD0VXU57U8n/3DejuBJJogOC6oXQ2QEi0gABWJN0tINJMMPbcH37eHSDFBgRs+TlsQFKMUIApEYcRSoIVDPTj4TFlijXDAT4sTGY4sXZAI+gKxWQHFGmI9A14PpchUpwl1J9wzGSzhIoxxdpBTPL4PALDtmADxCKP0RYsaIyG2ZKxOgQGrOFGC+T5vAaBpDke+nxmf0DKHnCIPp/ZHpAwSBycWHkBCIvILw/R57NbRHpMMkfferaw/P7ZqE3ozrHn+WfGiEmgZZSqbxWrbparbxesbpisbxmtbpqtbxuubpyubx2vbp6vf32A+gUK+ldIqF+ioX+NSCM0LlLxAWhfJaN9mY72dULaFyopXymlfKmW9rViyherqV8tV6JEiRIlSpQo8b+MfwBVbWjo0abeywAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOsAAADrCAMAAAC/1JHnAAAAUVBMVEVHcEz///////////////////////////////////////////////////////////////////////////////////////////////////////9jlXTzAAAAGnRSTlMA7M3jhaagjZTGv5rb9X+rebTUunKwZSUSRVsr/9UAABSJSURBVHja7FzXtqM6DD2U0FsgpPD/H3qxwbYkyyYxs+4Tmnk8M8k+W7347++SSy655JJLLrnkkksuueSSSy655JJLLrnkkksuueSSSy655JJLLrnkkksuueSSSy7536SMtCRaGiXjJvEupZJKyrTLXcgspBdy2yWTUu9SSKmej10GKd0q6Sa5FPlT4qfz7vF8fl7vf4j1syxLa8QAjwjwkQAvY4C6UqAnBbsHsDONOk4UzG5QKPNUYyzkb0X8rPhn6z/v5/mWPj//CnC9Yt3QRivSliBtKFQEVGCVaCcJ1iAFBGcSai35rZZxRfpQUDsAVYCtBdZMYL1lEusq6/+1/p+34Z/gfSea09bmNKFIR6jNFWT1zquyIbWelqVU2iuhWmAVrTuvAqmAuv4Sp6l4nof7VEAh1IgndcR2u5M6MaTeekPqzmq/msu88yqxAqhAhzWtN8PrXX5EVXzOgp2QpdqkKqjGQ9mmStUXsbo5p6xdsRaIV+OTGFoBr9tvc/2s8v54ncL6ioipalIT4Ixjxaqy1Y1UaKh3or9KfTewAuoyKFoHpcOE18yg7aESS6gr2KpMT6FNGVIVqw71rXDYuTPuN4OkFnUkoLZMsCG8cq5J0SqgrpKfQTsaWz201JhCvQOvZCPNNqRFIqAu0WOz185pr1nN6fCKttrAluIbxF24m/owlppASx2JpZZsKuGy1BXsKKEuiWWubHRVbhhi1VDXL7F+k2cw2IyQmuDsAUXVCoYai1TofjdWV1KLcoO6xMoNU16lDtNUop+hG5YqXG28rjK/goOsZajGKSmfxCaIjPpapBbTDnWZVNZEeN2QFtQNI6gT5FV8qUdokNUq3KisEJNaMkmhTWrPkVrMCuqSQV7TTvumIodKfBNoe2Ovk+JV26vAOo59ILUVjambBsckKayQqX5jqUVxazXW1ObVpPxMeO2RCldlqXV4FGDjsNziRaH6LHX63lKLIjNQF03rgFNEwKsKOWx4rYAOC2mGILC5h1RjqeWvpBZFZKC20A1bEaeuYcjpSdqEkW68jk1Th0Sfd0zLt9hfvu1Q+5knVVWsiYG6hRw2vObCNbG8gvBaEnuVYOcQsB+H+paMpfpqGlSb5w2Aqiu6YSBZk46vPK9WeFUqLKQK8VC3ndOGJbWkib7PUpWtFjGEqis6mA1rP1wXzlTCdsMjQFsGgH2NdqRBIfUbUqH6FnmFoC49rOh214TtFVV02g3fAVSL1yYJAfvYTTU25Zvyv2yh2vPdh53UlawZQ8UVnZU1Fce+yaRNAmyzo02qAJudUEsJV+ReUjPQfVCkFvmNQF0rOgIV8oqrHCtt0lXOjjRWvIr4Mf0O9sOQijpKhtQeQb0xpOYwsOqQ85BuWNlrTsJrZtkrdE17zEFueEOb3AKCrNU9q5BT+oHUvKBQRUU3DM4yByX+bhUuTXgVJieRrtL9HmTLOHY1H74nVSDNYQ6xSwPDK2pKoPBKmxImvPK8JhLu70Xek2QPZYilyu+fWFBFRUftlfC6NUwZc504FW4A1KT53RnfrEbLxHfPfKSuf0cbqqjoTHMYVXQ5yIYzVeXM1F6pDmvnJCSqfg+yJddn+ZXUvGSgiorOag7jRnjtrF5xQYeQCrBrRRqlP4MdSp+lwuavm9T8zkEVFZ2nOax0mK1ySHgdUXhNNrDJzxXe+36YKPUeUiWvPQt1wc0mwqvVgHG4YZ7XFWwUlb8H2a/GNDypmwZbgRVUdDq8dkwHhg2vd9REtM21UbRG0e/VbO7t6HOWWgNL5QLrQRMRFerO8FrCgo6GVwk1Sn5On97ejn5P01/D6Y424qHiio7yWlsdU94NQ99kwmskdTiKst+D7EGfMGO6DwpoygXWTSrH6BXT6m4iGh1WTQkQXiNJbPR7kM1QpCGkMi0lDXX99o0LKlfRuZqIaMBxd6QSxA0Lafvfg6zHUrmWkrLUFWrphMrM6JzNYZlK8FWOJlZaq3HDO9jfiR24MY2TVMDq5IbKzOiskMPFnDvyTSXrhneobdT+XvC8++/7hIDUtPdAVSHH6DCq6DRSWtHhtCnmw6uiNYTYz5fNX+N+BdTMA1XO6PCqBKrUrfBKZ3Ql7DZJrIy9Rm0eUMl+MaYBrAqkad36sDZw9Nr9HF5hswlATSBUOTT/vUXxmuejMQ0hNXUGVtNEdA4kSXjl3LDJ/ZG5Ul7bgGnl89hSEVJPYN3kLpA+FK2kUi9cqxI6vJZW9Uqzpg1qO4UsPh1YKtbf1BNYSUVH7LVAaZOZ0bElXRnTXMLiNcA7/X0O3G+BkKaxH2mrKzp2Rld4V2D0jC6maRPDaxsylx3Yjn5hQZVgqyOoLVxCTIG96pCTOcNrZc9edfXaEN/UtlUA1nfm6egXiNR0PgAKmogdCK+G1gKG1wM37OZ1k6BpFrPPUgNONan+wNpKtKiJiFLE3NkxPZrRUXPdlThobyTH+4Skp6RJ7XyBtd13O2PbNdHlvOMZHWoijjS8tjuxddCwHQOtC47ULs1bL9JW/p2Y5jCpXr06bHLEEeWIjQ22CVsZsaeMJNKk6xeP/JxuG7s3lA1DXnPqh7kZXck2h5OG4XVpg3ZG3gVGmltI1z/JIVSBNrcapsBc9ebwzT97NSni7oZ5sGErIx/WUgGpXTceGOourhldUfhc050Lr2ZGx9rr0qZBWP8GrL4FZbUrvUg1XBFyuBldkedo9Mo0Ea0VGJe5arD3wI02q6RBpHZ3d0htAa1RwrhhbkaXfbECA6ocxjOJ+Ba6l1ljUk2kEWBv7uQBKnC0hRxuRreZq1XSzc7wOu726tHhJXRVMeXVV0r9haFu+/WTNd9gZ3TZF9XreOiHl9C9zBeXE0pSOy6wtkSBo+1PD3XYPaNTOjyzM3XQHAa87s3hVueIyxJ8F/C0LHVnlQ+slNNtDbtGVY5zRqePGjg37OZ1b61JYsVvO3i7+J1brAoZmMCqXO8CkcprgpT6ppzTYfeMjm+YciosPr4Lxfr34UgduuaI1B2plB9mdLevqpzRFXIEr3Uw1r8HQLqT2g12cc5yuknjmNEV383oHFVOgvww4PUWjvWFsgcBdRgmNs6wnK4SO+5y8A3SQRMRzehcBZ38IvOZC0McalZ6eoetskiTqHrQmGNtIrpWYKxOOOisNTytS3UC67uDSFfJnDDpxZr0kclsrYWk+bczui/74AbsOax/L0TqQMfJOCWElO53BBlT5dgHHDf3CsxhKqHCq/wup7D+PQGpQ9pSnAtP6XaxtoLNXdVrfnjAQefMY8yqsAqvp3VYaLEmdegid0YogbYRvs1LkoHZHCbbtN4mYsnO6Bh7Xc7r8OqeFKnDkJAeC+a0jSykSYMziY65QfJXORWe0XHRFfrh6RzWv4fCOlrtpMWlvfslVxLbTUQI1bthSmKOv+e/qfDSn8T62pA+KkeNalEKjv0r7wGHN7zSzSb/MOd83rRrsUA63Kn3JUn+HmTgqwZJM6MVGLLvg8Nrf2PCa8nP6OAKDIS65GexvsWcLeNxkjCDTi6TpskOXZP33qpiZ3Rs6i+hLo+zWFctfhSkm2Td9ZtrdwC1yR2biK4VmPlow5RZldDV65maDgbZFqT51psU2Pea49Km6azVptR1R0er14mJrspcHdXriVodXrbbyUNEnjCIbKRNg82VXfRnwqtz0b8ZnW54Q/s6DfUdW0UqtFTojxDSRoUca6buOFOfPQcc/tlru9nXeVqnhTFTTKn13og8+an0Cgyjw7V9pg7WfarpyDeh1H9Lm+LTUDOYOCB/ZMUYeNvfjOPsWoEpbD+80+qf0fmawyvW21moHU18yZsUDKXq4jKzmsM0vOpXYLhVidKa0bkHHBJsd9YHowKVPgkU8ZzuUlhVjpX5c1tc+I7OWoFp9KY/yRDPuuGPZpNWMwn3rAqCOqaOGZ3rnLnntqStWY6b1/fJaGPcLvS+DqAApzha0zO678Lr7Nn2wXd0PK/NOagJcEbQ9xKXZEGV13mlfojLxasdXuGMriRN/2Z0d2AE2OxUYB2NgSZcjoR0FzIqr/Mqyw1zZ6+e9QG+AePS4HMZYmVcka4rCKngVSt6BR7PcMMUrUrk3vCKNkzBOXPjXpU4nTX1BmmibmH4h0YMqTGQbN9E5Fdgjk+3vY01q+e/jCeg5spSFb6GTZEIo+BpqwLxmjLN4YxLEdkDjthumCYkGz5RvD5Ivis+xsBOHP4I3FvGudVsYu3VWoFhGmvcjI7yGh5dP1h9YWRjXW8MgW4Xl92DPo1CH89zvhbCHuaALenIbvpHZ6Hit7rGEVcy0PPG1rOCpWtG9+2GKX+mzjWHT/WaXo2BCh8QbJoEPH1keV4AtKwmVOWA2WtxvAJDU//4OPX/BAdW8PYnelXE1l1ipfqytJyVGwb90tTug391pu5ww62q6JY2CYVaYZekoIlPpU/HjDzQ9btmD9oxpWfqGZzR0VlOSV8L4VZgDK1paGDVhmq/5DoSM7WA6heQaiYbPnh+wPkYl3/psg1PJIoosl8P1FFzHOkjewZqBV5lq3JHNozt1Vr0d95HulebwqcbA2Oo4EWR2E2pwSnI6Rzh1XGm7rmjG8GMzuGawjzTc39Vz0KqYMU8VPjOnsQ6bJuI1tu0uf+hwLvrCMlZvS5toGf62L4XPXy5iu14CaPbuSXe4ursU9Dsv/aubblxFQjmoquVkmVHlqX//9EjCQFzRYKcpy3adjYxVVvpNAyYYZpzr0t+EhFuSvgPdGPaxEoGqmD80zK76ZYyXUfdXTvoLxzjUr0u0XjVN4e/U3Yk3l9I1C/ZzLQVJf0FRFdUWo6O6Ho+vT61HJ0brn3SxPpNPGpx77WMBEkx0RUNPAJT9KE6uvsldx+eo7Pz62eKrC8We2VX9Bv2l8YWp0dVaa04o/Bz/nhzOFxHh09x2bPnKaV0bD5FVnpAN+iQcyOCHlWlfBNRKlOv2CZiOEdHzg98po7WnkUkbrpmCXmDpxu0greF7isGpCvJvZLNpvL00CXegDE5OjtcU6pBSUgSzJU9nV/Sd38R0U2mMWSbHc7RMQuNp3bcZ2ObkMVZONG2Vexh1nW6FxoLagpKX/cKp5l7obQsaLKmlIIKy6b4JdMbul6yYYrcCXY+L4np1nQ4AnUuzYxjUyNYSQemHFFXJGuZMLGy3qtJegCE3RcwKLM2Dc3I616L8xWi3zBVxiudXuMtQ+abPE6J3SWoYy9L0/DyiqLS75pZDtfSKemSuMA8eB2dUFwGwnB0YJrvqqYPmej2C9IG31SWFbccBn3Yn0SslJOIYHp98tyrn17jP8t1kClzC3xxa429ZvQFO3UJia6tg6orPgKjhGE1NuGN8PgeXMA1EvDQeygeIuUxMwKtcduKMVjAwXN0spW0arJ2bIRH9+CR9N7fm3Q9DmPTVbTruqa1kR+VEI/nhevodJM1o2t0DF7IOA1KWqELKGSeW2NzmqOT8xvhD+rkU85zTqFKp1Px6p8SE91+X6HFtNXaQX9sJR0uUw8sET9THKreLVz26o7gjKcjWzGiKwrlxBqxkr5kP6BtIsYO1vmX9F5iM8zGqDPW2Msou0r8GzRdL4ThK1bSUh2dspRooidWQVPv/UiIQp5HxWiHW1wh9ICmVzVHdxKGWzFHZ6hGF/Z2MlMejpxszhWmcWS7jrcN7OSwdMFVWVWhOjrFyWgn+xUbl2o7y7BhWvIbYihRU1nYCE1ry3mO7ryOjpWpg8gUbU87wnFqPYapyY9E1PkSrKAtphFZSSfk6BRd7fz6HUt1amnn5balZBgePAFVF1pRSwGtpItoK+n2Fg7D0XatSws1RcO0KrlxiMiz3j0FkP3ljp7d1BC0kn7pm4hCju47muqbMD2XlPA0ZinrE/fp/f1e2IC5aCUNPr1qukZTfWxMHwpT4o8CnBcQS3juzresDfrGmmglrWwiKjm6JXpipZoKF18KkajwhkYenP8QvI/uNEd3Y2HY5+h+oql2N6H3ipJyQSn6Asm8gfk/xllJB06YPqM/sdaGqdB5uaKNRrM3D7e0B+/iXM6plfRdvWyE5uji7+AYIFXeeRtirUaJ9rYm1sG8599FZerFqZX0i1hJt9TY0+bo4m/NmShT1YPLkKVaCiiO11FCenrZyKWbGlqao2uid5cWlSkbpMbYEpmGQAz2MZif3LtjwPq9k3dMQ24hh67xyYzFhCQYjyrBqrRG/RbzNPyGwVbGHpzs944qv8W3vp6ja0lOPeH2svcLisokZWYhhKelqcE0Kjm6+qqVNCsu+/kp47Nxc+lFVSUtqIeGL+TWMKIftFLQqIP+0H7gmZCMmzuk6eF/KBqNIaKU5+gfxnnLftlJjmzZRIw9r+To4KrpkXJUq35BUblLdM07LqbpOblbxI8XaaEf1Avmmh3O0cH76JKOufRIVMC0IdNLkOcZkPsA3zGNzdGVSefvJsJUdJ71REGgvcAQMo2qt5JzdDa/cUt0AsTdVzTu9F0XhpogJpGwsJbAlsMnOTojazumFVMteKBKDqW053I5p+15PMxzPL413zmy2nWv6ANdIEe3U029tPhduhk1xNQRFbqt5TPBh+NrqE5EV7mO7jxHt+qafPX2u7oLTClR0G0HQnJyCvqnF9g1WbLB++gu5OjaIbm2aG5wTKI+loCpCbeIpueyv8wX9+9ofzDqjvy6V3HpH7KSfkzpRY9zjaMvoIpjERSU0pwAW4zR/Q2ArKGjEl3QBab5UyXrIHRfL6ldxQ6EqB2QWEwVR6ga+XWvftl0XkdXTX+rYx1p960lRQeqZzRcLJb8H6/U0XXTX30TJufRb6gWjqqNuiMPRJekZFSprmKZujueh1xg7v0yf/wVi9R9gaZuteOmkCDL5XgpuiYtm5px+bsRxoex/xa6r5EUTi3hnntQdEyX/WHforqqJ0zxqqnsinH6f2garsv7vb9SMG9P83DP7csMmref5uv/5bI9999n/vin8Y/Ty8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyPj4D6Hl1nsb15YcAAAAAElFTkSuQmCC"},,,function(e,t){e.exports="data:application/x-font-ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBjAAAAC8AAAAYGNtYXAXVtKgAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zl7urRsAAAF4AAAWJGhlYWQT01QIAAAXnAAAADZoaGVhB3ED3wAAF9QAAAAkaG10eG4AFXwAABf4AAAAeGxvY2FOWkqoAAAYcAAAAD5tYXhwACQEYAAAGLAAAAAgbmFtZbwOLfMAABjQAAABVnBvc3QAAwAAAAAaKAAAACAAAwPtAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpGQPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Rn//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAVUAwAKRAsAABQAAJSc3JwkBApHDwzz/AAEA/cPEPP8A/wAAAAAAAQFvAMACqwLAAAYAACU3JzcJAScBb8PDPAEA/wA8/cPEPP8A/wA9AAEAsQBuA1UDEgAJAAABFSEXBwkBFwchA1X+AOs9/q4BUj3rAgAB61bqPQFSAVI96gAAAAAFAVoAhQKhAvkALgA/AE0AWgBeAAABIyIGBxU4ATEiBh0BFBYzOAExFSIGHQEUFjMVDgEdARQWFwMGFjsBMjY1ETQmIwc0NjsBMhYdARQGKwEiJj0BBzMyFhUUBisBIiY1NDYTIiY1NDYzMhYVFAYjNyERIQJz5hMbAQECAgECAgIBAQICAQIBGxPqExwbE4cCAR4CAQECHgIBBS4EBQUELgQFBRsNExIODRISDZD+4AEgAvkbEwsCARgCASMCAhMBAh0BAQITAQEB/oYTHBsTAhcUGxoBAgIBBwECAgEHFgYDBAUFBAMG/dYSDg0SEg0OEkoBxgAAAAEAlQCVA4AC0QAGAAAJASc3FwEXA4D+AOs8rwHEPAKV/gDrPK4BwzwAAAAAAQDgAKADIwLgAC8AAAEnJiIPAQYiLwEmIg8BBhQfARYUDwEGFB8BFjI/ATYyHwEWMj8BNjQvASY0PwE2NAMgJgUNBdkFDQXWBQ0FJgUF2gQE2gUFJgUNBdkFDQXZBQ0FJgUF2QUF1gUCuiYFBdoEBNoFBSYFDQXZBQ0F1gUNBSYFBdoEBNoFBSYFDQXZBQ0F1gUNAAIAygCKAzMC9gAgAD8AAAEuASsBIgYVFBY7AQcGFBceATMyNj8BFRQWMzI2PQE2JgEHNTQmIyIGHQEUFhceATsBMjY1NCYrATc2NCcmBgcDKgUOB7oOFRUOapYKCgQNBQcLBJcVDg4VAwj+dZMVDg8UBAUFDge5DxUVD2mWCgoJHQoC7QUEFA8OFZYKHQkFBQUFlmYPFRUPuQcO/quTZg8VFQ+5Bw4FBQQUDw4VlgodCQgBCgAAAAACANMAkwMtAvoAIQBAAAABHgE7ATI2NTQmKwE3NjQnLgEjIgYPATU0JiMiBh0BFBYXATcVFBYzMjY9ATQmJy4BKwEiBhUUFjsBBwYUFxYyNwItBQ0Hug4VFQ5qlwkJBQ0FBA0FlhUPDhUFBf7WlxQPDhUFBQQOB70OFRUOapcJCQwbCQHtBQUVDg8VlgocCgUFBQWWYw4VFQ66BQwF/qaXZw4VFQ66Bw4EBQUVDg8UlwkdCgkJAAAAAwBVAJUDqwLAAB8AKwA3AAABISIGFREUFjsBMjY/AT4BMzIWHwEeATsBMjY1ETQmIwEiJjU0NjMyFhUUBiEiJjU0NjMyFhUUBgN1/RQVHx8WyxIbBTsIIRUVIQg7BhoQzBcfHxf9vyc4OCcnNzcBcSc3NycnODgCwCAW/kIXIBMPlBMXFxOUDxMgFwG+FiD+kjkpKTg4KSk5OSkoOTkoKTkAAAADAasAawJVAxUACwAYACUAAAEyFhUUBiMiJjU0NhMyFhUUBiMiJjU0NjMRMhYVFAYjIiY1NDYzAgAjMjIjIzIyIyMyMiMjMjIjIzIyIyMyMiMBFTIjIzIyIyMyAQAyIyMyMiMjMgEAMiMjMjIjIzIABQC9AVwDEwLvATcBdwGcBE0EXQAAAT4BNzA2NT4BNzA2MT4BNzQ2NT4BNz4BNzA0MT4BNzYwNzQ2NzI0MT4BNzI0Mz4BNz4BMT4BNzIwMT4BNzA2MT4BMzQyNT4BNzAyNTI2NzA2MT4BNzA2MTI2MzYyMTYyMzYyNToBNzoBMTYyMzQyMTI2MzA2MToBNzgBMTI2MzAyMTI2MzoBMwcwIjEwIjEwIjEwIjE4ASMwBiMwIiMOASMwIjEGIgc4ATEiMCMGIiMGIjEiBiMwIjEwBjEiBiM4ATEGIjEGIgc4ASMwBjEOASMGMAciBgc4ARUiBgcwBiMOAQcwIjEwFDEOAQc4ASMOAQcGIhUOAQcGMBUwIjEOAQcUBjEOAQcwBjEUMDEOAQcGMBUwBjEOAQcwBhUOAQcGFDEOARUiFDEwBhUwFCMwFDEwBhU+AT8BEzU8AScuAScuASMuASMwIyIGBwYHIgYHIgYHDgEHFAYdARQWFR4BFx4BFx4BMxYXHgEzNjE6ATcyNjc+ATc2NCUuAS8BOAEjMDQjMCYxPAE9ATwBMTQ2MTYwNTAyOwE+ATcOAQclNCYnLgEnPAE1PAE1PAE1OAExPAE1NCY1OAExPAE1OAExNCY1OAExMDQ1NCY1OAExLgE1JjQnOAExNDAxNCYnLgEnLgEnLgEnLgEnLgEnLgEnLgEnLgEjLgEjKgExJiIjMCIxKgEjIjAjKgEjIgYHDgEHHgEXHgEXHgEXHgEXHgEXHgEfATMXOAExFDAxMDIVOQI4ATEWMDEwFBc4ATkCHAEVOAE5AjAUMTgBMRQwMzAUMTgBFTkBOAExFSYiJzU4ATE4ATE4ATE4ATEwNDE4ATE4ATEwNDE4ATE4ATE4ATE4ATU4ATEwNDE4ATE4ATEwNDE4ATEwNDU4ATE4ATEwJjEwNDE4ATE4ATE4ATU4ATEwIjEwNDE4ATE4ATE4ATE4ATEwJjE4ATEwIjEwNDE4ATE4ATE4ATE4ATE4ATE4ASc4ATE4ATE4ASM4ATE4ATE4ATE4ATEwIjE4ATE4ASM4ATE4ATE4ASM4ATE4ATkCOAExOAExOAExOAExJzAWMTgBMTIWFTgBMTIWMTgBMRYUFzgBMTAWMTgBMRQWFTgBMRQWFTgBMRwBHQEcATE4ATEUBhU4ATEUBhU4ATEwBjE4ATEOATE4ATEGFCM4ATEwFDEiBjEwIjEUIgcxNzAyMTA2MTgBMTgBMzgBMzgBNTgBMTgBMTgBMTAyMTA0MTgBMTgBMTgBMTAyMTA0MTgBMzgBOQIwNDE4ATE4ATM4ATE4ATE4ATE4ATE4ATU4ATE4ATE4ATU4ATE4ATE0MDE4ATE4ATE4ATE4ATE4ATU4ATE4ATE4ATU4ATE4ATE4ATU4ATE4ATE4ATE4ATE4ATEwNDE4ATEwNDE4ATE4ATE4ATkCMDQxOAExOAExMDQxOAExOAExMDQxOAExOAExMDQxOAExNT4BNz4BNTQ2NQcUBiMxIiY9ATQ2MzEyFhUB2AECAQEBAwEBAQMBAQIDAgECAQECAQEBAgEBAQMBAQEBAQEBAQECAQECAgIBAQICAQEDAQEBAwIBAQMBAQEBAQEBAQEBAQEBAQEBAQECAQEBAgEBAgIBAgICAQECAQEDAXcBAQEBAQIBAQECBQMBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAQEBAQMCAQMBAQEBAgEBAgIBAQIDAgEBAgMBAQEBBAEBAgICAQICAQEBAQMBAQICAQEBAQEBAQEQKhMqiwEBAgECAgICAwImJXNERT4BAwIBAgEBAgEBAQECAQECAQICAkRGRXAjIwIDAgIDAQECAQH+shElEQIBAQEBAQEBASRPJiApCQH+AQMDBwQBAQEBAQEBAQEDBgQDCQUFCwUGDQcCBgIDBgIDBgIDBgMCAwIBAQIDAgECBAIBAQEDAgQIAwwWCgEEAQMFAwcNBQYLBQUIBAIDAiQCBgEBAQECBAIBAQEBAQEBAQE9AgEBAQEBAQEBAQEBAQEBAQEBAQEBAT4BAQEBAQEBARU6GAMDBIYCAgICAgICAgJ0AwYDAQEDBgMCAwQCAQEBAgUDAgMBAQEDAQEBAQMBAQEEAQEBAgEBAQECAQICAQEBAgEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBCgEBAQEBAQEBAQEBAQEBAQEBAQIBAQIBAQECAQEBAgECBAEBAQIDAQEBAgQCAQECBAIBAQIEAgEBAgIFAgEBAwUDAQECAgIBAQEBAQIBAgMBA/7+6QIEAgEDAQICAQEEBwYOAQECAgEDAQIDAa8CAwIBAwEBAgEBAQ0HBgQBAQICAQMCAQQUAwYDAQECAQEBoQEBAQEBAQgKAyxpOnsFBwICBAEBAQECAwIBAgECAwIBAgECBAEBAgEBAQIFAgMFAwIEAgEDBAMJEgkJEAcIDQYHCgUCAwECAwEBAgEBAgEBAQEBAwkHAQEBAgMCBAsFBg0HBxAIBAoEDgYBAQEBAQEBAQEBAQEcAQEWAQEBAQEBAQEBAQEBAQEWAQEBAQEBAQIBAQEBAQEBAQHtAQIBAQEBAQECAQEBAQEBAQEXAQEBAQEBAQEBAQEBAQEBAQEeBQ8JAQIDAjMFQgECAgFcAgICAgAAAAACAIAAVQNrA0AAIgAvAAABMhceARcWFRQGBxczFwcnNScOASMiJy4BJyY1NDc+ATc2MxUiBhUUFjMyNjU0JiMBlToyM0sWFiQfDCHWQNYLJVw0OTMySxYWFhZLMjM5UHBwUFBwcFADQBYWSzIzOTRcJQvWQNYhDB8kFhZLMzI6OTMySxYWVXBQUHBwUFBwAAACARoAjQLmAuMAEAAhAAABIyIGFREUFjsBMjY1ETQmIyEjIgYVERQWOwEyNjURNCYjAX1NCgwMCk0JDQ0JAVNNCQ0NCU0KDAwKAuMNCf3WCQ0NCQIqCQ0NCf3WCQ0NCQIqCQ0AAQFTAKMDDQLQAAsAAAkBFhQHAQYmNRE+AQF2AZcJCf5pDBcDFwLQ/v0HGAj+/QcMDgIHDA4AAAACAIAAQAOAA0AACAAeAAABFTMBFwEVMxEDIREhNSEiBhURFBYzMSEyNjUxESMRAlWa/lw8AaRVVf2qASv+1SMyMiMCViMyVQNAVf5cPAGkmgEr/VUCVlUyI/2qIzIyIwEr/tUAAgCtAIYDegL6AFIAYwAAATgBOQEjNzY0LwEmIg8BMAYxBw4BFRQWHwEwFjEXFjI/ATY0LwEzOAExMhYVFAYjOAExOAExISIGHQEUFjMhOAExOAExMjc+ATc2NTYnLgEnJiMlIyIGFREUFjsBMjY1ETQmIwKat2oHBxoHEgedAxkDBAIFGQOdBxIHGgcHbbY/VVg8/oQKDQ0KAXwvKik+EhIBERI9KSou/kkgCQ0NCSAKDQ0KAk1pCBEHGgcHnQMaAggCBQoFGQOdBwcZCBEHZ1c8PFgMCiMKDRISPikqLy4qKT4SEq0NCv53Cg0NCgGJCg0AAAQAbAAtA5YDVgAcADgAPQBJAAATLgE1NDc+ATc2MzIWFzcuASMiBw4BBwYVFBYXNwEHHgEVFAcOAQcGIyImJwceATMyNz4BNzY1NCYnBQMlEwEiJjU0NjMyFhUUBs0FBRkZVjo6QhQmEm0qXTJUSUpuICAZFjICmjMFBhkZVjo6QhYrFWorYTRUSkluICAZBv4G7QH67f6KHCcnHBwnJwFwFCgVQjo6VhkZBAUzFhcgIG5JSlQzXytsAQ5rFCgVQjo6VhkZBgUxGBkgIG5JSlQzX+bt/gXtAfv+RSccGygoGxwnAAIAZAAVA5wDawALAFkAAAEiJjU0NjMyFhUUBjc+ATU0Jic3PgEvAS4BDwEuAS8BLgErASIGDwEOAQcnJgYPAQYWHwEOARUUFhcHDgEfAR4BPwEeAR8BHgE7ATI2PwE+ATcXFjY/ATYmJwIAPldXPj5XV/8BAgIBWgYDBFUEDwdqESMVDwIMCKoIDAIPFSMRagcPBFUEAwZaAQICAVoGAwRVBA8HahEjFQ8CDAiqCAwCDxUjEWoHDwRVBAMGAStXPj5XVz4+V2wKFAsLFQtFBQ8IkwcFAisMFghxBwsLB3EIFgwrAgUHkwgPBUULFQsLFApHBQ8IkwcFAiwNFghxBwsLB3EJFQ0sAgUHkwgPBQAAAwBVABEDrwM3ABwALQBHAAAlAQcXIyIGFREUFjsBMjY/AT4BNx8BHgE7ARc3JyUiJjU0NjM6ATMXHAEVFAYjASEBMDQxNDYzMhYVFAYjOAExFz4BNREuASMDIv1nNDwIFx0dF8wQHQc7AxMMgBYGGRAViTNa/hEmODgmAwMDVTcnAkD96wERNycmODgmvBAWAx8angKZMzsiFv5AFiESEJUNDwaANxASiTNavDgqKTlVBAYDJzsBb/7uBSk5OSkqOLwGGhMBwBYiAAAAAgCAALADbQLQABcASAAAAQc4ATEHIyIGHQEUFjsBHwEWNjURLgEHATc2NC8BJiIPAScmIg8BBhQfAQcGFB8BHgEzOAExMjY/ARceATM4ATEyNj8BNjQvAQG2kwZ9DhISDnoJlwwgAiIMAVpdCQkTChoJXV0JGgoTCQldXQkJEwULBwcKBV1dBQoHBwsFEwkJXQLQkAYSDq0PEQ2QDA4RAfoRDgz+810KGQoTCgpgXQkJEwoaCV1dCRoKEwUEBAVdXQUEBAUTChoJYAAABACAAH0DgAMGABYAOABZAIUAAAEHOAExByMiBh0BFBY7AR8BFjY1ETQmEzQmJy4BJyYGBwYWFzAWFR4BFRQGBw4BFx4BMzI2Nz4BNRc+ATU0JicmBgcGFhceARUUBgcOAQcOARceATM6ATc+ARMmBgcGFhcWFx4BFxYVFAcOAQcGBw4BFx4BMzI2NzY3PgE3NjU0Jy4BJyYnAbaTBn0OEhIOegaWDCEh2CAdAwQDDBkEBQkMAw4PExEMCAQFDwkDCAIiKCAmKkw+DBkFBAgMLjYgGgoTCQwIBwUOCgIIAg8ZBQwZBAUJDCYfICwMDAwMLCAfJgwJBQQPCQMIAi8mJjUPDg4PNSYmLwLQkAYSDq0PEQeQDA8RAfYRC/7nIjoRAgICBQkMDBgFAQIKHBETHQkFGQwKCQECET4ksyJfMkZ1HwUJDAwZBRVYMyZFGAcOBQQZDAoJAwcQAgIFCQwMGAUSHBxGKCgqKigoRRwcEgUZDAoJAQIWISJVMTEzNDEwVSIiFQAAAAACAIAAFQOAA2sACwAXAAABIREjESMRIxEhNSElMhYVFAYjIiY1NDYDgP8AVVZV/wADAP6AIzIyIyQxMQJA/dUBAP8AAitV1jIkIzIyIyQyAAMAqwArA1UDUgALABsANwAAASY0NzYyFxYUBwYiAxEjERQXHgEXFjMhNSEiJgUnIzUeATM1BiYvAS4BJy4BKwEiBh0BFBY7ARcBRBkZGUcZGRkaRl1VEBE6JycsAQD/ADVLAlXYkiyCPDVwIjwGDwgJFQsBKDhLNdiVAtkZRxkZGRlHGRn+VQGA/oAsJyc5ERFVS3jYnSU4XQEzJUIICgQEBTgo9TVLlQAAAAABAQAAwAMAAsAAAwAAJSERIQMA/gACAMACAAAAAQD6AG0ChgMTABkAABMxOAExARYyPwE2NCcJATY0LwEmIgcBBhQX+gFGBRAFLAUF/vQBDAUFLAUQBf66CAgBs/66BQUtBBAFAQ0BDQUQBC0FBf66BRAFAAEBegBtAwYDEwAZAAABMTgBMQEmIg8BBhQXCQEGFB8BFjI3ATY0JwMG/roFEAUsBQUBDP70BQUsBRAFAUYICAHNAUYFBS0EEAX+8/7zBRAELQUFAUYFEAUAAAAAAQAAAAEAAAvejzNfDzz1AAsEAAAAAADYgwfQAAAAANiDB9AAAAAAA68DawAAAAgAAgAAAAAAAAABAAADwP/AAAAEAAAAAAADrwABAAAAAAAAAAAAAAAAAAAAHgQAAAAAAAAAAAAAAAIAAAAEAAFVBAABbwQAALEEAAFaBAAAlQQAAOAEAADKBAAA0wQAAFUEAAGrBAAAvQQAAIAEAAEaBAABUwQAAIAEAACtBAAAbAQAAGQEAABVBAAAgAQAAIAEAACABAAAqwQAAQAEAAD6BAABegAAAAAACgAUAB4AMgBGAGAA3ADyATwBmAH0AkYCfgZgBqgG2gb2BygHoggUCJwJAgloCiwKVAqqCrgK5AsSAAAAAQAAAB4EXgAFAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAMAAAABAAAAAAACAAcAPAABAAAAAAADAAMAKgABAAAAAAAEAAMAUQABAAAAAAAFAAsACQABAAAAAAAGAAMAMwABAAAAAAAKABoAWgADAAEECQABAAYAAwADAAEECQACAA4AQwADAAEECQADAAYALQADAAEECQAEAAYAVAADAAEECQAFABYAFAADAAEECQAGAAYANgADAAEECQAKADQAdGRsOABkAGwAOFZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGRsOABkAGwAOGRsOABkAGwAOFJlZ3VsYXIAUgBlAGcAdQBsAGEAcmRsOABkAGwAOEZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=";
},function(e,t){e.exports="data:application/font-woff;base64,d09GRgABAAAAABqUAAsAAAAAGkgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIGMGNtYXAAAAFoAAAAVAAAAFQXVtKgZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAFiQAABYkXu6tG2hlYWQAABfoAAAANgAAADYT01QIaGhlYQAAGCAAAAAkAAAAJAdxA99obXR4AAAYRAAAAHgAAAB4bgAVfGxvY2EAABi8AAAAPgAAAD5OWkqobWF4cAAAGPwAAAAgAAAAIAAkBGBuYW1lAAAZHAAAAVYAAAFWvA4t83Bvc3QAABp0AAAAIAAAACAAAwAAAAMD7QGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6RkDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkZ//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQFVAMACkQLAAAUAACUnNycJAQKRw8M8/wABAP3DxDz/AP8AAAAAAAEBbwDAAqsCwAAGAAAlNyc3CQEnAW/DwzwBAP8APP3DxDz/AP8APQABALEAbgNVAxIACQAAARUhFwcJARcHIQNV/gDrPf6uAVI96wIAAetW6j0BUgFSPeoAAAAABQFaAIUCoQL5AC4APwBNAFoAXgAAASMiBgcVOAExIgYdARQWMzgBMRUiBh0BFBYzFQ4BHQEUFhcDBhY7ATI2NRE0JiMHNDY7ATIWHQEUBisBIiY9AQczMhYVFAYrASImNTQ2EyImNTQ2MzIWFRQGIzchESECc+YTGwEBAgIBAgICAQECAgECARsT6hMcGxOHAgEeAgEBAh4CAQUuBAUFBC4EBQUbDRMSDg0SEg2Q/uABIAL5GxMLAgEYAgEjAgITAQIdAQECEwEBAf6GExwbEwIXFBsaAQICAQcBAgIBBxYGAwQFBQQDBv3WEg4NEhINDhJKAcYAAAABAJUAlQOAAtEABgAACQEnNxcBFwOA/gDrPK8BxDwClf4A6zyuAcM8AAAAAAEA4ACgAyMC4AAvAAABJyYiDwEGIi8BJiIPAQYUHwEWFA8BBhQfARYyPwE2Mh8BFjI/ATY0LwEmND8BNjQDICYFDQXZBQ0F1gUNBSYFBdoEBNoFBSYFDQXZBQ0F2QUNBSYFBdkFBdYFAromBQXaBATaBQUmBQ0F2QUNBdYFDQUmBQXaBATaBQUmBQ0F2QUNBdYFDQACAMoAigMzAvYAIAA/AAABLgErASIGFRQWOwEHBhQXHgEzMjY/ARUUFjMyNj0BNiYBBzU0JiMiBh0BFBYXHgE7ATI2NTQmKwE3NjQnJgYHAyoFDge6DhUVDmqWCgoEDQUHCwSXFQ4OFQMI/nWTFQ4PFAQFBQ4HuQ8VFQ9plgoKCR0KAu0FBBQPDhWWCh0JBQUFBZZmDxUVD7kHDv6rk2YPFRUPuQcOBQUEFA8OFZYKHQkIAQoAAAAAAgDTAJMDLQL6ACEAQAAAAR4BOwEyNjU0JisBNzY0Jy4BIyIGDwE1NCYjIgYdARQWFwE3FRQWMzI2PQE0JicuASsBIgYVFBY7AQcGFBcWMjcCLQUNB7oOFRUOapcJCQUNBQQNBZYVDw4VBQX+1pcUDw4VBQUEDge9DhUVDmqXCQkMGwkB7QUFFQ4PFZYKHAoFBQUFlmMOFRUOugUMBf6ml2cOFRUOugcOBAUFFQ4PFJcJHQoJCQAAAAMAVQCVA6sCwAAfACsANwAAASEiBhURFBY7ATI2PwE+ATMyFh8BHgE7ATI2NRE0JiMBIiY1NDYzMhYVFAYhIiY1NDYzMhYVFAYDdf0UFR8fFssSGwU7CCEVFSEIOwYaEMwXHx8X/b8nODgnJzc3AXEnNzcnJzg4AsAgFv5CFyATD5QTFxcTlA8TIBcBvhYg/pI5KSk4OCkpOTkpKDk5KCk5AAAAAwGrAGsCVQMVAAsAGAAlAAABMhYVFAYjIiY1NDYTMhYVFAYjIiY1NDYzETIWFRQGIyImNTQ2MwIAIzIyIyMyMiMjMjIjIzIyIyMyMiMjMjIjARUyIyMyMiMjMgEAMiMjMjIjIzIBADIjIzIyIyMyAAUAvQFcAxMC7wE3AXcBnARNBF0AAAE+ATcwNjU+ATcwNjE+ATc0NjU+ATc+ATcwNDE+ATc2MDc0NjcyNDE+ATcyNDM+ATc+ATE+ATcyMDE+ATcwNjE+ATM0MjU+ATcwMjUyNjcwNjE+ATcwNjEyNjM2MjE2MjM2MjU6ATc6ATE2MjM0MjEyNjMwNjE6ATc4ATEyNjMwMjEyNjM6ATMHMCIxMCIxMCIxMCIxOAEjMAYjMCIjDgEjMCIxBiIHOAExIjAjBiIjBiIxIgYjMCIxMAYxIgYjOAExBiIxBiIHOAEjMAYxDgEjBjAHIgYHOAEVIgYHMAYjDgEHMCIxMBQxDgEHOAEjDgEHBiIVDgEHBjAVMCIxDgEHFAYxDgEHMAYxFDAxDgEHBjAVMAYxDgEHMAYVDgEHBhQxDgEVIhQxMAYVMBQjMBQxMAYVPgE/ARM1PAEnLgEnLgEjLgEjMCMiBgcGByIGByIGBw4BBxQGHQEUFhUeARceARceATMWFx4BMzYxOgE3MjY3PgE3NjQlLgEvATgBIzA0IzAmMTwBPQE8ATE0NjE2MDUwMjsBPgE3DgEHJTQmJy4BJzwBNTwBNTwBNTgBMTwBNTQmNTgBMTwBNTgBMTQmNTgBMTA0NTQmNTgBMS4BNSY0JzgBMTQwMTQmJy4BJy4BJy4BJy4BJy4BJy4BJy4BJy4BIy4BIyoBMSYiIzAiMSoBIyIwIyoBIyIGBw4BBx4BFx4BFx4BFx4BFx4BFx4BHwEzFzgBMRQwMTAyFTkCOAExFjAxMBQXOAE5AhwBFTgBOQIwFDE4ATEUMDMwFDE4ARU5ATgBMRUmIic1OAExOAExOAExOAExMDQxOAExOAExMDQxOAExOAExOAExOAE1OAExMDQxOAExOAExMDQxOAExMDQ1OAExOAExMCYxMDQxOAExOAExOAE1OAExMCIxMDQxOAExOAExOAExOAExMCYxOAExMCIxMDQxOAExOAExOAExOAExOAExOAEnOAExOAExOAEjOAExOAExOAExOAExMCIxOAExOAEjOAExOAExOAEjOAExOAE5AjgBMTgBMTgBMTgBMScwFjE4ATEyFhU4ATEyFjE4ATEWFBc4ATEwFjE4ATEUFhU4ATEUFhU4ATEcAR0BHAExOAExFAYVOAExFAYVOAExMAYxOAExDgExOAExBhQjOAExMBQxIgYxMCIxFCIHMTcwMjEwNjE4ATE4ATM4ATM4ATU4ATE4ATE4ATEwMjEwNDE4ATE4ATE4ATEwMjEwNDE4ATM4ATkCMDQxOAExOAEzOAExOAExOAExOAExOAE1OAExOAExOAE1OAExOAExNDAxOAExOAExOAExOAExOAE1OAExOAExOAE1OAExOAExOAE1OAExOAExOAExOAExOAExMDQxOAExMDQxOAExOAExOAE5AjA0MTgBMTgBMTA0MTgBMTgBMTA0MTgBMTgBMTA0MTgBMTU+ATc+ATU0NjUHFAYjMSImPQE0NjMxMhYVAdgBAgEBAQMBAQEDAQECAwIBAgEBAgEBAQIBAQEDAQEBAQEBAQEBAgEBAgICAQECAgEBAwEBAQMCAQEDAQEBAQEBAQEBAQEBAQEBAQEBAgEBAQIBAQICAQICAgEBAgEBAwF3AQEBAQECAQEBAgUDAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAgEBAQEDAgEDAQEBAQIBAQICAQECAwIBAQIDAQEBAQQBAQICAgECAgEBAQEDAQECAgEBAQEBAQEBECoTKosBAQIBAgICAgMCJiVzREU+AQMCAQIBAQIBAQEBAgEBAgECAgJERkVwIyMCAwICAwEBAgEB/rIRJRECAQEBAQEBAQEkTyYgKQkB/gEDAwcEAQEBAQEBAQEBAwYEAwkFBQsFBg0HAgYCAwYCAwYCAwYDAgMCAQECAwIBAgQCAQEBAwIECAMMFgoBBAEDBQMHDQUGCwUFCAQCAwIkAgYBAQEBAgQCAQEBAQEBAQEBPQIBAQEBAQEBAQEBAQEBAQEBAQEBAQE+AQEBAQEBAQEVOhgDAwSGAgICAgICAgICdAMGAwEBAwYDAgMEAgEBAQIFAwIDAQEBAwEBAQEDAQEBBAEBAQIBAQEBAgECAgEBAQIBAQEBAQECAQEBAQEBAQEBAQEBAQEBAQEBAQoBAQEBAQEBAQEBAQEBAQEBAQECAQECAQEBAgEBAQIBAgQBAQECAwEBAQIEAgEBAgQCAQECBAIBAQICBQIBAQMFAwEBAgICAQEBAQECAQIDAQP+/ukCBAIBAwECAgEBBAcGDgEBAgIBAwECAwGvAgMCAQMBAQIBAQENBwYEAQECAgEDAgEEFAMGAwEBAgEBAaEBAQEBAQEICgMsaTp7BQcCAgQBAQEBAgMCAQIBAgMCAQIBAgQBAQIBAQECBQIDBQMCBAIBAwQDCRIJCRAHCA0GBwoFAgMBAgMBAQIBAQIBAQEBAQMJBwEBAQIDAgQLBQYNBwcQCAQKBA4GAQEBAQEBAQEBAQEBHAEBFgEBAQEBAQEBAQEBAQEBFgEBAQEBAQECAQEBAQEBAQEB7QECAQEBAQEBAgEBAQEBAQEBFwEBAQEBAQEBAQEBAQEBAQEBHgUPCQECAwIzBUIBAgIBXAICAgIAAAAAAgCAAFUDawNAACIALwAAATIXHgEXFhUUBgcXMxcHJzUnDgEjIicuAScmNTQ3PgE3NjMVIgYVFBYzMjY1NCYjAZU6MjNLFhYkHwwh1kDWCyVcNDkzMksWFhYWSzIzOVBwcFBQcHBQA0AWFksyMzk0XCUL1kDWIQwfJBYWSzMyOjkzMksWFlVwUFBwcFBQcAAAAgEaAI0C5gLjABAAIQAAASMiBhURFBY7ATI2NRE0JiMhIyIGFREUFjsBMjY1ETQmIwF9TQoMDApNCQ0NCQFTTQkNDQlNCgwMCgLjDQn91gkNDQkCKgkNDQn91gkNDQkCKgkNAAEBUwCjAw0C0AALAAAJARYUBwEGJjURPgEBdgGXCQn+aQwXAxcC0P79BxgI/v0HDA4CBwwOAAAAAgCAAEADgANAAAgAHgAAARUzARcBFTMRAyERITUhIgYVERQWMzEhMjY1MREjEQJVmv5cPAGkVVX9qgEr/tUjMjIjAlYjMlUDQFX+XDwBpJoBK/1VAlZVMiP9qiMyMiMBK/7VAAIArQCGA3oC+gBSAGMAAAE4ATkBIzc2NC8BJiIPATAGMQcOARUUFh8BMBYxFxYyPwE2NC8BMzgBMTIWFRQGIzgBMTgBMSEiBh0BFBYzITgBMTgBMTI3PgE3NjU2Jy4BJyYjJSMiBhURFBY7ATI2NRE0JiMCmrdqBwcaBxIHnQMZAwQCBRkDnQcSBxoHB222P1VYPP6ECg0NCgF8LyopPhISARESPSkqLv5JIAkNDQkgCg0NCgJNaQgRBxoHB50DGgIIAgUKBRkDnQcHGQgRB2dXPDxYDAojCg0SEj4pKi8uKik+EhKtDQr+dwoNDQoBiQoNAAAEAGwALQOWA1YAHAA4AD0ASQAAEy4BNTQ3PgE3NjMyFhc3LgEjIgcOAQcGFRQWFzcBBx4BFRQHDgEHBiMiJicHHgEzMjc+ATc2NTQmJwUDJRMBIiY1NDYzMhYVFAbNBQUZGVY6OkIUJhJtKl0yVElKbiAgGRYyApozBQYZGVY6OkIWKxVqK2E0VEpJbiAgGQb+Bu0B+u3+ihwnJxwcJycBcBQoFUI6OlYZGQQFMxYXICBuSUpUM18rbAEOaxQoFUI6OlYZGQYFMRgZICBuSUpUM1/m7f4F7QH7/kUnHBsoKBscJwACAGQAFQOcA2sACwBZAAABIiY1NDYzMhYVFAY3PgE1NCYnNz4BLwEuAQ8BLgEvAS4BKwEiBg8BDgEHJyYGDwEGFh8BDgEVFBYXBw4BHwEeAT8BHgEfAR4BOwEyNj8BPgE3FxY2PwE2JicCAD5XVz4+V1f/AQICAVoGAwRVBA8HahEjFQ8CDAiqCAwCDxUjEWoHDwRVBAMGWgECAgFaBgMEVQQPB2oRIxUPAgwIqggMAg8VIxFqBw8EVQQDBgErVz4+V1c+PldsChQLCxULRQUPCJMHBQIrDBYIcQcLCwdxCBYMKwIFB5MIDwVFCxULCxQKRwUPCJMHBQIsDRYIcQcLCwdxCRUNLAIFB5MIDwUAAAMAVQARA68DNwAcAC0ARwAAJQEHFyMiBhURFBY7ATI2PwE+ATcfAR4BOwEXNyclIiY1NDYzOgEzFxwBFRQGIwEhATA0MTQ2MzIWFRQGIzgBMRc+ATURLgEjAyL9ZzQ8CBcdHRfMEB0HOwMTDIAWBhkQFYkzWv4RJjg4JgMDA1U3JwJA/esBETcnJjg4JrwQFgMfGp4CmTM7Ihb+QBYhEhCVDQ8GgDcQEokzWrw4Kik5VQQGAyc7AW/+7gUpOTkpKji8BhoTAcAWIgAAAAIAgACwA20C0AAXAEgAAAEHOAExByMiBh0BFBY7AR8BFjY1ES4BBwE3NjQvASYiDwEnJiIPAQYUHwEHBhQfAR4BMzgBMTI2PwEXHgEzOAExMjY/ATY0LwEBtpMGfQ4SEg56CZcMIAIiDAFaXQkJEwoaCV1dCRoKEwkJXV0JCRMFCwcHCgVdXQUKBwcLBRMJCV0C0JAGEg6tDxENkAwOEQH6EQ4M/vNdChkKEwoKYF0JCRMKGgldXQkaChMFBAQFXV0FBAQFEwoaCWAAAAQAgAB9A4ADBgAWADgAWQCFAAABBzgBMQcjIgYdARQWOwEfARY2NRE0JhM0JicuAScmBgcGFhcwFhUeARUUBgcOARceATMyNjc+ATUXPgE1NCYnJgYHBhYXHgEVFAYHDgEHDgEXHgEzOgE3PgETJgYHBhYXFhceARcWFRQHDgEHBgcOARceATMyNjc2Nz4BNzY1NCcuAScmJwG2kwZ9DhISDnoGlgwhIdggHQMEAwwZBAUJDAMODxMRDAgEBQ8JAwgCIiggJipMPgwZBQQIDC42IBoKEwkMCAcFDgoCCAIPGQUMGQQFCQwmHyAsDAwMDCwgHyYMCQUEDwkDCAIvJiY1Dw4ODzUmJi8C0JAGEg6tDxEHkAwPEQH2EQv+5yI6EQICAgUJDAwYBQECChwREx0JBRkMCgkBAhE+JLMiXzJGdR8FCQwMGQUVWDMmRRgHDgUEGQwKCQMHEAICBQkMDBgFEhwcRigoKiooKEUcHBIFGQwKCQECFiEiVTExMzQxMFUiIhUAAAAAAgCAABUDgANrAAsAFwAAASERIxEjESMRITUhJTIWFRQGIyImNTQ2A4D/AFVWVf8AAwD+gCMyMiMkMTECQP3VAQD/AAIrVdYyJCMyMiMkMgADAKsAKwNVA1IACwAbADcAAAEmNDc2MhcWFAcGIgMRIxEUFx4BFxYzITUhIiYFJyM1HgEzNQYmLwEuAScuASsBIgYdARQWOwEXAUQZGRlHGRkZGkZdVRAROicnLAEA/wA1SwJV2JIsgjw1cCI8Bg8ICRULASg4SzXYlQLZGUcZGRkZRxkZ/lUBgP6ALCcnORERVUt42J0lOF0BMyVCCAoEBAU4KPU1S5UAAAAAAQEAAMADAALAAAMAACUhESEDAP4AAgDAAgAAAAEA+gBtAoYDEwAZAAATMTgBMQEWMj8BNjQnCQE2NC8BJiIHAQYUF/oBRgUQBSwFBf70AQwFBSwFEAX+uggIAbP+ugUFLQQQBQENAQ0FEAQtBQX+ugUQBQABAXoAbQMGAxMAGQAAATE4ATEBJiIPAQYUFwkBBhQfARYyNwE2NCcDBv66BRAFLAUFAQz+9AUFLAUQBQFGCAgBzQFGBQUtBBAF/vP+8wUQBC0FBQFGBRAFAAAAAAEAAAABAAAL3o8zXw889QALBAAAAAAA2IMH0AAAAADYgwfQAAAAAAOvA2sAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAAA68AAQAAAAAAAAAAAAAAAAAAAB4EAAAAAAAAAAAAAAACAAAABAABVQQAAW8EAACxBAABWgQAAJUEAADgBAAAygQAANMEAABVBAABqwQAAL0EAACABAABGgQAAVMEAACABAAArQQAAGwEAABkBAAAVQQAAIAEAACABAAAgAQAAKsEAAEABAAA+gQAAXoAAAAAAAoAFAAeADIARgBgANwA8gE8AZgB9AJGAn4GYAaoBtoG9gcoB6IIFAicCQIJaAosClQKqgq4CuQLEgAAAAEAAAAeBF4ABQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQADAAAAAQAAAAAAAgAHADwAAQAAAAAAAwADACoAAQAAAAAABAADAFEAAQAAAAAABQALAAkAAQAAAAAABgADADMAAQAAAAAACgAaAFoAAwABBAkAAQAGAAMAAwABBAkAAgAOAEMAAwABBAkAAwAGAC0AAwABBAkABAAGAFQAAwABBAkABQAWABQAAwABBAkABgAGADYAAwABBAkACgA0AHRkbDgAZABsADhWZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBkbDgAZABsADhkbDgAZABsADhSZWd1bGFyAFIAZQBnAHUAbABhAHJkbDgAZABsADhGb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}]);